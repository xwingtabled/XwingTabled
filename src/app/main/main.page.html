<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Home
    </ion-title>
  </ion-toolbar>
</ion-header>
<ion-content padding>
  <div [class]="'card-container' + layout.getClass()">
    <ion-card>
      <img src="assets/img/splash.png">
      <ion-card-header>
        <ion-card-title>
          X-Wing Tabled
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <div *ngIf="true || !dataService.initialized">
          <div class="progress-bar-container">
            <progress-bar 
              [progress]="data_progress" 
              [color]="'#488aff'">
            </progress-bar>
          </div>
          {{ data_message }}
          <div class="ion-text-right">
            <ion-button *ngIf="true || retry_button" [disabled]="retry_button_disabled" (click)="retryManifest()">Retry Download</ion-button>
            <ion-button *ngIf="data_button" [disabled]="data_button_disabled" (click)="downloadData()">Download Data</ion-button>
            <ion-button *ngIf="image_button" [disabled]="image_button_disabled" (click)="downloadArtwork()">Download Artwork</ion-button> 
          </div>
        </div>
      </ion-card-content>
    </ion-card>
  </div>
  <ion-fab *ngIf="dataService.initialized" vertical="bottom" horizontal="end" slot="fixed" class="labels2">
    <ion-fab-button>
      <ion-icon name="more"></ion-icon>
    </ion-fab-button>
    <ion-fab-list side="top" class="labels">
      <ion-fab-button (click)="resetData()" data-desc="Nuke local data">
        <ion-icon name="nuclear"></ion-icon>
      </ion-fab-button>
      <ion-fab-button *ngIf="state.squadron" (click)="askReset()" data-desc="Reset squadron">
        <xwing-icon [name]="'reload'"></xwing-icon>
      </ion-fab-button>
      <ion-fab-button *ngIf="state.snapshots.length > 1" (click)="askUndo()" data-desc="Undo">
        <ion-icon name="undo"></ion-icon>
      </ion-fab-button>
      <ion-fab-button (click)="xwsAddButton()" data-desc="Import squadron">
        <ion-icon name="add"></ion-icon>
      </ion-fab-button>
    </ion-fab-list>
  </ion-fab>
</ion-content>
