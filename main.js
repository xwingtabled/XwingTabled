(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/@ionic/core/dist/esm/es5/build lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/es5/build lazy ^\.\/.*\.entry\.js$ include: \.entry\.js$ namespace object ***!
  \*********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./0hsmjqf5.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/0hsmjqf5.entry.js",
		2,
		"common",
		132
	],
	"./0hsmjqf5.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/0hsmjqf5.sc.entry.js",
		2,
		"common",
		133
	],
	"./0utrggve.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/0utrggve.entry.js",
		"common",
		58
	],
	"./0utrggve.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/0utrggve.sc.entry.js",
		"common",
		59
	],
	"./1kttiagf.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/1kttiagf.entry.js",
		0,
		"common",
		134
	],
	"./1kttiagf.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/1kttiagf.sc.entry.js",
		0,
		"common",
		135
	],
	"./2g1gy9f9.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/2g1gy9f9.entry.js",
		"common",
		10
	],
	"./2g1gy9f9.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/2g1gy9f9.sc.entry.js",
		"common",
		11
	],
	"./4m739wpj.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/4m739wpj.entry.js",
		"common",
		60
	],
	"./4m739wpj.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/4m739wpj.sc.entry.js",
		"common",
		61
	],
	"./5ey3bs99.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/5ey3bs99.entry.js",
		"common",
		12
	],
	"./5ey3bs99.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/5ey3bs99.sc.entry.js",
		"common",
		13
	],
	"./5u5c8wcw.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/5u5c8wcw.entry.js",
		0,
		"common",
		136
	],
	"./5u5c8wcw.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/5u5c8wcw.sc.entry.js",
		0,
		"common",
		137
	],
	"./6dsdnxyn.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6dsdnxyn.entry.js",
		"common",
		62
	],
	"./6dsdnxyn.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6dsdnxyn.sc.entry.js",
		"common",
		63
	],
	"./6eqoprbr.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6eqoprbr.entry.js",
		0,
		"common",
		138
	],
	"./6eqoprbr.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6eqoprbr.sc.entry.js",
		0,
		"common",
		139
	],
	"./6g4thfnt.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6g4thfnt.entry.js",
		0,
		"common",
		114
	],
	"./6g4thfnt.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6g4thfnt.sc.entry.js",
		0,
		"common",
		115
	],
	"./8q1e6dus.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/8q1e6dus.entry.js",
		"common",
		14
	],
	"./8q1e6dus.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/8q1e6dus.sc.entry.js",
		"common",
		15
	],
	"./a7z8hams.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/a7z8hams.entry.js",
		"common",
		16
	],
	"./a7z8hams.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/a7z8hams.sc.entry.js",
		"common",
		17
	],
	"./adaxrxoq.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/adaxrxoq.entry.js",
		"common",
		116
	],
	"./adaxrxoq.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/adaxrxoq.sc.entry.js",
		"common",
		117
	],
	"./ao2edhxl.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ao2edhxl.entry.js",
		"common",
		18
	],
	"./ao2edhxl.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ao2edhxl.sc.entry.js",
		"common",
		19
	],
	"./av1nxhcg.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/av1nxhcg.entry.js",
		"common",
		20
	],
	"./av1nxhcg.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/av1nxhcg.sc.entry.js",
		"common",
		21
	],
	"./b9hbg5md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/b9hbg5md.entry.js",
		"common",
		64
	],
	"./b9hbg5md.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/b9hbg5md.sc.entry.js",
		"common",
		65
	],
	"./bfxkhdio.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/bfxkhdio.entry.js",
		"common",
		22
	],
	"./bfxkhdio.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/bfxkhdio.sc.entry.js",
		"common",
		23
	],
	"./bneiwm8s.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/bneiwm8s.entry.js",
		"common",
		24
	],
	"./bneiwm8s.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/bneiwm8s.sc.entry.js",
		"common",
		25
	],
	"./bzgyi6uy.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/bzgyi6uy.entry.js",
		"common",
		26
	],
	"./bzgyi6uy.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/bzgyi6uy.sc.entry.js",
		"common",
		27
	],
	"./c2kiol1t.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/c2kiol1t.entry.js",
		"common",
		28
	],
	"./c2kiol1t.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/c2kiol1t.sc.entry.js",
		"common",
		29
	],
	"./c3xilup3.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/c3xilup3.entry.js",
		"common",
		30
	],
	"./c3xilup3.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/c3xilup3.sc.entry.js",
		"common",
		31
	],
	"./coytbtgb.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/coytbtgb.entry.js",
		"common",
		72
	],
	"./coytbtgb.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/coytbtgb.sc.entry.js",
		"common",
		73
	],
	"./cwd9g9my.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/cwd9g9my.entry.js",
		"common",
		66
	],
	"./cwd9g9my.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/cwd9g9my.sc.entry.js",
		"common",
		67
	],
	"./dlyuptke.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/dlyuptke.entry.js",
		0,
		"common",
		142
	],
	"./dlyuptke.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/dlyuptke.sc.entry.js",
		0,
		"common",
		143
	],
	"./dznymaqz.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/dznymaqz.entry.js",
		"common",
		74
	],
	"./dznymaqz.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/dznymaqz.sc.entry.js",
		"common",
		75
	],
	"./eljrbuqs.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/eljrbuqs.entry.js",
		"common",
		76
	],
	"./eljrbuqs.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/eljrbuqs.sc.entry.js",
		"common",
		77
	],
	"./ffukzwt6.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ffukzwt6.entry.js",
		"common",
		124
	],
	"./ffukzwt6.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ffukzwt6.sc.entry.js",
		"common",
		125
	],
	"./fokfxvfn.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/fokfxvfn.entry.js",
		"common",
		68
	],
	"./fokfxvfn.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/fokfxvfn.sc.entry.js",
		"common",
		69
	],
	"./gwiqb6zv.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/gwiqb6zv.entry.js",
		"common",
		32
	],
	"./gwiqb6zv.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/gwiqb6zv.sc.entry.js",
		"common",
		33
	],
	"./hs4xwlox.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/hs4xwlox.entry.js",
		"common",
		34
	],
	"./hs4xwlox.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/hs4xwlox.sc.entry.js",
		"common",
		35
	],
	"./jdcptvrs.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jdcptvrs.entry.js",
		"common",
		78
	],
	"./jdcptvrs.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jdcptvrs.sc.entry.js",
		"common",
		79
	],
	"./jpkvsu5y.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jpkvsu5y.entry.js",
		"common",
		126
	],
	"./jpkvsu5y.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jpkvsu5y.sc.entry.js",
		"common",
		127
	],
	"./jtkjzkgg.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jtkjzkgg.entry.js",
		"common",
		36
	],
	"./jtkjzkgg.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jtkjzkgg.sc.entry.js",
		"common",
		37
	],
	"./jwqvpjte.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jwqvpjte.entry.js",
		"common",
		80
	],
	"./jwqvpjte.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jwqvpjte.sc.entry.js",
		"common",
		81
	],
	"./jzvvnvez.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jzvvnvez.entry.js",
		0,
		"common",
		144
	],
	"./jzvvnvez.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jzvvnvez.sc.entry.js",
		0,
		"common",
		145
	],
	"./l1m0sgjq.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/l1m0sgjq.entry.js",
		"common",
		82
	],
	"./l1m0sgjq.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/l1m0sgjq.sc.entry.js",
		"common",
		83
	],
	"./ladxfuum.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ladxfuum.entry.js",
		0,
		"common",
		146
	],
	"./ladxfuum.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ladxfuum.sc.entry.js",
		0,
		"common",
		147
	],
	"./ludl7zh0.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ludl7zh0.entry.js",
		"common",
		38
	],
	"./ludl7zh0.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ludl7zh0.sc.entry.js",
		"common",
		39
	],
	"./lwxjzkgx.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/lwxjzkgx.entry.js",
		0,
		"common",
		118
	],
	"./lwxjzkgx.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/lwxjzkgx.sc.entry.js",
		0,
		"common",
		119
	],
	"./ly8zbpmk.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ly8zbpmk.entry.js",
		"common",
		40
	],
	"./ly8zbpmk.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ly8zbpmk.sc.entry.js",
		"common",
		41
	],
	"./n5wnzrch.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/n5wnzrch.entry.js",
		"common",
		70
	],
	"./n5wnzrch.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/n5wnzrch.sc.entry.js",
		"common",
		71
	],
	"./neixdayp.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/neixdayp.entry.js",
		"common",
		42
	],
	"./neixdayp.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/neixdayp.sc.entry.js",
		"common",
		43
	],
	"./nr6wcehx.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/nr6wcehx.entry.js",
		"common",
		44
	],
	"./nr6wcehx.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/nr6wcehx.sc.entry.js",
		"common",
		45
	],
	"./o2g4txhh.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/o2g4txhh.entry.js",
		"common",
		84
	],
	"./o2g4txhh.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/o2g4txhh.sc.entry.js",
		"common",
		85
	],
	"./oboc8zd4.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/oboc8zd4.entry.js",
		"common",
		86
	],
	"./oboc8zd4.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/oboc8zd4.sc.entry.js",
		"common",
		87
	],
	"./odqmlmdd.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/odqmlmdd.entry.js",
		"common",
		46
	],
	"./odqmlmdd.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/odqmlmdd.sc.entry.js",
		"common",
		47
	],
	"./okpgrmbb.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/okpgrmbb.entry.js",
		"common",
		48
	],
	"./okpgrmbb.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/okpgrmbb.sc.entry.js",
		"common",
		49
	],
	"./pfpbfexy.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/pfpbfexy.entry.js",
		"common",
		88
	],
	"./pfpbfexy.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/pfpbfexy.sc.entry.js",
		"common",
		89
	],
	"./pubwd8xa.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/pubwd8xa.entry.js",
		"common",
		90
	],
	"./pubwd8xa.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/pubwd8xa.sc.entry.js",
		"common",
		91
	],
	"./qeoxaimy.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qeoxaimy.entry.js",
		2,
		"common",
		148
	],
	"./qeoxaimy.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qeoxaimy.sc.entry.js",
		2,
		"common",
		149
	],
	"./qrxqqhr4.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qrxqqhr4.entry.js",
		"common",
		92
	],
	"./qrxqqhr4.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qrxqqhr4.sc.entry.js",
		"common",
		93
	],
	"./qvwswew4.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qvwswew4.entry.js",
		"common",
		120
	],
	"./qvwswew4.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qvwswew4.sc.entry.js",
		"common",
		121
	],
	"./rsatbj4w.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/rsatbj4w.entry.js",
		"common",
		94
	],
	"./rsatbj4w.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/rsatbj4w.sc.entry.js",
		"common",
		95
	],
	"./soeaphrm.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/soeaphrm.entry.js",
		0,
		"common",
		150
	],
	"./soeaphrm.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/soeaphrm.sc.entry.js",
		0,
		"common",
		151
	],
	"./sqd5wawk.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/sqd5wawk.entry.js",
		0,
		"common",
		152
	],
	"./sqd5wawk.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/sqd5wawk.sc.entry.js",
		0,
		"common",
		153
	],
	"./sw2yobif.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/sw2yobif.entry.js",
		"common",
		50
	],
	"./sw2yobif.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/sw2yobif.sc.entry.js",
		"common",
		51
	],
	"./t547wlk7.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/t547wlk7.entry.js",
		"common",
		122
	],
	"./t547wlk7.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/t547wlk7.sc.entry.js",
		"common",
		123
	],
	"./tluindqz.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tluindqz.entry.js",
		0,
		"common",
		154
	],
	"./tluindqz.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tluindqz.sc.entry.js",
		0,
		"common",
		155
	],
	"./tpeqvzxx.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tpeqvzxx.entry.js",
		"common",
		128
	],
	"./tpeqvzxx.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tpeqvzxx.sc.entry.js",
		"common",
		129
	],
	"./tqgphjq7.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tqgphjq7.entry.js",
		"common",
		52
	],
	"./tqgphjq7.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tqgphjq7.sc.entry.js",
		"common",
		53
	],
	"./tylmm2yl.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tylmm2yl.entry.js",
		"common",
		96
	],
	"./tylmm2yl.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tylmm2yl.sc.entry.js",
		"common",
		97
	],
	"./ucdtgfa9.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ucdtgfa9.entry.js",
		0,
		"common",
		156
	],
	"./ucdtgfa9.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ucdtgfa9.sc.entry.js",
		0,
		"common",
		157
	],
	"./uegz8gm3.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/uegz8gm3.entry.js",
		"common",
		98
	],
	"./uegz8gm3.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/uegz8gm3.sc.entry.js",
		"common",
		99
	],
	"./uetn90ud.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/uetn90ud.entry.js",
		"common",
		100
	],
	"./uetn90ud.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/uetn90ud.sc.entry.js",
		"common",
		101
	],
	"./vbsrxypz.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vbsrxypz.entry.js",
		158
	],
	"./vbsrxypz.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vbsrxypz.sc.entry.js",
		159
	],
	"./vtbkki9o.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vtbkki9o.entry.js",
		"common",
		102
	],
	"./vtbkki9o.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vtbkki9o.sc.entry.js",
		"common",
		103
	],
	"./vxxpn0fi.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vxxpn0fi.entry.js",
		0,
		"common",
		160
	],
	"./vxxpn0fi.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vxxpn0fi.sc.entry.js",
		0,
		"common",
		161
	],
	"./wajpsmly.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/wajpsmly.entry.js",
		"common",
		54
	],
	"./wajpsmly.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/wajpsmly.sc.entry.js",
		"common",
		55
	],
	"./wsfvc8rr.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/wsfvc8rr.entry.js",
		"common",
		56
	],
	"./wsfvc8rr.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/wsfvc8rr.sc.entry.js",
		"common",
		57
	],
	"./x4ue4dpx.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/x4ue4dpx.entry.js",
		0,
		"common",
		162
	],
	"./x4ue4dpx.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/x4ue4dpx.sc.entry.js",
		0,
		"common",
		163
	],
	"./xgnma4yj.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/xgnma4yj.entry.js",
		"common",
		104
	],
	"./xgnma4yj.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/xgnma4yj.sc.entry.js",
		"common",
		105
	],
	"./xnfqzgvy.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/xnfqzgvy.entry.js",
		"common",
		106
	],
	"./xnfqzgvy.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/xnfqzgvy.sc.entry.js",
		"common",
		107
	],
	"./ycyyhg01.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ycyyhg01.entry.js",
		"common",
		108
	],
	"./ycyyhg01.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ycyyhg01.sc.entry.js",
		"common",
		109
	],
	"./ye5age0r.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ye5age0r.entry.js",
		164
	],
	"./ye5age0r.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ye5age0r.sc.entry.js",
		165
	],
	"./yxulgzjp.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/yxulgzjp.entry.js",
		"common",
		110
	],
	"./yxulgzjp.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/yxulgzjp.sc.entry.js",
		"common",
		111
	],
	"./z9nt6ntd.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/z9nt6ntd.entry.js",
		"common",
		130
	],
	"./z9nt6ntd.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/z9nt6ntd.sc.entry.js",
		"common",
		131
	],
	"./zdhyxh0f.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/zdhyxh0f.entry.js",
		"common",
		112
	],
	"./zdhyxh0f.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/zdhyxh0f.sc.entry.js",
		"common",
		113
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		var id = ids[0];
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./node_modules/@ionic/core/dist/esm/es5/build lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./about/about.module": [
		"./src/app/about/about.module.ts"
	],
	"./main/main.module": [
		"./src/app/main/main.module.ts",
		"main-main-module"
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		var id = ids[0];
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/app/about/about.module.ts":
/*!***************************************!*\
  !*** ./src/app/about/about.module.ts ***!
  \***************************************/
/*! exports provided: AboutPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AboutPageModule", function() { return AboutPageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _about_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./about.page */ "./src/app/about/about.page.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var routes = [
    {
        path: '',
        component: _about_page__WEBPACK_IMPORTED_MODULE_5__["AboutPage"]
    }
];
var AboutPageModule = /** @class */ (function () {
    function AboutPageModule() {
    }
    AboutPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes)
            ],
            declarations: [_about_page__WEBPACK_IMPORTED_MODULE_5__["AboutPage"]]
        })
    ], AboutPageModule);
    return AboutPageModule;
}());



/***/ }),

/***/ "./src/app/about/about.page.html":
/*!***************************************!*\
  !*** ./src/app/about/about.page.html ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar>\n    <ion-title>X-Wing Tabled</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content padding>\n  <h3><i>...Because Second Edition has huge cards and too many tokens</i></h3>\n  <p>\n    This app will maintain your card state for The X-Wing Miniatures Game: Second Edition.\n    It is designed to maintain items that are off the play area - cards and shield/charge/force tokens.\n    This app is not a squadron builder. You can import XWS squadron data from places like\n    <a href=\"https://raithos.github.io\">YASB 2.0</a> or Launch Bay Next.\n  </p>\n  <h3>\n    Found a bug or have a suggestion?\n  </h3>\n  <p>\n    Please submit an issue to <a href=\"https://github.com/jychuah/XwingTabled/issues\">the XwingTabled GitHub repo</a>.\n    Better yet, if you have a fix or feature, feel free to fork the repo and submit pull requests!\n  </p>\n  <h3>Local Data Storage</h3>\n  <p>\n    This web app caches some data locally, such as card data or your table state.\n    This means you will be required to download data on first use or when \n    new data is released. The advantage is that if you navigate away from\n    the app in the middle of the game, you don't have to worry about losing\n    your game state.\n  </p>\n  <h3>Artwork and Game Text Use</h3>\n  <p>\n    This app uses artwork from Fantasy Flight's image CDN, open source card\n    and text data from <a href=\"https://github.com/guidokessels/xwing-data2\">Guido Kessel's Xwing Data 2 project</a>,\n    and <a href=\"https://github.com/geordanr/xwing-miniatures-font\">GeordanR's X-Wing Miniatures Font</a>. \n    This app is not distributed with copyright artwork or card data on its own. Data is downloaded and cached\n    upon first use. Artwork is hotlinked from Fantasy Flight for web versions of this application,\n    and downloaded and cached for mobile versions.\n  </p>\n  <ion-fab vertical=\"bottom\" horizontal=\"start\" slot=\"fixed\">\n    <ion-fab-button href=\"../\">\n      <ion-icon name=\"arrow-back\"></ion-icon>\n    </ion-fab-button>\n  </ion-fab>\n</ion-content>\n"

/***/ }),

/***/ "./src/app/about/about.page.scss":
/*!***************************************!*\
  !*** ./src/app/about/about.page.scss ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/about/about.page.ts":
/*!*************************************!*\
  !*** ./src/app/about/about.page.ts ***!
  \*************************************/
/*! exports provided: AboutPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AboutPage", function() { return AboutPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var AboutPage = /** @class */ (function () {
    function AboutPage() {
    }
    AboutPage.prototype.ngOnInit = function () {
    };
    AboutPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-about',
            template: __webpack_require__(/*! ./about.page.html */ "./src/app/about/about.page.html"),
            styles: [__webpack_require__(/*! ./about.page.scss */ "./src/app/about/about.page.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], AboutPage);
    return AboutPage;
}());



/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _modals_pilot_modal_pilot_modal_page__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modals/pilot-modal/pilot-modal.page */ "./src/app/modals/pilot-modal/pilot-modal.page.ts");
/* harmony import */ var _modal_guard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modal-guard */ "./src/app/modal-guard.ts");
/* harmony import */ var _modals_upgrade_modal_upgrade_modal_page__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modals/upgrade-modal/upgrade-modal.page */ "./src/app/modals/upgrade-modal/upgrade-modal.page.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var routes = [
    {
        path: '',
        loadChildren: './main/main.module#MainPageModule'
    },
    {
        path: 'squadron/:squadronNum',
        loadChildren: './main/main.module#MainPageModule'
    },
    {
        path: 'squadron/:squadronNum/pilot/:pilotNum',
        component: _modals_pilot_modal_pilot_modal_page__WEBPACK_IMPORTED_MODULE_2__["PilotModalPage"],
        canActivate: [_modal_guard__WEBPACK_IMPORTED_MODULE_3__["ModalGuard"]]
    },
    {
        path: 'squadron/:squadronNum/pilot/:pilotNum/upgrade/:ffg',
        component: _modals_upgrade_modal_upgrade_modal_page__WEBPACK_IMPORTED_MODULE_4__["UpgradeModalPage"],
        canActivate: [_modal_guard__WEBPACK_IMPORTED_MODULE_3__["ModalGuard"]]
    },
    {
        path: 'about',
        loadChildren: './about/about.module#AboutPageModule'
    }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forRoot(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-app>\n  <ion-router-outlet main></ion-router-outlet>\n</ion-app>"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var AppComponent = /** @class */ (function () {
    function AppComponent(platform, splashScreen, statusBar) {
        this.platform = platform;
        this.splashScreen = splashScreen;
        this.statusBar = statusBar;
        this.appPages = [
            {
                title: 'Main',
                url: '/main',
                icon: 'home'
            },
            {
                title: 'Other main',
                url: '/loading',
                icon: 'home'
            }
        ];
        this.initializeApp();
    }
    AppComponent.prototype.initializeApp = function () {
        var _this = this;
        this.platform.ready().then(function () {
            _this.statusBar.styleDefault();
            _this.splashScreen.hide();
        });
    };
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.scss */ "./src/app/app.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"],
            _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_2__["SplashScreen"],
            _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_3__["StatusBar"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _services_layout_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./services/layout.service */ "./src/app/services/layout.service.ts");
/* harmony import */ var _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ionic-native/file-transfer/ngx */ "./node_modules/@ionic-native/file-transfer/ngx/index.js");
/* harmony import */ var _providers_http_provider__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./providers/http.provider */ "./src/app/providers/http.provider.ts");
/* harmony import */ var _providers_http_angular_provider__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./providers/http-angular.provider */ "./src/app/providers/http-angular.provider.ts");
/* harmony import */ var _providers_http_native_provider__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./providers/http-native.provider */ "./src/app/providers/http-native.provider.ts");
/* harmony import */ var _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @ionic-native/http/ngx */ "./node_modules/@ionic-native/http/ngx/index.js");
/* harmony import */ var _components_xwing_module__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/xwing.module */ "./src/app/components/xwing.module.ts");
/* harmony import */ var _popovers_popover_module__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./popovers/popover.module */ "./src/app/popovers/popover.module.ts");
/* harmony import */ var _modals_modal_module__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./modals/modal.module */ "./src/app/modals/modal.module.ts");
/* harmony import */ var _about_about_module__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./about/about.module */ "./src/app/about/about.module.ts");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
/* harmony import */ var _services_xwing_import_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./services/xwing-import.service */ "./src/app/services/xwing-import.service.ts");
/* harmony import */ var _modal_guard__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./modal-guard */ "./src/app/modal-guard.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


























var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_9__["AppComponent"],
            ],
            entryComponents: [],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicModule"].forRoot(),
                _app_routing_module__WEBPACK_IMPORTED_MODULE_10__["AppRoutingModule"],
                _ionic_storage__WEBPACK_IMPORTED_MODULE_7__["IonicStorageModule"].forRoot(),
                _angular_common_http__WEBPACK_IMPORTED_MODULE_8__["HttpClientModule"],
                _components_xwing_module__WEBPACK_IMPORTED_MODULE_18__["XwingModule"],
                _modals_modal_module__WEBPACK_IMPORTED_MODULE_20__["ModalModule"],
                _popovers_popover_module__WEBPACK_IMPORTED_MODULE_19__["PopoverModule"],
                _about_about_module__WEBPACK_IMPORTED_MODULE_21__["AboutPageModule"]
            ],
            providers: [
                _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_5__["StatusBar"],
                _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_4__["SplashScreen"],
                { provide: _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouteReuseStrategy"], useClass: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicRouteStrategy"] },
                _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_6__["File"],
                _ionic_storage__WEBPACK_IMPORTED_MODULE_7__["IonicStorageModule"],
                _services_layout_service__WEBPACK_IMPORTED_MODULE_12__["LayoutService"],
                _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_11__["XwingDataService"],
                _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_22__["XwingStateService"],
                _services_xwing_import_service__WEBPACK_IMPORTED_MODULE_23__["XwingImportService"],
                _providers_http_provider__WEBPACK_IMPORTED_MODULE_14__["HttpProvider"],
                _providers_http_angular_provider__WEBPACK_IMPORTED_MODULE_15__["HttpAngularProvider"],
                _providers_http_native_provider__WEBPACK_IMPORTED_MODULE_16__["HttpNativeProvider"],
                _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_17__["HTTP"],
                _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_13__["FileTransfer"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ToastController"],
                _modal_guard__WEBPACK_IMPORTED_MODULE_24__["ModalGuard"]
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_9__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/app.scss":
/*!**************************!*\
  !*** ./src/app/app.scss ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "ion-app {\n  font-size: 1em; }\n"

/***/ }),

/***/ "./src/app/components/action/action.component.html":
/*!*********************************************************!*\
  !*** ./src/app/components/action/action.component.html ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div [class]=\"getActionClass()\">\n  <xwing-icon [name]=\"action.type\" [class]=\"getDifficultyClass()\"></xwing-icon>\n  <span *ngIf=\"action.linked\">&nbsp;<xwing-icon [name]=\"'linked'\" class=\"link-icon\"></xwing-icon><xws-action [action]=\"action.linked\"></xws-action></span>\n</div>"

/***/ }),

/***/ "./src/app/components/action/action.component.scss":
/*!*********************************************************!*\
  !*** ./src/app/components/action/action.component.scss ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".action {\n  display: inline-block; }\n\n.difficulty-white {\n  color: white; }\n\n.difficulty-red {\n  color: red; }\n\n.difficulty-purple {\n  color: purple; }\n\n.link-icon {\n  font-size: 0.6em;\n  padding-right: 0.2em;\n  position: relative;\n  bottom: 0.2em; }\n"

/***/ }),

/***/ "./src/app/components/action/action.component.ts":
/*!*******************************************************!*\
  !*** ./src/app/components/action/action.component.ts ***!
  \*******************************************************/
/*! exports provided: ActionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActionComponent", function() { return ActionComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ActionComponent = /** @class */ (function () {
    function ActionComponent() {
    }
    ActionComponent.prototype.getActionClass = function () {
        return "action " + (this.action.linked ? "action-linked" : "");
    };
    ActionComponent.prototype.getDifficultyClass = function () {
        return "difficulty-" + this.action.difficulty.toLowerCase();
    };
    ActionComponent.prototype.ngOnInit = function () {
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ActionComponent.prototype, "action", void 0);
    ActionComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-action',
            template: __webpack_require__(/*! ./action.component.html */ "./src/app/components/action/action.component.html"),
            styles: [__webpack_require__(/*! ./action.component.scss */ "./src/app/components/action/action.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], ActionComponent);
    return ActionComponent;
}());



/***/ }),

/***/ "./src/app/components/bonus-stats/bonus-stats.component.html":
/*!*******************************************************************!*\
  !*** ./src/app/components/bonus-stats/bonus-stats.component.html ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<span *ngIf=\"grant.type == 'stat'\" [class]=\"'grant-' + grant.value\">\n  <xwing-icon [name]=\"grant.value\" class=\"grant-icon\"></xwing-icon>\n    <span class=\"bonus-text\">\n      <span *ngIf=\"grant.amount > 0\">+</span>{{ grant.amount }}\n    </span>\n</span>\n<xws-action *ngIf=\"grant.type =='action'\" [action]=\"grant.value\"></xws-action>"

/***/ }),

/***/ "./src/app/components/bonus-stats/bonus-stats.component.scss":
/*!*******************************************************************!*\
  !*** ./src/app/components/bonus-stats/bonus-stats.component.scss ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-content {\n  background-color: #212020;\n  min-height: 100%;\n  padding: 1vw 1vw 1vw 1vw;\n  overflow-y: scroll; }\n\n.item-box {\n  background-image: linear-gradient(to right, #440000, black, black, #440000);\n  transition: border-top 0.5s ease, border-bottom 0.2s ease;\n  border-top: 0.1em solid #880000;\n  border-bottom: 0.1em solid #880000;\n  margin-bottom: 0.25em;\n  margin-left: 0.15em;\n  padding-top: 0.15em;\n  padding-bottom: 0.15em;\n  position: relative;\n  cursor: pointer; }\n\n.item-box:hover {\n  border-top: 0.1em solid #FF0000;\n  border-bottom: 0.1em solid #FF0000; }\n\n.bonus-text {\n  padding-left: 0.2vw; }\n\n.grant span, .grant-shields span, .grant-hull span, .grant-agility span, .grant-attack span {\n  display: inline-block; }\n\n.grant-shields {\n  color: lightblue; }\n\n.grant-hull {\n  color: yellow; }\n\n.grant-agility {\n  color: green; }\n\n.grant-attack {\n  color: red; }\n\n.grant-icon {\n  font-weight: 100; }\n\nxwing-icon {\n  position: relative;\n  font-size: 0.9em;\n  top: -0.1em; }\n"

/***/ }),

/***/ "./src/app/components/bonus-stats/bonus-stats.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/components/bonus-stats/bonus-stats.component.ts ***!
  \*****************************************************************/
/*! exports provided: BonusStatsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BonusStatsComponent", function() { return BonusStatsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var BonusStatsComponent = /** @class */ (function () {
    function BonusStatsComponent() {
        this.grant = {};
    }
    BonusStatsComponent.prototype.ngOnInit = function () {
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], BonusStatsComponent.prototype, "grant", void 0);
    BonusStatsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-bonus-stats',
            template: __webpack_require__(/*! ./bonus-stats.component.html */ "./src/app/components/bonus-stats/bonus-stats.component.html"),
            styles: [__webpack_require__(/*! ./bonus-stats.component.scss */ "./src/app/components/bonus-stats/bonus-stats.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], BonusStatsComponent);
    return BonusStatsComponent;
}());



/***/ }),

/***/ "./src/app/components/condition/condition.component.html":
/*!***************************************************************!*\
  !*** ./src/app/components/condition/condition.component.html ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"condition\" (click)=\"presentConditionPopover()\">\n  <img [src]=\"img_url\">\n</div>"

/***/ }),

/***/ "./src/app/components/condition/condition.component.scss":
/*!***************************************************************!*\
  !*** ./src/app/components/condition/condition.component.scss ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".condition {\n  width: 100%; }\n"

/***/ }),

/***/ "./src/app/components/condition/condition.component.ts":
/*!*************************************************************!*\
  !*** ./src/app/components/condition/condition.component.ts ***!
  \*************************************************************/
/*! exports provided: ConditionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConditionComponent", function() { return ConditionComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _popovers_condition_popover_condition_popover_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../popovers/condition-popover/condition-popover.component */ "./src/app/popovers/condition-popover/condition-popover.component.ts");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




var ConditionComponent = /** @class */ (function () {
    function ConditionComponent(dataService, popoverController) {
        this.dataService = dataService;
        this.popoverController = popoverController;
        this.img_url = "";
    }
    ConditionComponent.prototype.presentConditionPopover = function () {
        return __awaiter(this, void 0, void 0, function () {
            var popover;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.create({
                            component: _popovers_condition_popover_condition_popover_component__WEBPACK_IMPORTED_MODULE_2__["ConditionPopoverComponent"],
                            componentProps: {
                                pilot: this.pilot,
                                condition: this.condition
                            }
                        })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ConditionComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.dataService.get_image_by_url(this.condition.artwork).then(function (url) {
            _this.img_url = url;
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ConditionComponent.prototype, "pilot", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ConditionComponent.prototype, "condition", void 0);
    ConditionComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-condition',
            template: __webpack_require__(/*! ./condition.component.html */ "./src/app/components/condition/condition.component.html"),
            styles: [__webpack_require__(/*! ./condition.component.scss */ "./src/app/components/condition/condition.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_xwing_data_service__WEBPACK_IMPORTED_MODULE_3__["XwingDataService"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"]])
    ], ConditionComponent);
    return ConditionComponent;
}());



/***/ }),

/***/ "./src/app/components/damage-card/damage-card.component.html":
/*!*******************************************************************!*\
  !*** ./src/app/components/damage-card/damage-card.component.html ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-button expand=\"full\" color=\"danger\" *ngIf=\"card.exposed\" (click)=\"presentDamagePopover($event)\">\n  <span *ngIf=\"card.exposed\">{{ card.title }}</span>\n  <xwing-icon [name]=\"'crit'\"></xwing-icon>\n</ion-button>\n<ion-button expand=\"full\" color=\"danger\" fill=\"outline\" *ngIf=\"!card.exposed\" (click)=\"presentDamagePopover($event)\">\n  <span>Damage Card</span>\n  <xwing-icon [name]=\"'hit'\"></xwing-icon>\n</ion-button>\n"

/***/ }),

/***/ "./src/app/components/damage-card/damage-card.component.scss":
/*!*******************************************************************!*\
  !*** ./src/app/components/damage-card/damage-card.component.scss ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".damage-deck-icon {\n  display: inline-block;\n  text-align: center;\n  width: 2em;\n  font-size: 1em;\n  color: red;\n  background-color: black;\n  margin-right: 0.5vw; }\n\n.damage-card {\n  color: white;\n  border: 1px solid red; }\n"

/***/ }),

/***/ "./src/app/components/damage-card/damage-card.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/components/damage-card/damage-card.component.ts ***!
  \*****************************************************************/
/*! exports provided: DamageCardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DamageCardComponent", function() { return DamageCardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _popovers_damage_popover_damage_popover_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../popovers/damage-popover/damage-popover.component */ "./src/app/popovers/damage-popover/damage-popover.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};



var DamageCardComponent = /** @class */ (function () {
    function DamageCardComponent(popoverController) {
        this.popoverController = popoverController;
        this.card = {};
    }
    DamageCardComponent.prototype.ngOnInit = function () {
    };
    DamageCardComponent.prototype.presentDamagePopover = function (ev) {
        return __awaiter(this, void 0, void 0, function () {
            var popover;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.create({
                            component: _popovers_damage_popover_damage_popover_component__WEBPACK_IMPORTED_MODULE_2__["DamagePopoverComponent"],
                            componentProps: {
                                card: this.card,
                                squadron: this.squadronNum
                            }
                        })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DamageCardComponent.prototype, "card", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], DamageCardComponent.prototype, "squadronNum", void 0);
    DamageCardComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-damage-card',
            template: __webpack_require__(/*! ./damage-card.component.html */ "./src/app/components/damage-card/damage-card.component.html"),
            styles: [__webpack_require__(/*! ./damage-card.component.scss */ "./src/app/components/damage-card/damage-card.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"]])
    ], DamageCardComponent);
    return DamageCardComponent;
}());



/***/ }),

/***/ "./src/app/components/phone-upgrade/phone-upgrade.component.html":
/*!***********************************************************************!*\
  !*** ./src/app/components/phone-upgrade/phone-upgrade.component.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-item (click)=\"showUpgrade()\">\n  <ion-avatar slot=\"start\">\n    <xwing-icon [name]=\"avatar()\" class=\"upgrade-avatar\"></xwing-icon>\n  </ion-avatar>\n  {{ sides[upgrade.side].name }}\n  <ion-note slot=\"end\" class=\"stat-avatar\">\n    <xws-stat *ngIf=\"getChargeStat()\" [stat]=\"getChargeStat()\" class=\"stat\"></xws-stat>\n    <xws-bonus-stats *ngFor=\"let grant of sides[upgrade.side].grants\" [grant]=\"grant\" class=\"stat\"></xws-bonus-stats>\n  </ion-note>\n</ion-item>"

/***/ }),

/***/ "./src/app/components/phone-upgrade/phone-upgrade.component.scss":
/*!***********************************************************************!*\
  !*** ./src/app/components/phone-upgrade/phone-upgrade.component.scss ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-content {\n  background-color: #212020;\n  min-height: 100%;\n  padding: 1vw 1vw 1vw 1vw;\n  overflow-y: scroll; }\n\n.item-box {\n  background-image: linear-gradient(to right, #440000, black, black, #440000);\n  transition: border-top 0.5s ease, border-bottom 0.2s ease;\n  border-top: 0.1em solid #880000;\n  border-bottom: 0.1em solid #880000;\n  margin-bottom: 0.25em;\n  margin-left: 0.15em;\n  padding-top: 0.15em;\n  padding-bottom: 0.15em;\n  position: relative;\n  cursor: pointer; }\n\n.item-box:hover {\n  border-top: 0.1em solid #FF0000;\n  border-bottom: 0.1em solid #FF0000; }\n\nion-item {\n  --ion-item-background: #282828 !important;\n  --ion-item-color: white !important;\n  --ion-text-color: white !important;\n  --border-color: #666666 !important; }\n\n.stat-avatar {\n  font-size: 1.5em; }\n\n.upgrade-avatar {\n  font-size: 2em; }\n\n.stat {\n  margin-left: 0.2em; }\n"

/***/ }),

/***/ "./src/app/components/phone-upgrade/phone-upgrade.component.ts":
/*!*********************************************************************!*\
  !*** ./src/app/components/phone-upgrade/phone-upgrade.component.ts ***!
  \*********************************************************************/
/*! exports provided: PhoneUpgradeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PhoneUpgradeComponent", function() { return PhoneUpgradeComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var PhoneUpgradeComponent = /** @class */ (function () {
    function PhoneUpgradeComponent(dataService, modalController, events, state, router) {
        this.dataService = dataService;
        this.modalController = modalController;
        this.events = events;
        this.state = state;
        this.router = router;
        this.upgrade = {};
        this.sides = [];
    }
    PhoneUpgradeComponent.prototype.ngOnInit = function () {
        this.upgrade = this.state.getUpgradeState(this.squadronNum, this.pilotNum, this.ffg);
        for (var i = 0; i < this.upgrade.sides.length; i++) {
            this.sides[i] = this.dataService.getCardByFFG(this.upgrade.sides[i].ffg);
        }
    };
    PhoneUpgradeComponent.prototype.getChargeStat = function () {
        if ("charges" in this.upgrade) {
            return this.dataService.getCardStatObject(this.upgrade.sides[0].ffg, "charge", this.upgrade.charges);
        }
        return null;
    };
    PhoneUpgradeComponent.prototype.avatar = function () {
        return this.dataService.getXwsUpgradeType(this.sides[this.upgrade.side].upgrade_types[0]);
    };
    PhoneUpgradeComponent.prototype.isConfiguration = function () {
        var configurationUpgradeType = this.dataService.data["upgrade-types"].find(function (upgradeType) { return upgradeType.xws == 'configuration'; }).ffg;
        return this.sides[this.upgrade.side].upgrade_types.includes(configurationUpgradeType);
    };
    PhoneUpgradeComponent.prototype.showUpgrade = function () {
        var url = '/squadron/' + this.squadronNum + '/pilot/'
            + this.pilotNum + "/upgrade/"
            + this.upgrade.sides[this.upgrade.side].ffg;
        this.router.navigateByUrl(url);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], PhoneUpgradeComponent.prototype, "squadronNum", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], PhoneUpgradeComponent.prototype, "pilotNum", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], PhoneUpgradeComponent.prototype, "ffg", void 0);
    PhoneUpgradeComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-phone-upgrade',
            template: __webpack_require__(/*! ./phone-upgrade.component.html */ "./src/app/components/phone-upgrade/phone-upgrade.component.html"),
            styles: [__webpack_require__(/*! ./phone-upgrade.component.scss */ "./src/app/components/phone-upgrade/phone-upgrade.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__["XwingDataService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Events"],
            _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_3__["XwingStateService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"]])
    ], PhoneUpgradeComponent);
    return PhoneUpgradeComponent;
}());



/***/ }),

/***/ "./src/app/components/pilot/pilot.component.html":
/*!*******************************************************!*\
  !*** ./src/app/components/pilot/pilot.component.html ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div [class]=\"'pilot' + layout.getClass()\">\n  <div [class]=\"'pilot-header' + layout.getClass()\">\n    <img [src]=\"icon_url\">\n    <div class=\"pilot-header-text\">\n        <span class=\"pilot-initiative\">{{ data.initiative }}</span>\n        {{ data.name }}&nbsp;\n        ( {{ getPoints() }} )\n    </div>\n  </div>\n  <div [class]=\"'pilot-card' + layout.getClass()\">\n    <div (click)=\"showPilot()\" class=\"item-box\">\n      <div class=\"pilot-image\">\n        <img\n          [src]=\"img_url\" \n          [class]=\"'item-pilotart' + layout.getClass()\" />\n        <div class=\"status-overlay\" *ngIf=\"showOverlay()\">\n          <xws-stat [stat]=\"bigStat\" class=\"big-stat\"></xws-stat>\n          <xws-stat *ngIf=\"smallStat\" [stat]=\"smallStat\" class=\"small-stat\"></xws-stat>\n          <xws-stat *ngIf=\"chargeStat\" [stat]=\"chargeStat\" class=\"small-stat\"></xws-stat>\n          <xws-stat *ngIf=\"forceStat\" [stat]=\"forceStat\" class=\"small-stat\"></xws-stat>\n        </div>\n      </div>\n\n      <div class=\"id-overlay\" *ngIf=\"pilot.idNumber\">\n        <div class=\"pilot-num\">{{ pilot.idNumber }}</div>\n      </div>\n\n      <div class=\"cards\">\n        <div *ngFor=\"let condition of pilot.conditions\" class=\"card-title\">\n          <xwing-icon [name]=\"'condition'\"></xwing-icon>\n          <span>{{ condition.name }}</span>\n        </div>\n      </div>\n      <div class=\"cards\">\n        <div *ngFor=\"let damagecard of pilot.damagecards\">\n          <div *ngIf=\"damagecard.exposed\" class=\"card-title\">\n            <xwing-icon [name]=\"'crit'\"></xwing-icon>\n            <span>{{ damagecard.title}}</span>\n          </div>\n        </div>\n        <div class=\"card-title damage-facedown\" *ngIf=\"numFacedown() > 0\">\n          <xwing-icon [name]=\"'hit'\"></xwing-icon>\n          <span>Damage Cards x{{ numFacedown() }}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div *ngIf=\"!layout.isPhone()\" class=\"upgrade-container\">\n    <div [class]=\"'upgrade-group' + layout.getClass()\" *ngFor=\"let group of groups\">\n      <xws-upgrade \n        *ngFor=\"let upgrade of group\" \n        [squadronNum]=\"squadronNum\"\n        [pilotNum]=\"pilotNum\"\n        [upgrade]=\"upgrade\"\n        [class]=\"'item-box upgrade' + layout.getClass()\"></xws-upgrade>\n    </div>\n  </div>\n  <div *ngIf=\"layout.isPhone()\" [class]=\"'phone-upgrades' + layout.getClass()\">\n    <ion-list>\n      <xws-phone-upgrade *ngFor=\"let upgrade of pilot.upgrades\" \n        [squadronNum]=\"squadronNum\"\n        [ffg]=\"upgrade.sides[upgrade.side].ffg\" \n        [pilotNum]=\"pilotNum\">\n      </xws-phone-upgrade>\n    </ion-list>\n  </div>\n</div>\n\n"

/***/ }),

/***/ "./src/app/components/pilot/pilot.component.scss":
/*!*******************************************************!*\
  !*** ./src/app/components/pilot/pilot.component.scss ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-content {\n  background-color: #212020;\n  min-height: 100%;\n  padding: 1vw 1vw 1vw 1vw;\n  overflow-y: scroll; }\n\n.item-box {\n  background-image: linear-gradient(to right, #440000, black, black, #440000);\n  transition: border-top 0.5s ease, border-bottom 0.2s ease;\n  border-top: 0.1em solid #880000;\n  border-bottom: 0.1em solid #880000;\n  margin-bottom: 0.25em;\n  margin-left: 0.15em;\n  padding-top: 0.15em;\n  padding-bottom: 0.15em;\n  position: relative;\n  cursor: pointer; }\n\n.item-box:hover {\n  border-top: 0.1em solid #FF0000;\n  border-bottom: 0.1em solid #FF0000; }\n\n.pilot, .pilot-tablet, .pilot-tablet-portrait, .pilot-phone-portrait, .pilot-phone-landscape {\n  margin-top: 0.2vh;\n  margin-right: 0.2vw;\n  background: #282828;\n  color: white;\n  position: relative; }\n\n.pilot-tablet {\n  font-size: 2.25vh;\n  display: inline-block; }\n\n.pilot-tablet-portrait {\n  padding-left: 1vw; }\n\n.pilot-header, .pilot-header-tablet, .pilot-header-tablet-portrait, .pilot-header-phone-portrait, .pilot-header-phone-landscape {\n  padding-left: 0.5vh;\n  padding-top: 0.5vh;\n  padding-bottom: 0.5vh;\n  font-size: 2vh;\n  height: 4vh;\n  vertical-align: text-bottom; }\n\n.pilot-header img, .pilot-header-tablet img, .pilot-header-tablet-portrait img, .pilot-header-phone-portrait img, .pilot-header-phone-landscape img {\n    height: 90%;\n    vertical-align: text-bottom;\n    display: inline-block;\n    padding-right: 0.5vh; }\n\n.pilot-header-text {\n  display: inline-block;\n  vertical-align: text-bottom; }\n\n.pilot-header-phone-landscape {\n  font-size: 2.5vw;\n  height: 3vw; }\n\n.pilot-header-phone-landscape img {\n    height: 125%; }\n\n.pilot-initiative {\n  color: orange;\n  font-weight: 900;\n  margin-right: 0.5em; }\n\n.pilot-destroyed-overlay {\n  width: 100%;\n  height: 44vh;\n  position: absolute;\n  background-color: #FF000044;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 10; }\n\n.card-text {\n  font-size: 1.5vh;\n  color: white;\n  padding-left: 0.5vh; }\n\n.upgrade-container {\n  display: inline-block;\n  vertical-align: top; }\n\n.upgrade-group-tablet {\n  display: block; }\n\n.upgrade-tablet {\n  display: inline-block;\n  vertical-align: top; }\n\n.upgrade-group-tablet-portrait {\n  display: inline-block;\n  vertical-align: top; }\n\n.upgrade-tablet-portrait {\n  display: block; }\n\n.upgrade-portrait {\n  display: block; }\n\n.pilot-image {\n  position: relative; }\n\n.pilot-card, .pilot-card-tablet, .pilot-card-tablet-portrait, .pilot-card-phone-portrait, .pilot-card-phone-landscape {\n  display: inline-block;\n  vertical-align: top;\n  overflow-y: scroll; }\n\n.pilot-card .item-box, .pilot-card-tablet .item-box, .pilot-card-tablet-portrait .item-box, .pilot-card-phone-portrait .item-box, .pilot-card-phone-landscape .item-box {\n    height: 98%; }\n\n.pilot-card-tablet {\n  width: 27vh;\n  height: 35vh; }\n\n.pilot-card-tablet-portrait {\n  font-size: 3vw;\n  width: 40vw; }\n\n.pilot-card-phone-portrait {\n  font-size: 3.5vh;\n  padding-left: 1vw; }\n\n.pilot-card-phone-landscape {\n  display: inline-block;\n  font-size: 3.5vw;\n  width: 50%; }\n\n.pilot-card::-webkit-scrollbar-track, .pilot-card-tablet::-webkit-scrollbar-track, .pilot-card-tablet-portrait::-webkit-scrollbar-track, .pilot-card-phone-portrait::-webkit-scrollbar-track, .pilot-card-phone-landscape::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 0.2vh #282828;\n  border-radius: 0.2vh;\n  background-color: #282828; }\n\n.pilot-card::-webkit-scrollbar, .pilot-card-tablet::-webkit-scrollbar, .pilot-card-tablet-portrait::-webkit-scrollbar, .pilot-card-phone-portrait::-webkit-scrollbar, .pilot-card-phone-landscape::-webkit-scrollbar {\n  width: 0.5vh;\n  background-color: #282828; }\n\n.pilot-card::-webkit-scrollbar-thumb, .pilot-card-tablet::-webkit-scrollbar-thumb, .pilot-card-tablet-portrait::-webkit-scrollbar-thumb, .pilot-card-phone-portrait::-webkit-scrollbar-thumb, .pilot-card-phone-landscape::-webkit-scrollbar-thumb {\n  border-radius: 0.2vh;\n  -webkit-box-shadow: inset 0 0 0.2vh rgba(0, 0, 0, 0.3);\n  background-color: #888; }\n\n.action {\n  padding-left: 0.3em;\n  padding-right: 0.3em; }\n\n.action-bar, .action-bar-tablet, .action-bar-tablet-portrait, .action-bar-phone-portrait, .action-bar-phone-landscape {\n  text-align: center;\n  font-size: 1em;\n  padding-top: 0.5vh;\n  padding-bottom: 0.5vh;\n  padding-right: 0.5em;\n  padding-left: 0.5em;\n  max-width: 100%;\n  overflow: wrap; }\n\n.action-bar-tablet-portrait {\n  font-size: 3vw;\n  padding-top: 1vw;\n  padding-bottom: 1vw; }\n\n.action-bar-phone-portrait {\n  font-size: 5vw; }\n\n.stat {\n  display: inline-block; }\n\n.stat-block, .stat-block-tablet, .stat-block-tablet-portrait, .stat-block-phone-portrait, .stat-block-phone-landscape {\n  display: block;\n  width: 100%;\n  text-align: center;\n  margin-bottom: 0.5vh;\n  font-size: 1.25em; }\n\n.stat-block-tablet-portrait {\n  font-size: 3vw; }\n\n.stat-block-phone-portrait {\n  font-size: 5vw; }\n\n.ship-fw {\n  display: inline-block;\n  text-align: center;\n  width: 2em;\n  font-size: 1em; }\n\n.ship-status, .ship-status-portrait {\n  background: #212020;\n  font-size: 2vw;\n  min-height: 2.25vw;\n  height: 2.25vw;\n  padding-left: 0.5vw; }\n\n.ship-status-portrait {\n  font-size: 4vw; }\n\n.image-container {\n  display: inline-block;\n  max-width: 24vh;\n  max-height: 10vh;\n  overflow: hidden; }\n\n.image-constrained {\n  -webkit-clip-path: polygon(0% 0%, 100% 0%, 100% 30%, 0 30%);\n          clip-path: polygon(0% 0%, 100% 0%, 100% 30%, 0 30%); }\n\n.item-pilotart, .item-pilotart-tablet, .item-pilotart-tablet-portrait {\n  vertical-align: top; }\n\n.item-pilotart-tablet {\n  height: 12.5vh; }\n\n.item-pilotart-tablet-portrait {\n  width: 100%; }\n\n.item-status {\n  display: inline-block;\n  vertical-align: top; }\n\n.cards {\n  font-size: 1em; }\n\n.damage-facedown {\n  color: red; }\n\n.conditions {\n  font-size: 2vh;\n  padding-left: 0.5em; }\n\n.phone-upgrades-phone-portrait {\n  display: block; }\n\n.phone-upgrades-phone-landscape {\n  display: inline-block;\n  width: 50%; }\n\n.token-box {\n  background-image: linear-gradient(to right, black, #770000, black);\n  padding: 0.15em 0.15em 0.15em 0.15em;\n  vertical-align: text-top; }\n\n.token-box .token-header {\n    font-size: 0.75em;\n    text-align: center; }\n\n.token-box .token-set {\n    font-size: 1.5em; }\n\n.token-box .none {\n    font-style: italic; }\n\n.tokens, .force, .charge, .shield, .spent {\n  display: inline-block;\n  vertical-align: middle; }\n\n.force {\n  color: blueviolet; }\n\n.charge {\n  color: yellow; }\n\n.shield {\n  color: lightblue; }\n\n.spent {\n  color: red; }\n\n.card-title xwing-icon {\n  display: inline-block;\n  width: 10%;\n  vertical-align: top; }\n\n.card-title span {\n  display: inline-block;\n  width: 90%;\n  vertical-align: top; }\n\n.id-overlay {\n  position: absolute;\n  left: 0.1em;\n  top: 0.1em;\n  color: #FFFFFF;\n  text-shadow: -0.05em -0.05em #000000AA, -0.05em 0.05em #000000AA, 0.05em 0.05em #000000AA, 0.05em -0.05em #000000AA;\n  -webkit-text-stroke-color: #000000AA;\n  -webkit-text-fill-color: #FFFFFF;\n  -webkit-text-stroke-width: 0.01em; }\n\n.id-overlay div.pilot-num {\n    margin-left: 1vh;\n    font-size: 9vh;\n    vertical-align: top;\n    text-transform: uppercase; }\n\n.status-overlay {\n  position: absolute;\n  right: 0em;\n  top: 0em;\n  background-color: rgba(0, 0, 0, 0.4);\n  width: 30%;\n  height: 100%;\n  text-align: right; }\n\n.status-overlay .big-stat {\n    display: block;\n    font-size: 1.75em; }\n\n.status-overlay .small-stat {\n    display: block; }\n"

/***/ }),

/***/ "./src/app/components/pilot/pilot.component.ts":
/*!*****************************************************!*\
  !*** ./src/app/components/pilot/pilot.component.ts ***!
  \*****************************************************/
/*! exports provided: PilotComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PilotComponent", function() { return PilotComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _services_layout_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/layout.service */ "./src/app/services/layout.service.ts");
/* harmony import */ var _modals_pilot_modal_pilot_modal_page__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../modals/pilot-modal/pilot-modal.page */ "./src/app/modals/pilot-modal/pilot-modal.page.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};










var PilotComponent = /** @class */ (function () {
    function PilotComponent(dataService, modalController, platform, events, layout, state, router, ngZone) {
        this.dataService = dataService;
        this.modalController = modalController;
        this.platform = platform;
        this.events = events;
        this.layout = layout;
        this.state = state;
        this.router = router;
        this.ngZone = ngZone;
        this.groups = [];
        this.img_url = null;
        this.icon_url = null;
        this.bigStat = null;
        this.smallStat = null;
        this.chargeStat = null;
        this.forceStat = null;
    }
    PilotComponent.prototype.getStatString = function (statname) {
        this.pilot.ship.stats.forEach(function (stat) {
            if (stat['type'] == statname) {
                if (stat.value != stat.remaining) {
                    return "(" + stat.remaining + ")";
                }
                else {
                    return stat.value;
                }
            }
        });
        return "";
    };
    PilotComponent.prototype.getPoints = function () {
        return this.dataService.getPointsDestroyed(this.pilot) +
            ' / ' + this.dataService.getPilotPoints(this.pilot);
    };
    PilotComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.pilotNum = this.pilot.num;
        this.data = this.dataService.getCardByFFG(this.pilot.ffg);
        var numGroups = this.pilot.upgrades.length >= 9 ? 3 : 2;
        var groupSize = Math.ceil(this.pilot.upgrades.length / numGroups);
        for (var i = 0; i < numGroups; i++) {
            var group_1 = [];
            for (var j = 0; j < groupSize; j++) {
                var index = i * groupSize + j;
                if (this.pilot.upgrades[index]) {
                    group_1.push(this.pilot.upgrades[index]);
                }
            }
            this.groups.push(group_1);
        }
        var group = [];
        var get_url = this.data.image;
        if (get_url) {
            this.dataService.get_image_by_url(get_url).then(function (url) {
                _this.img_url = url;
            });
        }
        var get_icon_url = this.data.metadata.shipIcon;
        if (get_icon_url) {
            this.dataService.get_image_by_url(get_icon_url).then(function (url) {
                _this.icon_url = url;
            });
        }
    };
    PilotComponent.prototype.numFacedown = function () {
        if (this.pilot.damagecards) {
            var facedown = this.pilot.damagecards.filter(function (card) { return !card.exposed; });
            if (facedown) {
                return facedown.length;
            }
        }
        return 0;
    };
    PilotComponent.prototype.createTokens = function (stat, tokenType) {
        var tokens = [];
        if (!stat) {
            return tokens;
        }
        for (var i = 0; i < stat.remaining; i++) {
            tokens.push({
                name: tokenType,
                css: tokenType
            });
        }
        for (var i = 0; i < stat.value - stat.remaining; i++) {
            tokens.push({
                name: tokenType,
                css: tokenType + ' spent'
            });
        }
        return tokens;
    };
    PilotComponent.prototype.generateStat = function (stat) {
        if (!(stat in this.pilot)) {
            return null;
        }
        return {
            type: stat,
            value: this.dataService.getStatTotal(this.pilot, stat),
            remaining: this.pilot[stat]
        };
    };
    PilotComponent.prototype.showOverlay = function () {
        var hullTotal = this.dataService.getStatTotal(this.pilot, "hull");
        var hullStat = {
            type: "hull",
            value: hullTotal,
            remaining: hullTotal - this.pilot.damagecards.length
        };
        var shieldStat = this.generateStat("shields");
        if (hullStat.remaining < hullStat.value || !shieldStat) {
            this.bigStat = hullStat;
            this.smallStat = shieldStat;
        }
        else {
            this.bigStat = shieldStat;
            this.smallStat = hullStat;
        }
        if ("charges" in this.pilot) {
            this.chargeStat = this.dataService.getCardStatObject(this.pilot.ffg, "charge", this.pilot.charges);
        }
        this.forceStat = this.generateStat("force");
        if (this.forceStat) {
            this.forceStat.recovers = 1;
        }
        return true;
    };
    PilotComponent.prototype.createMiniTokenDisplay = function () {
        var tokens = [];
        // Find stats with tokens to display
        tokens = tokens.concat(this.createTokens(this.pilot.stats.find(function (stat) { return stat.type == 'shields'; }), 'shield'));
        tokens = tokens.concat(this.createTokens(this.pilot.stats.find(function (stat) { return stat.type == 'charges'; }), 'charge'));
        tokens = tokens.concat(this.createTokens(this.pilot.stats.find(function (stat) { return stat.type == 'force'; }), 'force'));
        return tokens;
    };
    PilotComponent.prototype.presentPilotModal = function () {
        return __awaiter(this, void 0, void 0, function () {
            var stateString, modal, data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        stateString = JSON.stringify(this.pilot);
                        return [4 /*yield*/, this.modalController.create({
                                component: _modals_pilot_modal_pilot_modal_page__WEBPACK_IMPORTED_MODULE_3__["PilotModalPage"],
                                componentProps: {
                                    pilotNum: this.pilotNum,
                                    squadronNum: this.squadronNum
                                }
                            })];
                    case 1:
                        modal = _a.sent();
                        return [4 /*yield*/, modal.present()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, modal.onWillDismiss()];
                    case 3:
                        data = (_a.sent()).data;
                        if (stateString != JSON.stringify(this.pilot)) {
                            this.state.snapshot();
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    PilotComponent.prototype.showPilot = function () {
        if (this.layout.isPhone()) {
            var url = '/squadron/' + this.squadronNum + '/pilot/' + this.pilotNum;
            this.router.navigateByUrl(url);
        }
        else {
            this.presentPilotModal();
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], PilotComponent.prototype, "squadronNum", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], PilotComponent.prototype, "pilot", void 0);
    PilotComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-pilot',
            template: __webpack_require__(/*! ./pilot.component.html */ "./src/app/components/pilot/pilot.component.html"),
            styles: [__webpack_require__(/*! ./pilot.component.scss */ "./src/app/components/pilot/pilot.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__["XwingDataService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Events"],
            _services_layout_service__WEBPACK_IMPORTED_MODULE_2__["LayoutService"],
            _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_5__["XwingStateService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]])
    ], PilotComponent);
    return PilotComponent;
}());



/***/ }),

/***/ "./src/app/components/squadron/squadron.component.html":
/*!*************************************************************!*\
  !*** ./src/app/components/squadron/squadron.component.html ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"squadron-container\">\n    <div class=\"squadron-fullwidth\">\n        <xws-pilot \n            *ngFor=\"let pilot of squadron.pilots\" \n            [squadronNum]=\"squadronNum\"\n            [pilot]=\"pilot\" \n            class=\"pilot-minwidth\"></xws-pilot>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/components/squadron/squadron.component.scss":
/*!*************************************************************!*\
  !*** ./src/app/components/squadron/squadron.component.scss ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/squadron/squadron.component.ts":
/*!***********************************************************!*\
  !*** ./src/app/components/squadron/squadron.component.ts ***!
  \***********************************************************/
/*! exports provided: SquadronComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SquadronComponent", function() { return SquadronComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _services_layout_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/layout.service */ "./src/app/services/layout.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var SquadronComponent = /** @class */ (function () {
    function SquadronComponent(dataService, modalController, platform, events, layout, state, router, ngZone) {
        this.dataService = dataService;
        this.modalController = modalController;
        this.platform = platform;
        this.events = events;
        this.layout = layout;
        this.state = state;
        this.router = router;
        this.ngZone = ngZone;
    }
    SquadronComponent.prototype.ngOnInit = function () {
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], SquadronComponent.prototype, "squadronNum", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], SquadronComponent.prototype, "squadron", void 0);
    SquadronComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'squadron',
            template: __webpack_require__(/*! ./squadron.component.html */ "./src/app/components/squadron/squadron.component.html"),
            styles: [__webpack_require__(/*! ./squadron.component.scss */ "./src/app/components/squadron/squadron.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__["XwingDataService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["Events"],
            _services_layout_service__WEBPACK_IMPORTED_MODULE_2__["LayoutService"],
            _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_4__["XwingStateService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]])
    ], SquadronComponent);
    return SquadronComponent;
}());



/***/ }),

/***/ "./src/app/components/stat/stat.component.html":
/*!*****************************************************!*\
  !*** ./src/app/components/stat/stat.component.html ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div [class]=\"stat.type\">\n  <div [class]=\"orientation\">\n    <xwing-icon [name]=\"stat.icon ? stat.icon : stat.type\"></xwing-icon>\n  </div>\n  <div [class]=\"orientation\">\n    <span *ngIf=\"bonus\">+{{stat.value}}</span>\n    <span *ngIf=\"stat.type == 'attack'\">\n      {{ stat.value }}\n    </span>\n    <span *ngIf=\"!bonus && stat.type != 'attack'\">\n      <span [class]=\"stat.remaining != stat.value ? 'underline' : ''\">{{ stat.remaining }}</span>\n    </span> \n    <xwing-icon *ngFor=\"let icon of recoverIcons()\" [name]=\"'recurring'\"></xwing-icon>\n  </div>\n  <div *ngIf=\"stat.minrange\" [class]=\"orientation\">\n    <xwing-icon *ngIf=\"stat.ordnance\" [name]=\"'rangebonusindicator'\"></xwing-icon>\n    <span class=\"attack-range\">{{ stat.minrange }}-{{ stat.maxrange }}</span>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/components/stat/stat.component.scss":
/*!*****************************************************!*\
  !*** ./src/app/components/stat/stat.component.scss ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".stats, .agility, .attack, .hull, .charges, .charge, .force, .shields {\n  padding-left: 0.1vh;\n  padding-right: 0.1vh;\n  display: inline-block; }\n\n.vertical {\n  display: block;\n  width: 1.5em;\n  text-align: center; }\n\n.horizontal {\n  display: inline-block;\n  padding-left: 0.1vw;\n  padding-right: 0.1vw; }\n\n.underline {\n  text-decoration: underline; }\n\n.agility {\n  color: green; }\n\n.attack {\n  color: red; }\n\n.hull {\n  color: yellow; }\n\n.charges, .charge {\n  color: yellow; }\n\n.force {\n  color: #CC00FF; }\n\n.shields {\n  color: lightblue; }\n\n.attack-range {\n  color: white; }\n\nxwing-icon {\n  font-size: 0.9em;\n  position: relative;\n  top: -0.1em; }\n"

/***/ }),

/***/ "./src/app/components/stat/stat.component.ts":
/*!***************************************************!*\
  !*** ./src/app/components/stat/stat.component.ts ***!
  \***************************************************/
/*! exports provided: StatComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StatComponent", function() { return StatComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var StatComponent = /** @class */ (function () {
    function StatComponent() {
        this.orientation = "horizontal";
        this.bonus = false;
    }
    StatComponent.prototype.ngOnInit = function () {
        if (this.stat.type == "attack") {
            this.stat.icon = this.stat.arc;
        }
    };
    StatComponent.prototype.recoverIcons = function () {
        if (this.stat.recovers) {
            return new Array(this.stat.recovers);
        }
        return new Array();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], StatComponent.prototype, "stat", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], StatComponent.prototype, "orientation", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], StatComponent.prototype, "bonus", void 0);
    StatComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-stat',
            template: __webpack_require__(/*! ./stat.component.html */ "./src/app/components/stat/stat.component.html"),
            styles: [__webpack_require__(/*! ./stat.component.scss */ "./src/app/components/stat/stat.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], StatComponent);
    return StatComponent;
}());



/***/ }),

/***/ "./src/app/components/token-display/token-display.component.html":
/*!***********************************************************************!*\
  !*** ./src/app/components/token-display/token-display.component.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<xwing-icon [name]=\"'token-' + name + '-outline'\" [class]=\"name\" *ngFor=\"let number of available()\" (click)=\"spend()\"></xwing-icon>\n<xwing-icon [name]=\"'token-' + name + '-outline'\" class=\"spent\" *ngFor=\"let number of spent()\" (click)=\"recover()\"></xwing-icon>"

/***/ }),

/***/ "./src/app/components/token-display/token-display.component.scss":
/*!***********************************************************************!*\
  !*** ./src/app/components/token-display/token-display.component.scss ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".token-display {\n  display: block; }\n\n.tokens, .force, .charge, .shield, .spent {\n  display: inline-block;\n  vertical-align: middle; }\n\n.force {\n  color: blueviolet; }\n\n.charge {\n  color: yellow; }\n\n.shield {\n  color: lightblue; }\n\n.spent {\n  color: red; }\n\n.recover-container {\n  height: 100%;\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 0.25em;\n  padding-bottom: 0.25em; }\n\n.recover-button {\n  vertical-align: middle; }\n"

/***/ }),

/***/ "./src/app/components/token-display/token-display.component.ts":
/*!*********************************************************************!*\
  !*** ./src/app/components/token-display/token-display.component.ts ***!
  \*********************************************************************/
/*! exports provided: TokenDisplayComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TokenDisplayComponent", function() { return TokenDisplayComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var TokenDisplayComponent = /** @class */ (function () {
    function TokenDisplayComponent() {
        this.change = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    TokenDisplayComponent.prototype.emit = function () {
        this.change.emit(this.remaining);
    };
    TokenDisplayComponent.prototype.spent = function () {
        return new Array(this.maximum - this.remaining);
    };
    TokenDisplayComponent.prototype.available = function () {
        return new Array(this.remaining);
    };
    TokenDisplayComponent.prototype.spend = function () {
        this.remaining -= 1;
        this.emit();
    };
    TokenDisplayComponent.prototype.recover = function () {
        this.remaining += 1;
        this.emit();
    };
    TokenDisplayComponent.prototype.ngOnInit = function () {
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], TokenDisplayComponent.prototype, "name", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], TokenDisplayComponent.prototype, "remaining", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], TokenDisplayComponent.prototype, "maximum", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], TokenDisplayComponent.prototype, "change", void 0);
    TokenDisplayComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-token-display',
            template: __webpack_require__(/*! ./token-display.component.html */ "./src/app/components/token-display/token-display.component.html"),
            styles: [__webpack_require__(/*! ./token-display.component.scss */ "./src/app/components/token-display/token-display.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], TokenDisplayComponent);
    return TokenDisplayComponent;
}());



/***/ }),

/***/ "./src/app/components/upgrade/upgrade.component.html":
/*!***********************************************************!*\
  !*** ./src/app/components/upgrade/upgrade.component.html ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div [class]=\"'upgrade' + layout.getClass()\" (click)=\"showUpgrade()\">\n  <div *ngIf=\"artwork\" class=\"upgrade-img-container\">\n    <img [src]=\"img_urls[upgrade.side]\" [class]=\"'upgrade-img' + layout.getClass()\"/>\n    <div *ngIf=\"showOverlay()\" class=\"stat-overlay\">\n      <xws-stat *ngIf=\"getChargeStat()\" [stat]=\"getChargeStat()\" class=\"stat\"></xws-stat>\n      <xws-stat *ngIf=\"getForceStat()\" [stat]=\"getForceStat()\" class=\"stat\"></xws-stat>\n      <xwing-icon *ngIf=\"isConfiguration\" [name]=\"'config'\" class=\"stat\"></xwing-icon>\n      <xws-bonus-stats \n        *ngFor=\"let grant of sides[upgrade.side].metadata.grants\" \n        [grant]=\"grant\" [class]=\"statClass(grant)\"></xws-bonus-stats>\n    </div>\n  </div>\n  <div class=\"upgrade-name\">\n    {{ sides[upgrade.side].name }}\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/components/upgrade/upgrade.component.scss":
/*!***********************************************************!*\
  !*** ./src/app/components/upgrade/upgrade.component.scss ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-content {\n  background-color: #212020;\n  min-height: 100%;\n  padding: 1vw 1vw 1vw 1vw;\n  overflow-y: scroll; }\n\n.item-box {\n  background-image: linear-gradient(to right, #440000, black, black, #440000);\n  transition: border-top 0.5s ease, border-bottom 0.2s ease;\n  border-top: 0.1em solid #880000;\n  border-bottom: 0.1em solid #880000;\n  margin-bottom: 0.25em;\n  margin-left: 0.15em;\n  padding-top: 0.15em;\n  padding-bottom: 0.15em;\n  position: relative;\n  cursor: pointer; }\n\n.item-box:hover {\n  border-top: 0.1em solid #FF0000;\n  border-bottom: 0.1em solid #FF0000; }\n\n.upgrade, .upgrade-tablet, .upgrade-tablet-portrait {\n  font-size: 2vh;\n  background: #212020;\n  color: white;\n  margin-right: 0.2vh;\n  margin-bottom: 0.2vh;\n  position: relative; }\n\n.upgrade-tablet-portrait {\n  font-size: 2vw; }\n\n.upgrade-img-container {\n  position: relative;\n  display: block; }\n\n.upgrade-alt-container {\n  display: block;\n  overflow: hidden;\n  height: 10vh;\n  width: 40vh;\n  margin-right: -24vh; }\n\n.img-alt {\n  margin-left: -24vh; }\n\n.img-alt-config {\n  margin-left: -2vh; }\n\n.upgrade-img, .upgrade-img-tablet, .upgrade-img-tablet-portrait {\n  display: block; }\n\n.upgrade-img-tablet {\n  height: 12.5vh; }\n\n.upgrade-img-tablet-portrait {\n  width: 26vw; }\n\n.upgrade-name {\n  width: 100%;\n  text-align: center;\n  vertical-align: center;\n  padding-top: 0.25vh;\n  padding-bottom: 0.25vh; }\n\n.upgrade-info-block {\n  position: relative;\n  bottom: 0%;\n  box-sizing: border-box;\n  height: 3vh;\n  padding-top: 0.5vh;\n  padding-bottom: 0.5vh;\n  padding-right: 0.5vw;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  font-size: 2vh; }\n\n.upgrade-info-block-left {\n  display: inline-block; }\n\n.upgrade-info-block-right {\n  display: inline-block; }\n\n.upgrade-filler {\n  font-size: 1.5em; }\n\n.action-box {\n  border-left: 1px solid lightgray;\n  padding-left: 0.4em;\n  padding-right: 0.2em; }\n\n.stat, .stat-small {\n  margin-left: 0.1em;\n  display: block; }\n\n.stat-small {\n  font-size: 0.6em; }\n\n.stat-overlay {\n  position: absolute;\n  right: 0em;\n  top: 0em;\n  background-color: rgba(0, 0, 0, 0.4);\n  height: 100%;\n  width: 30%;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  font-size: 1.7em; }\n"

/***/ }),

/***/ "./src/app/components/upgrade/upgrade.component.ts":
/*!*********************************************************!*\
  !*** ./src/app/components/upgrade/upgrade.component.ts ***!
  \*********************************************************/
/*! exports provided: UpgradeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpgradeComponent", function() { return UpgradeComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _services_layout_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/layout.service */ "./src/app/services/layout.service.ts");
/* harmony import */ var _modals_upgrade_modal_upgrade_modal_page__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../modals/upgrade-modal/upgrade-modal.page */ "./src/app/modals/upgrade-modal/upgrade-modal.page.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







var UpgradeComponent = /** @class */ (function () {
    function UpgradeComponent(dataService, modalController, events, layout, state) {
        this.dataService = dataService;
        this.modalController = modalController;
        this.events = events;
        this.layout = layout;
        this.state = state;
        this.img_class = "img-alt";
        this.img_urls = ["", ""];
        this.artwork = true;
        this.sides = [{}];
        this.chargeStat = null;
        this.forceStat = null;
        this.isConfiguration = false;
    }
    UpgradeComponent.prototype.presentUpgradeModal = function () {
        return __awaiter(this, void 0, void 0, function () {
            var stateString, modal, data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        stateString = JSON.stringify(this.upgrade);
                        return [4 /*yield*/, this.modalController.create({
                                component: _modals_upgrade_modal_upgrade_modal_page__WEBPACK_IMPORTED_MODULE_3__["UpgradeModalPage"],
                                componentProps: {
                                    upgrade: this.upgrade,
                                    pilotNum: this.pilotNum,
                                    squadronNum: this.squadronNum
                                }
                            })];
                    case 1:
                        modal = _a.sent();
                        return [4 /*yield*/, modal.present()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, modal.onWillDismiss()];
                    case 3:
                        data = (_a.sent()).data;
                        if (stateString != JSON.stringify(this.upgrade)) {
                            this.state.snapshot();
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    UpgradeComponent.prototype.getIsConfiguration = function () {
        var configurationUpgradeType = this.dataService.data["upgrade-types"].find(function (upgradeType) { return upgradeType.xws == 'configuration'; }).ffg;
        return this.sides[this.upgrade.side].upgrade_types.includes(configurationUpgradeType);
    };
    UpgradeComponent.prototype.ngOnInit = function () {
        var _this = this;
        //this.upgrade = this.state.getUpgradeState(this.squadronNum, this.pilotNum, this.ffg);
        this.ffg = this.upgrade.sides[this.upgrade.side].ffg;
        var _loop_1 = function (i) {
            this_1.sides[i] = this_1.dataService.getCardByFFG(this_1.upgrade.sides[i].ffg);
            this_1.dataService.get_image_by_url(this_1.sides[i].image).then(function (url) {
                _this.img_urls[i] = url;
            });
        };
        var this_1 = this;
        for (var i = 0; i < this.upgrade.sides.length; i++) {
            _loop_1(i);
        }
    };
    UpgradeComponent.prototype.getChargeStat = function () {
        if ("charges" in this.upgrade) {
            return this.dataService.getCardStatObject(this.upgrade.sides[0].ffg, "charge", this.upgrade.charges);
        }
        return null;
    };
    UpgradeComponent.prototype.getForceStat = function () {
        return this.dataService.getCardStatObject(this.upgrade.sides[0].ffg, "force", this.upgrade.charges);
    };
    UpgradeComponent.prototype.showOverlay = function () {
        if ("charges" in this.upgrade) {
            this.chargeStat = this.dataService.getCardStatObject(this.upgrade.sides[0].ffg, "charge", this.upgrade.charges);
        }
        this.forceStat = this.dataService.getCardStatObject(this.upgrade.sides[this.upgrade.side].ffg, "force", -1);
        this.isConfiguration = this.getIsConfiguration();
        return this.getChargeStat() ||
            this.getForceStat() ||
            this.isConfiguration ||
            this.sides[this.upgrade.side].metadata.grants;
    };
    UpgradeComponent.prototype.statClass = function (grant) {
        if (grant.type == 'action' && grant.value.linked) {
            return "stat-small";
        }
        if (grant.type == 'stat') {
            return "stat-small";
        }
        return "stat";
    };
    UpgradeComponent.prototype.showUpgrade = function () {
        this.presentUpgradeModal();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], UpgradeComponent.prototype, "squadronNum", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], UpgradeComponent.prototype, "pilotNum", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], UpgradeComponent.prototype, "upgrade", void 0);
    UpgradeComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-upgrade',
            template: __webpack_require__(/*! ./upgrade.component.html */ "./src/app/components/upgrade/upgrade.component.html"),
            styles: [__webpack_require__(/*! ./upgrade.component.scss */ "./src/app/components/upgrade/upgrade.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__["XwingDataService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Events"],
            _services_layout_service__WEBPACK_IMPORTED_MODULE_2__["LayoutService"],
            _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_5__["XwingStateService"]])
    ], UpgradeComponent);
    return UpgradeComponent;
}());



/***/ }),

/***/ "./src/app/components/xwing-icon/xwing-icon.component.html":
/*!*****************************************************************!*\
  !*** ./src/app/components/xwing-icon/xwing-icon.component.html ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<i [class]=\"icon_class\"></i>"

/***/ }),

/***/ "./src/app/components/xwing-icon/xwing-icon.component.scss":
/*!*****************************************************************!*\
  !*** ./src/app/components/xwing-icon/xwing-icon.component.scss ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/xwing-icon/xwing-icon.component.ts":
/*!***************************************************************!*\
  !*** ./src/app/components/xwing-icon/xwing-icon.component.ts ***!
  \***************************************************************/
/*! exports provided: XwingIconComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XwingIconComponent", function() { return XwingIconComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var XwingIconComponent = /** @class */ (function () {
    function XwingIconComponent() {
        this.name = "";
        this.icon_class = "";
    }
    XwingIconComponent_1 = XwingIconComponent;
    XwingIconComponent.mangle = function (text) {
        Object.entries(XwingIconComponent_1.name_map).forEach(function (_a) {
            var key = _a[0], value = _a[1];
            text = text.replace(key, value);
        });
        // Strip spaces
        text = text.replace(/\s+/g, '');
        text = text.toLowerCase();
        return text;
    };
    XwingIconComponent.getClass = function (name) {
        return XwingIconComponent_1.icon_class_template.replace('TEMPLATE', XwingIconComponent_1.mangle(name));
    };
    XwingIconComponent.prototype.ngOnInit = function () {
        this.icon_class = XwingIconComponent_1.getClass(this.name);
    };
    var XwingIconComponent_1;
    XwingIconComponent.name_map = {
        "charges": "charge",
        "Base All": "base-all",
        "Base Small": "base-small",
        "Base Medium": "base-medium",
        "Base Large": "base-large",
        "Critical Hit": "crit",
        "Condition Outline": "condition-outline",
        "Dalan Bank Left": "dalan-bankleft",
        "Dalan Bank Right": "dalan-bankright",
        "Helmet Imperial": "helmet-imperial",
        "Helmet Rebel": "helmet-rebel",
        "Helmet Scum": "helmet-scum",
        "Koiogran Turn": "kturn",
        "IG88D Sloop Left": "ig88d-sloopleft",
        "IG88D Sloop Right": "ig88d-sloopright",
        "Rebel Outline": "rebel-outline",
        "Talon Roll Left": "trollleft",
        "Talon Roll Right": "trollright",
        "Unique Outline": "unique-outline",
        "rebelalliance": "rebel",
        "galacticempire": "empire",
        "scumandvillainy": "scum",
        "configuration": "config",
        "force-power": "forcepower",
        "galacticrepublic": "republic",
        "separatistalliance": "separatists",
        "resistance": "rebel-outline"
    };
    XwingIconComponent.icon_class_template = "xwing-miniatures-font xwing-miniatures-font-TEMPLATE";
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], XwingIconComponent.prototype, "name", void 0);
    XwingIconComponent = XwingIconComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xwing-icon',
            template: __webpack_require__(/*! ./xwing-icon.component.html */ "./src/app/components/xwing-icon/xwing-icon.component.html"),
            styles: [__webpack_require__(/*! ./xwing-icon.component.scss */ "./src/app/components/xwing-icon/xwing-icon.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], XwingIconComponent);
    return XwingIconComponent;
}());



/***/ }),

/***/ "./src/app/components/xwing-ship/xwing-ship.component.html":
/*!*****************************************************************!*\
  !*** ./src/app/components/xwing-ship/xwing-ship.component.html ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<i [class]=\"icon_class\"></i>"

/***/ }),

/***/ "./src/app/components/xwing-ship/xwing-ship.component.scss":
/*!*****************************************************************!*\
  !*** ./src/app/components/xwing-ship/xwing-ship.component.scss ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/xwing-ship/xwing-ship.component.ts":
/*!***************************************************************!*\
  !*** ./src/app/components/xwing-ship/xwing-ship.component.ts ***!
  \***************************************************************/
/*! exports provided: XwingShipComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XwingShipComponent", function() { return XwingShipComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var XwingShipComponent = /** @class */ (function () {
    function XwingShipComponent() {
        this.name = "";
        this.icon_class = "";
    }
    XwingShipComponent_1 = XwingShipComponent;
    XwingShipComponent.getClass = function (name) {
        if (XwingShipComponent_1.name_map[name]) {
            name = XwingShipComponent_1.name_map[name];
        }
        return XwingShipComponent_1.icon_class_template.replace('TEMPLATE', name);
    };
    XwingShipComponent.prototype.ngOnInit = function () {
        this.icon_class = XwingShipComponent_1.getClass(this.name);
    };
    var XwingShipComponent_1;
    XwingShipComponent.icon_class_template = "xwing-miniatures-ship xwing-miniatures-ship-TEMPLATE";
    XwingShipComponent.name_map = {
        "tievnsilencer": "tiesilencer",
        "upsilonclasscommandshuttle": "upsilonclassshuttle",
        "mg100starfortress": "mg100starfortresssf17"
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], XwingShipComponent.prototype, "name", void 0);
    XwingShipComponent = XwingShipComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xwing-ship',
            template: __webpack_require__(/*! ./xwing-ship.component.html */ "./src/app/components/xwing-ship/xwing-ship.component.html"),
            styles: [__webpack_require__(/*! ./xwing-ship.component.scss */ "./src/app/components/xwing-ship/xwing-ship.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], XwingShipComponent);
    return XwingShipComponent;
}());



/***/ }),

/***/ "./src/app/components/xwing-text/xwing-text.component.html":
/*!*****************************************************************!*\
  !*** ./src/app/components/xwing-text/xwing-text.component.html ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<span [innerHtml]=\"output\"></span>\n"

/***/ }),

/***/ "./src/app/components/xwing-text/xwing-text.component.scss":
/*!*****************************************************************!*\
  !*** ./src/app/components/xwing-text/xwing-text.component.scss ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/xwing-text/xwing-text.component.ts":
/*!***************************************************************!*\
  !*** ./src/app/components/xwing-text/xwing-text.component.ts ***!
  \***************************************************************/
/*! exports provided: XwingTextComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XwingTextComponent", function() { return XwingTextComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _xwing_icon_xwing_icon_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../xwing-icon/xwing-icon.component */ "./src/app/components/xwing-icon/xwing-icon.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var XwingTextComponent = /** @class */ (function () {
    function XwingTextComponent() {
        this.text = "Test text";
        this.icon_html = "<i class='CLASS'></i>";
        this.output = "";
    }
    XwingTextComponent.prototype.mangle = function (text) {
        var _this = this;
        text = this.stripNumberBrackets(text);
        // Match [Icon]
        var bracketMatches = text.match(/\[[a-zA-Z\s]*\]/g);
        if (bracketMatches) {
            bracketMatches.forEach(function (match) {
                var icon = _this.icon_html.replace('CLASS', _xwing_icon_xwing_icon_component__WEBPACK_IMPORTED_MODULE_1__["XwingIconComponent"].getClass(_this.stripBrackets(match)));
                text = text.replace(match, icon);
            });
        }
        text = text.replace("Action:", "<br /><br /><b>Action:</b>");
        return text;
    };
    XwingTextComponent.prototype.stripNumberBrackets = function (text) {
        var _this = this;
        var numberMatches = text.match(/\[[0-9] \[[a-zA-Z\s]*\]\]/g);
        if (numberMatches) {
            numberMatches.forEach(function (match) {
                text = text.replace(match, _this.stripBrackets(match));
            });
        }
        return text;
    };
    XwingTextComponent.prototype.stripBrackets = function (text) {
        return text.substring(1, text.length - 1);
    };
    XwingTextComponent.prototype.ngOnInit = function () {
        this.output = this.mangle(this.text);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], XwingTextComponent.prototype, "text", void 0);
    XwingTextComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xwing-text',
            template: __webpack_require__(/*! ./xwing-text.component.html */ "./src/app/components/xwing-text/xwing-text.component.html"),
            styles: [__webpack_require__(/*! ./xwing-text.component.scss */ "./src/app/components/xwing-text/xwing-text.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], XwingTextComponent);
    return XwingTextComponent;
}());



/***/ }),

/***/ "./src/app/components/xwing.module.ts":
/*!********************************************!*\
  !*** ./src/app/components/xwing.module.ts ***!
  \********************************************/
/*! exports provided: XwingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XwingModule", function() { return XwingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _xwing_icon_xwing_icon_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./xwing-icon/xwing-icon.component */ "./src/app/components/xwing-icon/xwing-icon.component.ts");
/* harmony import */ var _xwing_ship_xwing_ship_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./xwing-ship/xwing-ship.component */ "./src/app/components/xwing-ship/xwing-ship.component.ts");
/* harmony import */ var _xwing_text_xwing_text_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./xwing-text/xwing-text.component */ "./src/app/components/xwing-text/xwing-text.component.ts");
/* harmony import */ var _pilot_pilot_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pilot/pilot.component */ "./src/app/components/pilot/pilot.component.ts");
/* harmony import */ var _upgrade_upgrade_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./upgrade/upgrade.component */ "./src/app/components/upgrade/upgrade.component.ts");
/* harmony import */ var _action_action_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./action/action.component */ "./src/app/components/action/action.component.ts");
/* harmony import */ var _token_display_token_display_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./token-display/token-display.component */ "./src/app/components/token-display/token-display.component.ts");
/* harmony import */ var _damage_card_damage_card_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./damage-card/damage-card.component */ "./src/app/components/damage-card/damage-card.component.ts");
/* harmony import */ var _condition_condition_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./condition/condition.component */ "./src/app/components/condition/condition.component.ts");
/* harmony import */ var _stat_stat_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./stat/stat.component */ "./src/app/components/stat/stat.component.ts");
/* harmony import */ var _bonus_stats_bonus_stats_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./bonus-stats/bonus-stats.component */ "./src/app/components/bonus-stats/bonus-stats.component.ts");
/* harmony import */ var _phone_upgrade_phone_upgrade_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./phone-upgrade/phone-upgrade.component */ "./src/app/components/phone-upgrade/phone-upgrade.component.ts");
/* harmony import */ var _squadron_squadron_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./squadron/squadron.component */ "./src/app/components/squadron/squadron.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
















var XwingModule = /** @class */ (function () {
    function XwingModule() {
    }
    XwingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            entryComponents: [],
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonicModule"]
            ],
            declarations: [
                _xwing_icon_xwing_icon_component__WEBPACK_IMPORTED_MODULE_3__["XwingIconComponent"],
                _xwing_ship_xwing_ship_component__WEBPACK_IMPORTED_MODULE_4__["XwingShipComponent"],
                _xwing_text_xwing_text_component__WEBPACK_IMPORTED_MODULE_5__["XwingTextComponent"],
                _pilot_pilot_component__WEBPACK_IMPORTED_MODULE_6__["PilotComponent"],
                _upgrade_upgrade_component__WEBPACK_IMPORTED_MODULE_7__["UpgradeComponent"],
                _action_action_component__WEBPACK_IMPORTED_MODULE_8__["ActionComponent"],
                _token_display_token_display_component__WEBPACK_IMPORTED_MODULE_9__["TokenDisplayComponent"],
                _damage_card_damage_card_component__WEBPACK_IMPORTED_MODULE_10__["DamageCardComponent"],
                _condition_condition_component__WEBPACK_IMPORTED_MODULE_11__["ConditionComponent"],
                _stat_stat_component__WEBPACK_IMPORTED_MODULE_12__["StatComponent"],
                _bonus_stats_bonus_stats_component__WEBPACK_IMPORTED_MODULE_13__["BonusStatsComponent"],
                _phone_upgrade_phone_upgrade_component__WEBPACK_IMPORTED_MODULE_14__["PhoneUpgradeComponent"],
                _squadron_squadron_component__WEBPACK_IMPORTED_MODULE_15__["SquadronComponent"]
            ],
            exports: [
                _xwing_icon_xwing_icon_component__WEBPACK_IMPORTED_MODULE_3__["XwingIconComponent"],
                _xwing_ship_xwing_ship_component__WEBPACK_IMPORTED_MODULE_4__["XwingShipComponent"],
                _xwing_text_xwing_text_component__WEBPACK_IMPORTED_MODULE_5__["XwingTextComponent"],
                _pilot_pilot_component__WEBPACK_IMPORTED_MODULE_6__["PilotComponent"],
                _upgrade_upgrade_component__WEBPACK_IMPORTED_MODULE_7__["UpgradeComponent"],
                _action_action_component__WEBPACK_IMPORTED_MODULE_8__["ActionComponent"],
                _token_display_token_display_component__WEBPACK_IMPORTED_MODULE_9__["TokenDisplayComponent"],
                _damage_card_damage_card_component__WEBPACK_IMPORTED_MODULE_10__["DamageCardComponent"],
                _condition_condition_component__WEBPACK_IMPORTED_MODULE_11__["ConditionComponent"],
                _stat_stat_component__WEBPACK_IMPORTED_MODULE_12__["StatComponent"],
                _bonus_stats_bonus_stats_component__WEBPACK_IMPORTED_MODULE_13__["BonusStatsComponent"],
                _phone_upgrade_phone_upgrade_component__WEBPACK_IMPORTED_MODULE_14__["PhoneUpgradeComponent"],
                _squadron_squadron_component__WEBPACK_IMPORTED_MODULE_15__["SquadronComponent"]
            ]
        })
    ], XwingModule);
    return XwingModule;
}());



/***/ }),

/***/ "./src/app/modal-guard.ts":
/*!********************************!*\
  !*** ./src/app/modal-guard.ts ***!
  \********************************/
/*! exports provided: ModalGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalGuard", function() { return ModalGuard; });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ModalGuard = /** @class */ (function () {
    function ModalGuard(state, router) {
        this.state = state;
        this.router = router;
    }
    ModalGuard.prototype.canActivate = function (next, state) {
        if (this.state.initialized) {
            return true;
        }
        // navigate to main page
        this.router.navigate(['/']);
        return false;
    };
    ModalGuard = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_services_xwing_state_service__WEBPACK_IMPORTED_MODULE_1__["XwingStateService"], _angular_router__WEBPACK_IMPORTED_MODULE_0__["Router"]])
    ], ModalGuard);
    return ModalGuard;
}());



/***/ }),

/***/ "./src/app/modals/modal.module.ts":
/*!****************************************!*\
  !*** ./src/app/modals/modal.module.ts ***!
  \****************************************/
/*! exports provided: ModalModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalModule", function() { return ModalModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _xws_modal_xws_modal_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./xws-modal/xws-modal.module */ "./src/app/modals/xws-modal/xws-modal.module.ts");
/* harmony import */ var _upgrade_modal_upgrade_modal_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./upgrade-modal/upgrade-modal.module */ "./src/app/modals/upgrade-modal/upgrade-modal.module.ts");
/* harmony import */ var _pilot_modal_pilot_modal_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pilot-modal/pilot-modal.module */ "./src/app/modals/pilot-modal/pilot-modal.module.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var ModalModule = /** @class */ (function () {
    function ModalModule() {
    }
    ModalModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicModule"],
                _xws_modal_xws_modal_module__WEBPACK_IMPORTED_MODULE_4__["XwsModalPageModule"],
                _upgrade_modal_upgrade_modal_module__WEBPACK_IMPORTED_MODULE_5__["UpgradeModalPageModule"],
                _pilot_modal_pilot_modal_module__WEBPACK_IMPORTED_MODULE_6__["PilotModalPageModule"],
            ],
        })
    ], ModalModule);
    return ModalModule;
}());



/***/ }),

/***/ "./src/app/modals/pilot-modal/pilot-modal.module.ts":
/*!**********************************************************!*\
  !*** ./src/app/modals/pilot-modal/pilot-modal.module.ts ***!
  \**********************************************************/
/*! exports provided: PilotModalPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PilotModalPageModule", function() { return PilotModalPageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _pilot_modal_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pilot-modal.page */ "./src/app/modals/pilot-modal/pilot-modal.page.ts");
/* harmony import */ var _components_xwing_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/xwing.module */ "./src/app/components/xwing.module.ts");
/* harmony import */ var _fortawesome_angular_fontawesome__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @fortawesome/angular-fontawesome */ "./node_modules/@fortawesome/angular-fontawesome/fesm5/angular-fontawesome.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








var routes = [
    {
        path: '',
        component: _pilot_modal_page__WEBPACK_IMPORTED_MODULE_5__["PilotModalPage"]
    }
];
var PilotModalPageModule = /** @class */ (function () {
    function PilotModalPageModule() {
    }
    PilotModalPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes),
                _components_xwing_module__WEBPACK_IMPORTED_MODULE_6__["XwingModule"],
                _fortawesome_angular_fontawesome__WEBPACK_IMPORTED_MODULE_7__["FontAwesomeModule"]
            ],
            declarations: [
                _pilot_modal_page__WEBPACK_IMPORTED_MODULE_5__["PilotModalPage"]
            ],
            entryComponents: [
                _pilot_modal_page__WEBPACK_IMPORTED_MODULE_5__["PilotModalPage"]
            ]
        })
    ], PilotModalPageModule);
    return PilotModalPageModule;
}());



/***/ }),

/***/ "./src/app/modals/pilot-modal/pilot-modal.page.html":
/*!**********************************************************!*\
  !*** ./src/app/modals/pilot-modal/pilot-modal.page.html ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"dismiss()\"><ion-icon name=\"arrow-back\"></ion-icon></ion-button>\n    </ion-buttons>\n    <ion-title>{{ data.name }}&nbsp;\n      <span *ngIf=\"pilot.idNumber\">\n        <xwing-icon [name]=\"'token-lock'\"></xwing-icon>\n        &nbsp;{{ pilot.idNumber }}\n      </span>\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n<ion-content padding>\n  <div *ngIf=\"!layout.getClass().includes('phone') || layout.getClass() == '-phone-landscape'\" class=\"pilot-modal\">\n    <div [class]=\"'left-column ' + leftExpandClass()\">\n      <div \n        *ngIf=\"showCard()\" \n        [class]=\"'item-box pilot-art-container' + layout.getClass() + ' ' + cardExpandClass()\"\n        (click)=\"toggleCard()\">\n        <img *ngIf=\"img_url\" [src]=\"img_url\" class=\"pilot-art\"/>\n      </div>\n      <div \n        *ngIf=\"showDial()\" \n        [class]=\"'item-box maneuver-chart ' + dialExpandClass()\"\n        (click)=\"toggleDial()\">\n        <table>\n          <tr *ngFor=\"let row of maneuverChart\">\n            <th class=\"white\">{{ row.speed }}</th>\n            <td *ngFor=\"let maneuver of row.maneuvers\">\n              <span *ngIf=\"!maneuver\" class=\"white\">\n                &nbsp;\n              </span>\n              <span *ngIf=\"maneuver\" [class]=\"maneuver.difficulty\">\n                <xwing-icon [name]=\"maneuver.name\"></xwing-icon>\n              </span>\n            </td>\n          </tr>\n        </table>\n      </div>\n    </div>\n    <div *ngIf=\"showRightColumn()\" class=\"right-column\">\n      <div [class]=\"'token-box' + layout.getClass()\">\n        <xws-token-display \n          *ngIf=\"shieldTotal > 0\" \n          [name]=\"'shield'\" \n          [maximum]=\"shieldTotal\"\n          [remaining]=\"pilot.shields\"\n          (change)=\"changeShields($event)\"\n          class=\"token-set\"></xws-token-display>\n        <xws-token-display \n          *ngIf=\"chargeTotal > 0\" \n          [name]=\"'charge'\" \n          [maximum]=\"chargeTotal\"\n          [remaining]=\"pilot.charges\"\n          (change)=\"changeCharges($event)\"\n          class=\"token-set\"></xws-token-display>\n        <xws-token-display \n          *ngIf=\"forceTotal > 0\" \n          [name]=\"'force'\"\n          [maximum]=\"forceTotal\" \n          [remaining]=\"pilot.force\"\n          (change)=\"changeForce($event)\"\n          class=\"token-set\"></xws-token-display>\n      </div> \n      <div [class]=\"'damage-cards' + layout.getClass()\">\n        <xws-condition *ngFor=\"let condition of pilot.conditions\" [pilot]=\"pilot\" [condition]=\"condition\"></xws-condition>\n        <xws-damage-card \n          *ngFor=\"let card of pilot.damagecards\" \n          [card]=\"card\" \n          [squadronNum]=\"squadronNum\"></xws-damage-card> \n      </div>\n    </div>\n  </div>\n  <div *ngIf=\"layout.getClass() == '-phone-portrait'\" class=\"pilot-modal\">\n    <div>\n      <div [class]=\"'token-box' + layout.getClass()\">\n        <xws-token-display \n          *ngIf=\"shieldTotal > 0\" \n          [name]=\"'shield'\" \n          [maximum]=\"shieldTotal\"\n          [remaining]=\"pilot.shields\"\n          (change)=\"changeShields($event)\"\n          class=\"token-set\"></xws-token-display>\n        <xws-token-display \n          *ngIf=\"chargeTotal > 0\" \n          [name]=\"'charge'\" \n          [maximum]=\"chargeTotal\"\n          [remaining]=\"pilot.charges\"\n          (change)=\"changeCharges($event)\"\n          class=\"token-set\"></xws-token-display>\n        <xws-token-display \n          *ngIf=\"forceTotal > 0\" \n          [name]=\"'force'\"\n          [maximum]=\"forceTotal\" \n          [remaining]=\"pilot.force\"\n          (change)=\"changeForce($event)\"\n          class=\"token-set\"></xws-token-display>\n      </div> \n      <div [class]=\"'damage-cards' + layout.getClass()\">\n        <xws-condition *ngFor=\"let condition of pilot.conditions\" [pilot]=\"pilot\" [condition]=\"condition\"></xws-condition>\n        <xws-damage-card \n          *ngFor=\"let card of pilot.damagecards\" \n          [card]=\"card\" \n          [squadronNum]=\"squadronNum\"></xws-damage-card> \n      </div>\n    </div>\n    <div \n      *ngIf=\"showCard()\" \n      [class]=\"'pilot-art-container' + layout.getClass()\">\n      <img *ngIf=\"img_url\" [src]=\"img_url\" class=\"pilot-art\"/>\n    </div> \n    <div \n      *ngIf=\"showDial()\" \n      class=\"maneuver-chart-phone\">\n      <table>\n        <tr *ngFor=\"let row of maneuverChart\">\n          <th class=\"white\">{{ row.speed }}</th>\n          <td *ngFor=\"let maneuver of row.maneuvers\">\n            <span *ngIf=\"!maneuver\" class=\"white\">\n              &nbsp;\n            </span>\n            <span *ngIf=\"maneuver\" [class]=\"maneuver.difficulty\">\n              <xwing-icon [name]=\"maneuver.name\"></xwing-icon>\n            </span>\n          </td>\n        </tr>\n      </table>\n    </div>\n  </div>\n</ion-content>\n<ion-footer *ngIf=\"showFooter()\">\n  <ion-toolbar>\n    <div class=\"card-expander-more\" (click)=\"expandToggle()\"><fa-icon [icon]=\"faBars\"></fa-icon></div>\n    <ion-button expand=\"full\" (click)=\"drawHit()\">Draw<xwing-icon [name]=\"'hit'\"></xwing-icon></ion-button>\n    <ion-button expand=\"full\" (click)=\"drawCrit()\">Draw<xwing-icon [name]=\"'crit'\"></xwing-icon></ion-button>\n    <div *ngIf=\"this.expanded\">\n      <ion-button expand=\"full\" (click)=\"assignIdNumber()\">Assign Ship ID</ion-button>\n      <ion-button expand=\"full\" (click)=\"showConditionMenu()\">Assign Condition</ion-button>\n      <ion-button expand=\"full\" (click)=\"assignCrit()\">Assign <xwing-icon [name]=\"'crit'\"></xwing-icon></ion-button>\n      <ion-button [disabled]=\"!hitCardAvailable()\" expand=\"full\" (click)=\"exposeRandomHit()\">\n        Expose Random <xwing-icon [name]=\"'hit'\"></xwing-icon>\n      </ion-button>\n      <ion-button [disabled]=\"!hitCardAvailable()\" expand=\"full\" (click)=\"thaneKyrell()\">\n        Thane Kyrell&nbsp;<xwing-ship [name]=\"'t65xwing'\" class=\"ship-icon\"></xwing-ship>\n      </ion-button>\n      <ion-button expand=\"full\" (click)=\"maarekStele()\">\n          Maarek Stele&nbsp;<xwing-ship [name]=\"'tieadvancedx1'\" class=\"ship-icon\"></xwing-ship>\n        </ion-button>\n      <ion-button expand=\"full\" (click)=\"fleeShip()\">Remove Ship (Flee)</ion-button>\n      <ion-button expand=\"full\" (click)=\"recycleDamageCards()\" [disabled]=\"!recycleAvailable()\">Recycle Damage Cards</ion-button>\n    </div>\n  </ion-toolbar>\n</ion-footer>"

/***/ }),

/***/ "./src/app/modals/pilot-modal/pilot-modal.page.scss":
/*!**********************************************************!*\
  !*** ./src/app/modals/pilot-modal/pilot-modal.page.scss ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-content, .pilot-modal {\n  background-color: #212020;\n  min-height: 100%;\n  padding: 1vw 1vw 1vw 1vw;\n  overflow-y: scroll; }\n\n.item-box {\n  background-image: linear-gradient(to right, #440000, black, black, #440000);\n  transition: border-top 0.5s ease, border-bottom 0.2s ease;\n  border-top: 0.1em solid #880000;\n  border-bottom: 0.1em solid #880000;\n  margin-bottom: 0.25em;\n  margin-left: 0.15em;\n  padding-top: 0.15em;\n  padding-bottom: 0.15em;\n  position: relative;\n  cursor: pointer; }\n\n.item-box:hover {\n  border-top: 0.1em solid #FF0000;\n  border-bottom: 0.1em solid #FF0000; }\n\n.pilot-modal {\n  overflow-y: scroll;\n  height: 100%; }\n\n.left-column {\n  height: 100%;\n  width: 40%;\n  display: inline-block;\n  vertical-align: top; }\n\n.left-column.expand {\n  width: 100%;\n  vertical-align: top; }\n\n.right-column {\n  width: 60%;\n  height: 100%;\n  padding-left: 1em;\n  display: inline-block; }\n\n.left-column div {\n  position: relative; }\n\n.left-column div.expand {\n  width: 100%;\n  height: 100%;\n  font-size: 3em; }\n\n.hidden {\n  visibility: hidden; }\n\n.expand.maneuver-chart, .expand.maneuver-chart-phone {\n  position: absolute;\n  left: 0em;\n  bottom: 0em; }\n\n.pilot-art {\n  display: inline-block; }\n\n.pilot-art-container, .pilot-art-container-tablet, .pilot-art-container-tablet-portrait, .pilot-art-container-phone-portrait, .pilot-art-container-phone-landscape {\n  display: block;\n  width: 100%; }\n\n.pilot-art-container img, .pilot-art-container-tablet img, .pilot-art-container-tablet-portrait img, .pilot-art-container-phone-portrait img, .pilot-art-container-phone-landscape img {\n    width: 100%; }\n\n.pilot-art-container-phone-portrait {\n  display: block;\n  width: 100%; }\n\n.token-box, .token-box-tablet, .token-box-tablet-portrait, .token-box-phone-portrait, .token-box-phone-landscape {\n  font-size: 1em; }\n\n.token-box-phone-portrait {\n  width: 100%;\n  font-size: 2.5vh; }\n\n.token-box-phone-landscape {\n  font-size: 2.5vw; }\n\n.token-set {\n  font-size: 4em;\n  overflow: wrap;\n  line-height: 1em;\n  vertical-align: top; }\n\n.tab-icon {\n  font-size: 2vh; }\n\n.damage-cards, .damage-cards-tablet, .damage-cards-tablet-portrait, .damage-cards-phone-landscape {\n  width: 100%; }\n\n.damage-cards-phone-portrait {\n  width: 100%; }\n\n.damage-buttons, .damage-buttons-tablet, .damage-buttons-tablet-portrait, .damage-buttons-phone-landscape {\n  display: inherit; }\n\n.damage-buttons-phone-portrait {\n  display: none; }\n\n.card-text {\n  font-size: 2vh;\n  color: white; }\n\n.card-expander {\n  margin-left: -1vw;\n  position: absolute;\n  width: 100%;\n  bottom: 0px; }\n\n.card-expander-more {\n  width: 100%;\n  text-align: center;\n  color: gray;\n  font-size: 0.3em; }\n\n.dial-name {\n  color: white;\n  margin-bottom: 1em;\n  text-align: center; }\n\n.maneuver-chart, .maneuver-chart-phone {\n  width: 100%;\n  text-align: center;\n  height: 6.5em;\n  background-color: #212020; }\n\n.maneuver-chart table, .maneuver-chart-phone table {\n    width: 100%; }\n\n.maneuver-chart th, .maneuver-chart-phone th {\n    width: 12%; }\n\n.maneuver-chart td, .maneuver-chart-phone td {\n    width: 12%; }\n\n.maneuver-chart-phone {\n  font-size: 2em; }\n\n.maneuver-icon, .white, .blue, .red {\n  display: inline-block;\n  text-align: center; }\n\n.white {\n  color: white; }\n\n.blue {\n  color: #7777FF; }\n\n.red {\n  color: red; }\n\n.ship-icon {\n  font-size: 4vh; }\n\n.pilot-modal::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 0.2vh #282828;\n  border-radius: 0.2vh;\n  background-color: #282828; }\n\n.pilot-modal::-webkit-scrollbar {\n  width: 0.5vh;\n  background-color: #282828; }\n\n.pilot-modal::-webkit-scrollbar-thumb {\n  border-radius: 0.2vh;\n  -webkit-box-shadow: inset 0 0 0.2vh rgba(0, 0, 0, 0.3);\n  background-color: #555; }\n"

/***/ }),

/***/ "./src/app/modals/pilot-modal/pilot-modal.page.ts":
/*!********************************************************!*\
  !*** ./src/app/modals/pilot-modal/pilot-modal.page.ts ***!
  \********************************************************/
/*! exports provided: PilotModalPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PilotModalPage", function() { return PilotModalPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
/* harmony import */ var _popovers_condition_menu_condition_menu_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../popovers/condition-menu/condition-menu.component */ "./src/app/popovers/condition-menu/condition-menu.component.ts");
/* harmony import */ var _popovers_damage_popover_damage_popover_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../popovers/damage-popover/damage-popover.component */ "./src/app/popovers/damage-popover/damage-popover.component.ts");
/* harmony import */ var _popovers_damage_card_select_damage_card_select_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../popovers/damage-card-select/damage-card-select.component */ "./src/app/popovers/damage-card-select/damage-card-select.component.ts");
/* harmony import */ var _popovers_assign_id_popover_assign_id_popover_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../popovers/assign-id-popover/assign-id-popover.component */ "./src/app/popovers/assign-id-popover/assign-id-popover.component.ts");
/* harmony import */ var _services_layout_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/layout.service */ "./src/app/services/layout.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @fortawesome/free-solid-svg-icons */ "./node_modules/@fortawesome/free-solid-svg-icons/index.es.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};

















var PilotModalPage = /** @class */ (function () {
    function PilotModalPage(toastController, popoverController, dataService, state, alertController, events, ngZone, modalController, layout, route, router, location) {
        this.toastController = toastController;
        this.popoverController = popoverController;
        this.dataService = dataService;
        this.state = state;
        this.alertController = alertController;
        this.events = events;
        this.ngZone = ngZone;
        this.modalController = modalController;
        this.layout = layout;
        this.route = route;
        this.router = router;
        this.location = location;
        this.img_url = null;
        this.data = null;
        this.faBars = _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_11__["faBars"];
        this.expanded = false;
        this.useAngularRouter = false;
        this.tab = "tokens";
        this.expandCard = false;
        this.expandDial = false;
        this.shieldTotal = 0;
        this.chargeTotal = 0;
        this.forceTotal = 0;
        this.maneuverChart = [];
    }
    PilotModalPage.prototype.ngOnInit = function () {
        var _this = this;
        var squadronNumParam = this.route.snapshot.paramMap.get("squadronNum");
        var pilotNumParam = this.route.snapshot.paramMap.get("pilotNum");
        if (squadronNumParam && pilotNumParam) {
            this.useAngularRouter = true;
            this.squadronNum = parseInt(squadronNumParam);
            this.pilotNum = parseInt(pilotNumParam);
        }
        this.squadron = this.state.squadrons[this.squadronNum];
        this.pilot = this.state.getPilotState(this.squadronNum, this.pilotNum);
        this.data = this.dataService.getCardByFFG(this.pilot.ffg);
        this.shieldTotal = this.dataService.getStatTotal(this.pilot, 'shields');
        this.forceTotal = this.dataService.getStatTotal(this.pilot, 'force');
        var chargeStat = this.dataService.getFFGCardStat(this.pilot.ffg, 'charge');
        if (chargeStat) {
            this.chargeTotal = parseInt(chargeStat.value);
        }
        this.fillManeuverChart(this.data.metadata.dial);
        // Load pilot card
        if (this.data.card_image) {
            this.dataService.get_image_by_url(this.data.card_image).then(function (url) {
                _this.img_url = url;
            }, function (error) {
            });
        }
    };
    PilotModalPage.prototype.toggleDial = function () {
        this.expandDial = !this.expandDial;
    };
    PilotModalPage.prototype.toggleCard = function () {
        this.expandCard = !this.expandCard;
    };
    PilotModalPage.prototype.cardExpandClass = function () {
        if (this.expandCard) {
            return "expand";
        }
        if (this.expandDial) {
            return "hidden";
        }
        return "";
    };
    PilotModalPage.prototype.dialExpandClass = function () {
        if (this.expandDial) {
            return "expand";
        }
        if (this.expandCard) {
            return "hidden";
        }
        return "";
    };
    PilotModalPage.prototype.leftExpandClass = function () {
        return this.expandCard || this.expandDial ? "expand" : "";
    };
    PilotModalPage.prototype.showRightColumn = function () {
        return !this.expandDial && !this.expandCard;
    };
    PilotModalPage.prototype.showCard = function () {
        return !this.expandDial;
    };
    PilotModalPage.prototype.showDial = function () {
        return !this.expandCard;
    };
    PilotModalPage.prototype.showFooter = function () {
        return !this.expandCard && !this.expandDial;
    };
    PilotModalPage.prototype.changeShields = function (remaining) {
        this.pilot.shields = remaining;
    };
    PilotModalPage.prototype.changeCharges = function (remaining) {
        this.pilot.charges = remaining;
    };
    PilotModalPage.prototype.changeForce = function (remaining) {
        this.pilot.force = remaining;
    };
    PilotModalPage.prototype.fillManeuverChart = function (dial) {
        var _this = this;
        // Fill maneuver chart
        // map is for middle letter of maneuver code
        // 2NB would be 2 bank left blue
        var map = {
            "O": { name: "stop", index: 2 },
            "F": { name: "straight", index: 2 },
            "B": { name: "bankleft", index: 1 },
            "N": { name: "bankright", index: 3 },
            "T": { name: "turnleft", index: 0 },
            "Y": { name: "turnright", index: 4 },
            "K": { name: "kturn", index: 5 },
            "S": { name: "reversestraight", index: 2 },
            "E": { name: "trollleft", index: 5 },
            "R": { name: "trollright", index: 6 },
            "L": { name: "sloopleft", index: 5 },
            "P": { name: "sloopright", index: 6 },
            "A": { name: "reversebankleft", index: 1 },
            "D": { name: "reversebankright", index: 3 }
        };
        var maneuvers = new Array(7);
        for (var i = 0; i < 8; i++) {
            var speed = (7 - i) - 2;
            maneuvers[i] = { speed: speed, maneuvers: new Array(7) };
        }
        dial.forEach(function (maneuverCode) {
            var difficulty = "white";
            if (maneuverCode[2] == 'R') {
                difficulty = "red";
            }
            if (maneuverCode[2] == 'B') {
                difficulty = "blue";
            }
            var index = map[maneuverCode[1]].index;
            var name = map[maneuverCode[1]].name;
            var speed = parseInt(maneuverCode[0]);
            var row = maneuvers.find(function (row) { return row.speed == speed; });
            var maneuver = { name: name, difficulty: difficulty };
            row.maneuvers[index] = maneuver;
        });
        maneuvers.forEach(function (row) {
            if (_this.hasManeuvers(row)) {
                _this.maneuverChart.push(row);
            }
        });
        this.maneuverChart.sort(function (a, b) { return b.speed - a.speed; });
    };
    PilotModalPage.prototype.hasManeuvers = function (row) {
        var maneuvers = row.maneuvers;
        for (var _i = 0, maneuvers_1 = maneuvers; _i < maneuvers_1.length; _i++) {
            var cell = maneuvers_1[_i];
            if (cell) {
                return true;
            }
        }
        return false;
    };
    PilotModalPage.prototype.drawHit = function () {
        if (!this.state.drawHit(this.squadronNum, this.pilot)) {
            this.presentDamageDeckEmpty();
        }
    };
    PilotModalPage.prototype.drawCrit = function () {
        if (!this.state.drawCrit(this.squadronNum, this.pilot)) {
            this.presentDamageDeckEmpty();
        }
    };
    PilotModalPage.prototype.presentDamageDeckEmpty = function () {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: 'Your Damage Deck is empty.',
                            duration: 2000,
                            position: 'middle'
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    PilotModalPage.prototype.recycleAvailable = function () {
        return this.dataService.isDestroyed(this.pilot);
    };
    PilotModalPage.prototype.recycleDamageCards = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                this.pilot.damagecards.forEach(function (card) {
                    card.exposed = false;
                    _this.state.discard(_this.squadronNum, card);
                });
                this.pilot.damagecards = [];
                return [2 /*return*/];
            });
        });
    };
    PilotModalPage.prototype.assignIdNumber = function () {
        return __awaiter(this, void 0, void 0, function () {
            var popover;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.create({
                            component: _popovers_assign_id_popover_assign_id_popover_component__WEBPACK_IMPORTED_MODULE_7__["AssignIdPopoverComponent"],
                            componentProps: {
                                id: this.pilot.idNumber,
                            }
                        })];
                    case 1:
                        popover = _a.sent();
                        popover.onDidDismiss().then(function (result) {
                            console.log(result);
                            _this.pilot.idNumber = result.data;
                        });
                        return [4 /*yield*/, popover.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PilotModalPage.prototype.thaneKyrell = function () {
        return __awaiter(this, void 0, void 0, function () {
            var popover;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.create({
                            component: _popovers_damage_card_select_damage_card_select_component__WEBPACK_IMPORTED_MODULE_6__["DamageCardSelectComponent"],
                            componentProps: {
                                title: "Thane Kyrell",
                                cards: this.pilot.damagecards.filter(function (card) { return !card.exposed; }),
                                callback: function (card) {
                                    card.exposed = true;
                                }
                            }
                        })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PilotModalPage.prototype.maarekStele = function () {
        return __awaiter(this, void 0, void 0, function () {
            var cards, i, popover;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        cards = [];
                        for (i = 0; i < 3 && this.squadron.damagedeck.length; i++) {
                            cards.push(this.state.draw(this.squadronNum));
                        }
                        return [4 /*yield*/, this.popoverController.create({
                                component: _popovers_damage_card_select_damage_card_select_component__WEBPACK_IMPORTED_MODULE_6__["DamageCardSelectComponent"],
                                componentProps: {
                                    title: "Maarek Stele",
                                    cards: cards,
                                    callback: function (card) {
                                        card.exposed = true;
                                        _this.pilot.damagecards.push(card);
                                        cards.forEach(function (remaining) {
                                            if (remaining != card) {
                                                _this.state.discard(_this.squadronNum, remaining);
                                            }
                                        });
                                    }
                                }
                            })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PilotModalPage.prototype.assignCrit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var cards, popover;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        cards = [];
                        // Fill cards with unique titles from damage deck
                        this.squadron.damagedeck.forEach(function (draw) {
                            var found = cards.find(function (card) { return draw.title == card.title; });
                            if (!found) {
                                cards.push(draw);
                            }
                        });
                        cards.sort(function (a, b) { return a.title.localeCompare(b.title); });
                        return [4 /*yield*/, this.popoverController.create({
                                component: _popovers_damage_card_select_damage_card_select_component__WEBPACK_IMPORTED_MODULE_6__["DamageCardSelectComponent"],
                                componentProps: {
                                    title: "Assign Crit",
                                    cards: cards,
                                    callback: function (card) {
                                        card.exposed = true;
                                        _this.pilot.damagecards.push(card);
                                        var index = _this.squadron.damagedeck.indexOf(card);
                                        _this.squadron.damagedeck.splice(index, 1);
                                    }
                                }
                            })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PilotModalPage.prototype.showConditionMenu = function () {
        return __awaiter(this, void 0, void 0, function () {
            var popover;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.create({
                            component: _popovers_condition_menu_condition_menu_component__WEBPACK_IMPORTED_MODULE_4__["ConditionMenuComponent"],
                            componentProps: {
                                pilotNum: this.pilotNum,
                                squadronNum: this.squadronNum
                            }
                        })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PilotModalPage.prototype.expandToggle = function () {
        this.expanded = !this.expanded;
    };
    PilotModalPage.prototype.fleeShip = function () {
        /*
        this.pilot.pointsDestroyed = this.pilot.points;
        this.state.squadron.pointsDestroyed = 0;
        this.state.squadron.pilots.forEach(
          (pilot) => {
            this.state.squadron.pointsDestroyed += pilot.pointsDestroyed;
          }
        )
        if (this.state.squadron.pointsDestroyed == this.state.squadron.points) {
          this.state.squadron.pointsDestroyed = 200;
        }
        */
    };
    PilotModalPage.prototype.hitCardAvailable = function () {
        var result = false;
        this.pilot.damagecards.forEach(function (card) {
            if (!card.exposed) {
                result = true;
            }
        });
        return result;
    };
    PilotModalPage.prototype.mutateCard = function (card) {
        var cardCopy = JSON.parse(JSON.stringify(card));
        var index = this.pilot.damagecards.indexOf(card);
        if (index > -1) {
            this.pilot.damagecards.splice(index, 1);
            this.pilot.damagecards.splice(index, 0, cardCopy);
        }
    };
    PilotModalPage.prototype.exposeRandomHit = function () {
        var _this = this;
        this.ngZone.run(function () { return __awaiter(_this, void 0, void 0, function () {
            var hitIndexes, i, index, card, popover;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        hitIndexes = [];
                        for (i = 0; i < this.pilot.damagecards.length; i++) {
                            if (!this.pilot.damagecards[i].exposed) {
                                hitIndexes.push(i);
                            }
                        }
                        index = hitIndexes[Math.floor(Math.random() * Math.floor(hitIndexes.length))];
                        card = this.pilot.damagecards[index];
                        card.exposed = true;
                        this.mutateCard(card);
                        return [4 /*yield*/, this.popoverController.create({
                                component: _popovers_damage_popover_damage_popover_component__WEBPACK_IMPORTED_MODULE_5__["DamagePopoverComponent"],
                                componentProps: {
                                    card: card
                                }
                            })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        }); });
    };
    PilotModalPage.prototype.dismiss = function () {
        if (this.useAngularRouter) {
            this.location.back();
        }
        else {
            this.modalController.dismiss();
        }
    };
    PilotModalPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-pilot-modal',
            template: __webpack_require__(/*! ./pilot-modal.page.html */ "./src/app/modals/pilot-modal/pilot-modal.page.html"),
            styles: [__webpack_require__(/*! ./pilot-modal.page.scss */ "./src/app/modals/pilot-modal/pilot-modal.page.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"],
            _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_2__["XwingDataService"],
            _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_3__["XwingStateService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Events"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"],
            _services_layout_service__WEBPACK_IMPORTED_MODULE_8__["LayoutService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_9__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_9__["Router"],
            _angular_common__WEBPACK_IMPORTED_MODULE_10__["Location"]])
    ], PilotModalPage);
    return PilotModalPage;
}());



/***/ }),

/***/ "./src/app/modals/upgrade-modal/upgrade-modal.module.ts":
/*!**************************************************************!*\
  !*** ./src/app/modals/upgrade-modal/upgrade-modal.module.ts ***!
  \**************************************************************/
/*! exports provided: UpgradeModalPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpgradeModalPageModule", function() { return UpgradeModalPageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _upgrade_modal_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./upgrade-modal.page */ "./src/app/modals/upgrade-modal/upgrade-modal.page.ts");
/* harmony import */ var _components_xwing_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/xwing.module */ "./src/app/components/xwing.module.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var routes = [
    {
        path: '',
        component: _upgrade_modal_page__WEBPACK_IMPORTED_MODULE_5__["UpgradeModalPage"]
    }
];
var UpgradeModalPageModule = /** @class */ (function () {
    function UpgradeModalPageModule() {
    }
    UpgradeModalPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _components_xwing_module__WEBPACK_IMPORTED_MODULE_6__["XwingModule"],
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes),
            ],
            declarations: [
                _upgrade_modal_page__WEBPACK_IMPORTED_MODULE_5__["UpgradeModalPage"]
            ],
            entryComponents: [
                _upgrade_modal_page__WEBPACK_IMPORTED_MODULE_5__["UpgradeModalPage"]
            ]
        })
    ], UpgradeModalPageModule);
    return UpgradeModalPageModule;
}());



/***/ }),

/***/ "./src/app/modals/upgrade-modal/upgrade-modal.page.html":
/*!**************************************************************!*\
  !*** ./src/app/modals/upgrade-modal/upgrade-modal.page.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"dismiss()\"><ion-icon name=\"arrow-back\"></ion-icon></ion-button>\n    </ion-buttons>\n    <ion-buttons *ngIf=\"!layout.isPhone()\" slot=\"primary\">\n      <ion-button color=\"primary\" *ngIf=\"upgrade.sides.length > 1\" (click)=\"flipCard()\">Flip</ion-button>\n    </ion-buttons> \n    <ion-title>{{ sides[upgrade.side].name }}</ion-title>\n  </ion-toolbar>\n</ion-header>\n<ion-content padding>\n  <div class=\"modal-content\">\n    <div *ngIf=\"img_urls[upgrade.side]\">\n      <img [src]=\"img_urls[upgrade.side]\" />\n    </div>\n    <div *ngIf=\"chargeMax > 0\" [class]=\"'token-set' + layout.getClass()\">\n      <xws-token-display [name]=\"'charge'\" [maximum]=\"chargeMax\" [remaining]=\"upgrade.charges\" (change)=\"chargeChange($event)\"></xws-token-display>\n    </div>\n    <div *ngIf=\"layout.isPhone()\">\n      <ion-button expand=\"full\" color=\"primary\" *ngIf=\"upgrade.sides.length > 1\" (click)=\"flipCard()\">Flip</ion-button>\n    </div>\n  </div>\n</ion-content>"

/***/ }),

/***/ "./src/app/modals/upgrade-modal/upgrade-modal.page.scss":
/*!**************************************************************!*\
  !*** ./src/app/modals/upgrade-modal/upgrade-modal.page.scss ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-content {\n  background-color: #212020;\n  min-height: 100%;\n  padding: 1vw 1vw 1vw 1vw;\n  overflow-y: scroll; }\n\n.item-box {\n  background-image: linear-gradient(to right, #440000, black, black, #440000);\n  transition: border-top 0.5s ease, border-bottom 0.2s ease;\n  border-top: 0.1em solid #880000;\n  border-bottom: 0.1em solid #880000;\n  margin-bottom: 0.25em;\n  margin-left: 0.15em;\n  padding-top: 0.15em;\n  padding-bottom: 0.15em;\n  position: relative;\n  cursor: pointer; }\n\n.item-box:hover {\n  border-top: 0.1em solid #FF0000;\n  border-bottom: 0.1em solid #FF0000; }\n\n.token-set, .token-set-tablet, .token-set-tablet-portrait, .token-set-phone-portrait, .token-set-phone-landscape {\n  width: 100%;\n  font-size: 8vh;\n  text-align: center; }\n\n.token-set-phone-landscape {\n  font-size: 10vw; }\n\n.card-text {\n  font-size: 2vh;\n  color: white; }\n"

/***/ }),

/***/ "./src/app/modals/upgrade-modal/upgrade-modal.page.ts":
/*!************************************************************!*\
  !*** ./src/app/modals/upgrade-modal/upgrade-modal.page.ts ***!
  \************************************************************/
/*! exports provided: UpgradeModalPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpgradeModalPage", function() { return UpgradeModalPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_layout_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/layout.service */ "./src/app/services/layout.service.ts");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var UpgradeModalPage = /** @class */ (function () {
    function UpgradeModalPage(dataService, modalController, layout, route, state, router, location) {
        this.dataService = dataService;
        this.modalController = modalController;
        this.layout = layout;
        this.route = route;
        this.state = state;
        this.router = router;
        this.location = location;
        this.upgrade = {};
        this.sides = [];
        this.img_urls = [null, null];
        this.useAngularRouter = false;
        this.chargeMax = 0;
    }
    UpgradeModalPage.prototype.ngOnInit = function () {
        var _this = this;
        var routeSquadronNum = this.route.snapshot.paramMap.get("squadronNum");
        var routePilotNum = this.route.snapshot.paramMap.get("pilotNum");
        var routeFFG = this.route.snapshot.paramMap.get("ffg");
        if (routePilotNum && routeFFG) {
            this.useAngularRouter = true;
            this.squadronNum = parseInt(routeSquadronNum);
            this.pilotNum = parseInt(routePilotNum);
            this.ffg = parseInt(routeFFG);
            this.upgrade = this.state.getUpgradeState(this.squadronNum, this.pilotNum, this.ffg);
        }
        for (var i = 0; i < this.upgrade.sides.length; i++) {
            this.sides[i] = this.dataService.getCardByFFG(this.upgrade.sides[i].ffg);
        }
        var _loop_1 = function (i) {
            this_1.dataService.get_image_by_url(this_1.sides[i].card_image).then(function (url) {
                _this.img_urls[i] = url;
            });
        };
        var this_1 = this;
        for (var i = 0; i < this.sides.length; i++) {
            _loop_1(i);
        }
        var chargeStat = this.sides[0].statistics.find(function (stat) { return stat.xws == "charge"; });
        if (chargeStat) {
            this.chargeMax = parseInt(chargeStat.value);
        }
    };
    UpgradeModalPage.prototype.chargeChange = function (data) {
        this.upgrade.charges = data;
        this.state.setUpgradeState(this.squadronNum, this.pilotNum, this.ffg, this.upgrade);
    };
    UpgradeModalPage.prototype.flipCard = function () {
        if (this.upgrade.side == 0) {
            this.upgrade.side = 1;
        }
        else {
            this.upgrade.side = 0;
        }
        this.state.setUpgradeState(this.squadronNum, this.pilotNum, this.ffg, this.upgrade);
    };
    UpgradeModalPage.prototype.dismiss = function () {
        if (this.useAngularRouter) {
            this.location.back();
        }
        else {
            this.modalController.dismiss();
        }
    };
    UpgradeModalPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-upgrade-modal',
            template: __webpack_require__(/*! ./upgrade-modal.page.html */ "./src/app/modals/upgrade-modal/upgrade-modal.page.html"),
            styles: [__webpack_require__(/*! ./upgrade-modal.page.scss */ "./src/app/modals/upgrade-modal/upgrade-modal.page.scss")]
        }),
        __metadata("design:paramtypes", [_services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__["XwingDataService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"],
            _services_layout_service__WEBPACK_IMPORTED_MODULE_3__["LayoutService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["ActivatedRoute"],
            _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_4__["XwingStateService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"],
            _angular_common__WEBPACK_IMPORTED_MODULE_6__["Location"]])
    ], UpgradeModalPage);
    return UpgradeModalPage;
}());



/***/ }),

/***/ "./src/app/modals/xws-modal/xws-modal.module.ts":
/*!******************************************************!*\
  !*** ./src/app/modals/xws-modal/xws-modal.module.ts ***!
  \******************************************************/
/*! exports provided: XwsModalPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XwsModalPageModule", function() { return XwsModalPageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _components_xwing_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/xwing.module */ "./src/app/components/xwing.module.ts");
/* harmony import */ var _xws_modal_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./xws-modal.page */ "./src/app/modals/xws-modal/xws-modal.page.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var routes = [
    {
        path: '',
        component: _xws_modal_page__WEBPACK_IMPORTED_MODULE_6__["XwsModalPage"]
    }
];
var XwsModalPageModule = /** @class */ (function () {
    function XwsModalPageModule() {
    }
    XwsModalPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes),
                _components_xwing_module__WEBPACK_IMPORTED_MODULE_5__["XwingModule"]
            ],
            declarations: [
                _xws_modal_page__WEBPACK_IMPORTED_MODULE_6__["XwsModalPage"]
            ],
            entryComponents: [
                _xws_modal_page__WEBPACK_IMPORTED_MODULE_6__["XwsModalPage"]
            ]
        })
    ], XwsModalPageModule);
    return XwsModalPageModule;
}());



/***/ }),

/***/ "./src/app/modals/xws-modal/xws-modal.page.html":
/*!******************************************************!*\
  !*** ./src/app/modals/xws-modal/xws-modal.page.html ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-content padding>\n  <div class=\"container\">\n    <h3>Import Squadron</h3>\n      You can import squadron data from:\n      <ul>\n        <li>YASB 2.0 URL<br />\n          <i>https://raithos.github.io/...</i><br /><br /></li>\n        <li>FFG SquadBuilder URLs<br />\n          <i>https://squadbuilder.fantasyflightgames.com/...</i><br /><br /></li>\n        <li>XWS Data<br />\n          <i>\"{{ '{' }}\"faction\" : \"rebelalliance\", \"name\" : \"My Squadron\" ... {{ '}' }}</i></li>\n      </ul>\n    <ion-label position=\"stacked\">Paste XWS squadron data or URL here</ion-label>\n    <ion-textarea (ionChange)=\"textChange($event)\"\n      placeholder='https://squadbuilder.fantasyflightgames.com ---\n      https:/raithos.github.io ---\n      {\"faction\":\"rebelalliance\",\"name\":\"My Squadron\"}'>\n    </ion-textarea>\n    <div class=\"button-container\">\n      <ion-button color=\"light\" (click)=\"cancel()\">Cancel</ion-button>\n      <ion-button (click)=\"ok()\" [disabled]=\"!dataValid\">OK</ion-button>\n    </div>\n  </div>\n</ion-content>\n"

/***/ }),

/***/ "./src/app/modals/xws-modal/xws-modal.page.scss":
/*!******************************************************!*\
  !*** ./src/app/modals/xws-modal/xws-modal.page.scss ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".container {\n  display: flex;\n  flex-direction: column;\n  height: 100%; }\n\n.button-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end; }\n"

/***/ }),

/***/ "./src/app/modals/xws-modal/xws-modal.page.ts":
/*!****************************************************!*\
  !*** ./src/app/modals/xws-modal/xws-modal.page.ts ***!
  \****************************************************/
/*! exports provided: XwsModalPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XwsModalPage", function() { return XwsModalPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var XwsModalPage = /** @class */ (function () {
    function XwsModalPage(modal) {
        this.modal = modal;
        this.xwsData = null;
        this.dataValid = false;
    }
    XwsModalPage.prototype.ngOnInit = function () {
    };
    XwsModalPage.prototype.processXws = function (value) {
        try {
            this.xwsData = { xws: JSON.parse(value) };
            return true;
        }
        catch (error) {
            return false;
        }
    };
    XwsModalPage.prototype.processFFGSquadBuilder = function (value) {
        if (!value || value.length == 0) {
            return false;
        }
        var isSquadBuilder = value.includes("https://squadbuilder.fantasyflightgames.com");
        var matchArray = value.match(/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/);
        var uuid = null;
        if (matchArray && matchArray.length) {
            uuid = matchArray[0];
        }
        if (isSquadBuilder && uuid) {
            this.xwsData = { ffg: uuid };
        }
        return isSquadBuilder;
    };
    XwsModalPage.prototype.processYasb = function (value) {
        var _this = this;
        var pilotRegex = /(\d+:(\-?\d*\,?)*)+(\:U\.\-?\d+)?/g;
        if (!value || value.length == 0) {
            return false;
        }
        var isYasb = value.startsWith("https://raithos.github.io");
        if (!isYasb) {
            return false;
        }
        var matchArray = value.match(/s\=.*\&sn/g);
        this.xwsData = {
            yasb: {
                pilots: [],
                name: ""
            }
        };
        if (matchArray && matchArray.length > 0) {
            var squadString = matchArray[0].substring(2).slice(0, -3);
            var pilotStrings = squadString.match(pilotRegex);
            if (pilotStrings.length > 0) {
                pilotStrings.forEach(function (pilotString) {
                    var separatorIndex = pilotString.indexOf(':');
                    var pilotId = pilotString.substring(0, separatorIndex);
                    var upgradeString = pilotString.substring(separatorIndex + 1);
                    var upgradeIds = upgradeString.split(',');
                    _this.xwsData.yasb.pilots.push({ id: pilotId, upgrades: upgradeIds });
                });
                var squadNameParam = value.match(/sn\=([a-zA-Z\%\d])*/);
                if (squadNameParam.length > 0) {
                    this.xwsData.yasb.name = decodeURIComponent(squadNameParam[0].split('=')[1]);
                }
                var factionNameParam = value.match(/f\=([a-zA-Z\%\d])*/);
                if (factionNameParam.length > 0) {
                    this.xwsData.yasb.faction = decodeURIComponent(factionNameParam[0].split('=')[1]).replace(/\s/g, '').toLowerCase();
                }
                return true;
            }
        }
        else {
            return false;
        }
        return false;
    };
    XwsModalPage.prototype.textChange = function ($event) {
        var value = $event.detail.value;
        this.dataValid = this.processXws(value) || this.processFFGSquadBuilder(value) || this.processYasb(value);
    };
    XwsModalPage.prototype.cancel = function () {
        this.modal.dismiss();
    };
    XwsModalPage.prototype.ok = function () {
        this.modal.dismiss(this.xwsData);
    };
    XwsModalPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-xws-modal',
            template: __webpack_require__(/*! ./xws-modal.page.html */ "./src/app/modals/xws-modal/xws-modal.page.html"),
            styles: [__webpack_require__(/*! ./xws-modal.page.scss */ "./src/app/modals/xws-modal/xws-modal.page.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"]])
    ], XwsModalPage);
    return XwsModalPage;
}());



/***/ }),

/***/ "./src/app/popovers/assign-id-popover/assign-id-popover.component.html":
/*!*****************************************************************************!*\
  !*** ./src/app/popovers/assign-id-popover/assign-id-popover.component.html ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"assign-id-popover\">\n  <strong>Assign Ship ID</strong>\n  <br />\n  <ion-select [(ngModel)]=\"idType\">\n    <ion-select-option selected=\"true\" value=\"numbers\" >Numbers</ion-select-option>\n    <ion-select-option value=\"letters\" >Letters</ion-select-option>\n  </ion-select>\n  <ion-input \n    type=\"number\" \n    *ngIf=\"idType == 'numbers'\" \n    [(ngModel)]=\"numericId\" \n    placeholder=\"Lock Number\">\n  </ion-input>\n  <ion-input \n    type=\"text\" \n    *ngIf=\"idType == 'letters'\" \n    [(ngModel)]=\"alphabeticId\" \n    placeholder=\"Lock Letter\">\n  </ion-input>\n  <ion-button expand=\"full\" (click)=\"assignId()\">Assign ID</ion-button>\n</div>"

/***/ }),

/***/ "./src/app/popovers/assign-id-popover/assign-id-popover.component.scss":
/*!*****************************************************************************!*\
  !*** ./src/app/popovers/assign-id-popover/assign-id-popover.component.scss ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".assign-id-popover {\n  display: block;\n  padding: 0.5vw 0.5vw 0.5vw 0.5vw;\n  background-color: white;\n  color: black; }\n"

/***/ }),

/***/ "./src/app/popovers/assign-id-popover/assign-id-popover.component.ts":
/*!***************************************************************************!*\
  !*** ./src/app/popovers/assign-id-popover/assign-id-popover.component.ts ***!
  \***************************************************************************/
/*! exports provided: AssignIdPopoverComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssignIdPopoverComponent", function() { return AssignIdPopoverComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


var AssignIdPopoverComponent = /** @class */ (function () {
    function AssignIdPopoverComponent(popoverController) {
        this.popoverController = popoverController;
        this.id = "";
    }
    AssignIdPopoverComponent.prototype.assignId = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, this.popoverController.dismiss(this.idType == "numbers" ? this.numericId : this.alphabeticId.toLocaleUpperCase())];
            });
        });
    };
    AssignIdPopoverComponent.prototype.ngOnInit = function () {
        if (typeof (this.id) != "string") {
            this.numericId = this.id;
            this.idType = "numbers";
        }
        else {
            this.alphabeticId = this.id;
            this.idType = "letters";
        }
    };
    AssignIdPopoverComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'assign-id-popover',
            template: __webpack_require__(/*! ./assign-id-popover.component.html */ "./src/app/popovers/assign-id-popover/assign-id-popover.component.html"),
            styles: [__webpack_require__(/*! ./assign-id-popover.component.scss */ "./src/app/popovers/assign-id-popover/assign-id-popover.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"]])
    ], AssignIdPopoverComponent);
    return AssignIdPopoverComponent;
}());



/***/ }),

/***/ "./src/app/popovers/condition-menu/condition-menu.component.html":
/*!***********************************************************************!*\
  !*** ./src/app/popovers/condition-menu/condition-menu.component.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"condition-menu\">\n  <strong>Conditions</strong>\n  <br />\n  <br />\n  <ion-select placeholder=\"Select One\" (ionChange)=\"changeEvent($event)\">\n    <ion-select-option *ngFor=\"let condition of conditions\" value=\"{{condition.xws}}\">{{ condition.name }}</ion-select-option>\n  </ion-select>\n  <div *ngIf=\"selected_condition && selected_condition.xws\">\n    <img [src]=\"img_urls[selected_condition.xws]\">\n  </div>\n  <div *ngIf=\"selected_condition && selected_condition.xws == darksideXws\">\n    <ion-select placeHolder=\"Pilot Damage Card\" (ionChange)=\"changeDamageCard($event)\">\n      <ion-select-option *ngFor=\"let pilotCard of pilotDamageCards\" [value]=\"pilotCard\">{{ pilotCard.title }}</ion-select-option>\n    </ion-select>\n  </div>\n  <ion-button [disabled]=\"!selected_condition\" expand=\"full\" (click)=\"assignCondition()\">Assign Condition</ion-button>\n</div>"

/***/ }),

/***/ "./src/app/popovers/condition-menu/condition-menu.component.scss":
/*!***********************************************************************!*\
  !*** ./src/app/popovers/condition-menu/condition-menu.component.scss ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".condition-menu {\n  display: block;\n  padding: 0.5vw 0.5vw 0.5vw 0.5vw;\n  background-color: white;\n  color: black; }\n\n.condition-artwork {\n  display: inline-block;\n  height: 100%; }\n"

/***/ }),

/***/ "./src/app/popovers/condition-menu/condition-menu.component.ts":
/*!*********************************************************************!*\
  !*** ./src/app/popovers/condition-menu/condition-menu.component.ts ***!
  \*********************************************************************/
/*! exports provided: ConditionMenuComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConditionMenuComponent", function() { return ConditionMenuComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var ConditionMenuComponent = /** @class */ (function () {
    function ConditionMenuComponent(dataService, state, popoverController, toastController) {
        this.dataService = dataService;
        this.state = state;
        this.popoverController = popoverController;
        this.toastController = toastController;
        this.conditions = [];
        this.img_urls = {};
        this.pilotDamageCards = [];
        this.darksideXws = "illshowyouthedarkside";
    }
    ConditionMenuComponent.prototype.assignCondition = function () {
        return __awaiter(this, void 0, void 0, function () {
            var existing, index, toast;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        existing = this.pilot.conditions.find(function (condition) { return condition.xws == _this.selected_condition.xws; });
                        if (!!existing) return [3 /*break*/, 1];
                        if (this.selected_condition.xws == this.darksideXws && this.selected_condition.pilotDamageCard) {
                            this.selected_condition.pilotDamageCard.exposed = true;
                            index = this.squadron.damagedeck.indexOf(this.selected_condition.pilotDamageCard);
                            this.squadron.damagedeck.splice(index, 1);
                        }
                        this.pilot.conditions.push(this.selected_condition);
                        return [2 /*return*/, this.popoverController.dismiss()];
                    case 1: return [4 /*yield*/, this.toastController.create({
                            message: this.pilot.pilot.name + ' already has ' + this.selected_condition.name,
                            duration: 2000,
                            position: 'middle'
                        })];
                    case 2:
                        toast = _a.sent();
                        return [2 /*return*/, toast.present()];
                }
            });
        });
    };
    ConditionMenuComponent.prototype.getPilotDamageCards = function () {
        var _this = this;
        this.pilotDamageCards = [];
        var pilotCards = this.squadron.damagedeck.filter(function (card) { return card['type'] == 'Pilot'; });
        pilotCards.forEach(function (card) {
            if (!_this.pilotDamageCards.find(function (existing) { return existing.title == card.title; })) {
                _this.pilotDamageCards.push(card);
            }
        });
    };
    ConditionMenuComponent.prototype.changeEvent = function (event) {
        this.selected_condition = this.conditions.find(function (condition) { return condition.xws == event.detail.value; });
        if (this.selected_condition.xws == this.darksideXws) {
            this.getPilotDamageCards();
        }
    };
    ConditionMenuComponent.prototype.changeDamageCard = function (event) {
        this.selected_condition.pilotDamageCard = event.detail.value;
    };
    ConditionMenuComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.squadron = this.state.squadrons[this.squadronNum];
        this.pilot = this.state.getPilotState(this.squadronNum, this.pilotNum);
        this.dataService.data.conditions.forEach(function (condition) {
            // Make a copy of each condition object
            // They need to be their own instances for conditions like
            // "I'll Show You the Dark Side" which can have
            // other objects attached to them such as damage cards
            var conditionObj = JSON.parse(JSON.stringify(condition));
            _this.conditions.push(conditionObj);
            // Load artwork and store using xws as the key
            _this.dataService.get_image_by_url(conditionObj.artwork).then(function (url) {
                _this.img_urls[conditionObj.xws] = url;
            });
        });
    };
    ConditionMenuComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-condition-menu',
            template: __webpack_require__(/*! ./condition-menu.component.html */ "./src/app/popovers/condition-menu/condition-menu.component.html"),
            styles: [__webpack_require__(/*! ./condition-menu.component.scss */ "./src/app/popovers/condition-menu/condition-menu.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__["XwingDataService"],
            _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_2__["XwingStateService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["PopoverController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ToastController"]])
    ], ConditionMenuComponent);
    return ConditionMenuComponent;
}());



/***/ }),

/***/ "./src/app/popovers/condition-popover/condition-popover.component.html":
/*!*****************************************************************************!*\
  !*** ./src/app/popovers/condition-popover/condition-popover.component.html ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"condition-popover\">\n  <div class=\"condition-title\">\n    {{ condition.name }}\n  </div>\n  <img [src]=\"img_url\">\n  <div class=\"condition-text\">\n    <xwing-text [text]=\"condition.ability\"></xwing-text>\n  </div>\n  <ion-button *ngIf=\"condition.pilotDamageCard\" expand=\"full\" (click)=\"assignPilotDamage()\">Assign {{ condition.pilotDamageCard.title }}</ion-button>\n  <ion-button expand=\"full\" (click)=\"removeCondition()\">Remove</ion-button>\n</div>"

/***/ }),

/***/ "./src/app/popovers/condition-popover/condition-popover.component.scss":
/*!*****************************************************************************!*\
  !*** ./src/app/popovers/condition-popover/condition-popover.component.scss ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".condition-popover {\n  padding: 0.5vw 0.5vw 0.5vw 0.5vw;\n  background: black; }\n\n.condition-title {\n  background: white;\n  width: 100%;\n  padding-top: 0.5vw;\n  text-align: center;\n  font-weight: 900;\n  padding-bottom: 0.5vw; }\n\n.condition-text {\n  background: white;\n  width: 100%;\n  margin-bottom: 0.5vw;\n  padding-top: 1em;\n  padding-bottom: 1em;\n  padding-left: 1em;\n  padding-right: 1em;\n  text-align: center; }\n"

/***/ }),

/***/ "./src/app/popovers/condition-popover/condition-popover.component.ts":
/*!***************************************************************************!*\
  !*** ./src/app/popovers/condition-popover/condition-popover.component.ts ***!
  \***************************************************************************/
/*! exports provided: ConditionPopoverComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConditionPopoverComponent", function() { return ConditionPopoverComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};



var ConditionPopoverComponent = /** @class */ (function () {
    function ConditionPopoverComponent(popoverController, dataService) {
        this.popoverController = popoverController;
        this.dataService = dataService;
        this.img_url = "";
    }
    ConditionPopoverComponent.prototype.assignPilotDamage = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.dismiss()];
                    case 1:
                        _a.sent();
                        this.pilot.damagecards.push(this.condition.pilotDamageCard);
                        this.condition.pilotDamageCard = null;
                        return [2 /*return*/];
                }
            });
        });
    };
    ConditionPopoverComponent.prototype.removeCondition = function () {
        return __awaiter(this, void 0, void 0, function () {
            var index;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.dismiss()];
                    case 1:
                        _a.sent();
                        index = this.pilot.conditions.indexOf(this.condition);
                        if (index > -1) {
                            this.pilot.conditions.splice(index, 1);
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    ConditionPopoverComponent.prototype.ngOnInit = function () {
        var _this = this;
        console.log(this.condition);
        this.dataService.get_image_by_url(this.condition.artwork).then(function (url) {
            _this.img_url = url;
        });
    };
    ConditionPopoverComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-condition-popover',
            template: __webpack_require__(/*! ./condition-popover.component.html */ "./src/app/popovers/condition-popover/condition-popover.component.html"),
            styles: [__webpack_require__(/*! ./condition-popover.component.scss */ "./src/app/popovers/condition-popover/condition-popover.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"],
            _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_2__["XwingDataService"]])
    ], ConditionPopoverComponent);
    return ConditionPopoverComponent;
}());



/***/ }),

/***/ "./src/app/popovers/damage-card-select/damage-card-select.component.html":
/*!*******************************************************************************!*\
  !*** ./src/app/popovers/damage-card-select/damage-card-select.component.html ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"damage-card-select\">\n  <strong>{{ title }}</strong>\n  <br />\n  <br />\n  <ion-select placeholder=\"Select One\" (ionChange)=\"changeEvent($event)\">\n    <ion-select-option *ngFor=\"let card of cards\" [value]=\"card\">{{ card.title }}</ion-select-option>\n  </ion-select>\n  <ion-button [disabled]=\"!selected_card\" expand=\"full\" (click)=\"selectCard()\">Select Card</ion-button>\n</div>"

/***/ }),

/***/ "./src/app/popovers/damage-card-select/damage-card-select.component.scss":
/*!*******************************************************************************!*\
  !*** ./src/app/popovers/damage-card-select/damage-card-select.component.scss ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".damage-popover {\n  background-color: white;\n  padding: 0.5vw 0.5vw 0.5vw 0.5vw; }\n\n.damage-card-back-art {\n  background-color: black;\n  color: red;\n  display: inline-block;\n  text-align: center;\n  font-size: 8em;\n  width: 100%; }\n\n.damage-card {\n  padding: 1vw 1vw 1vw 1vw;\n  background-color: black; }\n\n.damage-card-content, .damage-card-front, .damage-card-back {\n  border: 0.25vw solid red;\n  border-radius: 1vw;\n  padding: 1vw;\n  min-height: 16em; }\n\n.damage-card-front {\n  background-color: white; }\n\n.damage-card-back {\n  background-color: black; }\n\n.damage-title {\n  text-align: center;\n  font-weight: 900; }\n\n.damage-type {\n  text-align: center;\n  font-style: italic;\n  padding-bottom: 1em; }\n\n.damage-text {\n  text-align: center;\n  padding-bottom: 1em; }\n\n.damage-card-select {\n  display: block;\n  padding: 0.5vw 0.5vw 0.5vw 0.5vw;\n  background-color: white;\n  color: black; }\n"

/***/ }),

/***/ "./src/app/popovers/damage-card-select/damage-card-select.component.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/popovers/damage-card-select/damage-card-select.component.ts ***!
  \*****************************************************************************/
/*! exports provided: DamageCardSelectComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DamageCardSelectComponent", function() { return DamageCardSelectComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


var DamageCardSelectComponent = /** @class */ (function () {
    function DamageCardSelectComponent(popoverController) {
        this.popoverController = popoverController;
        this.selected_card = null;
    }
    DamageCardSelectComponent.prototype.changeEvent = function (event) {
        this.selected_card = event.detail.value;
    };
    DamageCardSelectComponent.prototype.selectCard = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.callback(this.selected_card);
                        return [4 /*yield*/, this.popoverController.dismiss()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    DamageCardSelectComponent.prototype.ngOnInit = function () {
    };
    DamageCardSelectComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-damage-card-select',
            template: __webpack_require__(/*! ./damage-card-select.component.html */ "./src/app/popovers/damage-card-select/damage-card-select.component.html"),
            styles: [__webpack_require__(/*! ./damage-card-select.component.scss */ "./src/app/popovers/damage-card-select/damage-card-select.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"]])
    ], DamageCardSelectComponent);
    return DamageCardSelectComponent;
}());



/***/ }),

/***/ "./src/app/popovers/damage-deck-actions/damage-deck-actions.component.html":
/*!*********************************************************************************!*\
  !*** ./src/app/popovers/damage-deck-actions/damage-deck-actions.component.html ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"damage-deck-actions\">\n  <xwing-icon [name]=\"'hit'\" class=\"damage-deck-icon\"></xwing-icon>\n  <strong>\n    Damage Deck\n  </strong>\n  <p>\n    {{ squadron.damagedeck.length }} cards left, {{ squadron.damagediscard.length}} discarded\n  </p>\n  <ion-button expand=\"full\" (click)=\"shuffleDeck()\">Shuffle Deck</ion-button>\n  <ion-button expand=\"full\" [disabled]=\"squadron.damagediscard.length <= 0\" (click)=\"shuffleDiscarded()\">Shuffle discarded</ion-button>\n</div>"

/***/ }),

/***/ "./src/app/popovers/damage-deck-actions/damage-deck-actions.component.scss":
/*!*********************************************************************************!*\
  !*** ./src/app/popovers/damage-deck-actions/damage-deck-actions.component.scss ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".damage-deck-actions {\n  padding: 1vw 1vw 1vw 1vw; }\n\n.damage-deck-icon {\n  display: inline-block;\n  text-align: center;\n  width: 3vw;\n  font-size: 2vw;\n  color: red;\n  background-color: black;\n  margin-right: 0.5vw; }\n"

/***/ }),

/***/ "./src/app/popovers/damage-deck-actions/damage-deck-actions.component.ts":
/*!*******************************************************************************!*\
  !*** ./src/app/popovers/damage-deck-actions/damage-deck-actions.component.ts ***!
  \*******************************************************************************/
/*! exports provided: DamageDeckActionsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DamageDeckActionsComponent", function() { return DamageDeckActionsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var DamageDeckActionsComponent = /** @class */ (function () {
    function DamageDeckActionsComponent(events, toastController, popoverController, state) {
        this.events = events;
        this.toastController = toastController;
        this.popoverController = popoverController;
        this.state = state;
    }
    DamageDeckActionsComponent.prototype.ngOnInit = function () {
        this.squadron = this.state.squadrons[this.squadronNum];
    };
    DamageDeckActionsComponent.prototype.toastDamageDeck = function (text) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: text,
                            duration: 2000,
                            position: 'top'
                        })];
                    case 1:
                        toast = _a.sent();
                        return [2 /*return*/, toast.present()];
                }
            });
        });
    };
    DamageDeckActionsComponent.prototype.shuffleDiscarded = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.dismiss()];
                    case 1:
                        _a.sent();
                        this.state.shuffleDamageDiscard(this.squadronNum);
                        return [2 /*return*/];
                }
            });
        });
    };
    DamageDeckActionsComponent.prototype.shuffleDeck = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.dismiss()];
                    case 1:
                        _a.sent();
                        this.state.shuffleDamageDeck(this.squadronNum);
                        return [2 /*return*/];
                }
            });
        });
    };
    DamageDeckActionsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-damage-deck-actions',
            template: __webpack_require__(/*! ./damage-deck-actions.component.html */ "./src/app/popovers/damage-deck-actions/damage-deck-actions.component.html"),
            styles: [__webpack_require__(/*! ./damage-deck-actions.component.scss */ "./src/app/popovers/damage-deck-actions/damage-deck-actions.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Events"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"],
            _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_2__["XwingStateService"]])
    ], DamageDeckActionsComponent);
    return DamageDeckActionsComponent;
}());



/***/ }),

/***/ "./src/app/popovers/damage-popover/damage-popover.component.html":
/*!***********************************************************************!*\
  !*** ./src/app/popovers/damage-popover/damage-popover.component.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"damage-popover\">\n  <div class=\"damage-card\">\n    <div *ngIf=\"card.exposed\" class=\"damage-card-front\">\n      <div class=\"damage-title\">\n        {{ card.title }}\n      </div>\n      <div class=\"damage-type\">\n        {{ card.type }}\n      </div>\n      <div class=\"damage-text\">\n          <xwing-text [text]=\"card.text\"></xwing-text>\n      </div>\n    </div>\n    <div *ngIf=\"!card.exposed\" class=\"damage-card-back\">\n      <span class=\"damage-card-back-art\"><xwing-icon [name]=\"'hit'\"></xwing-icon></span>\n    </div>\n  </div>\n  <ion-button expand=\"full\" (click)=\"repair()\">Repair</ion-button>\n  <ion-button expand=\"full\" *ngIf=\"!card.exposed\" (click)=\"expose()\">Expose</ion-button>\n</div>"

/***/ }),

/***/ "./src/app/popovers/damage-popover/damage-popover.component.scss":
/*!***********************************************************************!*\
  !*** ./src/app/popovers/damage-popover/damage-popover.component.scss ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".damage-popover {\n  background-color: white;\n  padding: 0.5vw 0.5vw 0.5vw 0.5vw; }\n\n.damage-card-back-art {\n  background-color: black;\n  color: red;\n  display: inline-block;\n  text-align: center;\n  font-size: 8em;\n  width: 100%; }\n\n.damage-card {\n  padding: 1vw 1vw 1vw 1vw;\n  background-color: black; }\n\n.damage-card-content, .damage-card-front, .damage-card-back {\n  border: 0.25vw solid red;\n  border-radius: 1vw;\n  padding: 1vw;\n  min-height: 16em; }\n\n.damage-card-front {\n  background-color: white; }\n\n.damage-card-back {\n  background-color: black; }\n\n.damage-title {\n  text-align: center;\n  font-weight: 900; }\n\n.damage-type {\n  text-align: center;\n  font-style: italic;\n  padding-bottom: 1em; }\n\n.damage-text {\n  text-align: center;\n  padding-bottom: 1em; }\n"

/***/ }),

/***/ "./src/app/popovers/damage-popover/damage-popover.component.ts":
/*!*********************************************************************!*\
  !*** ./src/app/popovers/damage-popover/damage-popover.component.ts ***!
  \*********************************************************************/
/*! exports provided: DamagePopoverComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DamagePopoverComponent", function() { return DamagePopoverComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var DamagePopoverComponent = /** @class */ (function () {
    function DamagePopoverComponent(popoverController, ngZone, state) {
        this.popoverController = popoverController;
        this.ngZone = ngZone;
        this.state = state;
    }
    DamagePopoverComponent.prototype.ngOnInit = function () {
        this.squadron = this.state.squadrons[this.squadronNum];
    };
    DamagePopoverComponent.prototype.mutateCard = function () {
        var _this = this;
        this.squadron.pilots.forEach(function (pilot) {
            var cardCopy = JSON.parse(JSON.stringify(_this.card));
            var index = pilot.damagecards.indexOf(_this.card);
            if (index > -1) {
                pilot.damagecards.splice(index, 1);
                pilot.damagecards.splice(index, 0, cardCopy);
                pilot.damagecards = JSON.parse(JSON.stringify(pilot.damagecards));
            }
        });
    };
    DamagePopoverComponent.prototype.repair = function () {
        var _this = this;
        this.ngZone.run(function () {
            if (_this.card.exposed) {
                _this.card.exposed = false;
                _this.mutateCard();
            }
            else {
                _this.popoverController.dismiss();
                // Search for the damage card on each pilot and delete it
                _this.squadron.pilots.forEach(function (pilot) {
                    var index = pilot.damagecards.indexOf(_this.card);
                    if (index > -1) {
                        pilot.damagecards.splice(index, 1);
                    }
                });
                // Move discarded cards to damage discard pile
                _this.state.discard(_this.squadronNum, _this.card);
            }
        });
    };
    DamagePopoverComponent.prototype.expose = function () {
        var _this = this;
        this.ngZone.run(function () {
            _this.card.exposed = true;
            _this.mutateCard();
        });
    };
    DamagePopoverComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-damage-popover',
            template: __webpack_require__(/*! ./damage-popover.component.html */ "./src/app/popovers/damage-popover/damage-popover.component.html"),
            styles: [__webpack_require__(/*! ./damage-popover.component.scss */ "./src/app/popovers/damage-popover/damage-popover.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"],
            _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_2__["XwingStateService"]])
    ], DamagePopoverComponent);
    return DamagePopoverComponent;
}());



/***/ }),

/***/ "./src/app/popovers/popover.module.ts":
/*!********************************************!*\
  !*** ./src/app/popovers/popover.module.ts ***!
  \********************************************/
/*! exports provided: PopoverModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PopoverModule", function() { return PopoverModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _components_xwing_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/xwing.module */ "./src/app/components/xwing.module.ts");
/* harmony import */ var _condition_menu_condition_menu_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./condition-menu/condition-menu.component */ "./src/app/popovers/condition-menu/condition-menu.component.ts");
/* harmony import */ var _condition_popover_condition_popover_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./condition-popover/condition-popover.component */ "./src/app/popovers/condition-popover/condition-popover.component.ts");
/* harmony import */ var _damage_deck_actions_damage_deck_actions_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./damage-deck-actions/damage-deck-actions.component */ "./src/app/popovers/damage-deck-actions/damage-deck-actions.component.ts");
/* harmony import */ var _damage_popover_damage_popover_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./damage-popover/damage-popover.component */ "./src/app/popovers/damage-popover/damage-popover.component.ts");
/* harmony import */ var _damage_card_select_damage_card_select_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./damage-card-select/damage-card-select.component */ "./src/app/popovers/damage-card-select/damage-card-select.component.ts");
/* harmony import */ var _assign_id_popover_assign_id_popover_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./assign-id-popover/assign-id-popover.component */ "./src/app/popovers/assign-id-popover/assign-id-popover.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};











var PopoverModule = /** @class */ (function () {
    function PopoverModule() {
    }
    PopoverModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicModule"],
                _components_xwing_module__WEBPACK_IMPORTED_MODULE_4__["XwingModule"]
            ],
            declarations: [
                _condition_menu_condition_menu_component__WEBPACK_IMPORTED_MODULE_5__["ConditionMenuComponent"],
                _condition_popover_condition_popover_component__WEBPACK_IMPORTED_MODULE_6__["ConditionPopoverComponent"],
                _damage_deck_actions_damage_deck_actions_component__WEBPACK_IMPORTED_MODULE_7__["DamageDeckActionsComponent"],
                _damage_popover_damage_popover_component__WEBPACK_IMPORTED_MODULE_8__["DamagePopoverComponent"],
                _damage_card_select_damage_card_select_component__WEBPACK_IMPORTED_MODULE_9__["DamageCardSelectComponent"],
                _assign_id_popover_assign_id_popover_component__WEBPACK_IMPORTED_MODULE_10__["AssignIdPopoverComponent"]
            ],
            exports: [],
            entryComponents: [
                _condition_menu_condition_menu_component__WEBPACK_IMPORTED_MODULE_5__["ConditionMenuComponent"],
                _condition_popover_condition_popover_component__WEBPACK_IMPORTED_MODULE_6__["ConditionPopoverComponent"],
                _damage_deck_actions_damage_deck_actions_component__WEBPACK_IMPORTED_MODULE_7__["DamageDeckActionsComponent"],
                _damage_popover_damage_popover_component__WEBPACK_IMPORTED_MODULE_8__["DamagePopoverComponent"],
                _damage_card_select_damage_card_select_component__WEBPACK_IMPORTED_MODULE_9__["DamageCardSelectComponent"],
                _assign_id_popover_assign_id_popover_component__WEBPACK_IMPORTED_MODULE_10__["AssignIdPopoverComponent"]
            ]
        })
    ], PopoverModule);
    return PopoverModule;
}());



/***/ }),

/***/ "./src/app/providers/http-angular.provider.ts":
/*!****************************************************!*\
  !*** ./src/app/providers/http-angular.provider.ts ***!
  \****************************************************/
/*! exports provided: HttpAngularProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HttpAngularProvider", function() { return HttpAngularProvider; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var HttpAngularProvider = /** @class */ (function () {
    function HttpAngularProvider(http) {
        this.http = http;
    }
    HttpAngularProvider.prototype.get = function (url, params, options) {
        if (options === void 0) { options = {}; }
        options.params = params;
        //options.withCredentials = true;
        return this.http.get(url, options);
    };
    HttpAngularProvider = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], HttpAngularProvider);
    return HttpAngularProvider;
}());



/***/ }),

/***/ "./src/app/providers/http-native.provider.ts":
/*!***************************************************!*\
  !*** ./src/app/providers/http-native.provider.ts ***!
  \***************************************************/
/*! exports provided: HttpNativeProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HttpNativeProvider", function() { return HttpNativeProvider; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic-native/http/ngx */ "./node_modules/@ionic-native/http/ngx/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var HttpNativeProvider = /** @class */ (function () {
    function HttpNativeProvider(http) {
        this.http = http;
    }
    HttpNativeProvider.prototype.get = function (url, params, options) {
        if (options === void 0) { options = {}; }
        var responseData = this.http.get(url, params, {})
            .then(function (resp) { return !options.responseType ? JSON.parse(resp.data) : resp.data; });
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["from"])(responseData);
    };
    HttpNativeProvider.prototype.downloadFile = function (url, path) {
        return this.http.downloadFile(url, {}, {}, path);
    };
    HttpNativeProvider = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_1__["HTTP"]])
    ], HttpNativeProvider);
    return HttpNativeProvider;
}());



/***/ }),

/***/ "./src/app/providers/http.provider.ts":
/*!********************************************!*\
  !*** ./src/app/providers/http.provider.ts ***!
  \********************************************/
/*! exports provided: HttpProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HttpProvider", function() { return HttpProvider; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _http_angular_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http-angular.provider */ "./src/app/providers/http-angular.provider.ts");
/* harmony import */ var _http_native_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./http-native.provider */ "./src/app/providers/http-native.provider.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var HttpProvider = /** @class */ (function () {
    function HttpProvider(platform, angularHttp, nativeHttp) {
        this.platform = platform;
        this.angularHttp = angularHttp;
        this.nativeHttp = nativeHttp;
        var isMobile = this.platform.is('cordova');
        if (isMobile) {
            console.log("HttpProvider using nativeHttp");
        }
        else {
            console.log("HttpProvider using angularHttp");
        }
        this.http = isMobile ? this.nativeHttp : this.angularHttp;
    }
    HttpProvider.prototype.get = function (url, params, options) {
        if (options === void 0) { options = {}; }
        return this.http.get(url, params, options);
    };
    HttpProvider.prototype.downloadFile = function (url, filepath) {
        return this.nativeHttp.downloadFile(url, filepath);
    };
    HttpProvider = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"], _http_angular_provider__WEBPACK_IMPORTED_MODULE_2__["HttpAngularProvider"], _http_native_provider__WEBPACK_IMPORTED_MODULE_3__["HttpNativeProvider"]])
    ], HttpProvider);
    return HttpProvider;
}());



/***/ }),

/***/ "./src/app/services/layout.service.ts":
/*!********************************************!*\
  !*** ./src/app/services/layout.service.ts ***!
  \********************************************/
/*! exports provided: LayoutService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayoutService", function() { return LayoutService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var LayoutService = /** @class */ (function () {
    function LayoutService(platform) {
        var _this = this;
        this.platform = platform;
        this.platforms = [];
        var platforms = ['android', 'capacitor', 'cordova', 'desktop', 'ipod', 'iphone', 'ipad',
            'ios', 'phablet', 'tablet', 'electron', 'mobile', 'pwa', 'hybrid'];
        this.platforms = platforms.filter(function (platform) {
            return _this.platform.is(platform);
        });
        console.log("Platforms", this.platforms);
    }
    LayoutService.prototype.getClass = function () {
        if (this.platforms.indexOf("desktop") >= 0) {
            return "-tablet";
        }
        if (this.platforms.indexOf("tablet") >= 0 && this.platform.isLandscape()) {
            return "-tablet";
        }
        if (this.platforms.indexOf("tablet") >= 0 && this.platform.isPortrait()) {
            return "-tablet-portrait";
        }
        if (this.isPhone() && this.platform.isPortrait()) {
            return "-phone-portrait";
        }
        if (this.isPhone() && this.platform.isLandscape()) {
            return "-phone-landscape";
        }
        // Catch all
        console.log("Layout class can't be determined!", this.platforms);
        return "-tablet";
    };
    LayoutService.prototype.isPhone = function () {
        var result = !this.platforms.includes("tablet") &&
            !this.platforms.includes("desktop");
        return result;
    };
    LayoutService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"]])
    ], LayoutService);
    return LayoutService;
}());



/***/ }),

/***/ "./src/app/services/xwing-data.service.ts":
/*!************************************************!*\
  !*** ./src/app/services/xwing-data.service.ts ***!
  \************************************************/
/*! exports provided: XwingDataService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XwingDataService", function() { return XwingDataService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _providers_http_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../providers/http.provider */ "./src/app/providers/http.provider.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/file-transfer/ngx */ "./node_modules/@ionic-native/file-transfer/ngx/index.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};










var XwingDataService = /** @class */ (function () {
    function XwingDataService(storage, http, events, platform, file, fileTransfer, sanitizer) {
        var _this = this;
        this.storage = storage;
        this.http = http;
        this.events = events;
        this.platform = platform;
        this.file = file;
        this.fileTransfer = fileTransfer;
        this.sanitizer = sanitizer;
        this.topic = "XwingDataService";
        this.last_message = "";
        this.downloading = false;
        // Data structure containing filename => json mapping
        this.progress = 0;
        this.initialized = false;
        // Should be hotlinked?
        this.hotlink = true;
        // base64urls for native, hotlinks for mobile
        this.image_urls = {};
        this.manifest_url = "https://raw.githubusercontent.com/jychuah/XwingTabled/master/scripts/manifest.json";
        this.unavailable = ['https://sb-cdn.fantasyflightgames.com/card_art/Card_art_XW_U_158b.jpg'];
        // Json Data
        this.data = {};
        this.ffg_data = [];
        this.stored_filenames = [];
        this.hotlink = !platform.is('cordova');
        this.transfer = fileTransfer.create();
        this.storage.ready().then(function () {
            _this.status("service_ready", "X-Wing Data Service Ready");
            _this.check_manifest();
        });
    }
    XwingDataService.prototype.status = function (status, message, progress) {
        if (message === void 0) { message = ""; }
        if (progress === void 0) { progress = this.progress; }
        this.events.publish(this.topic, { 'status': status, 'message': message, 'progress': progress });
        this.last_message = message;
        console.log(status, message);
    };
    XwingDataService.prototype.reset = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        // Delete all locally stored DB data (not images)
                        this.initialized = false;
                        this.image_urls = {};
                        this.data = {};
                        this.ffg_data = {};
                        return [4 /*yield*/, this.storage.clear()];
                    case 1:
                        _a.sent();
                        this.check_manifest();
                        return [2 /*return*/];
                }
            });
        });
    };
    XwingDataService.prototype.check_manifest = function () {
        var _this = this;
        // Start of data verification/download sequence
        // Loads cached data structure containing all xwing-data2 data.
        // If none is stored, then this.data will be null
        // Followed by download_ffg_data()
        this.status("manifest_loading", "Loading cached manifest... ");
        this.storage.get('manifest').then(function (data) {
            _this.status("manifest_loading", "Loading cached manifest... found!");
            _this.data = data;
        }, function (error) {
            _this.status("manifest_loading", "Loading cached manifest... none found");
        }).then(function (data) {
            _this.status("manifest_loading", "Loading cached FFG Data...");
            return _this.storage.get("ffg_data").then(function (ffg_data) {
                _this.status("manifest_loading", "Loading cached FFG Data... found!");
                _this.ffg_data = ffg_data;
            }, function (error) {
                _this.status("manifest_loading", "Loading cached FFG Data... none found");
            });
        }).then(function (result) {
            _this.download_manifest();
        });
    };
    XwingDataService.prototype.store_ffg_data = function (ffg) {
        var _this = this;
        var ffg_data = [];
        var maxId = 0;
        ffg.cards.forEach(function (card) {
            if (card.id > maxId) {
                maxId = card.id;
            }
        });
        ffg_data = new Array(maxId);
        ffg.cards.forEach(function (card) {
            card.name = card.name.replace(/\<\/?[a-z]+\>/gi, '');
            card["metadata"] = _this.getMetadataByFFG(card.id);
            if (card.statistics) {
                card.statistics.forEach(function (statistic) {
                    // Search xws stat metadata.
                    var xwsEntry = _this.data.stats[0].find(function (stat) { return stat.ffg == statistic.statistic_id; });
                    if (xwsEntry) {
                        statistic.xws = xwsEntry.xws;
                    }
                    else {
                        console.log("Could not find stat", statistic);
                    }
                });
            }
            ;
            ffg_data[card.id] = card;
        });
        this.ffg_data = ffg_data;
        this.storage.set('ffg_data', this.ffg_data);
    };
    XwingDataService.prototype.download_ffg_data = function () {
        var _this = this;
        this.http.get("https://squadbuilder.fantasyflightgames.com/api/cards").subscribe(function (ffg) {
            if (ffg) {
                _this.status("ffg_downloading", "Downloading FFG Squadbuilder Data... received!");
                _this.store_ffg_data(ffg);
                console.log("FFG Squadbuilder Data", _this.ffg_data);
                // Continue to image loading
                _this.load_images();
            }
        }, function (error) {
            if (_this.ffg_data) {
                // Even if we weren't able to download a manifest, at least we have some existing data
                _this.load_images();
            }
            else {
                _this.status("no_data_no_connection", "Unable to load or download FFG Squadbuilder data");
            }
        });
    };
    XwingDataService.prototype.download_manifest = function () {
        var _this = this;
        // Download the current manifest from xwing-data2
        this.status("manifest_downloading", "Downloading current manifest...");
        this.http.get(this.manifest_url).subscribe(function (manifest) {
            if (manifest) {
                _this.status("manifest_downloading", "Downloading current manifest... received!");
                var new_manifest = manifest;
                if (!_this.data || _this.data["version"] != new_manifest["version"] || !_this.ffg_data) {
                    _this.storage.set('manifest', new_manifest);
                    _this.data = new_manifest;
                    // If manifest data is updated, re-download FFG data. Otherwise, skip.
                    _this.download_ffg_data();
                    return;
                }
                // Our manifest is good to go.
                _this.status("manifest_current", "Manifest is current.");
                console.log("X-Wing Json Data", _this.data);
                // Continue to download squadbuilder data
                _this.load_images();
            }
        }, function (error) {
            if (_this.data && _this.ffg_data) {
                // Even if we weren't able to download a manifest, at least we have some existing data
                _this.status("manifest_download_failed", "Using cached manfiest");
                _this.load_images();
            }
            else {
                _this.status("no_data_no_connection", "Unable to load or download manifest.json");
            }
        });
    };
    XwingDataService.prototype.load_from_storage = function (keys) {
        var _this = this;
        // Helper function to sequentially load keys from storage
        var done = 0;
        // Stream keys one at a time
        var keys_obs = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(keys);
        var value_obs = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(keys).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["concatMap"])(function (key) {
            // Save last key streamed, attempt to get the data
            return _this.storage.get(key);
        }));
        var zipped = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["zip"])(keys_obs, value_obs, function (key, value) { return ({ key: key, value: value }); });
        return zipped.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["tap"])((function (item) {
            done = done + 1;
            _this.progress = (done / keys.length) * 100;
        })));
    };
    XwingDataService.prototype.create_file_list = function (manifest, extensions) {
        // "Flatten" a JSON dictionary, keeping only string values with a file extension
        var unpack_queue = [];
        var download_list = [];
        if (manifest) {
            // Push the manifest dictionary as the first object
            unpack_queue.push(manifest);
            var _loop_1 = function () {
                // Dequeue the front item
                var item = unpack_queue.shift();
                try {
                    // If the item is a string, see if it matches our extension
                    if (typeof item == "string") {
                        extensions.forEach(function (extension) {
                            if (item.endsWith(extension)) {
                                download_list.push(item);
                            }
                        });
                    }
                    else if (item instanceof Array) {
                        // If it's an array, push all values to the back of the unpack queue
                        item.forEach(function (element) {
                            if (element == undefined) {
                                console.log("Empty array element in ", item);
                            }
                            else {
                                unpack_queue.push(element);
                            }
                        });
                    }
                    else {
                        // If it's a dictionary, unpack all key/value pairs and only push the values
                        Object.entries(item).forEach(function (_a) {
                            var key = _a[0], value = _a[1];
                            if (value == undefined) {
                            }
                            else {
                                unpack_queue.push(value);
                            }
                        });
                    }
                }
                catch (err) {
                    console.log("Error creating file list from manifest", manifest);
                    console.log("Could not unpack", item);
                }
            };
            // While there are still items to unpack
            while (unpack_queue.length > 0) {
                _loop_1();
            }
        }
        return download_list;
    };
    XwingDataService.prototype.url_to_filename = function (url) {
        // Extract the filename from a URL
        var tokens = url.split('/');
        return tokens[tokens.length - 1];
    };
    XwingDataService.prototype.mangle_name = function (name) {
        // Canonicalizes names: T-65 X-Wing => t65xwing
        return name.replace(/\s/g, '').replace(/\-/g, '').toLowerCase();
    };
    XwingDataService.prototype.getDamageDeck = function () {
        var deck = [];
        var cards = {};
        this.data.damagedecks[0].cards.forEach(function (card) {
            var _loop_2 = function (i) {
                var initials = "";
                card.title.split(' ').forEach(function (word) {
                    initials = initials + word[0];
                });
                if (!cards[card.title]) {
                    cards[card.title] = [];
                }
                cards[card.title].push({ title: card.title, type: card.type, text: card.text, initials: initials });
            };
            for (var i = 0; i < card.amount; i++) {
                _loop_2(i);
            }
        });
        while (Object.keys(cards).length > 0) {
            Object.keys(cards).forEach(function (cardTitle) {
                if (cards[cardTitle].length > 0) {
                    deck.push(cards[cardTitle].pop());
                }
                else {
                    delete cards[cardTitle];
                }
            });
        }
        console.log("Generating damage deck", deck);
        return deck;
    };
    XwingDataService.prototype.getCondition = function (xwsCondition) {
        var conditionObj = null;
        this.data.conditions.forEach(function (condition) {
            if (condition.xws == xwsCondition) {
                conditionObj = JSON.parse(JSON.stringify(condition));
            }
        });
        return conditionObj;
    };
    XwingDataService.prototype.getPilot = function (faction, xwsShip, xwsPilot) {
        // Given a faction string and pilot object retrieve object data
        // or return null if it can't be retrieved
        var ship = this.getShip(faction, xwsShip);
        var pilot = null;
        if (this.data.shims.xwsPilot[xwsPilot]) {
            xwsPilot = this.data.shims.xwsPilot[xwsPilot];
        }
        ship.pilots.forEach(function (pilotData) {
            if (pilotData.xws == xwsPilot) {
                pilot = pilotData;
            }
        });
        return JSON.parse(JSON.stringify(pilot));
    };
    XwingDataService.prototype.getXwsFromFFG = function (id) {
        var pilot = null;
        this.data.pilots.forEach(function (faction) {
            Object.entries(faction.ships).forEach(function (_a) {
                var ship_key = _a[0], ship = _a[1];
                var pilotData = ship['pilots'].find(function (pilot) { return pilot.ffg == id; });
                if (pilotData) {
                    pilot = {
                        card_type: 1,
                        faction: faction.faction,
                        xws: pilotData.xws,
                        name: pilotData.xws,
                        ship: ship_key
                    };
                }
            });
        });
        if (pilot) {
            return pilot;
        }
        var upgrade = null;
        Object.entries(this.data.upgrades).forEach(function (_a) {
            var upgrade_type = _a[0], upgrade_array = _a[1];
            var upgradeData = upgrade_array.find(function (upgrade) {
                if (upgrade.sides[0].ffg == id) {
                    return true;
                }
                if (upgrade.sides[1] && upgrade.sides[1].ffg == id) {
                    return true;
                }
                return false;
            });
            if (upgradeData) {
                upgrade = { card_type: 2, type: upgrade_type, xws: upgradeData.xws };
            }
        });
        return upgrade;
    };
    XwingDataService.prototype.getPilotPoints = function (pilot) {
        var _this = this;
        var pilotData = this.getCardByFFG(pilot.ffg);
        var pilotPoints = parseInt(pilotData.cost);
        var initiative = pilotData.initiative;
        var agility = parseInt(pilotData.statistics.find(function (stat) { return stat.xws == 'agility'; }).value);
        pilot.upgrades.forEach(function (upgrade) {
            var upgradeData = _this.getCardByFFG(upgrade.sides[upgrade.side].ffg);
            if (upgradeData.cost == '*') {
                var statVariable = upgradeData.metadata.cost.variable;
                var cost = void 0;
                if (statVariable == 'initiative') {
                    cost = upgradeData.metadata.cost.values[initiative];
                }
                else if (statVariable == 'agility') {
                    cost = upgradeData.metadata.cost.values[agility];
                }
                pilotPoints += cost;
            }
            else {
                pilotPoints += parseInt(upgradeData.cost);
            }
        });
        return pilotPoints;
    };
    XwingDataService.prototype.isDestroyed = function (pilot) {
        var hull = this.getStatTotal(pilot, "hull");
        var currentHull = hull - pilot.damagecards.length;
        return currentHull <= 0;
    };
    XwingDataService.prototype.getPointsDestroyed = function (pilot) {
        var pilotPoints = this.getPilotPoints(pilot);
        if (this.isDestroyed(pilot)) {
            return pilotPoints;
        }
        var hull = this.getStatTotal(pilot, "hull");
        var shields = this.getStatTotal(pilot, "shields");
        var totalHitPoints = hull + shields;
        var currentHull = hull - pilot.damagecards.length;
        var currentHitPoints = currentHull;
        if (pilot.shields) {
            currentHitPoints += pilot.shields;
        }
        if (currentHitPoints < totalHitPoints / 2.0) {
            return Math.ceil(pilotPoints / 2.0);
        }
        return 0;
    };
    XwingDataService.prototype.getYasbUpgrade = function (id) {
        var upgrade = this.data.yasb.upgrades[id];
        if (!upgrade) {
            return null;
        }
        return JSON.parse(JSON.stringify(upgrade));
    };
    XwingDataService.prototype.getYasbPilot = function (id) {
        var pilot = this.data.yasb.pilots[id];
        if (!pilot) {
            return null;
        }
        return JSON.parse(JSON.stringify(pilot));
    };
    XwingDataService.prototype.getShip = function (faction, xwsShip) {
        if (this.data.shims.xwsShip[xwsShip]) {
            xwsShip = this.data.shims.xwsShip[xwsShip];
        }
        try {
            var factionData = this.data.pilots.find(function (pilotsEntry) { return pilotsEntry.faction == faction; });
            var ships = factionData.ships;
            var ship = ships[xwsShip];
            // For some reason, xws data in guidokessels data uses different names for 
            // TIE Fighters. For exmple, tieininterceptor instead of tieinterceptor
            ship.keyname = xwsShip;
            return JSON.parse(JSON.stringify(ship));
        }
        catch (Error) {
            return null;
        }
    };
    XwingDataService.prototype.getUpgrade = function (upgradeType, xwsUpgrade) {
        if (this.data.shims.xwsUpgrade[xwsUpgrade]) {
            xwsUpgrade = this.data.shims.xwsUpgrade[xwsUpgrade];
        }
        try {
            var foundUpgrade_1 = null;
            this.data.upgrades[upgradeType].forEach(function (upgrade) {
                if (upgrade.xws == xwsUpgrade) {
                    foundUpgrade_1 = upgrade;
                }
            });
            return JSON.parse(JSON.stringify(foundUpgrade_1));
        }
        catch (Error) {
            return null;
        }
    };
    XwingDataService.prototype.getMetadataByFFG = function (id) {
        var xwsInfo = this.getXwsFromFFG(id);
        if (!xwsInfo) {
            console.log("Could not find", id);
            return null;
        }
        if (xwsInfo.card_type == 1) {
            var faction = this.data.pilots.find(function (faction) { return faction.faction == xwsInfo.faction; });
            var xwsData = faction.ships[xwsInfo.ship].pilots.find(function (pilot) { return pilot.xws == xwsInfo.xws; });
            var shipData = JSON.parse(JSON.stringify(faction.ships[xwsInfo.ship]));
            delete shipData.pilots;
            // What metadata will we eventually need for pilots, not provided by FFG data?
            var pilotMeta = {
                shipIcon: shipData.icon,
                dial: shipData.dial,
                size: shipData.size
            };
            return pilotMeta;
        }
        if (xwsInfo.card_type == 2) {
            var xwsData = this.data.upgrades[xwsInfo.type].find(function (upgrade) { return upgrade.xws == xwsInfo.xws; });
            var sideNum = 0;
            var side = {};
            for (var i = 0; i < xwsData.sides.length; i++) {
                if (xwsData.sides[i].ffg == id) {
                    sideNum = i;
                    side = xwsData.sides[i];
                }
            }
            // Set the cost only once for any given card. If it is the second "side", the cost should be 0.
            var upgradeMeta = {
                cost: sideNum == 0 ? xwsData.cost : 0,
            };
            if (side.grants) {
                upgradeMeta["grants"] = side.grants;
            }
            return upgradeMeta;
        }
        return null;
    };
    XwingDataService.prototype.getCardByFFG = function (ffg) {
        return this.ffg_data[ffg];
    };
    XwingDataService.prototype.getFFGCardStat = function (ffg, stat) {
        var card = this.getCardByFFG(ffg);
        return card.statistics.find(function (cardstat) { return cardstat.xws == stat; });
    };
    XwingDataService.prototype.getCardStatObject = function (ffg, stat, remaining) {
        var statData = this.getFFGCardStat(ffg, stat);
        if (!statData) {
            return null;
        }
        return {
            type: stat,
            value: statData.value,
            remaining: remaining == -1 ? statData.value : remaining,
            recovers: statData.recurring ? 1 : 0
        };
    };
    XwingDataService.prototype.getXwsUpgradeType = function (ffg) {
        return this.data["upgrade-types"].find(function (upgrade) { return upgrade.ffg == ffg; }).xws;
    };
    XwingDataService.prototype.getStatTotal = function (pilotData, stat) {
        var _this = this;
        var statTotal = 0;
        var statData = this.getFFGCardStat(pilotData.ffg, stat);
        if (statData) {
            statTotal = parseInt(statData.value);
        }
        pilotData.upgrades.forEach(function (upgrade) {
            var statData = _this.getFFGCardStat(upgrade.sides[upgrade.side].ffg, stat);
            if (statData) {
                statTotal += parseInt(statData.value);
            }
        });
        return statTotal;
    };
    XwingDataService.prototype.load_images = function () {
        console.log("FFG Data", this.ffg_data);
        console.log("xwing-data2 Data", this.data);
        var downloads = { ffg: this.ffg_data, manifest: this.data };
        if (this.hotlink) {
            // If this is running in a desktop browser, then we can simply
            // hotlink to FFG's image CDN
            this.hotlink_images(downloads);
        }
        else {
            // Otherwise, begin a local file storage loading sequence.
            this.await_mainpage_loading_notification(downloads);
        }
    };
    XwingDataService.prototype.await_mainpage_loading_notification = function (manifest) {
        var _this = this;
        // Wait for the Main Page to verify that the "loading" screen is present
        this.events.subscribe("mainpage", function (event) {
            if (event.message == "loading_controller_present") {
                _this.load_images_from_storage(manifest);
            }
        });
        // Notify the Main Page that we will begin loading images. 
        // The above subscription actually begins the loading - but we have
        // to wait for the Main Page to disable screen interactions with
        // LoadingController
        this.status("loading_images", "Loading artwork.");
    };
    XwingDataService.prototype.load_images_from_storage = function (manifest) {
        var _this = this;
        // Create a list of image filenames to search for locally
        // from a manifest.
        var filenames = [];
        this.create_file_list(manifest, [".png", ".jpg"]).forEach(function (url) {
            var filename = _this.url_to_filename(url);
            if (!filenames.includes(filename)) {
                filenames.push(filename);
            }
        });
        // Find the app's cacheDirectory
        this.file.resolveDirectoryUrl(this.file.cacheDirectory).then(function (value) {
            // Once found, load image files from the app's cache directory
            _this.load_files_from_directory(value, filenames);
        }, function (error) {
            // Something is seriously wrong - we can't load the app cache directory?
            console.log("can't resolve directory url", error);
        });
    };
    XwingDataService.prototype.get_image_by_url = function (url) {
        return __awaiter(this, void 0, void 0, function () {
            var filename, base64url;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(!this.image_urls[url] && this.platform.is('cordova'))) return [3 /*break*/, 2];
                        filename = this.url_to_filename(url);
                        return [4 /*yield*/, this.file.readAsDataURL(this.file.cacheDirectory, filename)];
                    case 1:
                        base64url = _a.sent();
                        this.image_urls[url] = this.sanitizer.bypassSecurityTrustUrl(base64url);
                        _a.label = 2;
                    case 2: return [2 /*return*/, this.image_urls[url]];
                }
            });
        });
    };
    XwingDataService.prototype.load_files_from_directory = function (directory, filenames) {
        var _this = this;
        this.stored_filenames = [];
        this.unavailable.forEach(function (unavailable) {
            var index = filenames.indexOf(_this.url_to_filename(unavailable));
            if (index > -1) {
                filenames.splice(index, 1);
            }
        });
        this.file.listDir(this.file.cacheDirectory, '').then(function (entries) {
            var hits = 0;
            entries.forEach(function (fileEntry) {
                if (filenames.includes(fileEntry.name)) {
                    _this.stored_filenames.push(fileEntry.name);
                    hits += 1;
                }
            });
            _this.status("loading_images_complete", "Loading images complete");
            if (hits < filenames.length) {
                _this.status("images_missing", "Some X-Wing artwork is missing and must be downloaded");
            }
            else {
                _this.initialized = true;
                _this.status("images_complete", "All X-Wing artwork loaded");
            }
        });
    };
    XwingDataService.prototype.missing_file_list = function (manifest) {
        var _this = this;
        // Construct a list of missing image files. Missing image
        // files are any .png or .jpg that do not appear in the image_map, which
        // should have been loaded during load_files_from_directory
        var missing_files = [];
        this.create_file_list(manifest, [".png", ".jpg"]).forEach(function (url) {
            if (!_this.stored_filenames.includes(_this.url_to_filename(url))) {
                missing_files.push(url);
            }
        });
        console.log("Missing files", missing_files);
        return missing_files;
    };
    XwingDataService.prototype.hotlink_images = function (manifest) {
        var _this = this;
        // Hotlink any images in our image_urls structure directly to FFG.
        this.create_file_list(manifest, [".png", ".jpg"]).forEach(function (url) {
            _this.image_urls[url] = url;
        });
        // Notify Main Page that loading images has finished
        this.status("loading_images_complete", "Loading images complete");
        this.status("images_complete", "X-Wing artwork hotlinked");
        this.initialized = true;
    };
    XwingDataService.prototype.download_missing_images = function () {
        var _this = this;
        // Sequentially ownload missing images from FFG image-cdn
        var downloads = { ffg: this.ffg_data, manifest: this.data };
        // Create a list of images to download
        var urls = this.missing_file_list(downloads);
        this.unavailable.forEach(function (unavailable) {
            var index = urls.indexOf(_this.url_to_filename(unavailable));
            if (index > -1) {
                urls.splice(index, 1);
            }
        });
        // Create a sequence of ( { urls, fileEntry })
        //let url_obs = from(urls);
        var file_obs = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(urls).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["concatMap"])(function (url) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(_this.http.downloadFile(url, _this.file.cacheDirectory + _this.url_to_filename(url))).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(undefined); })); }));
        //let zipped = zip(url_obs, file_obs, (url, fileEntry) => ({ url, fileEntry}));
        var done = 0;
        var missing = 0;
        // Subscribe to the downloads
        file_obs.subscribe(function (fileEntry) {
            done = done + 1;
            _this.progress = (done / urls.length) * 100;
            // Check each download
            if (fileEntry) {
                var filename = _this.url_to_filename(fileEntry.name);
                // If a fileEntry is present, mark it as downloaded in our image_map
                _this.status("image_download", "Downloaded " + filename);
                _this.stored_filenames.push(filename);
            }
            else {
                // Otherwise mark it is missing
                missing += 1;
                _this.status("image_download", "Unable to download a file");
            }
        }, function (error) { }, function () {
            if (missing > 0) {
                // If there are images that could not be downloaded, inform the Main Page
                _this.status("image_download_incomplete", "Unable to download one or more images");
            }
            else {
                // Otherwise we are good to go. Mark the service as initialized!
                _this.status("image_download_complete", "X-Wing artwork has been downloaded");
                _this.initialized = true;
            }
        });
    };
    XwingDataService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_ionic_storage__WEBPACK_IMPORTED_MODULE_1__["Storage"], _providers_http_provider__WEBPACK_IMPORTED_MODULE_2__["HttpProvider"], _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["Events"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["Platform"], _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_8__["File"], _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_6__["FileTransfer"],
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__["DomSanitizer"]])
    ], XwingDataService);
    return XwingDataService;
}());



/***/ }),

/***/ "./src/app/services/xwing-import.service.ts":
/*!**************************************************!*\
  !*** ./src/app/services/xwing-import.service.ts ***!
  \**************************************************/
/*! exports provided: XwingImportService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XwingImportService", function() { return XwingImportService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _xwing_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _providers_http_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../providers/http.provider */ "./src/app/providers/http.provider.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var XwingImportService = /** @class */ (function () {
    function XwingImportService(dataService, http) {
        this.dataService = dataService;
        this.http = http;
    }
    XwingImportService.prototype.mangleUpgradeArray = function (pilot) {
        var _this = this;
        // Take xws upgrade list {'astromech': ['r2d2']} and mangle it to
        // [ { type: 'astromech', name: 'r2d2', etc... } ]
        var mangledUpgrades = [];
        if (pilot.upgrades) {
            Object.entries(pilot.upgrades).forEach(function (_a) {
                var upgradeType = _a[0], upgradeArray = _a[1];
                if (Array.isArray(upgradeArray)) {
                    upgradeArray.forEach(function (upgradeName) {
                        if (upgradeType == "force" || upgradeType == "force-power") {
                            upgradeType = "forcepower";
                        }
                        // Skip hardpoints on T70s for xws exports from raithos.github.io
                        if (upgradeType == "hardpoint") {
                            return;
                        }
                        var upgradeData = _this.dataService.getUpgrade(upgradeType, upgradeName);
                        if (upgradeData != null) {
                            upgradeData['type'] = upgradeType;
                            mangledUpgrades.push(upgradeData);
                        }
                        else {
                            throw "ERROR: Upgrade not found - " + upgradeName;
                        }
                    });
                }
            });
        }
        pilot.upgrades = mangledUpgrades;
    };
    XwingImportService.prototype.getUpgradeStateObject = function (upgrade) {
        var upgradeData = {
            side: 0,
            sides: []
        };
        if (upgrade.sides[0].charges) {
            upgradeData["charges"] = upgrade.sides[0].charges.value;
        }
        upgrade.sides.forEach(function (side) {
            upgradeData.sides.push({ ffg: side.ffg });
        });
        return upgradeData;
    };
    XwingImportService.prototype.getPilotStateObject = function (pilot, faction) {
        var xwsPilotData = this.dataService.getPilot(faction, pilot.ship, pilot.id);
        var pilotData = {
            ffg: xwsPilotData.ffg,
            upgrades: [],
            damagecards: [],
            conditions: []
        };
        return pilotData;
    };
    XwingImportService.prototype.injectBonuses = function (pilotData) {
        var _this = this;
        var chargeStat = this.dataService.getFFGCardStat(pilotData.ffg, "charge");
        if (chargeStat) {
            pilotData["charges"] = parseInt(chargeStat.value);
        }
        var stats = ["force", "shields"];
        stats.forEach(function (stat) {
            var statTotal = _this.dataService.getStatTotal(pilotData, stat);
            if (statTotal > 0) {
                pilotData[stat] = statTotal;
            }
        });
    };
    XwingImportService.prototype.injectForceBonuses = function (pilot) {
        // Add any force bonuses to the pilot, creating a force stat if necessary
        pilot.upgrades.forEach(function (upgrade) {
            var side = upgrade.sides[0];
            // Find upgrades that have a force bonus
            if (side.force) {
                // Get the pilot's force stat
                var forceStat = pilot.stats.find(function (element) { return element.type == 'force'; });
                // If no force stat exists, create one
                if (!forceStat) {
                    forceStat = { value: 0, recovers: 0, type: 'force', numbers: [] };
                    pilot.stats.push(forceStat);
                }
                // Add force bonuses
                forceStat.value += side.force.value;
                forceStat.recovers += side.force.recovers;
                forceStat.numbers = Array(forceStat.recovers);
                forceStat.remaining = forceStat.value;
            }
        });
    };
    XwingImportService.prototype.calculatePoints = function (pilot) {
        var pilotCost = pilot.pilot.cost;
        var upgradeCost = 0;
        pilot.upgrades.forEach(function (upgrade) {
            if (upgrade.cost) {
                if ("value" in upgrade.cost) {
                    upgradeCost += upgrade.cost.value;
                }
                if ("variable" in upgrade.cost) {
                    var statValue = "";
                    upgrade.cost.variable = upgrade.cost.variable.toLowerCase();
                    if (upgrade.cost.variable == "size") {
                        statValue = pilot.ship.size;
                    }
                    else if (upgrade.cost.variable == "initiative") {
                        statValue = pilot.pilot.initiative;
                    }
                    else {
                        statValue = pilot.stats.find(function (stat) { return stat.type == upgrade.cost.variable; }).value;
                    }
                    upgradeCost += upgrade.cost.values[statValue];
                }
            }
        });
        pilot.points = pilotCost + upgradeCost;
    };
    XwingImportService.prototype.processFFG = function (data) {
        var _this = this;
        var cost = data.cost;
        var name = data.name;
        var faction = data.faction.name;
        var pilots = [];
        data.deck.forEach(function (pilot) {
            var xwsPilot = _this.dataService.getXwsFromFFG(pilot.pilot_card.id);
            xwsPilot.points = pilot.cost;
            var upgrades = {};
            pilot.slots.forEach(function (upgrade) {
                var upgradeData = _this.dataService.getXwsFromFFG(upgrade.id);
                if (upgrades[upgradeData.type] == undefined) {
                    upgrades[upgradeData.type] = [];
                }
                upgrades[upgradeData.type].push(upgradeData.xws);
            });
            xwsPilot.upgrades = upgrades;
            pilots.push(xwsPilot);
        });
        var squadron = {
            description: data.description,
            faction: data.faction.name.replace(/ /g, '').toLowerCase(),
            name: data.name,
            points: data.cost,
            pilots: pilots
        };
        console.log("FFG SquadBuilder response", data);
        console.log("FFG -> XWS", squadron);
        return this.processXws(squadron);
    };
    XwingImportService.prototype.processYasb = function (data) {
        var _this = this;
        var pilots = [];
        data.pilots.forEach(function (pilot) {
            var yasbPilot = _this.dataService.getYasbPilot(pilot.id);
            var xwsPilot = { id: yasbPilot.xws, ship: yasbPilot.ship, upgrades: {} };
            var upgrades = {};
            for (var i = 0; i < pilot.upgrades.length; i++) {
                var upgrade = pilot.upgrades[i];
                var hardpointRegex = /\d{3}(\:U\.\-?\d+)/g;
                var hardpoints = upgrade.match(hardpointRegex);
                var upgradeNum = -1;
                if (hardpoints && hardpoints[0]) {
                    upgradeNum = parseInt(hardpoints[0].split('.')[1]);
                    // Upgrade number that grants another slot - push to the end
                    var baseUpgradeNum = hardpoints[0].split(':')[0];
                    pilot.upgrades.push(baseUpgradeNum);
                }
                else {
                    upgradeNum = parseInt(upgrade);
                }
                var yasbUpgrade = _this.dataService.getYasbUpgrade(upgradeNum);
                if (yasbUpgrade) {
                    if (upgrades[yasbUpgrade.slot] == undefined) {
                        upgrades[yasbUpgrade.slot] = [];
                    }
                    upgrades[yasbUpgrade.slot].push(yasbUpgrade.xws);
                }
            }
            xwsPilot.upgrades = upgrades;
            pilots.push(xwsPilot);
        });
        var squadron = {
            name: data.name,
            faction: data.faction,
            pilots: pilots
        };
        console.log("YASB squadron", squadron);
        return this.processXws(squadron);
    };
    XwingImportService.prototype.applyXwsShims = function (squadron) {
        var _this = this;
        squadron.pilots.forEach(function (pilot) {
            var pilotShim = _this.dataService.data.shims.xwsPilot[pilot.id];
            if (pilotShim) {
                console.log("Shim applied:", pilot.id, "=>", pilotShim);
                pilot.id = pilotShim;
                pilot.name = pilotShim;
            }
            var shipShim = _this.dataService.data.shims.xwsShip[pilot.ship];
            if (shipShim) {
                console.log("Shim applied:", pilot.ship, "=>", shipShim);
                pilot.ship = shipShim;
            }
            pilot.upgrades.forEach(function (upgrade) {
                var upgradeShim = _this.dataService.data.shims.xwsUpgrade[upgrade.xws];
                if (upgradeShim) {
                    console.log("Shim applied:", upgrade.xws, "=>", upgradeShim);
                    upgrade.xws = upgradeShim;
                }
            });
        });
    };
    XwingImportService.prototype.processXws = function (squadron) {
        var _this = this;
        var squadPoints = 0;
        var squadronData = {
            name: squadron.name,
            faction: squadron.faction,
            damagediscard: [],
            damagedeck: this.dataService.getDamageDeck(),
            pilots: []
        };
        // Transform upgrade array in xws data source to 
        // make it easier to grab data
        squadron.pilots.forEach(function (pilot) {
            _this.mangleUpgradeArray(pilot);
        });
        squadron.pilots.forEach(function (pilot) {
            // Generate a pilot object
            var pilotData = _this.getPilotStateObject(pilot, squadron.faction);
            _this.applyXwsShims(squadron);
            // Process xws data source pilot
            pilot.upgrades.forEach(function (upgrade) {
                pilotData.upgrades.push(_this.getUpgradeStateObject(upgrade));
            });
            _this.injectBonuses(pilotData);
            squadronData.pilots.push(pilotData);
        });
        // Assign ID tokens and enumerate pilots
        for (var i = 0; i < squadronData.pilots.length; i++) {
            squadronData.pilots[i].idNumber = i + 1;
            // num will never change and is used for Angular router
            squadronData.pilots[i].num = squadronData.pilots[i].idNumber;
        }
        return squadronData;
    };
    XwingImportService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__["XwingDataService"],
            _providers_http_provider__WEBPACK_IMPORTED_MODULE_2__["HttpProvider"]])
    ], XwingImportService);
    return XwingImportService;
}());



/***/ }),

/***/ "./src/app/services/xwing-state.service.ts":
/*!*************************************************!*\
  !*** ./src/app/services/xwing-state.service.ts ***!
  \*************************************************/
/*! exports provided: XwingStateService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XwingStateService", function() { return XwingStateService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _xwing_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var XwingStateService = /** @class */ (function () {
    function XwingStateService(dataService, events, storage, toastController) {
        this.dataService = dataService;
        this.events = events;
        this.storage = storage;
        this.toastController = toastController;
        this.initialized = false;
        this.squadrons = [];
        this.snapshots = [];
    }
    XwingStateService.prototype.reset = function () {
        this.squadrons = [];
        this.snapshots = [];
        this.initialized = false;
    };
    XwingStateService.prototype.restoreFromDisk = function () {
        return __awaiter(this, void 0, void 0, function () {
            var snapshots, lastSnapshot;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.ready()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.storage.get("snapshots")];
                    case 2:
                        snapshots = _a.sent();
                        if (snapshots) {
                            this.snapshots = snapshots;
                            lastSnapshot = JSON.parse(JSON.stringify(this.snapshots[this.snapshots.length - 1]));
                            if (lastSnapshot.squadrons) {
                                this.squadrons = lastSnapshot.squadrons;
                            }
                            console.log("Squadrons restored", this.squadrons);
                            this.initialized = true;
                        }
                        else {
                            this.initialized = false;
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    XwingStateService.prototype.getLastSnapshotTime = function () {
        return this.snapshots[this.snapshots.length - 1].time;
    };
    XwingStateService.prototype.resetSquadron = function (squadronNum) {
        var _this = this;
        var squadron = this.squadrons[squadronNum];
        squadron.pointsDestroyed = 0;
        squadron.damagediscard = [];
        squadron.damagedeck = this.dataService.getDamageDeck();
        this.shuffleDamageDeck(squadronNum);
        squadron.pilots.forEach(function (pilot) {
            pilot.damagecards = [];
            pilot.conditions = [];
            if ("shields" in pilot) {
                pilot.shields = _this.dataService.getStatTotal(pilot, "shields");
            }
            if ("force" in pilot) {
                pilot.force = _this.dataService.getStatTotal(pilot, "force");
            }
            if ("charges" in pilot) {
                var chargeStat = _this.dataService.getFFGCardStat(pilot.ffg, "charge");
                pilot.charges = chargeStat.value;
            }
            pilot.upgrades.forEach(function (upgrade) {
                upgrade.side = 0;
                if ("charges" in upgrade) {
                    var chargeStat = _this.dataService.getFFGCardStat(upgrade.sides[0].ffg, "charge");
                    upgrade.charges = chargeStat.value;
                }
            });
        });
        this.snapshot();
    };
    XwingStateService.prototype.getPilotState = function (squadronNum, pilotNum) {
        var squadron = this.squadrons[squadronNum];
        return squadron.pilots.find(function (pilot) { return pilot.num == pilotNum; });
    };
    XwingStateService.prototype.getUpgradeState = function (squadronNum, pilotNum, upgradeFFG) {
        var pilot = this.getPilotState(squadronNum, pilotNum);
        var upgrade = pilot.upgrades.find(function (upgrade) {
            var hasSide = false;
            upgrade.sides.forEach(function (side) {
                if (side.ffg == upgradeFFG) {
                    hasSide = true;
                }
            });
            return hasSide;
        });
        return upgrade;
    };
    XwingStateService.prototype.getSquadronPointsDestroyed = function (squadronNum) {
        var _this = this;
        var squadron = this.squadrons[squadronNum];
        var points = 0;
        squadron.pilots.forEach(function (pilot) {
            points += _this.dataService.getPointsDestroyed(pilot);
        });
        return points;
    };
    XwingStateService.prototype.getSquadronPointTotal = function (squadronNum) {
        var _this = this;
        var squadron = this.squadrons[squadronNum];
        var points = 0;
        squadron.pilots.forEach(function (pilot) {
            points += _this.dataService.getPilotPoints(pilot);
        });
        return points;
    };
    XwingStateService.prototype.setUpgradeState = function (squadronNum, pilotNum, upgradeFFG, newData) {
        var pilot = this.getPilotState(squadronNum, pilotNum);
        newData = JSON.parse(JSON.stringify(newData));
        for (var i = 0; i < pilot.upgrades.length; i++) {
            if (pilot.upgrades[i].sides[0].ffg == upgradeFFG) {
                pilot.upgrades[i] = newData;
                pilot.upgrades = JSON.parse(JSON.stringify(pilot.upgrades));
                return;
            }
        }
        // TODO: Firebase update?
    };
    XwingStateService.prototype.rechargeAllRecurring = function (squadronNum) {
        var _this = this;
        var squadron = this.squadrons[squadronNum];
        var recoverCharges = function (obj) {
            if ("charges" in obj) {
                var ffg = obj.ffg;
                if ("side" in obj) {
                    ffg = obj.sides[obj.side].ffg;
                }
                var chargeStat = _this.dataService.getFFGCardStat(ffg, "charge");
                if (chargeStat.recurring) {
                    var maxCharges = chargeStat.value;
                    obj.charges += 1;
                    if (obj.charges > maxCharges) {
                        obj.charges = maxCharges;
                    }
                }
            }
        };
        squadron.pilots.forEach(function (pilot) {
            if ("force" in pilot) {
                var maxForce = _this.dataService.getStatTotal(pilot, "force");
                pilot.force += 1;
                if (pilot.force > maxForce) {
                    pilot.force = maxForce;
                }
            }
            recoverCharges(pilot);
            pilot.upgrades.forEach(function (upgrade) {
                recoverCharges(upgrade);
            });
            pilot.upgrades = JSON.parse(JSON.stringify(pilot.upgrades));
        });
        this.snapshot();
    };
    XwingStateService.prototype.snapshot = function () {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this.snapshots.length >= 5) {
                            this.snapshots.shift();
                        }
                        this.snapshots.push({ time: new Date().toISOString(),
                            squadrons: JSON.parse(JSON.stringify(this.squadrons)) });
                        this.storage.set("snapshots", this.snapshots);
                        console.log("snapshot created", this.snapshots);
                        return [4 /*yield*/, this.toastController.create({
                                message: "Snapshot created " + this.getLastSnapshotTime(),
                                duration: 2000,
                                position: 'bottom'
                            })];
                    case 1:
                        toast = _a.sent();
                        return [2 /*return*/, toast.present()];
                }
            });
        });
    };
    XwingStateService.prototype.snapshotCheck = function () {
        if (this.snapshots.length) {
            var lastSnapshot = this.snapshots[this.snapshots.length - 1];
            if (JSON.stringify(lastSnapshot.squadrons) != JSON.stringify(this.squadrons)) {
                this.snapshot();
            }
        }
    };
    XwingStateService.prototype.undo = function () {
        this.snapshots.pop();
        var snapshot = this.snapshots.pop();
        this.squadrons = snapshot.squadrons;
        this.snapshot();
        return snapshot.time;
    };
    XwingStateService.prototype.addSquadron = function (squadron) {
        squadron.damagedeck = this.dataService.getDamageDeck();
        squadron.damagediscard = [];
        this.squadrons.push(squadron);
        var squadronNum = this.squadrons.length - 1;
        squadron.squadronNum = squadronNum;
        this.shuffleDamageDeck(squadronNum);
        this.initialized = true;
        console.log("Squadron added", squadron);
        this.snapshot();
    };
    XwingStateService.prototype.shuffleDamageDeck = function (squadronNum) {
        return __awaiter(this, void 0, void 0, function () {
            var squadron, newDeck, index, card, toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        squadron = this.squadrons[squadronNum];
                        newDeck = [];
                        while (squadron.damagedeck.length > 0) {
                            index = Math.floor(Math.random() * squadron.damagedeck.length);
                            card = squadron.damagedeck[index];
                            squadron.damagedeck.splice(index, 1);
                            newDeck.push(card);
                        }
                        squadron.damagedeck = newDeck;
                        console.log("Damage deck shuffled", squadron.damagedeck);
                        this.snapshot();
                        return [4 /*yield*/, this.toastController.create({
                                message: "Damage Deck shuffled",
                                duration: 2000,
                                position: 'bottom'
                            })];
                    case 1:
                        toast = _a.sent();
                        return [2 /*return*/, toast.present()];
                }
            });
        });
    };
    XwingStateService.prototype.shuffleDamageDiscard = function (squadronNum) {
        var squadron = this.squadrons[squadronNum];
        squadron.damagediscard.forEach(function (card) {
            squadron.damagedeck.push(card);
        });
        squadron.damagediscard = [];
        this.shuffleDamageDeck(squadron);
    };
    XwingStateService.prototype.discard = function (squadronNum, card) {
        var squadron = this.squadrons[squadronNum];
        squadron.damagediscard.push(card);
    };
    XwingStateService.prototype.draw = function (squadronNum) {
        var squadron = this.squadrons[squadronNum];
        return squadron.damagedeck.shift();
    };
    XwingStateService.prototype.drawHit = function (squadronNum, pilot) {
        var squadron = this.squadrons[squadronNum];
        var card = squadron.damagedeck.shift();
        if (card) {
            card.exposed = false;
            pilot.damagecards.push(card);
            return true;
        }
        else {
            return false;
        }
    };
    XwingStateService.prototype.drawCrit = function (squadronNum, pilot) {
        var squadron = this.squadrons[squadronNum];
        var card = squadron.damagedeck.shift();
        if (card) {
            card.exposed = true;
            pilot.damagecards.push(card);
            return true;
        }
        else {
            return false;
        }
    };
    XwingStateService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__["XwingDataService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Events"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_3__["Storage"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"]])
    ], XwingStateService);
    return XwingStateService;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false
};
/*
 * In development mode, to ignore zone related error stack frames such as
 * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can
 * import the following file, but please comment it out in production mode
 * because it will have performance impact when throw error
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /Users/jchuah/XwingTabled/src/main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);