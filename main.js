(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/@ionic/core/dist/esm/es5/build lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/es5/build lazy ^\.\/.*\.entry\.js$ include: \.entry\.js$ namespace object ***!
  \*********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./0hsmjqf5.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/0hsmjqf5.entry.js",
		2,
		"common",
		132
	],
	"./0hsmjqf5.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/0hsmjqf5.sc.entry.js",
		2,
		"common",
		133
	],
	"./0utrggve.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/0utrggve.entry.js",
		"common",
		58
	],
	"./0utrggve.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/0utrggve.sc.entry.js",
		"common",
		59
	],
	"./1kttiagf.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/1kttiagf.entry.js",
		0,
		"common",
		134
	],
	"./1kttiagf.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/1kttiagf.sc.entry.js",
		0,
		"common",
		135
	],
	"./2g1gy9f9.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/2g1gy9f9.entry.js",
		"common",
		10
	],
	"./2g1gy9f9.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/2g1gy9f9.sc.entry.js",
		"common",
		11
	],
	"./4m739wpj.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/4m739wpj.entry.js",
		"common",
		60
	],
	"./4m739wpj.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/4m739wpj.sc.entry.js",
		"common",
		61
	],
	"./5ey3bs99.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/5ey3bs99.entry.js",
		"common",
		12
	],
	"./5ey3bs99.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/5ey3bs99.sc.entry.js",
		"common",
		13
	],
	"./5u5c8wcw.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/5u5c8wcw.entry.js",
		0,
		"common",
		136
	],
	"./5u5c8wcw.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/5u5c8wcw.sc.entry.js",
		0,
		"common",
		137
	],
	"./6dsdnxyn.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6dsdnxyn.entry.js",
		"common",
		62
	],
	"./6dsdnxyn.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6dsdnxyn.sc.entry.js",
		"common",
		63
	],
	"./6eqoprbr.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6eqoprbr.entry.js",
		0,
		"common",
		138
	],
	"./6eqoprbr.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6eqoprbr.sc.entry.js",
		0,
		"common",
		139
	],
	"./6g4thfnt.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6g4thfnt.entry.js",
		0,
		"common",
		114
	],
	"./6g4thfnt.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6g4thfnt.sc.entry.js",
		0,
		"common",
		115
	],
	"./8q1e6dus.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/8q1e6dus.entry.js",
		"common",
		14
	],
	"./8q1e6dus.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/8q1e6dus.sc.entry.js",
		"common",
		15
	],
	"./a7z8hams.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/a7z8hams.entry.js",
		"common",
		16
	],
	"./a7z8hams.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/a7z8hams.sc.entry.js",
		"common",
		17
	],
	"./adaxrxoq.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/adaxrxoq.entry.js",
		"common",
		116
	],
	"./adaxrxoq.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/adaxrxoq.sc.entry.js",
		"common",
		117
	],
	"./ao2edhxl.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ao2edhxl.entry.js",
		"common",
		18
	],
	"./ao2edhxl.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ao2edhxl.sc.entry.js",
		"common",
		19
	],
	"./av1nxhcg.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/av1nxhcg.entry.js",
		"common",
		20
	],
	"./av1nxhcg.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/av1nxhcg.sc.entry.js",
		"common",
		21
	],
	"./b9hbg5md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/b9hbg5md.entry.js",
		"common",
		64
	],
	"./b9hbg5md.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/b9hbg5md.sc.entry.js",
		"common",
		65
	],
	"./bfxkhdio.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/bfxkhdio.entry.js",
		"common",
		22
	],
	"./bfxkhdio.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/bfxkhdio.sc.entry.js",
		"common",
		23
	],
	"./bneiwm8s.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/bneiwm8s.entry.js",
		"common",
		24
	],
	"./bneiwm8s.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/bneiwm8s.sc.entry.js",
		"common",
		25
	],
	"./bzgyi6uy.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/bzgyi6uy.entry.js",
		"common",
		26
	],
	"./bzgyi6uy.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/bzgyi6uy.sc.entry.js",
		"common",
		27
	],
	"./c2kiol1t.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/c2kiol1t.entry.js",
		"common",
		28
	],
	"./c2kiol1t.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/c2kiol1t.sc.entry.js",
		"common",
		29
	],
	"./c3xilup3.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/c3xilup3.entry.js",
		"common",
		30
	],
	"./c3xilup3.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/c3xilup3.sc.entry.js",
		"common",
		31
	],
	"./coytbtgb.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/coytbtgb.entry.js",
		"common",
		72
	],
	"./coytbtgb.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/coytbtgb.sc.entry.js",
		"common",
		73
	],
	"./cwd9g9my.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/cwd9g9my.entry.js",
		"common",
		66
	],
	"./cwd9g9my.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/cwd9g9my.sc.entry.js",
		"common",
		67
	],
	"./dlyuptke.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/dlyuptke.entry.js",
		0,
		"common",
		142
	],
	"./dlyuptke.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/dlyuptke.sc.entry.js",
		0,
		"common",
		143
	],
	"./dznymaqz.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/dznymaqz.entry.js",
		"common",
		74
	],
	"./dznymaqz.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/dznymaqz.sc.entry.js",
		"common",
		75
	],
	"./eljrbuqs.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/eljrbuqs.entry.js",
		"common",
		76
	],
	"./eljrbuqs.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/eljrbuqs.sc.entry.js",
		"common",
		77
	],
	"./ffukzwt6.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ffukzwt6.entry.js",
		"common",
		124
	],
	"./ffukzwt6.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ffukzwt6.sc.entry.js",
		"common",
		125
	],
	"./fokfxvfn.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/fokfxvfn.entry.js",
		"common",
		68
	],
	"./fokfxvfn.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/fokfxvfn.sc.entry.js",
		"common",
		69
	],
	"./gwiqb6zv.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/gwiqb6zv.entry.js",
		"common",
		32
	],
	"./gwiqb6zv.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/gwiqb6zv.sc.entry.js",
		"common",
		33
	],
	"./hs4xwlox.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/hs4xwlox.entry.js",
		"common",
		34
	],
	"./hs4xwlox.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/hs4xwlox.sc.entry.js",
		"common",
		35
	],
	"./jdcptvrs.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jdcptvrs.entry.js",
		"common",
		78
	],
	"./jdcptvrs.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jdcptvrs.sc.entry.js",
		"common",
		79
	],
	"./jpkvsu5y.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jpkvsu5y.entry.js",
		"common",
		126
	],
	"./jpkvsu5y.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jpkvsu5y.sc.entry.js",
		"common",
		127
	],
	"./jtkjzkgg.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jtkjzkgg.entry.js",
		"common",
		36
	],
	"./jtkjzkgg.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jtkjzkgg.sc.entry.js",
		"common",
		37
	],
	"./jwqvpjte.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jwqvpjte.entry.js",
		"common",
		80
	],
	"./jwqvpjte.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jwqvpjte.sc.entry.js",
		"common",
		81
	],
	"./jzvvnvez.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jzvvnvez.entry.js",
		0,
		"common",
		144
	],
	"./jzvvnvez.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jzvvnvez.sc.entry.js",
		0,
		"common",
		145
	],
	"./l1m0sgjq.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/l1m0sgjq.entry.js",
		"common",
		82
	],
	"./l1m0sgjq.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/l1m0sgjq.sc.entry.js",
		"common",
		83
	],
	"./ladxfuum.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ladxfuum.entry.js",
		0,
		"common",
		146
	],
	"./ladxfuum.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ladxfuum.sc.entry.js",
		0,
		"common",
		147
	],
	"./ludl7zh0.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ludl7zh0.entry.js",
		"common",
		38
	],
	"./ludl7zh0.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ludl7zh0.sc.entry.js",
		"common",
		39
	],
	"./lwxjzkgx.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/lwxjzkgx.entry.js",
		0,
		"common",
		118
	],
	"./lwxjzkgx.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/lwxjzkgx.sc.entry.js",
		0,
		"common",
		119
	],
	"./ly8zbpmk.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ly8zbpmk.entry.js",
		"common",
		40
	],
	"./ly8zbpmk.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ly8zbpmk.sc.entry.js",
		"common",
		41
	],
	"./n5wnzrch.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/n5wnzrch.entry.js",
		"common",
		70
	],
	"./n5wnzrch.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/n5wnzrch.sc.entry.js",
		"common",
		71
	],
	"./neixdayp.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/neixdayp.entry.js",
		"common",
		42
	],
	"./neixdayp.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/neixdayp.sc.entry.js",
		"common",
		43
	],
	"./nr6wcehx.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/nr6wcehx.entry.js",
		"common",
		44
	],
	"./nr6wcehx.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/nr6wcehx.sc.entry.js",
		"common",
		45
	],
	"./o2g4txhh.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/o2g4txhh.entry.js",
		"common",
		84
	],
	"./o2g4txhh.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/o2g4txhh.sc.entry.js",
		"common",
		85
	],
	"./oboc8zd4.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/oboc8zd4.entry.js",
		"common",
		86
	],
	"./oboc8zd4.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/oboc8zd4.sc.entry.js",
		"common",
		87
	],
	"./odqmlmdd.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/odqmlmdd.entry.js",
		"common",
		46
	],
	"./odqmlmdd.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/odqmlmdd.sc.entry.js",
		"common",
		47
	],
	"./okpgrmbb.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/okpgrmbb.entry.js",
		"common",
		48
	],
	"./okpgrmbb.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/okpgrmbb.sc.entry.js",
		"common",
		49
	],
	"./pfpbfexy.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/pfpbfexy.entry.js",
		"common",
		88
	],
	"./pfpbfexy.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/pfpbfexy.sc.entry.js",
		"common",
		89
	],
	"./pubwd8xa.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/pubwd8xa.entry.js",
		"common",
		90
	],
	"./pubwd8xa.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/pubwd8xa.sc.entry.js",
		"common",
		91
	],
	"./qeoxaimy.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qeoxaimy.entry.js",
		2,
		"common",
		148
	],
	"./qeoxaimy.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qeoxaimy.sc.entry.js",
		2,
		"common",
		149
	],
	"./qrxqqhr4.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qrxqqhr4.entry.js",
		"common",
		92
	],
	"./qrxqqhr4.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qrxqqhr4.sc.entry.js",
		"common",
		93
	],
	"./qvwswew4.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qvwswew4.entry.js",
		"common",
		120
	],
	"./qvwswew4.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qvwswew4.sc.entry.js",
		"common",
		121
	],
	"./rsatbj4w.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/rsatbj4w.entry.js",
		"common",
		94
	],
	"./rsatbj4w.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/rsatbj4w.sc.entry.js",
		"common",
		95
	],
	"./soeaphrm.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/soeaphrm.entry.js",
		0,
		"common",
		150
	],
	"./soeaphrm.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/soeaphrm.sc.entry.js",
		0,
		"common",
		151
	],
	"./sqd5wawk.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/sqd5wawk.entry.js",
		0,
		"common",
		152
	],
	"./sqd5wawk.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/sqd5wawk.sc.entry.js",
		0,
		"common",
		153
	],
	"./sw2yobif.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/sw2yobif.entry.js",
		"common",
		50
	],
	"./sw2yobif.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/sw2yobif.sc.entry.js",
		"common",
		51
	],
	"./t547wlk7.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/t547wlk7.entry.js",
		"common",
		122
	],
	"./t547wlk7.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/t547wlk7.sc.entry.js",
		"common",
		123
	],
	"./tluindqz.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tluindqz.entry.js",
		0,
		"common",
		154
	],
	"./tluindqz.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tluindqz.sc.entry.js",
		0,
		"common",
		155
	],
	"./tpeqvzxx.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tpeqvzxx.entry.js",
		"common",
		128
	],
	"./tpeqvzxx.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tpeqvzxx.sc.entry.js",
		"common",
		129
	],
	"./tqgphjq7.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tqgphjq7.entry.js",
		"common",
		52
	],
	"./tqgphjq7.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tqgphjq7.sc.entry.js",
		"common",
		53
	],
	"./tylmm2yl.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tylmm2yl.entry.js",
		"common",
		96
	],
	"./tylmm2yl.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tylmm2yl.sc.entry.js",
		"common",
		97
	],
	"./ucdtgfa9.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ucdtgfa9.entry.js",
		0,
		"common",
		156
	],
	"./ucdtgfa9.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ucdtgfa9.sc.entry.js",
		0,
		"common",
		157
	],
	"./uegz8gm3.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/uegz8gm3.entry.js",
		"common",
		98
	],
	"./uegz8gm3.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/uegz8gm3.sc.entry.js",
		"common",
		99
	],
	"./uetn90ud.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/uetn90ud.entry.js",
		"common",
		100
	],
	"./uetn90ud.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/uetn90ud.sc.entry.js",
		"common",
		101
	],
	"./vbsrxypz.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vbsrxypz.entry.js",
		158
	],
	"./vbsrxypz.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vbsrxypz.sc.entry.js",
		159
	],
	"./vtbkki9o.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vtbkki9o.entry.js",
		"common",
		102
	],
	"./vtbkki9o.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vtbkki9o.sc.entry.js",
		"common",
		103
	],
	"./vxxpn0fi.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vxxpn0fi.entry.js",
		0,
		"common",
		160
	],
	"./vxxpn0fi.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vxxpn0fi.sc.entry.js",
		0,
		"common",
		161
	],
	"./wajpsmly.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/wajpsmly.entry.js",
		"common",
		54
	],
	"./wajpsmly.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/wajpsmly.sc.entry.js",
		"common",
		55
	],
	"./wsfvc8rr.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/wsfvc8rr.entry.js",
		"common",
		56
	],
	"./wsfvc8rr.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/wsfvc8rr.sc.entry.js",
		"common",
		57
	],
	"./x4ue4dpx.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/x4ue4dpx.entry.js",
		0,
		"common",
		162
	],
	"./x4ue4dpx.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/x4ue4dpx.sc.entry.js",
		0,
		"common",
		163
	],
	"./xgnma4yj.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/xgnma4yj.entry.js",
		"common",
		104
	],
	"./xgnma4yj.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/xgnma4yj.sc.entry.js",
		"common",
		105
	],
	"./xnfqzgvy.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/xnfqzgvy.entry.js",
		"common",
		106
	],
	"./xnfqzgvy.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/xnfqzgvy.sc.entry.js",
		"common",
		107
	],
	"./ycyyhg01.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ycyyhg01.entry.js",
		"common",
		108
	],
	"./ycyyhg01.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ycyyhg01.sc.entry.js",
		"common",
		109
	],
	"./ye5age0r.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ye5age0r.entry.js",
		164
	],
	"./ye5age0r.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ye5age0r.sc.entry.js",
		165
	],
	"./yxulgzjp.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/yxulgzjp.entry.js",
		"common",
		110
	],
	"./yxulgzjp.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/yxulgzjp.sc.entry.js",
		"common",
		111
	],
	"./z9nt6ntd.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/z9nt6ntd.entry.js",
		"common",
		130
	],
	"./z9nt6ntd.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/z9nt6ntd.sc.entry.js",
		"common",
		131
	],
	"./zdhyxh0f.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/zdhyxh0f.entry.js",
		"common",
		112
	],
	"./zdhyxh0f.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/zdhyxh0f.sc.entry.js",
		"common",
		113
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		var id = ids[0];
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./node_modules/@ionic/core/dist/esm/es5/build lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./about/about.module": [
		"./src/app/about/about.module.ts"
	],
	"./main/main.module": [
		"./src/app/main/main.module.ts",
		"main-main-module"
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		var id = ids[0];
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/app/about/about.module.ts":
/*!***************************************!*\
  !*** ./src/app/about/about.module.ts ***!
  \***************************************/
/*! exports provided: AboutPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AboutPageModule", function() { return AboutPageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _about_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./about.page */ "./src/app/about/about.page.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var routes = [
    {
        path: '',
        component: _about_page__WEBPACK_IMPORTED_MODULE_5__["AboutPage"]
    }
];
var AboutPageModule = /** @class */ (function () {
    function AboutPageModule() {
    }
    AboutPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes)
            ],
            declarations: [_about_page__WEBPACK_IMPORTED_MODULE_5__["AboutPage"]]
        })
    ], AboutPageModule);
    return AboutPageModule;
}());



/***/ }),

/***/ "./src/app/about/about.page.html":
/*!***************************************!*\
  !*** ./src/app/about/about.page.html ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar>\n    <ion-title>X-Wing Tabled</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content padding>\n  <h3><i>...Because Second Edition has huge cards and too many tokens</i></h3>\n  <p>\n    This app will maintain your card state for The X-Wing Miniatures Game: Second Edition.\n    It is designed to maintain items that are off the play area - cards and shield/charge/force tokens.\n    This app is not a squadron builder. You can import XWS squadron data from places like\n    <a href=\"https://raithos.github.io\">YASB 2.0</a> or Launch Bay Next.\n  </p>\n  <h3>\n    Found a bug or have a suggestion?\n  </h3>\n  <p>\n    Please submit an issue to <a href=\"https://github.com/jychuah/XwingTabled/issues\">the XwingTabled GitHub repo</a>.\n    Better yet, if you have a fix or feature, feel free to fork the repo and submit pull requests!\n  </p>\n  <h3>Local Data Storage</h3>\n  <p>\n    This web app caches some data locally, such as card data or your table state.\n    This means you will be required to download data on first use or when \n    new data is released. The advantage is that if you navigate away from\n    the app in the middle of the game, you don't have to worry about losing\n    your game state.\n  </p>\n  <h3>Artwork and Game Text Use</h3>\n  <p>\n    This app uses artwork from Fantasy Flight's image CDN, open source card\n    and text data from <a href=\"https://github.com/guidokessels/xwing-data2\">Guido Kessel's Xwing Data 2 project</a>,\n    and <a href=\"https://github.com/geordanr/xwing-miniatures-font\">GeordanR's X-Wing Miniatures Font</a>. \n    This app is not distributed with copyright artwork or card data on its own. Data is downloaded and cached\n    upon first use. Artwork is hotlinked from Fantasy Flight for web versions of this application,\n    and downloaded and cached for mobile versions.\n  </p>\n  <ion-fab vertical=\"bottom\" horizontal=\"start\" slot=\"fixed\">\n    <ion-fab-button href=\"../\">\n      <ion-icon name=\"arrow-back\"></ion-icon>\n    </ion-fab-button>\n  </ion-fab>\n</ion-content>\n"

/***/ }),

/***/ "./src/app/about/about.page.scss":
/*!***************************************!*\
  !*** ./src/app/about/about.page.scss ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/about/about.page.ts":
/*!*************************************!*\
  !*** ./src/app/about/about.page.ts ***!
  \*************************************/
/*! exports provided: AboutPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AboutPage", function() { return AboutPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var AboutPage = /** @class */ (function () {
    function AboutPage() {
    }
    AboutPage.prototype.ngOnInit = function () {
    };
    AboutPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-about',
            template: __webpack_require__(/*! ./about.page.html */ "./src/app/about/about.page.html"),
            styles: [__webpack_require__(/*! ./about.page.scss */ "./src/app/about/about.page.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], AboutPage);
    return AboutPage;
}());



/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _modals_pilot_modal_pilot_modal_page__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modals/pilot-modal/pilot-modal.page */ "./src/app/modals/pilot-modal/pilot-modal.page.ts");
/* harmony import */ var _modals_token_modal_token_modal_page__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modals/token-modal/token-modal.page */ "./src/app/modals/token-modal/token-modal.page.ts");
/* harmony import */ var _modal_guard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modal-guard */ "./src/app/modal-guard.ts");
/* harmony import */ var _modals_upgrade_modal_upgrade_modal_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modals/upgrade-modal/upgrade-modal.page */ "./src/app/modals/upgrade-modal/upgrade-modal.page.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var routes = [
    {
        path: '',
        loadChildren: './main/main.module#MainPageModule'
    },
    {
        path: 'pilot/:pilotNum/card',
        component: _modals_pilot_modal_pilot_modal_page__WEBPACK_IMPORTED_MODULE_2__["PilotModalPage"],
        canActivate: [_modal_guard__WEBPACK_IMPORTED_MODULE_4__["ModalGuard"]]
    },
    {
        path: 'pilot/:pilotNum/tokens',
        component: _modals_token_modal_token_modal_page__WEBPACK_IMPORTED_MODULE_3__["TokenModalPage"],
        canActivate: [_modal_guard__WEBPACK_IMPORTED_MODULE_4__["ModalGuard"]]
    },
    {
        path: 'pilot/:pilotNum/upgrade/:upgradeNum',
        component: _modals_upgrade_modal_upgrade_modal_page__WEBPACK_IMPORTED_MODULE_5__["UpgradeModalPage"],
        canActivate: [_modal_guard__WEBPACK_IMPORTED_MODULE_4__["ModalGuard"]]
    },
    {
        path: 'about',
        loadChildren: './about/about.module#AboutPageModule'
    }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forRoot(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-app>\n    <ion-router-outlet main></ion-router-outlet>\n</ion-app>"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var AppComponent = /** @class */ (function () {
    function AppComponent(platform, splashScreen, statusBar) {
        this.platform = platform;
        this.splashScreen = splashScreen;
        this.statusBar = statusBar;
        this.appPages = [
            {
                title: 'Main',
                url: '/main',
                icon: 'home'
            },
            {
                title: 'Other main',
                url: '/loading',
                icon: 'home'
            }
        ];
        this.initializeApp();
    }
    AppComponent.prototype.initializeApp = function () {
        var _this = this;
        this.platform.ready().then(function () {
            _this.statusBar.styleDefault();
            _this.splashScreen.hide();
        });
    };
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.scss */ "./src/app/app.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"],
            _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_2__["SplashScreen"],
            _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_3__["StatusBar"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _services_layout_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./services/layout.service */ "./src/app/services/layout.service.ts");
/* harmony import */ var _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ionic-native/file-transfer/ngx */ "./node_modules/@ionic-native/file-transfer/ngx/index.js");
/* harmony import */ var _providers_http_provider__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./providers/http.provider */ "./src/app/providers/http.provider.ts");
/* harmony import */ var _providers_http_angular_provider__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./providers/http-angular.provider */ "./src/app/providers/http-angular.provider.ts");
/* harmony import */ var _providers_http_native_provider__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./providers/http-native.provider */ "./src/app/providers/http-native.provider.ts");
/* harmony import */ var _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @ionic-native/http/ngx */ "./node_modules/@ionic-native/http/ngx/index.js");
/* harmony import */ var _components_xwing_module__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/xwing.module */ "./src/app/components/xwing.module.ts");
/* harmony import */ var _popovers_popover_module__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./popovers/popover.module */ "./src/app/popovers/popover.module.ts");
/* harmony import */ var _modals_modal_module__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./modals/modal.module */ "./src/app/modals/modal.module.ts");
/* harmony import */ var _about_about_module__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./about/about.module */ "./src/app/about/about.module.ts");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
/* harmony import */ var _services_xwing_import_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./services/xwing-import.service */ "./src/app/services/xwing-import.service.ts");
/* harmony import */ var _modal_guard__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./modal-guard */ "./src/app/modal-guard.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


























var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_9__["AppComponent"],
            ],
            entryComponents: [],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicModule"].forRoot(),
                _app_routing_module__WEBPACK_IMPORTED_MODULE_10__["AppRoutingModule"],
                _ionic_storage__WEBPACK_IMPORTED_MODULE_7__["IonicStorageModule"].forRoot(),
                _angular_common_http__WEBPACK_IMPORTED_MODULE_8__["HttpClientModule"],
                _components_xwing_module__WEBPACK_IMPORTED_MODULE_18__["XwingModule"],
                _modals_modal_module__WEBPACK_IMPORTED_MODULE_20__["ModalModule"],
                _popovers_popover_module__WEBPACK_IMPORTED_MODULE_19__["PopoverModule"],
                _about_about_module__WEBPACK_IMPORTED_MODULE_21__["AboutPageModule"]
            ],
            providers: [
                _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_5__["StatusBar"],
                _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_4__["SplashScreen"],
                { provide: _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouteReuseStrategy"], useClass: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicRouteStrategy"] },
                _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_6__["File"],
                _ionic_storage__WEBPACK_IMPORTED_MODULE_7__["IonicStorageModule"],
                _services_layout_service__WEBPACK_IMPORTED_MODULE_12__["LayoutService"],
                _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_11__["XwingDataService"],
                _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_22__["XwingStateService"],
                _services_xwing_import_service__WEBPACK_IMPORTED_MODULE_23__["XwingImportService"],
                _providers_http_provider__WEBPACK_IMPORTED_MODULE_14__["HttpProvider"],
                _providers_http_angular_provider__WEBPACK_IMPORTED_MODULE_15__["HttpAngularProvider"],
                _providers_http_native_provider__WEBPACK_IMPORTED_MODULE_16__["HttpNativeProvider"],
                _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_17__["HTTP"],
                _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_13__["FileTransfer"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ToastController"],
                _modal_guard__WEBPACK_IMPORTED_MODULE_24__["ModalGuard"]
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_9__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/app.scss":
/*!**************************!*\
  !*** ./src/app/app.scss ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "ion-app {\n  font-size: 1em; }\n"

/***/ }),

/***/ "./src/app/components/action/action.component.html":
/*!*********************************************************!*\
  !*** ./src/app/components/action/action.component.html ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"action\">\n  <xwing-icon [name]=\"action.type\" [class]=\"css_class\"></xwing-icon>\n  <span *ngIf=\"action.linked\">&nbsp;<xwing-icon [name]=\"'linked'\"></xwing-icon>&nbsp;<xws-action [action]=\"action.linked\"></xws-action></span>\n</div>"

/***/ }),

/***/ "./src/app/components/action/action.component.scss":
/*!*********************************************************!*\
  !*** ./src/app/components/action/action.component.scss ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".action {\n  display: inline-block; }\n\n.difficulty-white {\n  color: white; }\n\n.difficulty-red {\n  color: red; }\n\n.difficulty-purple {\n  color: purple; }\n"

/***/ }),

/***/ "./src/app/components/action/action.component.ts":
/*!*******************************************************!*\
  !*** ./src/app/components/action/action.component.ts ***!
  \*******************************************************/
/*! exports provided: ActionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActionComponent", function() { return ActionComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ActionComponent = /** @class */ (function () {
    function ActionComponent() {
        this.css_class = "difficulty-white";
    }
    ActionComponent.prototype.ngOnInit = function () {
        this.css_class = "difficulty-" + this.action.difficulty.toLowerCase();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ActionComponent.prototype, "action", void 0);
    ActionComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-action',
            template: __webpack_require__(/*! ./action.component.html */ "./src/app/components/action/action.component.html"),
            styles: [__webpack_require__(/*! ./action.component.scss */ "./src/app/components/action/action.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], ActionComponent);
    return ActionComponent;
}());



/***/ }),

/***/ "./src/app/components/bonus-stats/bonus-stats.component.html":
/*!*******************************************************************!*\
  !*** ./src/app/components/bonus-stats/bonus-stats.component.html ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<span *ngIf=\"grant.type == 'stat' && grant.value == 'shields'\" class=\"grant-shield\">\n  <xwing-icon [name]=\"'shield'\" class=\"grant-icon\"></xwing-icon><span class=\"bonus-text\">+{{ grant.amount}}</span>\n</span> \n<span *ngIf=\"grant.type == 'stat' && grant.value == 'hull'\" class=\"grant-hull\">\n  <xwing-icon [name]=\"'hull'\" class=\"grant-icon\"></xwing-icon><span class=\"bonus-text\">+{{ grant.amount}}</span>\n</span>"

/***/ }),

/***/ "./src/app/components/bonus-stats/bonus-stats.component.scss":
/*!*******************************************************************!*\
  !*** ./src/app/components/bonus-stats/bonus-stats.component.scss ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-content {\n  background-color: #212020;\n  min-height: 100%;\n  padding: 1vw 1vw 1vw 1vw; }\n\n.bonus-text {\n  padding-left: 0.2vw; }\n\n.grant-shield {\n  color: lightblue; }\n\n.grant-hull {\n  color: yellow; }\n\n.grant-icon {\n  font-weight: 100; }\n"

/***/ }),

/***/ "./src/app/components/bonus-stats/bonus-stats.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/components/bonus-stats/bonus-stats.component.ts ***!
  \*****************************************************************/
/*! exports provided: BonusStatsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BonusStatsComponent", function() { return BonusStatsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var BonusStatsComponent = /** @class */ (function () {
    function BonusStatsComponent() {
        this.grant = {};
    }
    BonusStatsComponent.prototype.ngOnInit = function () {
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], BonusStatsComponent.prototype, "grant", void 0);
    BonusStatsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-bonus-stats',
            template: __webpack_require__(/*! ./bonus-stats.component.html */ "./src/app/components/bonus-stats/bonus-stats.component.html"),
            styles: [__webpack_require__(/*! ./bonus-stats.component.scss */ "./src/app/components/bonus-stats/bonus-stats.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], BonusStatsComponent);
    return BonusStatsComponent;
}());



/***/ }),

/***/ "./src/app/components/condition/condition.component.html":
/*!***************************************************************!*\
  !*** ./src/app/components/condition/condition.component.html ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"condition\" (click)=\"presentConditionPopover()\">\n  <img [src]=\"img_url\">\n</div>"

/***/ }),

/***/ "./src/app/components/condition/condition.component.scss":
/*!***************************************************************!*\
  !*** ./src/app/components/condition/condition.component.scss ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".condition {\n  width: 100%; }\n"

/***/ }),

/***/ "./src/app/components/condition/condition.component.ts":
/*!*************************************************************!*\
  !*** ./src/app/components/condition/condition.component.ts ***!
  \*************************************************************/
/*! exports provided: ConditionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConditionComponent", function() { return ConditionComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _popovers_condition_popover_condition_popover_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../popovers/condition-popover/condition-popover.component */ "./src/app/popovers/condition-popover/condition-popover.component.ts");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




var ConditionComponent = /** @class */ (function () {
    function ConditionComponent(dataService, popoverController) {
        this.dataService = dataService;
        this.popoverController = popoverController;
        this.img_url = "";
    }
    ConditionComponent.prototype.presentConditionPopover = function () {
        return __awaiter(this, void 0, void 0, function () {
            var popover;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.create({
                            component: _popovers_condition_popover_condition_popover_component__WEBPACK_IMPORTED_MODULE_2__["ConditionPopoverComponent"],
                            componentProps: {
                                pilot: this.pilot,
                                condition: this.condition
                            }
                        })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ConditionComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.dataService.get_image_by_url(this.condition.artwork).then(function (url) {
            _this.img_url = url;
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ConditionComponent.prototype, "pilot", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ConditionComponent.prototype, "condition", void 0);
    ConditionComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-condition',
            template: __webpack_require__(/*! ./condition.component.html */ "./src/app/components/condition/condition.component.html"),
            styles: [__webpack_require__(/*! ./condition.component.scss */ "./src/app/components/condition/condition.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_xwing_data_service__WEBPACK_IMPORTED_MODULE_3__["XwingDataService"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"]])
    ], ConditionComponent);
    return ConditionComponent;
}());



/***/ }),

/***/ "./src/app/components/damage-card/damage-card.component.html":
/*!*******************************************************************!*\
  !*** ./src/app/components/damage-card/damage-card.component.html ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-button expand=\"full\" color=\"danger\" *ngIf=\"card.exposed\" (click)=\"presentDamagePopover($event)\">\n  <span *ngIf=\"card.exposed\">{{ card.title }}</span>\n  <xwing-icon [name]=\"'crit'\"></xwing-icon>\n</ion-button>\n<ion-button expand=\"full\" color=\"danger\" fill=\"outline\" *ngIf=\"!card.exposed\" (click)=\"presentDamagePopover($event)\">\n  <span>Damage Card</span>\n  <xwing-icon [name]=\"'hit'\"></xwing-icon>\n</ion-button>\n"

/***/ }),

/***/ "./src/app/components/damage-card/damage-card.component.scss":
/*!*******************************************************************!*\
  !*** ./src/app/components/damage-card/damage-card.component.scss ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".damage-deck-icon {\n  display: inline-block;\n  text-align: center;\n  width: 2em;\n  font-size: 1em;\n  color: red;\n  background-color: black;\n  margin-right: 0.5vw; }\n\n.damage-card {\n  color: white;\n  border: 1px solid red; }\n"

/***/ }),

/***/ "./src/app/components/damage-card/damage-card.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/components/damage-card/damage-card.component.ts ***!
  \*****************************************************************/
/*! exports provided: DamageCardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DamageCardComponent", function() { return DamageCardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _popovers_damage_popover_damage_popover_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../popovers/damage-popover/damage-popover.component */ "./src/app/popovers/damage-popover/damage-popover.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};



var DamageCardComponent = /** @class */ (function () {
    function DamageCardComponent(popoverController) {
        this.popoverController = popoverController;
        this.card = {};
    }
    DamageCardComponent.prototype.ngOnInit = function () {
    };
    DamageCardComponent.prototype.presentDamagePopover = function (ev) {
        return __awaiter(this, void 0, void 0, function () {
            var popover;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.create({
                            component: _popovers_damage_popover_damage_popover_component__WEBPACK_IMPORTED_MODULE_2__["DamagePopoverComponent"],
                            componentProps: {
                                card: this.card,
                                squadron: this.squadron
                            }
                        })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DamageCardComponent.prototype, "card", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DamageCardComponent.prototype, "squadron", void 0);
    DamageCardComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-damage-card',
            template: __webpack_require__(/*! ./damage-card.component.html */ "./src/app/components/damage-card/damage-card.component.html"),
            styles: [__webpack_require__(/*! ./damage-card.component.scss */ "./src/app/components/damage-card/damage-card.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"]])
    ], DamageCardComponent);
    return DamageCardComponent;
}());



/***/ }),

/***/ "./src/app/components/phone-upgrade/phone-upgrade.component.html":
/*!***********************************************************************!*\
  !*** ./src/app/components/phone-upgrade/phone-upgrade.component.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-item (click)=\"showUpgrade()\">\n  <ion-avatar slot=\"start\">\n    <xwing-icon [name]=\"upgrade.type\" class=\"upgrade-avatar\"></xwing-icon>\n  </ion-avatar>\n  {{ upgrade.sides[upgrade.side].title }}\n  <ion-note slot=\"end\" class=\"stat-avatar\">\n    <xws-stat *ngIf=\"upgrade.sides[upgrade.side].charges\" [stat]=\"upgrade.sides[upgrade.side].charges\" class=\"stat\"></xws-stat>\n    <xws-stat *ngIf=\"upgrade.sides[upgrade.side].force\" [stat]=\"upgrade.sides[upgrade.side].force\" [bonus]=\"true\" class=\"stat\"></xws-stat>\n    <xws-bonus-stats *ngFor=\"let grant of upgrade.sides[upgrade.side].grants\" [grant]=\"grant\" class=\"stat\"></xws-bonus-stats>\n  </ion-note>\n</ion-item>"

/***/ }),

/***/ "./src/app/components/phone-upgrade/phone-upgrade.component.scss":
/*!***********************************************************************!*\
  !*** ./src/app/components/phone-upgrade/phone-upgrade.component.scss ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-content {\n  background-color: #212020;\n  min-height: 100%;\n  padding: 1vw 1vw 1vw 1vw; }\n\nion-item {\n  --ion-item-background: #282828 !important;\n  --ion-item-color: white !important;\n  --ion-text-color: white !important;\n  --border-color: #666666 !important; }\n\n.stat-avatar {\n  font-size: 1.25em; }\n\n.upgrade-avatar {\n  font-size: 2em; }\n\n.stat {\n  margin-left: 0.2em; }\n"

/***/ }),

/***/ "./src/app/components/phone-upgrade/phone-upgrade.component.ts":
/*!*********************************************************************!*\
  !*** ./src/app/components/phone-upgrade/phone-upgrade.component.ts ***!
  \*********************************************************************/
/*! exports provided: PhoneUpgradeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PhoneUpgradeComponent", function() { return PhoneUpgradeComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var PhoneUpgradeComponent = /** @class */ (function () {
    function PhoneUpgradeComponent(dataService, modalController, events, state, router) {
        this.dataService = dataService;
        this.modalController = modalController;
        this.events = events;
        this.state = state;
        this.router = router;
        this.upgrade = {};
    }
    PhoneUpgradeComponent.prototype.ngOnInit = function () {
    };
    PhoneUpgradeComponent.prototype.showUpgrade = function () {
        this.router.navigateByUrl('/pilot/' + this.pilotNum + "/upgrade/" + this.upgrade.num);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], PhoneUpgradeComponent.prototype, "upgrade", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], PhoneUpgradeComponent.prototype, "pilotNum", void 0);
    PhoneUpgradeComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-phone-upgrade',
            template: __webpack_require__(/*! ./phone-upgrade.component.html */ "./src/app/components/phone-upgrade/phone-upgrade.component.html"),
            styles: [__webpack_require__(/*! ./phone-upgrade.component.scss */ "./src/app/components/phone-upgrade/phone-upgrade.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__["XwingDataService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Events"],
            _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_3__["XwingStateService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"]])
    ], PhoneUpgradeComponent);
    return PhoneUpgradeComponent;
}());



/***/ }),

/***/ "./src/app/components/pilot/pilot.component.html":
/*!*******************************************************!*\
  !*** ./src/app/components/pilot/pilot.component.html ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div [class]=\"'pilot' + layout.getClass()\">\n  <div [class]=\"'pilot-header' + layout.getClass()\">\n    <xwing-ship [name]=\"pilot.ship.keyname\" class=\"ship-fw\"></xwing-ship>\n    <div class=\"pilot-header-text\">\n        <span class=\"pilot-initiative\">{{ pilot.pilot.initiative }}</span>\n        {{ pilot.pilot.name }}&nbsp;\n        <span *ngIf=\"pilot.idNumber\"><xwing-icon [name]=\"'token-lock'\"></xwing-icon> {{ pilot.idNumber }}</span>&nbsp;\n        ( {{ pilot.pointsDestroyed }} / {{pilot.points}} )\n    </div>\n  </div>\n  <div [class]=\"'pilot-card' + layout.getClass()\">\n    <div (click)=\"showPilot()\" class=\"item-box\">\n      <img *ngIf=\"pilot.pilot.artwork\" \n          [src]=\"img_url\" \n          [class]=\"'item-pilotart' + layout.getClass()\" />\n      <div *ngIf=\"!pilot.pilot.artwork\" class=\"image-container\">\n        <img *ngIf=\"img_url\" [src]=\"img_url\" class=\"image-constrained\" />\n        <div *ngIf=\"!img_url\" class=\"card-text\">\n          <xwing-text [text]=\"pilot.card_text\"></xwing-text>\n        </div>\n      </div>\n      <div [class]=\"'action-bar' + layout.getClass()\">\n        <xws-action *ngFor=\"let action of pilot.ship.actions\" [action]=\"action\" class=\"action\"></xws-action>\n      </div>\n      <div [class]=\"'stat-block' + layout.getClass()\">\n          <xws-stat *ngFor=\"let stat of pilot.stats\" [stat]=\"stat\" [orientation]=\"'vertical'\"></xws-stat>\n      </div>\n\n    </div>\n    <div (click)=\"showTokens()\" class=\"item-box token-box\">\n      <div class=\"token-header\">\n        Tokens\n        <span\n          *ngIf=\"createMiniTokenDisplay().length == 0\" \n          class=\"none\">\n          &nbsp;(None)\n        </span>\n      </div>\n      <div class=\"token-set\">\n        <xwing-icon \n          *ngFor=\"let token of createMiniTokenDisplay()\"\n          [name]=\"'token-' + token.name + '-outline'\" [class]=\"token.css\"></xwing-icon>\n      </div>\n      <div class=\"token-header\">\n        Cards\n        <span \n          *ngIf=\"pilot.damagecards.length == 0 && pilot.conditions.length == 0\" \n          class=\"none\">\n          &nbsp;(None)\n        </span>\n      </div>\n      <div class=\"conditions\">\n        <div *ngFor=\"let condition of pilot.conditions\">\n          <xwing-icon [name]=\"'condition'\"></xwing-icon>{{ condition.name }}\n        </div>\n      </div>\n      <div class=\"damage-cards\">\n        <div *ngFor=\"let damagecard of pilot.damagecards\">\n          <div *ngIf=\"damagecard.exposed\"><xwing-icon [name]=\"'crit'\"></xwing-icon>{{damagecard.title}}</div>\n        </div>\n        <div class=\"damage-facedown\" *ngIf=\"numFacedown() > 0\">\n          <xwing-icon [name]=\"'hit'\"></xwing-icon>Damage Cards x{{ numFacedown() }}\n        </div>\n      </div>\n    </div>\n  </div>\n  <div *ngIf=\"!layout.isPhone()\" class=\"upgrade-container\">\n    <div [class]=\"'upgrade-group' + layout.getClass()\" *ngFor=\"let group of groups\">\n      <xws-upgrade \n        *ngFor=\"let upgrade of group\" \n        [upgrade]=\"upgrade\" \n        [class]=\"'upgrade' + layout.getClass()\"></xws-upgrade>\n    </div>\n  </div>\n  <div *ngIf=\"layout.isPhone()\" [class]=\"'phone-upgrades' + layout.getClass()\">\n    <ion-list>\n      <xws-phone-upgrade *ngFor=\"let upgrade of pilot.upgrades\" [upgrade]=\"upgrade\" [pilotNum]=\"pilot.num\">\n      </xws-phone-upgrade>\n    </ion-list>\n  </div>\n</div>\n\n"

/***/ }),

/***/ "./src/app/components/pilot/pilot.component.scss":
/*!*******************************************************!*\
  !*** ./src/app/components/pilot/pilot.component.scss ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-content {\n  background-color: #212020;\n  min-height: 100%;\n  padding: 1vw 1vw 1vw 1vw; }\n\n.pilot, .pilot-tablet, .pilot-tablet-portrait, .pilot-phone-portrait, .pilot-phone-landscape {\n  margin-top: 0.2vh;\n  margin-right: 0.2vw;\n  background: #282828;\n  color: white;\n  position: relative; }\n\n.pilot-tablet {\n  font-size: 2.25vh; }\n\n.pilot-tablet-portrait {\n  padding-left: 1vw; }\n\n.pilot-header, .pilot-header-tablet, .pilot-header-tablet-portrait, .pilot-header-phone-portrait {\n  padding-top: 0.5vh;\n  padding-bottom: 0.5vh;\n  font-size: 2vh;\n  height: 4vh;\n  vertical-align: text-bottom; }\n\n.pilot-header-text {\n  display: inline-block;\n  vertical-align: text-bottom; }\n\n.pilot-header-phone-landscape {\n  font-size: 2.5vw;\n  height: 4vw; }\n\n.pilot-initiative {\n  color: orange;\n  font-weight: 900;\n  margin-right: 0.5em; }\n\n.pilot-destroyed-overlay {\n  width: 100%;\n  height: 44vh;\n  position: absolute;\n  background-color: #FF000044;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 10; }\n\n.card-text {\n  font-size: 1.5vh;\n  color: white;\n  padding-left: 0.5vh; }\n\n.upgrade-container {\n  display: inline-block;\n  vertical-align: top; }\n\n.upgrade-group-tablet {\n  display: block; }\n\n.upgrade-tablet {\n  display: inline-block;\n  vertical-align: top; }\n\n.upgrade-group-tablet-portrait {\n  display: inline-block;\n  vertical-align: top; }\n\n.upgrade-tablet-portrait {\n  display: block; }\n\n.upgrade-portrait {\n  display: block; }\n\n.pilot-card, .pilot-card-tablet, .pilot-card-tablet-portrait, .pilot-card-phone-portrait, .pilot-card-phone-landscape {\n  display: inline-block;\n  vertical-align: top;\n  overflow-y: scroll; }\n\n.pilot-card-tablet {\n  width: 27vh;\n  height: 40vh; }\n\n.pilot-card-tablet-portrait {\n  width: 40vw; }\n\n.pilot-card-phone-portrait {\n  padding-left: 1vw; }\n\n.pilot-card-phone-landscape {\n  display: inline-block;\n  width: 50%; }\n\n.pilot-card::-webkit-scrollbar-track, .pilot-card-tablet::-webkit-scrollbar-track, .pilot-card-tablet-portrait::-webkit-scrollbar-track, .pilot-card-phone-portrait::-webkit-scrollbar-track, .pilot-card-phone-landscape::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 0.2vh #282828;\n  border-radius: 0.2vh;\n  background-color: #282828; }\n\n.pilot-card::-webkit-scrollbar, .pilot-card-tablet::-webkit-scrollbar, .pilot-card-tablet-portrait::-webkit-scrollbar, .pilot-card-phone-portrait::-webkit-scrollbar, .pilot-card-phone-landscape::-webkit-scrollbar {\n  width: 0.5vh;\n  background-color: #282828; }\n\n.pilot-card::-webkit-scrollbar-thumb, .pilot-card-tablet::-webkit-scrollbar-thumb, .pilot-card-tablet-portrait::-webkit-scrollbar-thumb, .pilot-card-phone-portrait::-webkit-scrollbar-thumb, .pilot-card-phone-landscape::-webkit-scrollbar-thumb {\n  border-radius: 0.2vh;\n  -webkit-box-shadow: inset 0 0 0.2vh rgba(0, 0, 0, 0.3);\n  background-color: #555; }\n\n.action {\n  padding-left: 0.3em;\n  padding-right: 0.3em; }\n\n.action-bar, .action-bar-tablet, .action-bar-tablet-portrait, .action-bar-phone-portrait, .action-bar-phone-landscape {\n  text-align: center;\n  font-size: 1.25em;\n  padding-top: 0.5vh;\n  padding-bottom: 0.5vh;\n  padding-right: 0.5em;\n  padding-left: 0.5em;\n  max-width: 100%;\n  overflow: wrap; }\n\n.action-bar-tablet-portrait {\n  font-size: 3vw;\n  padding-top: 1vw;\n  padding-bottom: 1vw; }\n\n.action-bar-phone-portrait {\n  font-size: 5vw; }\n\n.stat {\n  display: inline-block; }\n\n.stat-block, .stat-block-tablet, .stat-block-tablet-portrait, .stat-block-phone-portrait, .stat-block-phone-landscape {\n  display: block;\n  width: 100%;\n  text-align: center;\n  margin-bottom: 0.5vh;\n  font-size: 1.25em; }\n\n.stat-block-tablet-portrait {\n  font-size: 3vw; }\n\n.stat-block-phone-portrait {\n  font-size: 5vw; }\n\n.ship-fw {\n  display: inline-block;\n  text-align: center;\n  width: 2em;\n  font-size: 1em; }\n\n.ship-status, .ship-status-portrait {\n  background: #212020;\n  font-size: 2vw;\n  min-height: 2.25vw;\n  height: 2.25vw;\n  padding-left: 0.5vw; }\n\n.ship-status-portrait {\n  font-size: 4vw; }\n\n.image-container {\n  display: inline-block;\n  max-width: 24vh;\n  max-height: 10vh;\n  overflow: hidden; }\n\n.image-constrained {\n  -webkit-clip-path: polygon(0% 0%, 100% 0%, 100% 30%, 0 30%);\n          clip-path: polygon(0% 0%, 100% 0%, 100% 30%, 0 30%); }\n\n.item-pilotart, .item-pilotart-tablet, .item-pilotart-tablet-portrait {\n  vertical-align: top; }\n\n.item-pilotart-tablet {\n  height: 11vh; }\n\n.item-pilotart-tablet-portrait {\n  width: 100%; }\n\n.item-status {\n  display: inline-block;\n  vertical-align: top; }\n\n.damage-cards {\n  font-size: 1em;\n  padding-left: 0.5em; }\n\n.damage-facedown {\n  color: red; }\n\n.conditions {\n  font-size: 2vh;\n  padding-left: 0.5em; }\n\n.phone-upgrades-phone-portrait {\n  display: block; }\n\n.phone-upgrades-phone-landscape {\n  display: inline-block;\n  width: 50%; }\n\n.item-box {\n  border: 0.15em solid #555;\n  margin-bottom: 0.15em;\n  margin-left: 0.15em; }\n\n.token-box {\n  padding: 0.15em 0.15em 0.15em 0.15em;\n  vertical-align: text-top; }\n\n.token-box .token-header {\n    font-size: 0.75em; }\n\n.token-box .token-set {\n    font-size: 1.5em; }\n\n.token-box .none {\n    font-style: italic; }\n\n.tokens, .force, .charge, .shield, .spent {\n  display: inline-block;\n  vertical-align: middle; }\n\n.force {\n  color: blueviolet; }\n\n.charge {\n  color: yellow; }\n\n.shield {\n  color: lightblue; }\n\n.spent {\n  color: red; }\n"

/***/ }),

/***/ "./src/app/components/pilot/pilot.component.ts":
/*!*****************************************************!*\
  !*** ./src/app/components/pilot/pilot.component.ts ***!
  \*****************************************************/
/*! exports provided: PilotComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PilotComponent", function() { return PilotComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _services_layout_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/layout.service */ "./src/app/services/layout.service.ts");
/* harmony import */ var _modals_pilot_modal_pilot_modal_page__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../modals/pilot-modal/pilot-modal.page */ "./src/app/modals/pilot-modal/pilot-modal.page.ts");
/* harmony import */ var _modals_token_modal_token_modal_page__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../modals/token-modal/token-modal.page */ "./src/app/modals/token-modal/token-modal.page.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};











var PilotComponent = /** @class */ (function () {
    function PilotComponent(dataService, modalController, platform, events, layout, state, router, ngZone) {
        this.dataService = dataService;
        this.modalController = modalController;
        this.platform = platform;
        this.events = events;
        this.layout = layout;
        this.state = state;
        this.router = router;
        this.ngZone = ngZone;
        this.groups = [];
        this.img_url = null;
        this.shields = null;
        this.charges = null;
        this.force = null;
    }
    PilotComponent.prototype.getStatString = function (statname) {
        this.pilot.ship.stats.forEach(function (stat) {
            if (stat['type'] == statname) {
                if (stat.value != stat.remaining) {
                    return "(" + stat.remaining + ")";
                }
                else {
                    return stat.value;
                }
            }
        });
        return "";
    };
    PilotComponent.prototype.ngOnInit = function () {
        var _this = this;
        var numGroups = this.pilot.upgrades >= 9 ? 3 : 2;
        var groupSize = Math.ceil(this.pilot.upgrades.length / numGroups);
        for (var i = 0; i < numGroups; i++) {
            var group_1 = [];
            for (var j = 0; j < groupSize; j++) {
                var index = i * groupSize + j;
                if (this.pilot.upgrades[index]) {
                    group_1.push(this.pilot.upgrades[index]);
                }
            }
            this.groups.push(group_1);
        }
        var group = [];
        var get_url = this.pilot.pilot.artwork;
        if (!get_url) {
            get_url = this.pilot.pilot.image;
        }
        if (get_url) {
            this.dataService.get_image_by_url(get_url).then(function (url) {
                _this.img_url = url;
            });
        }
    };
    PilotComponent.prototype.numFacedown = function () {
        if (this.pilot.damagecards) {
            var facedown = this.pilot.damagecards.filter(function (card) { return !card.exposed; });
            if (facedown) {
                return facedown.length;
            }
        }
        return 0;
    };
    PilotComponent.prototype.createTokens = function (stat, tokenType) {
        var tokens = [];
        if (!stat) {
            return tokens;
        }
        for (var i = 0; i < stat.remaining; i++) {
            tokens.push({
                name: tokenType,
                css: tokenType
            });
        }
        for (var i = 0; i < stat.value - stat.remaining; i++) {
            tokens.push({
                name: tokenType,
                css: tokenType + ' spent'
            });
        }
        return tokens;
    };
    PilotComponent.prototype.createMiniTokenDisplay = function () {
        var tokens = [];
        // Find stats with tokens to display
        tokens = tokens.concat(this.createTokens(this.pilot.stats.find(function (stat) { return stat.type == 'shields'; }), 'shield'));
        tokens = tokens.concat(this.createTokens(this.pilot.stats.find(function (stat) { return stat.type == 'charges'; }), 'charge'));
        tokens = tokens.concat(this.createTokens(this.pilot.stats.find(function (stat) { return stat.type == 'force'; }), 'force'));
        return tokens;
    };
    PilotComponent.prototype.presentPilotModal = function () {
        return __awaiter(this, void 0, void 0, function () {
            var stateString, modal, data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        stateString = JSON.stringify(this.pilot);
                        return [4 /*yield*/, this.modalController.create({
                                component: _modals_pilot_modal_pilot_modal_page__WEBPACK_IMPORTED_MODULE_3__["PilotModalPage"],
                                componentProps: {
                                    pilot: this.pilot,
                                }
                            })];
                    case 1:
                        modal = _a.sent();
                        return [4 /*yield*/, modal.present()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, modal.onWillDismiss()];
                    case 3:
                        data = (_a.sent()).data;
                        if (stateString != JSON.stringify(this.pilot)) {
                            this.state.snapshot();
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    PilotComponent.prototype.presentTokenModal = function () {
        return __awaiter(this, void 0, void 0, function () {
            var stateString, modal, data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        stateString = JSON.stringify(this.pilot);
                        return [4 /*yield*/, this.modalController.create({
                                component: _modals_token_modal_token_modal_page__WEBPACK_IMPORTED_MODULE_4__["TokenModalPage"],
                                componentProps: {
                                    pilot: this.pilot,
                                }
                            })];
                    case 1:
                        modal = _a.sent();
                        return [4 /*yield*/, modal.present()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, modal.onWillDismiss()];
                    case 3:
                        data = (_a.sent()).data;
                        if (stateString != JSON.stringify(this.pilot)) {
                            this.state.snapshot();
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    PilotComponent.prototype.showPilot = function () {
        if (this.layout.isPhone()) {
            this.router.navigateByUrl('pilot/' + this.pilot.num + '/card');
        }
        else {
            this.presentPilotModal();
        }
    };
    PilotComponent.prototype.showTokens = function () {
        if (this.layout.isPhone()) {
            this.router.navigateByUrl('pilot/' + this.pilot.num + '/tokens');
        }
        else {
            this.presentTokenModal();
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], PilotComponent.prototype, "pilot", void 0);
    PilotComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-pilot',
            template: __webpack_require__(/*! ./pilot.component.html */ "./src/app/components/pilot/pilot.component.html"),
            styles: [__webpack_require__(/*! ./pilot.component.scss */ "./src/app/components/pilot/pilot.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__["XwingDataService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["Events"],
            _services_layout_service__WEBPACK_IMPORTED_MODULE_2__["LayoutService"],
            _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_6__["XwingStateService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]])
    ], PilotComponent);
    return PilotComponent;
}());



/***/ }),

/***/ "./src/app/components/stat/stat.component.html":
/*!*****************************************************!*\
  !*** ./src/app/components/stat/stat.component.html ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div [class]=\"stat.type\">\n  <div [class]=\"orientation\">\n    <xwing-icon [name]=\"stat.icon ? stat.icon : stat.type\"></xwing-icon>\n  </div>\n  <div [class]=\"orientation\">\n    <span *ngIf=\"bonus\">+{{stat.value}}</span>\n    <span *ngIf=\"stat.type == 'attack'\">\n      {{ stat.value }}\n    </span>\n    <span *ngIf=\"!bonus && stat.type != 'attack'\">\n      <span [class]=\"stat.remaining != stat.value ? 'underline' : ''\">{{ stat.remaining }}</span>\n    </span> \n    <span *ngIf=\"stat.recovers\">\n      <xwing-icon *ngFor=\"let number of stat.numbers\" [name]=\"'recurring'\"></xwing-icon>\n    </span>\n  </div>\n  <div *ngIf=\"stat.minrange\" [class]=\"orientation\">\n    <xwing-icon *ngIf=\"stat.ordnance\" [name]=\"'rangebonusindicator'\"></xwing-icon>\n    <span class=\"attack-range\">{{ stat.minrange }}-{{ stat.maxrange }}</span>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/components/stat/stat.component.scss":
/*!*****************************************************!*\
  !*** ./src/app/components/stat/stat.component.scss ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".stats, .agility, .attack, .hull, .charges, .force, .shields {\n  padding-left: 0.1vh;\n  padding-right: 0.1vh;\n  display: inline-block; }\n\n.vertical {\n  display: block;\n  width: 1.5em;\n  text-align: center; }\n\n.horizontal {\n  display: inline-block;\n  padding-left: 0.1vw;\n  padding-right: 0.1vw; }\n\n.underline {\n  text-decoration: underline; }\n\n.agility {\n  color: green; }\n\n.attack {\n  color: red; }\n\n.hull {\n  color: yellow; }\n\n.charges {\n  color: yellow; }\n\n.force {\n  color: blueviolet; }\n\n.shields {\n  color: lightblue; }\n\n.attack-range {\n  color: white; }\n"

/***/ }),

/***/ "./src/app/components/stat/stat.component.ts":
/*!***************************************************!*\
  !*** ./src/app/components/stat/stat.component.ts ***!
  \***************************************************/
/*! exports provided: StatComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StatComponent", function() { return StatComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var StatComponent = /** @class */ (function () {
    function StatComponent() {
        this.orientation = "horizontal";
        this.bonus = false;
    }
    StatComponent.prototype.ngOnInit = function () {
        if (this.stat.type == "attack") {
            this.stat.icon = this.stat.arc;
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], StatComponent.prototype, "stat", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], StatComponent.prototype, "orientation", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], StatComponent.prototype, "bonus", void 0);
    StatComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-stat',
            template: __webpack_require__(/*! ./stat.component.html */ "./src/app/components/stat/stat.component.html"),
            styles: [__webpack_require__(/*! ./stat.component.scss */ "./src/app/components/stat/stat.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], StatComponent);
    return StatComponent;
}());



/***/ }),

/***/ "./src/app/components/token-display/token-display.component.html":
/*!***********************************************************************!*\
  !*** ./src/app/components/token-display/token-display.component.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<xwing-icon [name]=\"'token-' + name + '-outline'\" [class]=\"name\" *ngFor=\"let number of available\" (click)=\"spend()\"></xwing-icon>\n<xwing-icon [name]=\"'token-' + name + '-outline'\" class=\"spent\" *ngFor=\"let number of spent\" (click)=\"recover()\"></xwing-icon>\n<div *ngIf=\"data.recovers > 0\" class=\"recover-container\">\n    <ion-button (click)=\"recoverRecurring()\" class=\"recover-button\">Recover&nbsp;<xwing-icon [name]=\"name\"></xwing-icon><xwing-icon [name]=\"'recurring'\" *ngFor=\"let number of data.numbers\"></xwing-icon></ion-button>\n</div>\n"

/***/ }),

/***/ "./src/app/components/token-display/token-display.component.scss":
/*!***********************************************************************!*\
  !*** ./src/app/components/token-display/token-display.component.scss ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".token-display {\n  display: block; }\n\n.tokens, .force, .charge, .shield, .spent {\n  display: inline-block;\n  vertical-align: middle; }\n\n.force {\n  color: blueviolet; }\n\n.charge {\n  color: yellow; }\n\n.shield {\n  color: lightblue; }\n\n.spent {\n  color: red; }\n\n.recover-container {\n  height: 100%;\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 0.25em;\n  padding-bottom: 0.25em; }\n\n.recover-button {\n  vertical-align: middle; }\n"

/***/ }),

/***/ "./src/app/components/token-display/token-display.component.ts":
/*!*********************************************************************!*\
  !*** ./src/app/components/token-display/token-display.component.ts ***!
  \*********************************************************************/
/*! exports provided: TokenDisplayComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TokenDisplayComponent", function() { return TokenDisplayComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var TokenDisplayComponent = /** @class */ (function () {
    function TokenDisplayComponent() {
        this.data = {};
        this.change = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.spent = [];
        this.available = [];
        this.recovers = [];
    }
    TokenDisplayComponent.prototype.makeTokens = function () {
        this.available = new Array(this.data.remaining);
        this.spent = new Array(this.data.value - this.data.remaining);
        this.change.emit(this.data);
    };
    TokenDisplayComponent.prototype.spend = function () {
        this.data.remaining -= 1;
        this.makeTokens();
    };
    TokenDisplayComponent.prototype.recover = function () {
        this.data.remaining += 1;
        this.makeTokens();
    };
    TokenDisplayComponent.prototype.recoverRecurring = function () {
        this.data.remaining += this.data.recovers;
        if (this.data.remaining > this.data.value) {
            this.data.remaining = this.data.value;
        }
        this.makeTokens();
    };
    TokenDisplayComponent.prototype.ngOnInit = function () {
        this.makeTokens();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], TokenDisplayComponent.prototype, "name", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], TokenDisplayComponent.prototype, "data", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], TokenDisplayComponent.prototype, "change", void 0);
    TokenDisplayComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-token-display',
            template: __webpack_require__(/*! ./token-display.component.html */ "./src/app/components/token-display/token-display.component.html"),
            styles: [__webpack_require__(/*! ./token-display.component.scss */ "./src/app/components/token-display/token-display.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], TokenDisplayComponent);
    return TokenDisplayComponent;
}());



/***/ }),

/***/ "./src/app/components/upgrade/upgrade.component.html":
/*!***********************************************************!*\
  !*** ./src/app/components/upgrade/upgrade.component.html ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div [class]=\"'upgrade' + layout.getClass()\" (click)=\"showUpgrade()\">\n  <div *ngIf=\"artwork\" class=\"upgrade-img-container\">\n    <img [src]=\"img_urls[upgrade.side]\" [class]=\"'upgrade-img' + layout.getClass()\"/>\n  </div>\n  <div *ngIf=\"!artwork\" class=\"upgrade-alt-container\">\n    <img [src]=\"img_urls[upgrade.side]\" [class]=\"img_class\"/>\n  </div>\n  <div class=\"upgrade-name\">\n    {{ upgrade.sides[upgrade.side].title }}\n  </div>\n  <div class=\"upgrade-info-block\">\n    <div class=\"upgrade-info-block-left\">\n      <xws-stat *ngIf=\"upgrade.sides[upgrade.side].attack\" [stat]=\"upgrade.sides[upgrade.side].attack\"></xws-stat>\n      <xws-action *ngFor=\"let action of upgrade.sides[upgrade.side].actions\" [action]=\"action\" class=\"action-box\"></xws-action>\n    </div>\n    <div class=\"upgrade-info-block-right\">\n      <xws-stat *ngIf=\"upgrade.sides[upgrade.side].charges\" [stat]=\"upgrade.sides[upgrade.side].charges\" class=\"stat\"></xws-stat>\n      <xws-stat *ngIf=\"upgrade.sides[upgrade.side].force\" [stat]=\"upgrade.sides[upgrade.side].force\" [bonus]=\"true\" class=\"stat\"></xws-stat>\n      <xwing-icon *ngIf=\"upgrade['type'] == 'configuration'\" [name]=\"'config'\" class=\"stat\"></xwing-icon>\n      <xws-bonus-stats *ngFor=\"let grant of upgrade.sides[upgrade.side].grants\" [grant]=\"grant\" class=\"stat\"></xws-bonus-stats>\n    </div>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/components/upgrade/upgrade.component.scss":
/*!***********************************************************!*\
  !*** ./src/app/components/upgrade/upgrade.component.scss ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-content {\n  background-color: #212020;\n  min-height: 100%;\n  padding: 1vw 1vw 1vw 1vw; }\n\n.upgrade, .upgrade-tablet, .upgrade-tablet-portrait {\n  font-size: 2vh;\n  background: #212020;\n  color: white;\n  margin-right: 0.2vh;\n  margin-bottom: 0.2vh; }\n\n.upgrade-tablet-portrait {\n  font-size: 2vw; }\n\n.upgrade-img-container {\n  display: block; }\n\n.upgrade-alt-container {\n  display: block;\n  overflow: hidden;\n  height: 10vh;\n  width: 40vh;\n  margin-right: -24vh; }\n\n.img-alt {\n  margin-left: -24vh; }\n\n.img-alt-config {\n  margin-left: -2vh; }\n\n.upgrade-img, .upgrade-img-tablet, .upgrade-img-tablet-portrait {\n  display: block; }\n\n.upgrade-img-tablet {\n  height: 12.5vh; }\n\n.upgrade-img-tablet-portrait {\n  width: 26vw; }\n\n.upgrade-name {\n  width: 100%;\n  text-align: center;\n  vertical-align: center;\n  padding-top: 0.25vh;\n  padding-bottom: 0.25vh; }\n\n.upgrade-info-block {\n  position: relative;\n  bottom: 0%;\n  box-sizing: border-box;\n  height: 3vh;\n  padding-top: 0.5vh;\n  padding-bottom: 0.5vh;\n  padding-right: 0.5vw;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  font-size: 2vh; }\n\n.upgrade-info-block-left {\n  display: inline-block; }\n\n.upgrade-info-block-right {\n  display: inline-block; }\n\n.upgrade-filler {\n  font-size: 1.5em; }\n\n.action-box {\n  border-left: 1px solid lightgray;\n  padding-left: 0.4em;\n  padding-right: 0.2em; }\n\n.stat {\n  margin-left: 0.1em; }\n"

/***/ }),

/***/ "./src/app/components/upgrade/upgrade.component.ts":
/*!*********************************************************!*\
  !*** ./src/app/components/upgrade/upgrade.component.ts ***!
  \*********************************************************/
/*! exports provided: UpgradeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpgradeComponent", function() { return UpgradeComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _services_layout_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/layout.service */ "./src/app/services/layout.service.ts");
/* harmony import */ var _modals_upgrade_modal_upgrade_modal_page__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../modals/upgrade-modal/upgrade-modal.page */ "./src/app/modals/upgrade-modal/upgrade-modal.page.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







var UpgradeComponent = /** @class */ (function () {
    function UpgradeComponent(dataService, modalController, events, layout, state) {
        this.dataService = dataService;
        this.modalController = modalController;
        this.events = events;
        this.layout = layout;
        this.state = state;
        this.upgrade = {};
        this.img_class = "img-alt";
        this.img_urls = ["", ""];
        this.artwork = true;
    }
    UpgradeComponent.prototype.presentUpgradeModal = function () {
        return __awaiter(this, void 0, void 0, function () {
            var stateString, modal, data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        stateString = JSON.stringify(this.upgrade);
                        return [4 /*yield*/, this.modalController.create({
                                component: _modals_upgrade_modal_upgrade_modal_page__WEBPACK_IMPORTED_MODULE_3__["UpgradeModalPage"],
                                componentProps: {
                                    upgrade: this.upgrade
                                }
                            })];
                    case 1:
                        modal = _a.sent();
                        return [4 /*yield*/, modal.present()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, modal.onWillDismiss()];
                    case 3:
                        data = (_a.sent()).data;
                        if (stateString != JSON.stringify(this.upgrade)) {
                            this.state.snapshot();
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    UpgradeComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (this.upgrade['type'] == "configuration") {
            this.img_class = "img-alt-config";
        }
        var _loop_1 = function (i) {
            var img_url = null;
            if (this_1.artwork && this_1.upgrade.sides[i].artwork) {
                img_url = this_1.upgrade.sides[i].artwork;
            }
            else if (this_1.upgrade.sides[i].image) {
                img_url = this_1.upgrade.sides[i].image;
                this_1.artwork = false;
            }
            if (img_url) {
                this_1.dataService.get_image_by_url(img_url).then(function (url) {
                    _this.img_urls[i] = url;
                });
            }
        };
        var this_1 = this;
        for (var i = 0; i < this.upgrade.sides.length; i++) {
            _loop_1(i);
        }
    };
    UpgradeComponent.prototype.showUpgrade = function () {
        this.presentUpgradeModal();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], UpgradeComponent.prototype, "upgrade", void 0);
    UpgradeComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-upgrade',
            template: __webpack_require__(/*! ./upgrade.component.html */ "./src/app/components/upgrade/upgrade.component.html"),
            styles: [__webpack_require__(/*! ./upgrade.component.scss */ "./src/app/components/upgrade/upgrade.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__["XwingDataService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Events"],
            _services_layout_service__WEBPACK_IMPORTED_MODULE_2__["LayoutService"],
            _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_5__["XwingStateService"]])
    ], UpgradeComponent);
    return UpgradeComponent;
}());



/***/ }),

/***/ "./src/app/components/xwing-icon/xwing-icon.component.html":
/*!*****************************************************************!*\
  !*** ./src/app/components/xwing-icon/xwing-icon.component.html ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<i [class]=\"icon_class\"></i>"

/***/ }),

/***/ "./src/app/components/xwing-icon/xwing-icon.component.scss":
/*!*****************************************************************!*\
  !*** ./src/app/components/xwing-icon/xwing-icon.component.scss ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/xwing-icon/xwing-icon.component.ts":
/*!***************************************************************!*\
  !*** ./src/app/components/xwing-icon/xwing-icon.component.ts ***!
  \***************************************************************/
/*! exports provided: XwingIconComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XwingIconComponent", function() { return XwingIconComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var XwingIconComponent = /** @class */ (function () {
    function XwingIconComponent() {
        this.name = "";
        this.icon_class = "";
    }
    XwingIconComponent_1 = XwingIconComponent;
    XwingIconComponent.mangle = function (text) {
        Object.entries(XwingIconComponent_1.name_map).forEach(function (_a) {
            var key = _a[0], value = _a[1];
            text = text.replace(key, value);
        });
        // Strip spaces
        text = text.replace(/\s+/g, '');
        text = text.toLowerCase();
        return text;
    };
    XwingIconComponent.getClass = function (name) {
        return XwingIconComponent_1.icon_class_template.replace('TEMPLATE', XwingIconComponent_1.mangle(name));
    };
    XwingIconComponent.prototype.ngOnInit = function () {
        this.icon_class = XwingIconComponent_1.getClass(this.name);
    };
    var XwingIconComponent_1;
    XwingIconComponent.name_map = {
        "charges": "charge",
        "Base All": "base-all",
        "Base Small": "base-small",
        "Base Medium": "base-medium",
        "Base Large": "base-large",
        "Critical Hit": "crit",
        "Condition Outline": "condition-outline",
        "Dalan Bank Left": "dalan-bankleft",
        "Dalan Bank Right": "dalan-bankright",
        "Helmet Imperial": "helmet-imperial",
        "Helmet Rebel": "helmet-rebel",
        "Helmet Scum": "helmet-scum",
        "Koiogran Turn": "kturn",
        "IG88D Sloop Left": "ig88d-sloopleft",
        "IG88D Sloop Right": "ig88d-sloopright",
        "Rebel Outline": "rebel-outline",
        "Talon Roll Left": "trollleft",
        "Talon Roll Right": "trollright",
        "Unique Outline": "unique-outline",
        "rebelalliance": "rebel",
        "galacticempire": "empire",
        "scumandvillainy": "scum",
        "configuration": "config"
    };
    XwingIconComponent.icon_class_template = "xwing-miniatures-font xwing-miniatures-font-TEMPLATE";
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], XwingIconComponent.prototype, "name", void 0);
    XwingIconComponent = XwingIconComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xwing-icon',
            template: __webpack_require__(/*! ./xwing-icon.component.html */ "./src/app/components/xwing-icon/xwing-icon.component.html"),
            styles: [__webpack_require__(/*! ./xwing-icon.component.scss */ "./src/app/components/xwing-icon/xwing-icon.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], XwingIconComponent);
    return XwingIconComponent;
}());



/***/ }),

/***/ "./src/app/components/xwing-ship/xwing-ship.component.html":
/*!*****************************************************************!*\
  !*** ./src/app/components/xwing-ship/xwing-ship.component.html ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<i [class]=\"icon_class\"></i>"

/***/ }),

/***/ "./src/app/components/xwing-ship/xwing-ship.component.scss":
/*!*****************************************************************!*\
  !*** ./src/app/components/xwing-ship/xwing-ship.component.scss ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/xwing-ship/xwing-ship.component.ts":
/*!***************************************************************!*\
  !*** ./src/app/components/xwing-ship/xwing-ship.component.ts ***!
  \***************************************************************/
/*! exports provided: XwingShipComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XwingShipComponent", function() { return XwingShipComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var XwingShipComponent = /** @class */ (function () {
    function XwingShipComponent() {
        this.name = "";
        this.icon_class = "";
    }
    XwingShipComponent_1 = XwingShipComponent;
    XwingShipComponent.getClass = function (name) {
        if (XwingShipComponent_1.name_map[name]) {
            name = XwingShipComponent_1.name_map[name];
        }
        return XwingShipComponent_1.icon_class_template.replace('TEMPLATE', name);
    };
    XwingShipComponent.prototype.ngOnInit = function () {
        this.icon_class = XwingShipComponent_1.getClass(this.name);
    };
    var XwingShipComponent_1;
    XwingShipComponent.icon_class_template = "xwing-miniatures-ship xwing-miniatures-ship-TEMPLATE";
    XwingShipComponent.name_map = {
        "tievnsilencer": "tiesilencer",
        "upsilonclasscommandshuttle": "upsilonclassshuttle",
        "mg100starfortress": "mg100starfortresssf17"
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], XwingShipComponent.prototype, "name", void 0);
    XwingShipComponent = XwingShipComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xwing-ship',
            template: __webpack_require__(/*! ./xwing-ship.component.html */ "./src/app/components/xwing-ship/xwing-ship.component.html"),
            styles: [__webpack_require__(/*! ./xwing-ship.component.scss */ "./src/app/components/xwing-ship/xwing-ship.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], XwingShipComponent);
    return XwingShipComponent;
}());



/***/ }),

/***/ "./src/app/components/xwing-text/xwing-text.component.html":
/*!*****************************************************************!*\
  !*** ./src/app/components/xwing-text/xwing-text.component.html ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<span [innerHtml]=\"output\"></span>\n"

/***/ }),

/***/ "./src/app/components/xwing-text/xwing-text.component.scss":
/*!*****************************************************************!*\
  !*** ./src/app/components/xwing-text/xwing-text.component.scss ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/xwing-text/xwing-text.component.ts":
/*!***************************************************************!*\
  !*** ./src/app/components/xwing-text/xwing-text.component.ts ***!
  \***************************************************************/
/*! exports provided: XwingTextComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XwingTextComponent", function() { return XwingTextComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _xwing_icon_xwing_icon_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../xwing-icon/xwing-icon.component */ "./src/app/components/xwing-icon/xwing-icon.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var XwingTextComponent = /** @class */ (function () {
    function XwingTextComponent() {
        this.text = "Test text";
        this.icon_html = "<i class='CLASS'></i>";
        this.output = "";
    }
    XwingTextComponent.prototype.mangle = function (text) {
        var _this = this;
        text = this.stripNumberBrackets(text);
        // Match [Icon]
        var bracketMatches = text.match(/\[[a-zA-Z\s]*\]/g);
        if (bracketMatches) {
            bracketMatches.forEach(function (match) {
                var icon = _this.icon_html.replace('CLASS', _xwing_icon_xwing_icon_component__WEBPACK_IMPORTED_MODULE_1__["XwingIconComponent"].getClass(_this.stripBrackets(match)));
                text = text.replace(match, icon);
            });
        }
        text = text.replace("Action:", "<br /><br /><b>Action:</b>");
        return text;
    };
    XwingTextComponent.prototype.stripNumberBrackets = function (text) {
        var _this = this;
        var numberMatches = text.match(/\[[0-9] \[[a-zA-Z\s]*\]\]/g);
        if (numberMatches) {
            numberMatches.forEach(function (match) {
                text = text.replace(match, _this.stripBrackets(match));
            });
        }
        return text;
    };
    XwingTextComponent.prototype.stripBrackets = function (text) {
        return text.substring(1, text.length - 1);
    };
    XwingTextComponent.prototype.ngOnInit = function () {
        this.output = this.mangle(this.text);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], XwingTextComponent.prototype, "text", void 0);
    XwingTextComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xwing-text',
            template: __webpack_require__(/*! ./xwing-text.component.html */ "./src/app/components/xwing-text/xwing-text.component.html"),
            styles: [__webpack_require__(/*! ./xwing-text.component.scss */ "./src/app/components/xwing-text/xwing-text.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], XwingTextComponent);
    return XwingTextComponent;
}());



/***/ }),

/***/ "./src/app/components/xwing.module.ts":
/*!********************************************!*\
  !*** ./src/app/components/xwing.module.ts ***!
  \********************************************/
/*! exports provided: XwingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XwingModule", function() { return XwingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _xwing_icon_xwing_icon_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./xwing-icon/xwing-icon.component */ "./src/app/components/xwing-icon/xwing-icon.component.ts");
/* harmony import */ var _xwing_ship_xwing_ship_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./xwing-ship/xwing-ship.component */ "./src/app/components/xwing-ship/xwing-ship.component.ts");
/* harmony import */ var _xwing_text_xwing_text_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./xwing-text/xwing-text.component */ "./src/app/components/xwing-text/xwing-text.component.ts");
/* harmony import */ var _pilot_pilot_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pilot/pilot.component */ "./src/app/components/pilot/pilot.component.ts");
/* harmony import */ var _upgrade_upgrade_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./upgrade/upgrade.component */ "./src/app/components/upgrade/upgrade.component.ts");
/* harmony import */ var _action_action_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./action/action.component */ "./src/app/components/action/action.component.ts");
/* harmony import */ var _token_display_token_display_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./token-display/token-display.component */ "./src/app/components/token-display/token-display.component.ts");
/* harmony import */ var _damage_card_damage_card_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./damage-card/damage-card.component */ "./src/app/components/damage-card/damage-card.component.ts");
/* harmony import */ var _condition_condition_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./condition/condition.component */ "./src/app/components/condition/condition.component.ts");
/* harmony import */ var _stat_stat_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./stat/stat.component */ "./src/app/components/stat/stat.component.ts");
/* harmony import */ var _bonus_stats_bonus_stats_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./bonus-stats/bonus-stats.component */ "./src/app/components/bonus-stats/bonus-stats.component.ts");
/* harmony import */ var _phone_upgrade_phone_upgrade_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./phone-upgrade/phone-upgrade.component */ "./src/app/components/phone-upgrade/phone-upgrade.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};















var XwingModule = /** @class */ (function () {
    function XwingModule() {
    }
    XwingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            entryComponents: [],
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonicModule"]
            ],
            declarations: [
                _xwing_icon_xwing_icon_component__WEBPACK_IMPORTED_MODULE_3__["XwingIconComponent"],
                _xwing_ship_xwing_ship_component__WEBPACK_IMPORTED_MODULE_4__["XwingShipComponent"],
                _xwing_text_xwing_text_component__WEBPACK_IMPORTED_MODULE_5__["XwingTextComponent"],
                _pilot_pilot_component__WEBPACK_IMPORTED_MODULE_6__["PilotComponent"],
                _upgrade_upgrade_component__WEBPACK_IMPORTED_MODULE_7__["UpgradeComponent"],
                _action_action_component__WEBPACK_IMPORTED_MODULE_8__["ActionComponent"],
                _token_display_token_display_component__WEBPACK_IMPORTED_MODULE_9__["TokenDisplayComponent"],
                _damage_card_damage_card_component__WEBPACK_IMPORTED_MODULE_10__["DamageCardComponent"],
                _condition_condition_component__WEBPACK_IMPORTED_MODULE_11__["ConditionComponent"],
                _stat_stat_component__WEBPACK_IMPORTED_MODULE_12__["StatComponent"],
                _bonus_stats_bonus_stats_component__WEBPACK_IMPORTED_MODULE_13__["BonusStatsComponent"],
                _phone_upgrade_phone_upgrade_component__WEBPACK_IMPORTED_MODULE_14__["PhoneUpgradeComponent"]
            ],
            exports: [
                _xwing_icon_xwing_icon_component__WEBPACK_IMPORTED_MODULE_3__["XwingIconComponent"],
                _xwing_ship_xwing_ship_component__WEBPACK_IMPORTED_MODULE_4__["XwingShipComponent"],
                _xwing_text_xwing_text_component__WEBPACK_IMPORTED_MODULE_5__["XwingTextComponent"],
                _pilot_pilot_component__WEBPACK_IMPORTED_MODULE_6__["PilotComponent"],
                _upgrade_upgrade_component__WEBPACK_IMPORTED_MODULE_7__["UpgradeComponent"],
                _action_action_component__WEBPACK_IMPORTED_MODULE_8__["ActionComponent"],
                _token_display_token_display_component__WEBPACK_IMPORTED_MODULE_9__["TokenDisplayComponent"],
                _damage_card_damage_card_component__WEBPACK_IMPORTED_MODULE_10__["DamageCardComponent"],
                _condition_condition_component__WEBPACK_IMPORTED_MODULE_11__["ConditionComponent"],
                _stat_stat_component__WEBPACK_IMPORTED_MODULE_12__["StatComponent"],
                _bonus_stats_bonus_stats_component__WEBPACK_IMPORTED_MODULE_13__["BonusStatsComponent"],
                _phone_upgrade_phone_upgrade_component__WEBPACK_IMPORTED_MODULE_14__["PhoneUpgradeComponent"]
            ]
        })
    ], XwingModule);
    return XwingModule;
}());



/***/ }),

/***/ "./src/app/modal-guard.ts":
/*!********************************!*\
  !*** ./src/app/modal-guard.ts ***!
  \********************************/
/*! exports provided: ModalGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalGuard", function() { return ModalGuard; });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ModalGuard = /** @class */ (function () {
    function ModalGuard(state, router) {
        this.state = state;
        this.router = router;
    }
    ModalGuard.prototype.canActivate = function (next, state) {
        if (this.state.initialized) {
            return true;
        }
        // navigate to main page
        this.router.navigate(['/']);
        return false;
    };
    ModalGuard = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_services_xwing_state_service__WEBPACK_IMPORTED_MODULE_1__["XwingStateService"], _angular_router__WEBPACK_IMPORTED_MODULE_0__["Router"]])
    ], ModalGuard);
    return ModalGuard;
}());



/***/ }),

/***/ "./src/app/modals/modal.module.ts":
/*!****************************************!*\
  !*** ./src/app/modals/modal.module.ts ***!
  \****************************************/
/*! exports provided: ModalModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalModule", function() { return ModalModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _xws_modal_xws_modal_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./xws-modal/xws-modal.module */ "./src/app/modals/xws-modal/xws-modal.module.ts");
/* harmony import */ var _upgrade_modal_upgrade_modal_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./upgrade-modal/upgrade-modal.module */ "./src/app/modals/upgrade-modal/upgrade-modal.module.ts");
/* harmony import */ var _pilot_modal_pilot_modal_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pilot-modal/pilot-modal.module */ "./src/app/modals/pilot-modal/pilot-modal.module.ts");
/* harmony import */ var _token_modal_token_modal_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./token-modal/token-modal.module */ "./src/app/modals/token-modal/token-modal.module.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








var ModalModule = /** @class */ (function () {
    function ModalModule() {
    }
    ModalModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicModule"],
                _xws_modal_xws_modal_module__WEBPACK_IMPORTED_MODULE_4__["XwsModalPageModule"],
                _upgrade_modal_upgrade_modal_module__WEBPACK_IMPORTED_MODULE_5__["UpgradeModalPageModule"],
                _pilot_modal_pilot_modal_module__WEBPACK_IMPORTED_MODULE_6__["PilotModalPageModule"],
                _token_modal_token_modal_module__WEBPACK_IMPORTED_MODULE_7__["TokenModalPageModule"]
            ],
        })
    ], ModalModule);
    return ModalModule;
}());



/***/ }),

/***/ "./src/app/modals/pilot-modal/pilot-modal.module.ts":
/*!**********************************************************!*\
  !*** ./src/app/modals/pilot-modal/pilot-modal.module.ts ***!
  \**********************************************************/
/*! exports provided: PilotModalPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PilotModalPageModule", function() { return PilotModalPageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _pilot_modal_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pilot-modal.page */ "./src/app/modals/pilot-modal/pilot-modal.page.ts");
/* harmony import */ var _components_xwing_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/xwing.module */ "./src/app/components/xwing.module.ts");
/* harmony import */ var _fortawesome_angular_fontawesome__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @fortawesome/angular-fontawesome */ "./node_modules/@fortawesome/angular-fontawesome/fesm5/angular-fontawesome.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








var routes = [
    {
        path: '',
        component: _pilot_modal_page__WEBPACK_IMPORTED_MODULE_5__["PilotModalPage"]
    }
];
var PilotModalPageModule = /** @class */ (function () {
    function PilotModalPageModule() {
    }
    PilotModalPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes),
                _components_xwing_module__WEBPACK_IMPORTED_MODULE_6__["XwingModule"],
                _fortawesome_angular_fontawesome__WEBPACK_IMPORTED_MODULE_7__["FontAwesomeModule"]
            ],
            declarations: [
                _pilot_modal_page__WEBPACK_IMPORTED_MODULE_5__["PilotModalPage"]
            ],
            entryComponents: [
                _pilot_modal_page__WEBPACK_IMPORTED_MODULE_5__["PilotModalPage"]
            ]
        })
    ], PilotModalPageModule);
    return PilotModalPageModule;
}());



/***/ }),

/***/ "./src/app/modals/pilot-modal/pilot-modal.page.html":
/*!**********************************************************!*\
  !*** ./src/app/modals/pilot-modal/pilot-modal.page.html ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"dismiss()\"><ion-icon name=\"arrow-back\"></ion-icon></ion-button>\n    </ion-buttons>\n    <ion-title>{{ pilot.pilot.name }}&nbsp;\n      <span *ngIf=\"pilot.idNumber\">\n        <xwing-icon [name]=\"'token-lock'\"></xwing-icon>\n        &nbsp;{{ pilot.idNumber }}\n      </span>\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n<ion-content padding>\n  <div class=\"pilot-modal\">\n    <div [class]=\"'pilot-art-container' + layout.getClass()\">\n      <img *ngIf=\"img_url\" [src]=\"img_url\" class=\"pilot-art\"/>\n      <xwing-text *ngIf=\"!img_url\" [text]=\"pilot.card_text\" class=\"card-text\"></xwing-text>\n    </div>\n    <ion-button expand=\"full\" (click)=\"assignIdNumber()\">Assign Ship ID</ion-button>\n  </div>\n</ion-content>"

/***/ }),

/***/ "./src/app/modals/pilot-modal/pilot-modal.page.scss":
/*!**********************************************************!*\
  !*** ./src/app/modals/pilot-modal/pilot-modal.page.scss ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-content, .pilot-modal {\n  background-color: #212020;\n  min-height: 100%;\n  padding: 1vw 1vw 1vw 1vw; }\n\n.pilot-modal {\n  overflow-y: scroll;\n  height: 100%;\n  font-size: 8vh; }\n\n.pilot-art {\n  display: inline-block; }\n\n.pilot-art-container, .pilot-art-container-tablet, .pilot-art-container-tablet-portrait, .pilot-art-container-phone-portrait, .pilot-art-container-phone-landscape {\n  display: block; }\n\n.pilot-art-container img, .pilot-art-container-tablet img, .pilot-art-container-tablet-portrait img, .pilot-art-container-phone-portrait img, .pilot-art-container-phone-landscape img {\n    display: block;\n    margin: auto; }\n\n.pilot-art-container-tablet img, .pilot-art-container-tablet-portrait img {\n  width: 60%; }\n\n.pilot-art-container-phone-portrait {\n  display: block;\n  width: 100%; }\n\n.token-box, .token-box-tablet, .token-box-tablet-portrait, .token-box-phone-portrait, .token-box-phone-landscape {\n  display: inline-block;\n  padding-left: 1vw;\n  vertical-align: top;\n  width: 42%;\n  font-size: 6vh; }\n\n.token-box-phone-portrait {\n  width: 100%;\n  font-size: 8vh; }\n\n.token-box-phone-landscape {\n  font-size: 8vw; }\n\n.token-set {\n  display: block;\n  width: 100%;\n  font-size: 1em;\n  overflow: wrap; }\n\n.damage-cards, .damage-cards-tablet, .damage-cards-tablet-portrait, .damage-cards-phone-landscape {\n  display: inline-block;\n  width: 50%;\n  vertical-align: top;\n  padding-left: 1vw; }\n\n.tab-icon {\n  font-size: 2vh; }\n\n.half-column, .damage-cards, .damage-cards-tablet, .damage-cards-tablet-portrait, .damage-cards-phone-landscape, .damage-buttons, .damage-buttons-tablet, .damage-buttons-tablet-portrait, .damage-buttons-phone-landscape {\n  width: 50%;\n  display: inline-block; }\n\n.damage-cards, .damage-cards-tablet, .damage-cards-tablet-portrait, .damage-cards-phone-landscape {\n  padding-left: 1vw; }\n\n.damage-cards-phone-portrait {\n  width: 100%; }\n\n.damage-buttons-phone-portrait {\n  display: none; }\n\n.card-text {\n  font-size: 2vh;\n  color: white; }\n\n.card-expander {\n  margin-left: -1vw;\n  position: absolute;\n  width: 100%;\n  bottom: 0px; }\n\n.card-expander-more {\n  width: 100%;\n  text-align: center;\n  color: gray;\n  font-size: 0.3em; }\n\n.dial-name {\n  color: white;\n  font-size: 2vh;\n  margin-bottom: 1em;\n  text-align: center; }\n\n.maneuver-chart {\n  width: 100%;\n  font-size: 2vh;\n  text-align: center;\n  background-color: #212020; }\n\n.maneuver-icon, .white, .blue, .red {\n  display: inline-block;\n  text-align: center;\n  width: 2em;\n  font-size: 1.5em; }\n\n.white {\n  color: white; }\n\n.blue {\n  color: #7777FF; }\n\n.red {\n  color: red; }\n\n.ship-icon {\n  font-size: 4vh; }\n\n.pilot-modal::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 0.2vh #282828;\n  border-radius: 0.2vh;\n  background-color: #282828; }\n\n.pilot-modal::-webkit-scrollbar {\n  width: 0.5vh;\n  background-color: #282828; }\n\n.pilot-modal::-webkit-scrollbar-thumb {\n  border-radius: 0.2vh;\n  -webkit-box-shadow: inset 0 0 0.2vh rgba(0, 0, 0, 0.3);\n  background-color: #555; }\n"

/***/ }),

/***/ "./src/app/modals/pilot-modal/pilot-modal.page.ts":
/*!********************************************************!*\
  !*** ./src/app/modals/pilot-modal/pilot-modal.page.ts ***!
  \********************************************************/
/*! exports provided: PilotModalPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PilotModalPage", function() { return PilotModalPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
/* harmony import */ var _popovers_assign_id_popover_assign_id_popover_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../popovers/assign-id-popover/assign-id-popover.component */ "./src/app/popovers/assign-id-popover/assign-id-popover.component.ts");
/* harmony import */ var _services_layout_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/layout.service */ "./src/app/services/layout.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @fortawesome/free-solid-svg-icons */ "./node_modules/@fortawesome/free-solid-svg-icons/index.es.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};













var PilotModalPage = /** @class */ (function () {
    function PilotModalPage(toastController, popoverController, dataService, state, alertController, events, ngZone, modalController, layout, route, router) {
        this.toastController = toastController;
        this.popoverController = popoverController;
        this.dataService = dataService;
        this.state = state;
        this.alertController = alertController;
        this.events = events;
        this.ngZone = ngZone;
        this.modalController = modalController;
        this.layout = layout;
        this.route = route;
        this.router = router;
        this.img_url = null;
        this.card_text = null;
        this.shields = null;
        this.charges = null;
        this.force = null;
        this.faBars = _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_7__["faBars"];
        this.expanded = false;
        this.useAngularRouter = false;
        this.tab = "tokens";
        this.maneuverChart = new Array(7);
    }
    PilotModalPage.prototype.assignIdNumber = function () {
        return __awaiter(this, void 0, void 0, function () {
            var popover;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.create({
                            component: _popovers_assign_id_popover_assign_id_popover_component__WEBPACK_IMPORTED_MODULE_4__["AssignIdPopoverComponent"],
                            componentProps: {
                                id: this.pilot.idNumber,
                            }
                        })];
                    case 1:
                        popover = _a.sent();
                        popover.onDidDismiss().then(function (result) {
                            console.log(result);
                            _this.pilot.idNumber = result.data;
                        });
                        return [4 /*yield*/, popover.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PilotModalPage.prototype.ngOnInit = function () {
        var _this = this;
        var pilotNum = this.route.snapshot.paramMap.get("pilotNum");
        if (pilotNum) {
            this.useAngularRouter = true;
            this.pilot = this.state.squadron.pilots.find(function (pilot) { return pilot.num == pilotNum; });
        }
        // Load pilot card
        if (this.pilot.pilot.image) {
            this.dataService.get_image_by_url(this.pilot.pilot.image).then(function (url) {
                _this.img_url = url;
            }, function (error) {
            });
        }
    };
    PilotModalPage.prototype.hasManeuvers = function (row) {
        var maneuvers = row.maneuvers;
        for (var _i = 0, maneuvers_1 = maneuvers; _i < maneuvers_1.length; _i++) {
            var cell = maneuvers_1[_i];
            if (cell) {
                return true;
            }
        }
        return false;
    };
    PilotModalPage.prototype.dismiss = function () {
        if (this.useAngularRouter) {
            this.router.navigateByUrl("/");
        }
        else {
            this.modalController.dismiss();
        }
    };
    PilotModalPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-pilot-modal',
            template: __webpack_require__(/*! ./pilot-modal.page.html */ "./src/app/modals/pilot-modal/pilot-modal.page.html"),
            styles: [__webpack_require__(/*! ./pilot-modal.page.scss */ "./src/app/modals/pilot-modal/pilot-modal.page.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"],
            _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_2__["XwingDataService"],
            _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_3__["XwingStateService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Events"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"],
            _services_layout_service__WEBPACK_IMPORTED_MODULE_5__["LayoutService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_6__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"]])
    ], PilotModalPage);
    return PilotModalPage;
}());



/***/ }),

/***/ "./src/app/modals/token-modal/token-modal.module.ts":
/*!**********************************************************!*\
  !*** ./src/app/modals/token-modal/token-modal.module.ts ***!
  \**********************************************************/
/*! exports provided: TokenModalPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TokenModalPageModule", function() { return TokenModalPageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _token_modal_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./token-modal.page */ "./src/app/modals/token-modal/token-modal.page.ts");
/* harmony import */ var _components_xwing_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/xwing.module */ "./src/app/components/xwing.module.ts");
/* harmony import */ var _fortawesome_angular_fontawesome__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @fortawesome/angular-fontawesome */ "./node_modules/@fortawesome/angular-fontawesome/fesm5/angular-fontawesome.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








var routes = [
    {
        path: '',
        component: _token_modal_page__WEBPACK_IMPORTED_MODULE_5__["TokenModalPage"]
    }
];
var TokenModalPageModule = /** @class */ (function () {
    function TokenModalPageModule() {
    }
    TokenModalPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes),
                _components_xwing_module__WEBPACK_IMPORTED_MODULE_6__["XwingModule"],
                _fortawesome_angular_fontawesome__WEBPACK_IMPORTED_MODULE_7__["FontAwesomeModule"]
            ],
            declarations: [
                _token_modal_page__WEBPACK_IMPORTED_MODULE_5__["TokenModalPage"]
            ],
            entryComponents: [
                _token_modal_page__WEBPACK_IMPORTED_MODULE_5__["TokenModalPage"]
            ]
        })
    ], TokenModalPageModule);
    return TokenModalPageModule;
}());



/***/ }),

/***/ "./src/app/modals/token-modal/token-modal.page.html":
/*!**********************************************************!*\
  !*** ./src/app/modals/token-modal/token-modal.page.html ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"dismiss()\"><ion-icon name=\"arrow-back\"></ion-icon></ion-button>\n    </ion-buttons>\n    <ion-title>{{ pilot.pilot.name }}&nbsp;\n      <span *ngIf=\"pilot.idNumber\">\n        <xwing-icon [name]=\"'token-lock'\"></xwing-icon>\n        &nbsp;{{ pilot.idNumber }}\n      </span>\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n<ion-content padding>\n  <div class=\"token-modal\">\n    <div>\n      <img [src]=\"img_url\">\n    </div>\n    <div [class]=\"'token-box' + layout.getClass()\">\n      <xws-token-display \n        *ngIf=\"shields\" \n        [name]=\"'shield'\" \n        [data]=\"shields\" \n        (change)=\"state.postDamage(pilot)\" \n        class=\"token-set\"></xws-token-display>\n      <xws-token-display \n        *ngIf=\"charges\" \n        [name]=\"'charge'\" \n        [data]=\"charges\" \n        class=\"token-set\"></xws-token-display>\n      <xws-token-display \n        *ngIf=\"force\" \n        [name]=\"'force'\" \n        [data]=\"force\" \n        class=\"token-set\"></xws-token-display>\n    </div>\n    <div [class]=\"'damage-cards' + layout.getClass()\">\n      <xws-condition *ngFor=\"let condition of pilot.conditions\" [pilot]=\"pilot\" [condition]=\"condition\"></xws-condition>\n      <xws-damage-card *ngFor=\"let card of pilot.damagecards\" [card]=\"card\" [squadron]=\"squadron\"></xws-damage-card> \n    </div>\n  </div>\n</ion-content>\n<ion-footer>\n    <ion-toolbar>\n        <div class=\"card-expander-more\" (click)=\"expandToggle()\"><fa-icon [icon]=\"faBars\"></fa-icon></div>\n        <ion-button expand=\"full\" (click)=\"drawHit()\">Draw<xwing-icon [name]=\"'hit'\"></xwing-icon></ion-button>\n        <ion-button expand=\"full\" (click)=\"drawCrit()\">Draw<xwing-icon [name]=\"'crit'\"></xwing-icon></ion-button>\n        <div *ngIf=\"this.expanded\">\n          <ion-button expand=\"full\" (click)=\"showConditionMenu()\">Assign Condition</ion-button>\n          <ion-button expand=\"full\" (click)=\"assignCrit()\">Assign <xwing-icon [name]=\"'crit'\"></xwing-icon></ion-button>\n          <ion-button [disabled]=\"!hitCardAvailable()\" expand=\"full\" (click)=\"exposeRandomHit()\">\n            Expose Random <xwing-icon [name]=\"'hit'\"></xwing-icon>\n          </ion-button>\n          <ion-button [disabled]=\"!hitCardAvailable()\" expand=\"full\" (click)=\"thaneKyrell()\">\n            Thane Kyrell&nbsp;<xwing-ship [name]=\"'t65xwing'\" class=\"ship-icon\"></xwing-ship>\n          </ion-button>\n          <ion-button expand=\"full\" (click)=\"maarekStele()\">\n              Maarek Stele&nbsp;<xwing-ship [name]=\"'tieadvancedx1'\" class=\"ship-icon\"></xwing-ship>\n            </ion-button>\n          <ion-button expand=\"full\" (click)=\"fleeShip()\">Remove Ship (Flee)</ion-button>\n          <ion-button expand=\"full\" (click)=\"recycleDamageCards()\" [disabled]=\"!recycleAvailable()\">Recycle Damage Cards</ion-button>\n        </div>\n      </ion-toolbar>\n</ion-footer>"

/***/ }),

/***/ "./src/app/modals/token-modal/token-modal.page.scss":
/*!**********************************************************!*\
  !*** ./src/app/modals/token-modal/token-modal.page.scss ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-content, .token-modal {\n  background-color: #212020;\n  min-height: 100%;\n  padding: 1vw 1vw 1vw 1vw; }\n\n.token-modal {\n  overflow-y: scroll;\n  height: 100%;\n  font-size: 8vh; }\n\n.token-box, .token-box-tablet, .token-box-tablet-portrait, .token-box-phone-portrait, .token-box-phone-landscape {\n  display: inline-block;\n  padding-left: 1vw;\n  vertical-align: top;\n  width: 50%;\n  font-size: 6vh; }\n\n.token-box-phone-portrait {\n  width: 100%;\n  font-size: 8vh; }\n\n.token-box-phone-landscape {\n  font-size: 8vw; }\n\n.token-set {\n  display: block;\n  width: 100%;\n  font-size: 1em;\n  overflow: wrap; }\n\n.damage-cards, .damage-cards-tablet, .damage-cards-tablet-portrait, .damage-cards-phone-landscape {\n  display: inline-block;\n  width: 50%;\n  vertical-align: top;\n  padding-left: 1vw; }\n\n.tab-icon {\n  font-size: 2vh; }\n\n.half-column, .damage-cards, .damage-cards-tablet, .damage-cards-tablet-portrait, .damage-cards-phone-landscape, .damage-buttons, .damage-buttons-tablet, .damage-buttons-tablet-portrait, .damage-buttons-phone-landscape {\n  width: 50%;\n  display: inline-block; }\n\n.damage-cards, .damage-cards-tablet, .damage-cards-tablet-portrait, .damage-cards-phone-landscape {\n  padding-left: 1vw; }\n\n.damage-cards-phone-portrait {\n  width: 100%; }\n\n.damage-buttons-phone-portrait {\n  display: none; }\n\n.card-text {\n  font-size: 2vh;\n  color: white; }\n\n.card-expander {\n  position: absolute;\n  width: 100%;\n  bottom: 0px; }\n\n.card-expander-more {\n  width: 100%;\n  text-align: center;\n  color: gray;\n  font-size: 0.3em; }\n\n.dial-name {\n  color: white;\n  font-size: 2vh;\n  margin-bottom: 1em;\n  text-align: center; }\n\n.maneuver-chart {\n  width: 100%;\n  font-size: 2vh;\n  text-align: center;\n  background-color: #212020; }\n\n.maneuver-icon, .white, .blue, .red {\n  display: inline-block;\n  text-align: center;\n  width: 2em;\n  font-size: 1.5em; }\n\n.white {\n  color: white; }\n\n.blue {\n  color: #7777FF; }\n\n.red {\n  color: red; }\n\n.ship-icon {\n  font-size: 4vh; }\n\n.pilot-modal::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 0.2vh #282828;\n  border-radius: 0.2vh;\n  background-color: #282828; }\n\n.pilot-modal::-webkit-scrollbar {\n  width: 0.5vh;\n  background-color: #282828; }\n\n.pilot-modal::-webkit-scrollbar-thumb {\n  border-radius: 0.2vh;\n  -webkit-box-shadow: inset 0 0 0.2vh rgba(0, 0, 0, 0.3);\n  background-color: #555; }\n"

/***/ }),

/***/ "./src/app/modals/token-modal/token-modal.page.ts":
/*!********************************************************!*\
  !*** ./src/app/modals/token-modal/token-modal.page.ts ***!
  \********************************************************/
/*! exports provided: TokenModalPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TokenModalPage", function() { return TokenModalPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
/* harmony import */ var _popovers_condition_menu_condition_menu_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../popovers/condition-menu/condition-menu.component */ "./src/app/popovers/condition-menu/condition-menu.component.ts");
/* harmony import */ var _popovers_damage_popover_damage_popover_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../popovers/damage-popover/damage-popover.component */ "./src/app/popovers/damage-popover/damage-popover.component.ts");
/* harmony import */ var _popovers_damage_card_select_damage_card_select_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../popovers/damage-card-select/damage-card-select.component */ "./src/app/popovers/damage-card-select/damage-card-select.component.ts");
/* harmony import */ var _popovers_assign_id_popover_assign_id_popover_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../popovers/assign-id-popover/assign-id-popover.component */ "./src/app/popovers/assign-id-popover/assign-id-popover.component.ts");
/* harmony import */ var _services_layout_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/layout.service */ "./src/app/services/layout.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @fortawesome/free-solid-svg-icons */ "./node_modules/@fortawesome/free-solid-svg-icons/index.es.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
















var TokenModalPage = /** @class */ (function () {
    function TokenModalPage(toastController, popoverController, dataService, state, alertController, events, ngZone, modalController, layout, route, router) {
        this.toastController = toastController;
        this.popoverController = popoverController;
        this.dataService = dataService;
        this.state = state;
        this.alertController = alertController;
        this.events = events;
        this.ngZone = ngZone;
        this.modalController = modalController;
        this.layout = layout;
        this.route = route;
        this.router = router;
        this.img_url = null;
        this.card_text = null;
        this.shields = null;
        this.charges = null;
        this.force = null;
        this.faBars = _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_10__["faBars"];
        this.expanded = false;
        this.useAngularRouter = false;
        this.tab = "tokens";
        this.maneuverChart = new Array(7);
    }
    TokenModalPage.prototype.drawHit = function () {
        if (!this.state.drawHit(this.pilot)) {
            this.presentDamageDeckEmpty();
        }
    };
    TokenModalPage.prototype.drawCrit = function () {
        if (!this.state.drawCrit(this.pilot)) {
            this.presentDamageDeckEmpty();
        }
    };
    TokenModalPage.prototype.presentDamageDeckEmpty = function () {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: 'Your Damage Deck is empty.',
                            duration: 2000,
                            position: 'middle'
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    TokenModalPage.prototype.recycleAvailable = function () {
        var hull = this.pilot.stats.find(function (stat) { return stat.type == 'hull'; });
        return hull.remaining <= 0 && this.pilot.damagecards.length > 0;
    };
    TokenModalPage.prototype.recycleDamageCards = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                this.pilot.damagecards.forEach(function (card) {
                    card.exposed = false;
                    _this.state.discard(card);
                });
                this.pilot.damagecards = [];
                return [2 /*return*/];
            });
        });
    };
    TokenModalPage.prototype.assignIdNumber = function () {
        return __awaiter(this, void 0, void 0, function () {
            var popover;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.create({
                            component: _popovers_assign_id_popover_assign_id_popover_component__WEBPACK_IMPORTED_MODULE_7__["AssignIdPopoverComponent"],
                            componentProps: {
                                id: this.pilot.idNumber,
                            }
                        })];
                    case 1:
                        popover = _a.sent();
                        popover.onDidDismiss().then(function (result) {
                            console.log(result);
                            _this.pilot.idNumber = result.data;
                        });
                        return [4 /*yield*/, popover.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    TokenModalPage.prototype.thaneKyrell = function () {
        return __awaiter(this, void 0, void 0, function () {
            var popover;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.create({
                            component: _popovers_damage_card_select_damage_card_select_component__WEBPACK_IMPORTED_MODULE_6__["DamageCardSelectComponent"],
                            componentProps: {
                                title: "Thane Kyrell",
                                cards: this.pilot.damagecards.filter(function (card) { return !card.exposed; }),
                                callback: function (card) {
                                    card.exposed = true;
                                }
                            }
                        })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    TokenModalPage.prototype.maarekStele = function () {
        return __awaiter(this, void 0, void 0, function () {
            var cards, i, popover;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        cards = [];
                        for (i = 0; i < 3 && this.state.damagedeck.length; i++) {
                            cards.push(this.state.draw());
                        }
                        return [4 /*yield*/, this.popoverController.create({
                                component: _popovers_damage_card_select_damage_card_select_component__WEBPACK_IMPORTED_MODULE_6__["DamageCardSelectComponent"],
                                componentProps: {
                                    title: "Maarek Stele",
                                    cards: cards,
                                    callback: function (card) {
                                        card.exposed = true;
                                        _this.pilot.damagecards.push(card);
                                        cards.forEach(function (remaining) {
                                            if (remaining != card) {
                                                _this.state.discard(remaining);
                                            }
                                        });
                                    }
                                }
                            })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    TokenModalPage.prototype.assignCrit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var cards, popover;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        cards = [];
                        // Fill cards with unique titles from damage deck
                        this.state.damagedeck.forEach(function (draw) {
                            var found = cards.find(function (card) { return draw.title == card.title; });
                            if (!found) {
                                cards.push(draw);
                            }
                        });
                        cards.sort(function (a, b) { return a.title.localeCompare(b.title); });
                        return [4 /*yield*/, this.popoverController.create({
                                component: _popovers_damage_card_select_damage_card_select_component__WEBPACK_IMPORTED_MODULE_6__["DamageCardSelectComponent"],
                                componentProps: {
                                    title: "Assign Crit",
                                    cards: cards,
                                    callback: function (card) {
                                        card.exposed = true;
                                        _this.pilot.damagecards.push(card);
                                        var index = _this.state.damagedeck.indexOf(card);
                                        _this.state.damagedeck.splice(index, 1);
                                    }
                                }
                            })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    TokenModalPage.prototype.showConditionMenu = function () {
        return __awaiter(this, void 0, void 0, function () {
            var popover;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.create({
                            component: _popovers_condition_menu_condition_menu_component__WEBPACK_IMPORTED_MODULE_4__["ConditionMenuComponent"],
                            componentProps: {
                                pilot: this.pilot
                            }
                        })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    TokenModalPage.prototype.expandToggle = function () {
        this.expanded = !this.expanded;
    };
    TokenModalPage.prototype.fleeShip = function () {
        var _this = this;
        this.pilot.pointsDestroyed = this.pilot.points;
        this.state.squadron.pointsDestroyed = 0;
        this.state.squadron.pilots.forEach(function (pilot) {
            _this.state.squadron.pointsDestroyed += pilot.pointsDestroyed;
        });
        if (this.state.squadron.pointsDestroyed == this.state.squadron.points) {
            this.state.squadron.pointsDestroyed = 200;
        }
    };
    TokenModalPage.prototype.hitCardAvailable = function () {
        var result = false;
        this.pilot.damagecards.forEach(function (card) {
            if (!card.exposed) {
                result = true;
            }
        });
        return result;
    };
    TokenModalPage.prototype.mutateCard = function (card) {
        var cardCopy = JSON.parse(JSON.stringify(card));
        var index = this.pilot.damagecards.indexOf(card);
        if (index > -1) {
            this.pilot.damagecards.splice(index, 1);
            this.pilot.damagecards.splice(index, 0, cardCopy);
        }
    };
    TokenModalPage.prototype.exposeRandomHit = function () {
        var _this = this;
        this.ngZone.run(function () { return __awaiter(_this, void 0, void 0, function () {
            var hitIndexes, i, index, card, popover;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        hitIndexes = [];
                        for (i = 0; i < this.pilot.damagecards.length; i++) {
                            if (!this.pilot.damagecards[i].exposed) {
                                hitIndexes.push(i);
                            }
                        }
                        index = hitIndexes[Math.floor(Math.random() * Math.floor(hitIndexes.length))];
                        card = this.pilot.damagecards[index];
                        card.exposed = true;
                        this.mutateCard(card);
                        return [4 /*yield*/, this.popoverController.create({
                                component: _popovers_damage_popover_damage_popover_component__WEBPACK_IMPORTED_MODULE_5__["DamagePopoverComponent"],
                                componentProps: {
                                    card: card
                                }
                            })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        }); });
    };
    TokenModalPage.prototype.showTab = function (tab) {
        this.tab = tab;
    };
    TokenModalPage.prototype.ngOnInit = function () {
        var _this = this;
        var pilotNum = this.route.snapshot.paramMap.get("pilotNum");
        if (pilotNum) {
            this.useAngularRouter = true;
            this.pilot = this.state.squadron.pilots.find(function (pilot) { return pilot.num == pilotNum; });
        }
        console.log("pilot modal", this.pilot);
        // Find stats with tokens to display
        this.shields = this.pilot.stats.find(function (stat) { return stat.type == 'shields'; });
        this.charges = this.pilot.stats.find(function (stat) { return stat.type == 'charges'; });
        this.force = this.pilot.stats.find(function (stat) { return stat.type == 'force'; });
        this.fillManeuverChart(this.pilot.ship.dial);
        // Load pilot card
        if (this.pilot.pilot.image) {
            this.dataService.get_image_by_url(this.pilot.pilot.artwork).then(function (url) {
                _this.img_url = url;
            }, function (error) {
            });
        }
    };
    TokenModalPage.prototype.fillManeuverChart = function (dial) {
        var _this = this;
        // Fill maneuver chart
        // map is for middle letter of maneuver code
        // 2NB would be 2 bank left blue
        var map = {
            "O": { name: "stop", index: 2 },
            "F": { name: "straight", index: 2 },
            "B": { name: "bankleft", index: 1 },
            "N": { name: "bankright", index: 3 },
            "T": { name: "turnleft", index: 0 },
            "Y": { name: "turnright", index: 4 },
            "K": { name: "kturn", index: 5 },
            "S": { name: "reversestraight", index: 2 },
            "E": { name: "trollleft", index: 5 },
            "R": { name: "trollright", index: 6 },
            "L": { name: "sloopleft", index: 5 },
            "P": { name: "sloopright", index: 6 },
            "A": { name: "reversebankleft", index: 1 },
            "D": { name: "reversebankright", index: 3 }
        };
        for (var i = 0; i < 8; i++) {
            var speed = (7 - i) - 2;
            this.maneuverChart[i] = { speed: speed, maneuvers: new Array(7) };
        }
        dial.forEach(function (maneuverCode) {
            var difficulty = "white";
            if (maneuverCode[2] == 'R') {
                difficulty = "red";
            }
            if (maneuverCode[2] == 'B') {
                difficulty = "blue";
            }
            var index = map[maneuverCode[1]].index;
            var name = map[maneuverCode[1]].name;
            var speed = parseInt(maneuverCode[0]);
            var row = _this.maneuverChart.find(function (row) { return row.speed == speed; });
            var maneuver = { name: name, difficulty: difficulty };
            row.maneuvers[index] = maneuver;
        });
    };
    TokenModalPage.prototype.hasManeuvers = function (row) {
        var maneuvers = row.maneuvers;
        for (var _i = 0, maneuvers_1 = maneuvers; _i < maneuvers_1.length; _i++) {
            var cell = maneuvers_1[_i];
            if (cell) {
                return true;
            }
        }
        return false;
    };
    TokenModalPage.prototype.dismiss = function () {
        if (this.useAngularRouter) {
            this.router.navigateByUrl("/");
        }
        else {
            this.modalController.dismiss();
        }
    };
    TokenModalPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-pilot-modal',
            template: __webpack_require__(/*! ./token-modal.page.html */ "./src/app/modals/token-modal/token-modal.page.html"),
            styles: [__webpack_require__(/*! ./token-modal.page.scss */ "./src/app/modals/token-modal/token-modal.page.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"],
            _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_2__["XwingDataService"],
            _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_3__["XwingStateService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Events"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"],
            _services_layout_service__WEBPACK_IMPORTED_MODULE_8__["LayoutService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_9__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_9__["Router"]])
    ], TokenModalPage);
    return TokenModalPage;
}());



/***/ }),

/***/ "./src/app/modals/upgrade-modal/upgrade-modal.module.ts":
/*!**************************************************************!*\
  !*** ./src/app/modals/upgrade-modal/upgrade-modal.module.ts ***!
  \**************************************************************/
/*! exports provided: UpgradeModalPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpgradeModalPageModule", function() { return UpgradeModalPageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _upgrade_modal_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./upgrade-modal.page */ "./src/app/modals/upgrade-modal/upgrade-modal.page.ts");
/* harmony import */ var _components_xwing_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/xwing.module */ "./src/app/components/xwing.module.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var routes = [
    {
        path: '',
        component: _upgrade_modal_page__WEBPACK_IMPORTED_MODULE_5__["UpgradeModalPage"]
    }
];
var UpgradeModalPageModule = /** @class */ (function () {
    function UpgradeModalPageModule() {
    }
    UpgradeModalPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _components_xwing_module__WEBPACK_IMPORTED_MODULE_6__["XwingModule"],
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes),
            ],
            declarations: [
                _upgrade_modal_page__WEBPACK_IMPORTED_MODULE_5__["UpgradeModalPage"]
            ],
            entryComponents: [
                _upgrade_modal_page__WEBPACK_IMPORTED_MODULE_5__["UpgradeModalPage"]
            ]
        })
    ], UpgradeModalPageModule);
    return UpgradeModalPageModule;
}());



/***/ }),

/***/ "./src/app/modals/upgrade-modal/upgrade-modal.page.html":
/*!**************************************************************!*\
  !*** ./src/app/modals/upgrade-modal/upgrade-modal.page.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"dismiss()\"><ion-icon name=\"arrow-back\"></ion-icon></ion-button>\n    </ion-buttons>\n    <ion-buttons *ngIf=\"!layout.isPhone()\" slot=\"primary\">\n      <ion-button color=\"primary\" *ngIf=\"upgrade.sides.length > 1\" (click)=\"flipCard()\">Flip</ion-button>\n    </ion-buttons> \n    <ion-title>{{ upgrade.name }}</ion-title>\n  </ion-toolbar>\n</ion-header>\n<ion-content padding>\n  <div class=\"modal-content\">\n    <div *ngIf=\"img_urls[upgrade.side]\">\n      <img [src]=\"img_urls[upgrade.side]\" />\n    </div>\n    <div *ngIf=\"!img_urls[upgrade.side]\" class=\"card-text\">\n      <xwing-text [text]=\"upgrade.sides[upgrade.side].ability\"></xwing-text>\n    </div>\n    <div *ngIf=\"upgrade.sides[upgrade.side].charges\" [class]=\"'token-set' + layout.getClass()\">\n      <xws-token-display [name]=\"'charge'\" [data]=\"upgrade.sides[upgrade.side].charges\"></xws-token-display>\n    </div>\n    <div *ngIf=\"layout.isPhone()\">\n      <ion-button expand=\"full\" color=\"primary\" *ngIf=\"upgrade.sides.length > 1\" (click)=\"flipCard()\">Flip</ion-button>\n    </div>\n  </div>\n</ion-content>"

/***/ }),

/***/ "./src/app/modals/upgrade-modal/upgrade-modal.page.scss":
/*!**************************************************************!*\
  !*** ./src/app/modals/upgrade-modal/upgrade-modal.page.scss ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-content {\n  background-color: #212020;\n  min-height: 100%;\n  padding: 1vw 1vw 1vw 1vw; }\n\n.token-set, .token-set-tablet, .token-set-tablet-portrait, .token-set-phone-portrait, .token-set-phone-landscape {\n  width: 100%;\n  font-size: 8vh;\n  text-align: center; }\n\n.token-set-phone-landscape {\n  font-size: 10vw; }\n\n.card-text {\n  font-size: 2vh;\n  color: white; }\n"

/***/ }),

/***/ "./src/app/modals/upgrade-modal/upgrade-modal.page.ts":
/*!************************************************************!*\
  !*** ./src/app/modals/upgrade-modal/upgrade-modal.page.ts ***!
  \************************************************************/
/*! exports provided: UpgradeModalPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpgradeModalPage", function() { return UpgradeModalPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_layout_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/layout.service */ "./src/app/services/layout.service.ts");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var UpgradeModalPage = /** @class */ (function () {
    function UpgradeModalPage(dataService, modalController, layout, route, state, router) {
        this.dataService = dataService;
        this.modalController = modalController;
        this.layout = layout;
        this.route = route;
        this.state = state;
        this.router = router;
        this.img_urls = [null, null];
        this.useAngularRouter = false;
    }
    UpgradeModalPage.prototype.ngOnInit = function () {
        var _this = this;
        var pilotNum = this.route.snapshot.paramMap.get("pilotNum");
        var upgradeNum = this.route.snapshot.paramMap.get("upgradeNum");
        if (pilotNum) {
            this.useAngularRouter = true;
            var pilot = this.state.squadron.pilots.find(function (pilot) { return pilot.num == pilotNum; });
            this.upgrade = pilot.upgrades.find(function (upgrade) { return upgrade.num == upgradeNum; });
        }
        console.log("upgrade modal", this.upgrade);
        var _loop_1 = function (i) {
            if (this_1.upgrade.sides[i].image) {
                this_1.dataService.get_image_by_url(this_1.upgrade.sides[i].image).then(function (url) {
                    _this.img_urls[i] = url;
                });
            }
        };
        var this_1 = this;
        for (var i = 0; i < this.upgrade.sides.length; i++) {
            _loop_1(i);
        }
    };
    UpgradeModalPage.prototype.flipCard = function () {
        if (this.upgrade.side == 0) {
            this.upgrade.side = 1;
        }
        else {
            this.upgrade.side = 0;
        }
    };
    UpgradeModalPage.prototype.dismiss = function () {
        if (this.useAngularRouter) {
            this.router.navigateByUrl("/");
        }
        else {
            this.modalController.dismiss();
        }
    };
    UpgradeModalPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-upgrade-modal',
            template: __webpack_require__(/*! ./upgrade-modal.page.html */ "./src/app/modals/upgrade-modal/upgrade-modal.page.html"),
            styles: [__webpack_require__(/*! ./upgrade-modal.page.scss */ "./src/app/modals/upgrade-modal/upgrade-modal.page.scss")]
        }),
        __metadata("design:paramtypes", [_services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__["XwingDataService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"],
            _services_layout_service__WEBPACK_IMPORTED_MODULE_3__["LayoutService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["ActivatedRoute"],
            _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_4__["XwingStateService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"]])
    ], UpgradeModalPage);
    return UpgradeModalPage;
}());



/***/ }),

/***/ "./src/app/modals/xws-modal/xws-modal.module.ts":
/*!******************************************************!*\
  !*** ./src/app/modals/xws-modal/xws-modal.module.ts ***!
  \******************************************************/
/*! exports provided: XwsModalPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XwsModalPageModule", function() { return XwsModalPageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _components_xwing_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/xwing.module */ "./src/app/components/xwing.module.ts");
/* harmony import */ var _xws_modal_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./xws-modal.page */ "./src/app/modals/xws-modal/xws-modal.page.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var routes = [
    {
        path: '',
        component: _xws_modal_page__WEBPACK_IMPORTED_MODULE_6__["XwsModalPage"]
    }
];
var XwsModalPageModule = /** @class */ (function () {
    function XwsModalPageModule() {
    }
    XwsModalPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes),
                _components_xwing_module__WEBPACK_IMPORTED_MODULE_5__["XwingModule"]
            ],
            declarations: [
                _xws_modal_page__WEBPACK_IMPORTED_MODULE_6__["XwsModalPage"]
            ],
            entryComponents: [
                _xws_modal_page__WEBPACK_IMPORTED_MODULE_6__["XwsModalPage"]
            ]
        })
    ], XwsModalPageModule);
    return XwsModalPageModule;
}());



/***/ }),

/***/ "./src/app/modals/xws-modal/xws-modal.page.html":
/*!******************************************************!*\
  !*** ./src/app/modals/xws-modal/xws-modal.page.html ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-content padding>\n  <div class=\"container\">\n    <h3>Import Squadron</h3>\n      You can import squadron data from:\n      <ul>\n        <li>YASB 2.0 URL<br />\n          <i>https://raithos.github.io/...</i><br /><br /></li>\n        <li>FFG SquadBuilder URLs<br />\n          <i>https://squadbuilder.fantasyflightgames.com/...</i><br /><br /></li>\n        <li>XWS Data<br />\n          <i>\"{{ '{' }}\"faction\" : \"rebelalliance\", \"name\" : \"My Squadron\" ... {{ '}' }}</i></li>\n      </ul>\n    <ion-label position=\"stacked\">Paste XWS squadron data or URL here</ion-label>\n    <ion-textarea (ionChange)=\"textChange($event)\"\n      placeholder='https://squadbuilder.fantasyflightgames.com ---\n      https:/raithos.github.io ---\n      {\"faction\":\"rebelalliance\",\"name\":\"My Squadron\"}'>\n    </ion-textarea>\n    <div class=\"button-container\">\n      <ion-button color=\"light\" (click)=\"cancel()\">Cancel</ion-button>\n      <ion-button (click)=\"ok()\" [disabled]=\"!dataValid\">OK</ion-button>\n    </div>\n  </div>\n</ion-content>\n"

/***/ }),

/***/ "./src/app/modals/xws-modal/xws-modal.page.scss":
/*!******************************************************!*\
  !*** ./src/app/modals/xws-modal/xws-modal.page.scss ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".container {\n  display: flex;\n  flex-direction: column;\n  height: 100%; }\n\n.button-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end; }\n"

/***/ }),

/***/ "./src/app/modals/xws-modal/xws-modal.page.ts":
/*!****************************************************!*\
  !*** ./src/app/modals/xws-modal/xws-modal.page.ts ***!
  \****************************************************/
/*! exports provided: XwsModalPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XwsModalPage", function() { return XwsModalPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var XwsModalPage = /** @class */ (function () {
    function XwsModalPage(modal) {
        this.modal = modal;
        this.xwsData = null;
        this.dataValid = false;
    }
    XwsModalPage.prototype.ngOnInit = function () {
    };
    XwsModalPage.prototype.processXws = function (value) {
        try {
            this.xwsData = { xws: JSON.parse(value) };
            return true;
        }
        catch (error) {
            return false;
        }
    };
    XwsModalPage.prototype.processFFGSquadBuilder = function (value) {
        if (!value || value.length == 0) {
            return false;
        }
        var isSquadBuilder = value.includes("https://squadbuilder.fantasyflightgames.com");
        var matchArray = value.match(/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/);
        var uuid = null;
        if (matchArray && matchArray.length) {
            uuid = matchArray[0];
        }
        if (isSquadBuilder && uuid) {
            this.xwsData = { ffg: uuid };
        }
        return isSquadBuilder;
    };
    XwsModalPage.prototype.processYasb = function (value) {
        var _this = this;
        var pilotRegex = /(\d+:(\-?\d*\,?)*)+(\:U\.\-?\d+)?/g;
        if (!value || value.length == 0) {
            return false;
        }
        var isYasb = value.startsWith("https://raithos.github.io");
        if (!isYasb) {
            return false;
        }
        var matchArray = value.match(/s\=.*\&sn/g);
        this.xwsData = {
            yasb: {
                pilots: [],
                name: ""
            }
        };
        if (matchArray && matchArray.length > 0) {
            var squadString = matchArray[0].substring(2).slice(0, -3);
            var pilotStrings = squadString.match(pilotRegex);
            if (pilotStrings.length > 0) {
                pilotStrings.forEach(function (pilotString) {
                    var separatorIndex = pilotString.indexOf(':');
                    var pilotId = pilotString.substring(0, separatorIndex);
                    var upgradeString = pilotString.substring(separatorIndex + 1);
                    var upgradeIds = upgradeString.split(',');
                    _this.xwsData.yasb.pilots.push({ id: pilotId, upgrades: upgradeIds });
                });
                var squadNameParam = value.match(/sn\=([a-zA-Z\%\d])*/);
                if (squadNameParam.length > 0) {
                    this.xwsData.yasb.name = decodeURIComponent(squadNameParam[0].split('=')[1]);
                }
                var factionNameParam = value.match(/f\=([a-zA-Z\%\d])*/);
                if (factionNameParam.length > 0) {
                    this.xwsData.yasb.faction = decodeURIComponent(factionNameParam[0].split('=')[1]).replace(/\s/g, '').toLowerCase();
                }
                return true;
            }
        }
        else {
            return false;
        }
        return false;
    };
    XwsModalPage.prototype.textChange = function ($event) {
        var value = $event.detail.value;
        this.dataValid = this.processXws(value) || this.processFFGSquadBuilder(value) || this.processYasb(value);
    };
    XwsModalPage.prototype.cancel = function () {
        this.modal.dismiss();
    };
    XwsModalPage.prototype.ok = function () {
        this.modal.dismiss(this.xwsData);
    };
    XwsModalPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-xws-modal',
            template: __webpack_require__(/*! ./xws-modal.page.html */ "./src/app/modals/xws-modal/xws-modal.page.html"),
            styles: [__webpack_require__(/*! ./xws-modal.page.scss */ "./src/app/modals/xws-modal/xws-modal.page.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"]])
    ], XwsModalPage);
    return XwsModalPage;
}());



/***/ }),

/***/ "./src/app/popovers/assign-id-popover/assign-id-popover.component.html":
/*!*****************************************************************************!*\
  !*** ./src/app/popovers/assign-id-popover/assign-id-popover.component.html ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"assign-id-popover\">\n  <strong>Assign Ship ID</strong>\n  <br />\n  <ion-select [(ngModel)]=\"idType\">\n    <ion-select-option selected=\"true\" value=\"numbers\" >Numbers</ion-select-option>\n    <ion-select-option value=\"letters\" >Letters</ion-select-option>\n  </ion-select>\n  <ion-input \n    type=\"number\" \n    *ngIf=\"idType == 'numbers'\" \n    [(ngModel)]=\"numericId\" \n    placeholder=\"Lock Number\">\n  </ion-input>\n  <ion-input \n    type=\"text\" \n    *ngIf=\"idType == 'letters'\" \n    [(ngModel)]=\"alphabeticId\" \n    placeholder=\"Lock Letter\">\n  </ion-input>\n  <ion-button expand=\"full\" (click)=\"assignId()\">Assign ID</ion-button>\n</div>"

/***/ }),

/***/ "./src/app/popovers/assign-id-popover/assign-id-popover.component.scss":
/*!*****************************************************************************!*\
  !*** ./src/app/popovers/assign-id-popover/assign-id-popover.component.scss ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".assign-id-popover {\n  display: block;\n  padding: 0.5vw 0.5vw 0.5vw 0.5vw;\n  background-color: white;\n  color: black; }\n"

/***/ }),

/***/ "./src/app/popovers/assign-id-popover/assign-id-popover.component.ts":
/*!***************************************************************************!*\
  !*** ./src/app/popovers/assign-id-popover/assign-id-popover.component.ts ***!
  \***************************************************************************/
/*! exports provided: AssignIdPopoverComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssignIdPopoverComponent", function() { return AssignIdPopoverComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


var AssignIdPopoverComponent = /** @class */ (function () {
    function AssignIdPopoverComponent(popoverController) {
        this.popoverController = popoverController;
        this.id = "";
    }
    AssignIdPopoverComponent.prototype.assignId = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, this.popoverController.dismiss(this.idType == "numbers" ? this.numericId : this.alphabeticId.toLocaleUpperCase())];
            });
        });
    };
    AssignIdPopoverComponent.prototype.ngOnInit = function () {
        if (typeof (this.id) != "string") {
            this.numericId = this.id;
            this.idType = "numbers";
        }
        else {
            this.alphabeticId = this.id;
            this.idType = "letters";
        }
    };
    AssignIdPopoverComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'assign-id-popover',
            template: __webpack_require__(/*! ./assign-id-popover.component.html */ "./src/app/popovers/assign-id-popover/assign-id-popover.component.html"),
            styles: [__webpack_require__(/*! ./assign-id-popover.component.scss */ "./src/app/popovers/assign-id-popover/assign-id-popover.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"]])
    ], AssignIdPopoverComponent);
    return AssignIdPopoverComponent;
}());



/***/ }),

/***/ "./src/app/popovers/condition-menu/condition-menu.component.html":
/*!***********************************************************************!*\
  !*** ./src/app/popovers/condition-menu/condition-menu.component.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"condition-menu\">\n  <strong>Conditions</strong>\n  <br />\n  <br />\n  <ion-select placeholder=\"Select One\" (ionChange)=\"changeEvent($event)\">\n    <ion-select-option *ngFor=\"let condition of conditions\" value=\"{{condition.xws}}\">{{ condition.name }}</ion-select-option>\n  </ion-select>\n  <div *ngIf=\"selected_condition && selected_condition.xws\">\n    <img [src]=\"img_urls[selected_condition.xws]\">\n  </div>\n  <div *ngIf=\"selected_condition && selected_condition.xws == darksideXws\">\n    <ion-select placeHolder=\"Pilot Damage Card\" (ionChange)=\"changeDamageCard($event)\">\n      <ion-select-option *ngFor=\"let pilotCard of pilotDamageCards\" [value]=\"pilotCard\">{{ pilotCard.title }}</ion-select-option>\n    </ion-select>\n  </div>\n  <ion-button [disabled]=\"!selected_condition\" expand=\"full\" (click)=\"assignCondition()\">Assign Condition</ion-button>\n</div>"

/***/ }),

/***/ "./src/app/popovers/condition-menu/condition-menu.component.scss":
/*!***********************************************************************!*\
  !*** ./src/app/popovers/condition-menu/condition-menu.component.scss ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".condition-menu {\n  display: block;\n  padding: 0.5vw 0.5vw 0.5vw 0.5vw;\n  background-color: white;\n  color: black; }\n\n.condition-artwork {\n  display: inline-block;\n  height: 100%; }\n"

/***/ }),

/***/ "./src/app/popovers/condition-menu/condition-menu.component.ts":
/*!*********************************************************************!*\
  !*** ./src/app/popovers/condition-menu/condition-menu.component.ts ***!
  \*********************************************************************/
/*! exports provided: ConditionMenuComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConditionMenuComponent", function() { return ConditionMenuComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var ConditionMenuComponent = /** @class */ (function () {
    function ConditionMenuComponent(dataService, state, popoverController, toastController) {
        this.dataService = dataService;
        this.state = state;
        this.popoverController = popoverController;
        this.toastController = toastController;
        this.conditions = [];
        this.img_urls = {};
        this.pilotDamageCards = [];
        this.darksideXws = "illshowyouthedarkside";
    }
    ConditionMenuComponent.prototype.assignCondition = function () {
        return __awaiter(this, void 0, void 0, function () {
            var existing, index, toast;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        existing = this.pilot.conditions.find(function (condition) { return condition.xws == _this.selected_condition.xws; });
                        if (!!existing) return [3 /*break*/, 1];
                        if (this.selected_condition.xws == this.darksideXws && this.selected_condition.pilotDamageCard) {
                            this.selected_condition.pilotDamageCard.exposed = true;
                            index = this.state.damagedeck.indexOf(this.selected_condition.pilotDamageCard);
                            this.state.damagedeck.splice(index, 1);
                        }
                        this.pilot.conditions.push(this.selected_condition);
                        return [2 /*return*/, this.popoverController.dismiss()];
                    case 1: return [4 /*yield*/, this.toastController.create({
                            message: this.pilot.pilot.name + ' already has ' + this.selected_condition.name,
                            duration: 2000,
                            position: 'middle'
                        })];
                    case 2:
                        toast = _a.sent();
                        return [2 /*return*/, toast.present()];
                }
            });
        });
    };
    ConditionMenuComponent.prototype.getPilotDamageCards = function () {
        var _this = this;
        this.pilotDamageCards = [];
        var pilotCards = this.state.damagedeck.filter(function (card) { return card['type'] == 'Pilot'; });
        pilotCards.forEach(function (card) {
            if (!_this.pilotDamageCards.find(function (existing) { return existing.title == card.title; })) {
                _this.pilotDamageCards.push(card);
            }
        });
    };
    ConditionMenuComponent.prototype.changeEvent = function (event) {
        this.selected_condition = this.conditions.find(function (condition) { return condition.xws == event.detail.value; });
        if (this.selected_condition.xws == this.darksideXws) {
            this.getPilotDamageCards();
        }
    };
    ConditionMenuComponent.prototype.changeDamageCard = function (event) {
        this.selected_condition.pilotDamageCard = event.detail.value;
    };
    ConditionMenuComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.dataService.data.conditions.forEach(function (condition) {
            // Make a copy of each condition object
            // They need to be their own instances for conditions like
            // "I'll Show You the Dark Side" which can have
            // other objects attached to them such as damage cards
            var conditionObj = JSON.parse(JSON.stringify(condition));
            _this.conditions.push(conditionObj);
            // Load artwork and store using xws as the key
            _this.dataService.get_image_by_url(conditionObj.artwork).then(function (url) {
                _this.img_urls[conditionObj.xws] = url;
            });
        });
    };
    ConditionMenuComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-condition-menu',
            template: __webpack_require__(/*! ./condition-menu.component.html */ "./src/app/popovers/condition-menu/condition-menu.component.html"),
            styles: [__webpack_require__(/*! ./condition-menu.component.scss */ "./src/app/popovers/condition-menu/condition-menu.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__["XwingDataService"],
            _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_2__["XwingStateService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["PopoverController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ToastController"]])
    ], ConditionMenuComponent);
    return ConditionMenuComponent;
}());



/***/ }),

/***/ "./src/app/popovers/condition-popover/condition-popover.component.html":
/*!*****************************************************************************!*\
  !*** ./src/app/popovers/condition-popover/condition-popover.component.html ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"condition-popover\">\n  <div class=\"condition-title\">\n    {{ condition.name }}\n  </div>\n  <img [src]=\"img_url\">\n  <div class=\"condition-text\">\n    <xwing-text [text]=\"condition.ability\"></xwing-text>\n  </div>\n  <ion-button *ngIf=\"condition.pilotDamageCard\" expand=\"full\" (click)=\"assignPilotDamage()\">Assign {{ condition.pilotDamageCard.title }}</ion-button>\n  <ion-button expand=\"full\" (click)=\"removeCondition()\">Remove</ion-button>\n</div>"

/***/ }),

/***/ "./src/app/popovers/condition-popover/condition-popover.component.scss":
/*!*****************************************************************************!*\
  !*** ./src/app/popovers/condition-popover/condition-popover.component.scss ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".condition-popover {\n  padding: 0.5vw 0.5vw 0.5vw 0.5vw;\n  background: black; }\n\n.condition-title {\n  background: white;\n  width: 100%;\n  padding-top: 0.5vw;\n  text-align: center;\n  font-weight: 900;\n  padding-bottom: 0.5vw; }\n\n.condition-text {\n  background: white;\n  width: 100%;\n  margin-bottom: 0.5vw;\n  padding-top: 1em;\n  padding-bottom: 1em;\n  padding-left: 1em;\n  padding-right: 1em;\n  text-align: center; }\n"

/***/ }),

/***/ "./src/app/popovers/condition-popover/condition-popover.component.ts":
/*!***************************************************************************!*\
  !*** ./src/app/popovers/condition-popover/condition-popover.component.ts ***!
  \***************************************************************************/
/*! exports provided: ConditionPopoverComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConditionPopoverComponent", function() { return ConditionPopoverComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/xwing-data.service */ "./src/app/services/xwing-data.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};



var ConditionPopoverComponent = /** @class */ (function () {
    function ConditionPopoverComponent(popoverController, dataService) {
        this.popoverController = popoverController;
        this.dataService = dataService;
        this.img_url = "";
    }
    ConditionPopoverComponent.prototype.assignPilotDamage = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.dismiss()];
                    case 1:
                        _a.sent();
                        this.pilot.damagecards.push(this.condition.pilotDamageCard);
                        this.condition.pilotDamageCard = null;
                        return [2 /*return*/];
                }
            });
        });
    };
    ConditionPopoverComponent.prototype.removeCondition = function () {
        return __awaiter(this, void 0, void 0, function () {
            var index;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.dismiss()];
                    case 1:
                        _a.sent();
                        index = this.pilot.conditions.indexOf(this.condition);
                        if (index > -1) {
                            this.pilot.conditions.splice(index, 1);
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    ConditionPopoverComponent.prototype.ngOnInit = function () {
        var _this = this;
        console.log(this.condition);
        this.dataService.get_image_by_url(this.condition.artwork).then(function (url) {
            _this.img_url = url;
        });
    };
    ConditionPopoverComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-condition-popover',
            template: __webpack_require__(/*! ./condition-popover.component.html */ "./src/app/popovers/condition-popover/condition-popover.component.html"),
            styles: [__webpack_require__(/*! ./condition-popover.component.scss */ "./src/app/popovers/condition-popover/condition-popover.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"],
            _services_xwing_data_service__WEBPACK_IMPORTED_MODULE_2__["XwingDataService"]])
    ], ConditionPopoverComponent);
    return ConditionPopoverComponent;
}());



/***/ }),

/***/ "./src/app/popovers/damage-card-select/damage-card-select.component.html":
/*!*******************************************************************************!*\
  !*** ./src/app/popovers/damage-card-select/damage-card-select.component.html ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"damage-card-select\">\n  <strong>{{ title }}</strong>\n  <br />\n  <br />\n  <ion-select placeholder=\"Select One\" (ionChange)=\"changeEvent($event)\">\n    <ion-select-option *ngFor=\"let card of cards\" [value]=\"card\">{{ card.title }}</ion-select-option>\n  </ion-select>\n  <ion-button [disabled]=\"!selected_card\" expand=\"full\" (click)=\"selectCard()\">Select Card</ion-button>\n</div>"

/***/ }),

/***/ "./src/app/popovers/damage-card-select/damage-card-select.component.scss":
/*!*******************************************************************************!*\
  !*** ./src/app/popovers/damage-card-select/damage-card-select.component.scss ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".damage-popover {\n  background-color: white;\n  padding: 0.5vw 0.5vw 0.5vw 0.5vw; }\n\n.damage-card-back-art {\n  background-color: black;\n  color: red;\n  display: inline-block;\n  text-align: center;\n  font-size: 8em;\n  width: 100%; }\n\n.damage-card {\n  padding: 1vw 1vw 1vw 1vw;\n  background-color: black; }\n\n.damage-card-content, .damage-card-front, .damage-card-back {\n  border: 0.25vw solid red;\n  border-radius: 1vw;\n  padding: 1vw;\n  min-height: 16em; }\n\n.damage-card-front {\n  background-color: white; }\n\n.damage-card-back {\n  background-color: black; }\n\n.damage-title {\n  text-align: center;\n  font-weight: 900; }\n\n.damage-type {\n  text-align: center;\n  font-style: italic;\n  padding-bottom: 1em; }\n\n.damage-text {\n  text-align: center;\n  padding-bottom: 1em; }\n\n.damage-card-select {\n  display: block;\n  padding: 0.5vw 0.5vw 0.5vw 0.5vw;\n  background-color: white;\n  color: black; }\n"

/***/ }),

/***/ "./src/app/popovers/damage-card-select/damage-card-select.component.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/popovers/damage-card-select/damage-card-select.component.ts ***!
  \*****************************************************************************/
/*! exports provided: DamageCardSelectComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DamageCardSelectComponent", function() { return DamageCardSelectComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


var DamageCardSelectComponent = /** @class */ (function () {
    function DamageCardSelectComponent(popoverController) {
        this.popoverController = popoverController;
        this.selected_card = null;
    }
    DamageCardSelectComponent.prototype.changeEvent = function (event) {
        this.selected_card = event.detail.value;
    };
    DamageCardSelectComponent.prototype.selectCard = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.callback(this.selected_card);
                        return [4 /*yield*/, this.popoverController.dismiss()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    DamageCardSelectComponent.prototype.ngOnInit = function () {
    };
    DamageCardSelectComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-damage-card-select',
            template: __webpack_require__(/*! ./damage-card-select.component.html */ "./src/app/popovers/damage-card-select/damage-card-select.component.html"),
            styles: [__webpack_require__(/*! ./damage-card-select.component.scss */ "./src/app/popovers/damage-card-select/damage-card-select.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"]])
    ], DamageCardSelectComponent);
    return DamageCardSelectComponent;
}());



/***/ }),

/***/ "./src/app/popovers/damage-deck-actions/damage-deck-actions.component.html":
/*!*********************************************************************************!*\
  !*** ./src/app/popovers/damage-deck-actions/damage-deck-actions.component.html ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"damage-deck-actions\">\n  <xwing-icon [name]=\"'hit'\" class=\"damage-deck-icon\"></xwing-icon>\n  <strong>\n    Damage Deck\n  </strong>\n  <p>\n    {{ state.damagedeck.length }} cards left, {{ state.damagediscard.length}} discarded\n  </p>\n  <ion-button expand=\"full\" (click)=\"shuffleDeck()\">Shuffle Deck</ion-button>\n  <ion-button expand=\"full\" [disabled]=\"state.damagediscard.length <= 0\" (click)=\"shuffleDiscarded()\">Shuffle discarded</ion-button>\n</div>"

/***/ }),

/***/ "./src/app/popovers/damage-deck-actions/damage-deck-actions.component.scss":
/*!*********************************************************************************!*\
  !*** ./src/app/popovers/damage-deck-actions/damage-deck-actions.component.scss ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".damage-deck-actions {\n  padding: 1vw 1vw 1vw 1vw; }\n\n.damage-deck-icon {\n  display: inline-block;\n  text-align: center;\n  width: 3vw;\n  font-size: 2vw;\n  color: red;\n  background-color: black;\n  margin-right: 0.5vw; }\n"

/***/ }),

/***/ "./src/app/popovers/damage-deck-actions/damage-deck-actions.component.ts":
/*!*******************************************************************************!*\
  !*** ./src/app/popovers/damage-deck-actions/damage-deck-actions.component.ts ***!
  \*******************************************************************************/
/*! exports provided: DamageDeckActionsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DamageDeckActionsComponent", function() { return DamageDeckActionsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var DamageDeckActionsComponent = /** @class */ (function () {
    function DamageDeckActionsComponent(events, toastController, popoverController, state) {
        this.events = events;
        this.toastController = toastController;
        this.popoverController = popoverController;
        this.state = state;
    }
    DamageDeckActionsComponent.prototype.ngOnInit = function () {
    };
    DamageDeckActionsComponent.prototype.toastDamageDeck = function (text) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: text,
                            duration: 2000,
                            position: 'top'
                        })];
                    case 1:
                        toast = _a.sent();
                        return [2 /*return*/, toast.present()];
                }
            });
        });
    };
    DamageDeckActionsComponent.prototype.shuffleDiscarded = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.dismiss()];
                    case 1:
                        _a.sent();
                        this.state.shuffleDamageDiscard();
                        return [2 /*return*/];
                }
            });
        });
    };
    DamageDeckActionsComponent.prototype.shuffleDeck = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.dismiss()];
                    case 1:
                        _a.sent();
                        this.state.shuffleDamageDeck();
                        return [2 /*return*/];
                }
            });
        });
    };
    DamageDeckActionsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-damage-deck-actions',
            template: __webpack_require__(/*! ./damage-deck-actions.component.html */ "./src/app/popovers/damage-deck-actions/damage-deck-actions.component.html"),
            styles: [__webpack_require__(/*! ./damage-deck-actions.component.scss */ "./src/app/popovers/damage-deck-actions/damage-deck-actions.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Events"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"],
            _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_2__["XwingStateService"]])
    ], DamageDeckActionsComponent);
    return DamageDeckActionsComponent;
}());



/***/ }),

/***/ "./src/app/popovers/damage-popover/damage-popover.component.html":
/*!***********************************************************************!*\
  !*** ./src/app/popovers/damage-popover/damage-popover.component.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"damage-popover\">\n  <div class=\"damage-card\">\n    <div *ngIf=\"card.exposed\" class=\"damage-card-front\">\n      <div class=\"damage-title\">\n        {{ card.title }}\n      </div>\n      <div class=\"damage-type\">\n        {{ card.type }}\n      </div>\n      <div class=\"damage-text\">\n          <xwing-text [text]=\"card.text\"></xwing-text>\n      </div>\n    </div>\n    <div *ngIf=\"!card.exposed\" class=\"damage-card-back\">\n      <span class=\"damage-card-back-art\"><xwing-icon [name]=\"'hit'\"></xwing-icon></span>\n    </div>\n  </div>\n  <ion-button expand=\"full\" (click)=\"repair()\">Repair</ion-button>\n  <ion-button expand=\"full\" *ngIf=\"!card.exposed\" (click)=\"expose()\">Expose</ion-button>\n</div>"

/***/ }),

/***/ "./src/app/popovers/damage-popover/damage-popover.component.scss":
/*!***********************************************************************!*\
  !*** ./src/app/popovers/damage-popover/damage-popover.component.scss ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".damage-popover {\n  background-color: white;\n  padding: 0.5vw 0.5vw 0.5vw 0.5vw; }\n\n.damage-card-back-art {\n  background-color: black;\n  color: red;\n  display: inline-block;\n  text-align: center;\n  font-size: 8em;\n  width: 100%; }\n\n.damage-card {\n  padding: 1vw 1vw 1vw 1vw;\n  background-color: black; }\n\n.damage-card-content, .damage-card-front, .damage-card-back {\n  border: 0.25vw solid red;\n  border-radius: 1vw;\n  padding: 1vw;\n  min-height: 16em; }\n\n.damage-card-front {\n  background-color: white; }\n\n.damage-card-back {\n  background-color: black; }\n\n.damage-title {\n  text-align: center;\n  font-weight: 900; }\n\n.damage-type {\n  text-align: center;\n  font-style: italic;\n  padding-bottom: 1em; }\n\n.damage-text {\n  text-align: center;\n  padding-bottom: 1em; }\n"

/***/ }),

/***/ "./src/app/popovers/damage-popover/damage-popover.component.ts":
/*!*********************************************************************!*\
  !*** ./src/app/popovers/damage-popover/damage-popover.component.ts ***!
  \*********************************************************************/
/*! exports provided: DamagePopoverComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DamagePopoverComponent", function() { return DamagePopoverComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/xwing-state.service */ "./src/app/services/xwing-state.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var DamagePopoverComponent = /** @class */ (function () {
    function DamagePopoverComponent(popoverController, ngZone, state) {
        this.popoverController = popoverController;
        this.ngZone = ngZone;
        this.state = state;
    }
    DamagePopoverComponent.prototype.ngOnInit = function () {
    };
    DamagePopoverComponent.prototype.mutateCard = function () {
        var _this = this;
        this.state.squadron.pilots.forEach(function (pilot) {
            var cardCopy = JSON.parse(JSON.stringify(_this.card));
            var index = pilot.damagecards.indexOf(_this.card);
            if (index > -1) {
                pilot.damagecards.splice(index, 1);
                pilot.damagecards.splice(index, 0, cardCopy);
                pilot.damagecards = JSON.parse(JSON.stringify(pilot.damagecards));
            }
        });
    };
    DamagePopoverComponent.prototype.repair = function () {
        var _this = this;
        this.ngZone.run(function () {
            if (_this.card.exposed) {
                _this.card.exposed = false;
                _this.mutateCard();
            }
            else {
                _this.popoverController.dismiss();
                // Search for the damage card on each pilot and delete it
                _this.state.squadron.pilots.forEach(function (pilot) {
                    var index = pilot.damagecards.indexOf(_this.card);
                    if (index > -1) {
                        pilot.damagecards.splice(index, 1);
                        var hullstat = pilot.stats.find(function (stat) { return stat['type'] == "hull"; });
                        hullstat.remaining = hullstat.value - pilot.damagecards.length;
                        _this.state.postDamage(pilot);
                    }
                });
                // Move discarded cards to damage discard pile
                _this.state.discard(_this.card);
            }
        });
    };
    DamagePopoverComponent.prototype.expose = function () {
        var _this = this;
        this.ngZone.run(function () {
            _this.card.exposed = true;
            _this.mutateCard();
        });
    };
    DamagePopoverComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'xws-damage-popover',
            template: __webpack_require__(/*! ./damage-popover.component.html */ "./src/app/popovers/damage-popover/damage-popover.component.html"),
            styles: [__webpack_require__(/*! ./damage-popover.component.scss */ "./src/app/popovers/damage-popover/damage-popover.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"],
            _services_xwing_state_service__WEBPACK_IMPORTED_MODULE_2__["XwingStateService"]])
    ], DamagePopoverComponent);
    return DamagePopoverComponent;
}());



/***/ }),

/***/ "./src/app/popovers/popover.module.ts":
/*!********************************************!*\
  !*** ./src/app/popovers/popover.module.ts ***!
  \********************************************/
/*! exports provided: PopoverModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PopoverModule", function() { return PopoverModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _components_xwing_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/xwing.module */ "./src/app/components/xwing.module.ts");
/* harmony import */ var _condition_menu_condition_menu_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./condition-menu/condition-menu.component */ "./src/app/popovers/condition-menu/condition-menu.component.ts");
/* harmony import */ var _condition_popover_condition_popover_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./condition-popover/condition-popover.component */ "./src/app/popovers/condition-popover/condition-popover.component.ts");
/* harmony import */ var _damage_deck_actions_damage_deck_actions_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./damage-deck-actions/damage-deck-actions.component */ "./src/app/popovers/damage-deck-actions/damage-deck-actions.component.ts");
/* harmony import */ var _damage_popover_damage_popover_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./damage-popover/damage-popover.component */ "./src/app/popovers/damage-popover/damage-popover.component.ts");
/* harmony import */ var _damage_card_select_damage_card_select_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./damage-card-select/damage-card-select.component */ "./src/app/popovers/damage-card-select/damage-card-select.component.ts");
/* harmony import */ var _assign_id_popover_assign_id_popover_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./assign-id-popover/assign-id-popover.component */ "./src/app/popovers/assign-id-popover/assign-id-popover.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};











var PopoverModule = /** @class */ (function () {
    function PopoverModule() {
    }
    PopoverModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicModule"],
                _components_xwing_module__WEBPACK_IMPORTED_MODULE_4__["XwingModule"]
            ],
            declarations: [
                _condition_menu_condition_menu_component__WEBPACK_IMPORTED_MODULE_5__["ConditionMenuComponent"],
                _condition_popover_condition_popover_component__WEBPACK_IMPORTED_MODULE_6__["ConditionPopoverComponent"],
                _damage_deck_actions_damage_deck_actions_component__WEBPACK_IMPORTED_MODULE_7__["DamageDeckActionsComponent"],
                _damage_popover_damage_popover_component__WEBPACK_IMPORTED_MODULE_8__["DamagePopoverComponent"],
                _damage_card_select_damage_card_select_component__WEBPACK_IMPORTED_MODULE_9__["DamageCardSelectComponent"],
                _assign_id_popover_assign_id_popover_component__WEBPACK_IMPORTED_MODULE_10__["AssignIdPopoverComponent"]
            ],
            exports: [],
            entryComponents: [
                _condition_menu_condition_menu_component__WEBPACK_IMPORTED_MODULE_5__["ConditionMenuComponent"],
                _condition_popover_condition_popover_component__WEBPACK_IMPORTED_MODULE_6__["ConditionPopoverComponent"],
                _damage_deck_actions_damage_deck_actions_component__WEBPACK_IMPORTED_MODULE_7__["DamageDeckActionsComponent"],
                _damage_popover_damage_popover_component__WEBPACK_IMPORTED_MODULE_8__["DamagePopoverComponent"],
                _damage_card_select_damage_card_select_component__WEBPACK_IMPORTED_MODULE_9__["DamageCardSelectComponent"],
                _assign_id_popover_assign_id_popover_component__WEBPACK_IMPORTED_MODULE_10__["AssignIdPopoverComponent"]
            ]
        })
    ], PopoverModule);
    return PopoverModule;
}());



/***/ }),

/***/ "./src/app/providers/http-angular.provider.ts":
/*!****************************************************!*\
  !*** ./src/app/providers/http-angular.provider.ts ***!
  \****************************************************/
/*! exports provided: HttpAngularProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HttpAngularProvider", function() { return HttpAngularProvider; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var HttpAngularProvider = /** @class */ (function () {
    function HttpAngularProvider(http) {
        this.http = http;
    }
    HttpAngularProvider.prototype.get = function (url, params, options) {
        if (options === void 0) { options = {}; }
        options.params = params;
        //options.withCredentials = true;
        return this.http.get(url, options);
    };
    HttpAngularProvider = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], HttpAngularProvider);
    return HttpAngularProvider;
}());



/***/ }),

/***/ "./src/app/providers/http-native.provider.ts":
/*!***************************************************!*\
  !*** ./src/app/providers/http-native.provider.ts ***!
  \***************************************************/
/*! exports provided: HttpNativeProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HttpNativeProvider", function() { return HttpNativeProvider; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic-native/http/ngx */ "./node_modules/@ionic-native/http/ngx/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var HttpNativeProvider = /** @class */ (function () {
    function HttpNativeProvider(http) {
        this.http = http;
    }
    HttpNativeProvider.prototype.get = function (url, params, options) {
        if (options === void 0) { options = {}; }
        var responseData = this.http.get(url, params, {})
            .then(function (resp) { return !options.responseType ? JSON.parse(resp.data) : resp.data; });
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["from"])(responseData);
    };
    HttpNativeProvider = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_1__["HTTP"]])
    ], HttpNativeProvider);
    return HttpNativeProvider;
}());



/***/ }),

/***/ "./src/app/providers/http.provider.ts":
/*!********************************************!*\
  !*** ./src/app/providers/http.provider.ts ***!
  \********************************************/
/*! exports provided: HttpProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HttpProvider", function() { return HttpProvider; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _http_angular_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http-angular.provider */ "./src/app/providers/http-angular.provider.ts");
/* harmony import */ var _http_native_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./http-native.provider */ "./src/app/providers/http-native.provider.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var HttpProvider = /** @class */ (function () {
    function HttpProvider(platform, angularHttp, nativeHttp) {
        this.platform = platform;
        this.angularHttp = angularHttp;
        this.nativeHttp = nativeHttp;
        var isMobile = this.platform.is('cordova');
        if (isMobile) {
            console.log("HttpProvider using nativeHttp");
        }
        else {
            console.log("HttpProvider using angularHttp");
        }
        this.http = isMobile ? this.nativeHttp : this.angularHttp;
    }
    HttpProvider.prototype.get = function (url, params, options) {
        if (options === void 0) { options = {}; }
        return this.http.get(url, params, options);
    };
    HttpProvider = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"], _http_angular_provider__WEBPACK_IMPORTED_MODULE_2__["HttpAngularProvider"], _http_native_provider__WEBPACK_IMPORTED_MODULE_3__["HttpNativeProvider"]])
    ], HttpProvider);
    return HttpProvider;
}());



/***/ }),

/***/ "./src/app/services/layout.service.ts":
/*!********************************************!*\
  !*** ./src/app/services/layout.service.ts ***!
  \********************************************/
/*! exports provided: LayoutService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayoutService", function() { return LayoutService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var LayoutService = /** @class */ (function () {
    function LayoutService(platform) {
        var _this = this;
        this.platform = platform;
        this.platforms = [];
        var platforms = ['android', 'capacitor', 'cordova', 'desktop', 'ipod', 'iphone', 'ipad',
            'ios', 'phablet', 'tablet', 'electron', 'mobile', 'pwa', 'hybrid'];
        this.platforms = platforms.filter(function (platform) {
            return _this.platform.is(platform);
        });
        console.log("Platforms", this.platforms);
    }
    LayoutService.prototype.getClass = function () {
        if (this.platforms.indexOf("desktop") >= 0) {
            return "-tablet";
        }
        if (this.platforms.indexOf("tablet") >= 0 && this.platform.isLandscape()) {
            return "-tablet";
        }
        if (this.platforms.indexOf("tablet") >= 0 && this.platform.isPortrait()) {
            return "-tablet-portrait";
        }
        if (this.isPhone() && this.platform.isPortrait()) {
            return "-phone-portrait";
        }
        if (this.isPhone() && this.platform.isLandscape()) {
            return "-phone-landscape";
        }
        // Catch all
        console.log("Layout class can't be determined!", this.platforms);
        return "-tablet";
    };
    LayoutService.prototype.isPhone = function () {
        var result = !this.platforms.includes("tablet") &&
            !this.platforms.includes("desktop");
        return result;
    };
    LayoutService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"]])
    ], LayoutService);
    return LayoutService;
}());



/***/ }),

/***/ "./src/app/services/xwing-data.service.ts":
/*!************************************************!*\
  !*** ./src/app/services/xwing-data.service.ts ***!
  \************************************************/
/*! exports provided: XwingDataService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XwingDataService", function() { return XwingDataService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _providers_http_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../providers/http.provider */ "./src/app/providers/http.provider.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/file-transfer/ngx */ "./node_modules/@ionic-native/file-transfer/ngx/index.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};










var XwingDataService = /** @class */ (function () {
    function XwingDataService(storage, http, events, platform, file, fileTransfer, sanitizer) {
        var _this = this;
        this.storage = storage;
        this.http = http;
        this.events = events;
        this.platform = platform;
        this.file = file;
        this.fileTransfer = fileTransfer;
        this.sanitizer = sanitizer;
        this.topic = "XwingDataService";
        this.last_message = "";
        this.downloading = false;
        // Data structure containing filename => json mapping
        this.progress = 0;
        this.initialized = false;
        // Should be hotlinked?
        this.hotlink = true;
        // key/filename pairs
        this.image_map = {};
        // base64urls for native, hotlinks for mobile
        this.image_urls = {};
        this.manifest_url = "https://raw.githubusercontent.com/jychuah/XwingTabled/master/scripts/manifest.json";
        // Json Data
        this.data = {};
        this.hotlink = !platform.is('cordova');
        this.transfer = fileTransfer.create();
        this.storage.ready().then(function () {
            _this.status("service_ready", "X-Wing Data Service Ready");
            _this.check_manifest();
        });
    }
    XwingDataService.prototype.status = function (status, message, progress) {
        if (message === void 0) { message = ""; }
        if (progress === void 0) { progress = this.progress; }
        this.events.publish(this.topic, { 'status': status, 'message': message, 'progress': progress });
        this.last_message = message;
        console.log(status, message);
    };
    XwingDataService.prototype.reset = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        // Delete all locally stored DB data (not images)
                        this.initialized = false;
                        this.image_map = {};
                        this.image_urls = {};
                        this.data = {};
                        return [4 /*yield*/, this.storage.clear()];
                    case 1:
                        _a.sent();
                        this.check_manifest();
                        return [2 /*return*/];
                }
            });
        });
    };
    XwingDataService.prototype.check_manifest = function () {
        var _this = this;
        // Start of data verification/download sequence
        // Loads cached data structure containing all xwing-data2 data.
        // If none is stored, then this.data will be null
        // Followed by download_manifest()
        this.status("manifest_loading", "Loading cached manifest... ");
        this.storage.get('manifest').then(function (data) {
            _this.status("manifest_loading", "Loading cached manifest... found!");
            _this.data = data;
            _this.download_manifest();
        }, function (error) {
            _this.status("manifest_loading", "Loading cached manifest... none found");
            _this.download_manifest();
        });
    };
    XwingDataService.prototype.download_manifest = function () {
        var _this = this;
        // Download the current manifest from xwing-data2
        this.status("manifest_downloading", "Downloading current manifest...");
        console.log("Downloading from", this.manifest_url);
        this.http.get(this.manifest_url).subscribe(function (manifest) {
            if (manifest) {
                _this.status("manifest_downloading", "Downloading current manifest... received!");
                var new_manifest = manifest;
                if (!_this.data || _this.data["version"] != new_manifest["version"]) {
                    _this.storage.set('manifest', new_manifest);
                    _this.data = new_manifest;
                }
                // Our manifest is good to go.
                _this.status("manifest_current", "Manifest is current.");
                console.log("X-Wing Json Data", _this.data);
                _this.load_images(_this.data);
            }
        }, function (error) {
            if (_this.data) {
                // Even if we weren't able to download a manifest, at least we have some existing data
                _this.load_images(_this.data);
            }
            else {
                _this.status("no_data_no_connection", "Unable to load or download manifest.json");
            }
        });
    };
    XwingDataService.prototype.load_from_storage = function (keys) {
        var _this = this;
        // Helper function to sequentially load keys from storage
        var done = 0;
        // Stream keys one at a time
        var keys_obs = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(keys);
        var value_obs = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(keys).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["concatMap"])(function (key) {
            // Save last key streamed, attempt to get the data
            return _this.storage.get(key);
        }));
        var zipped = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["zip"])(keys_obs, value_obs, function (key, value) { return ({ key: key, value: value }); });
        return zipped.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["tap"])((function (item) {
            done = done + 1;
            _this.progress = (done / keys.length) * 100;
        })));
    };
    XwingDataService.prototype.create_file_list = function (manifest, extension) {
        // "Flatten" a JSON dictionary, keeping only string values with a file extension
        var unpack_queue = [];
        var download_list = [];
        if (manifest) {
            // Push the manifest dictionary as the first object
            unpack_queue.push(manifest);
            var _loop_1 = function () {
                // Dequeue the front item
                var item = unpack_queue.shift();
                try {
                    // If the item is a string, see if it matches our extension
                    if (typeof item == "string") {
                        if (item.endsWith(extension)) {
                            download_list.push(item);
                        }
                    }
                    else if (item instanceof Array) {
                        // If it's an array, push all values to the back of the unpack queue
                        item.forEach(function (element) {
                            if (element == undefined) {
                                console.log("Empty array element in ", item);
                            }
                            else {
                                unpack_queue.push(element);
                            }
                        });
                    }
                    else {
                        // If it's a dictionary, unpack all key/value pairs and only push the values
                        Object.entries(item).forEach(function (_a) {
                            var key = _a[0], value = _a[1];
                            if (value == undefined) {
                                console.log("Empty value in ", item);
                            }
                            else {
                                unpack_queue.push(value);
                            }
                        });
                    }
                }
                catch (err) {
                    console.log("Error creating file list from manifest", manifest);
                    console.log("Could not unpack", item);
                }
            };
            // While there are still items to unpack
            while (unpack_queue.length > 0) {
                _loop_1();
            }
        }
        return download_list;
    };
    XwingDataService.prototype.url_to_filename = function (url) {
        // Extract the filename from a URL
        var tokens = url.split('/');
        return tokens[tokens.length - 1];
    };
    XwingDataService.prototype.download = function (urls, options) {
        var _this = this;
        if (options === void 0) { options = {}; }
        // Helper function to sequentially download files
        this.progress = 0;
        this.downloading = true;
        var done = 0;
        var url_obs = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(urls);
        var download_obs = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(urls).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["concatMap"])(function (url) { return _this.http.get(url, {}, options).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(function (error) {
            console.log("HTTP get error", error);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(undefined);
        })); }));
        var zipped = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["zip"])(url_obs, download_obs, function (url, response) { return ({ url: url, response: response }); });
        return zipped.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["tap"])(function (result) {
            done = done + 1;
            _this.progress = (done / urls.length) * 100;
        }));
    };
    XwingDataService.prototype.mangle_name = function (name) {
        // Canonicalizes names: T-65 X-Wing => t65xwing
        return name.replace(/\s/g, '').replace(/\-/g, '').toLowerCase();
    };
    XwingDataService.prototype.store_response = function (url, response) {
        var key = this.url_to_key_name(url);
        var value = response;
        this.storage.set(key, value);
    };
    XwingDataService.prototype.create_data_file_list = function (manifest, extension) {
        // Create a list of data files to download. Skip ships.json since it no longer
        // exists in xwing-data2
        var files = this.create_file_list(manifest, extension);
        var filtered = [];
        files.forEach(function (item) {
            if (item != "data/ships/ships.json") {
                filtered.push(item);
            }
        });
        return filtered;
    };
    XwingDataService.prototype.url_to_key_name = function (url) {
        // Extract file.json from end of URL and strip to friendly keyname
        var url_elements = url.split('/');
        var name = url_elements[url_elements.length - 1];
        return this.mangle_name(name).replace(/.json$/, '').replace(/.png$/, '').replace(/.jpg$/, '');
    };
    XwingDataService.prototype.getDamageDeck = function () {
        var deck = [];
        var cards = {};
        this.data.damagedecks[0].cards.forEach(function (card) {
            var _loop_2 = function (i) {
                var initials = "";
                card.title.split(' ').forEach(function (word) {
                    initials = initials + word[0];
                });
                if (!cards[card.title]) {
                    cards[card.title] = [];
                }
                cards[card.title].push({ title: card.title, type: card.type, text: card.text, initials: initials });
            };
            for (var i = 0; i < card.amount; i++) {
                _loop_2(i);
            }
        });
        while (Object.keys(cards).length > 0) {
            Object.keys(cards).forEach(function (cardTitle) {
                if (cards[cardTitle].length > 0) {
                    deck.push(cards[cardTitle].pop());
                }
                else {
                    delete cards[cardTitle];
                }
            });
        }
        console.log("Generating damage deck", deck);
        return deck;
    };
    XwingDataService.prototype.getCondition = function (xwsCondition) {
        var conditionObj = null;
        this.data.conditions.forEach(function (condition) {
            if (condition.xws == xwsCondition) {
                conditionObj = JSON.parse(JSON.stringify(condition));
            }
        });
        return conditionObj;
    };
    XwingDataService.prototype.getPilot = function (faction, xwsShip, xwsPilot) {
        // Given a faction string and pilot object retrieve object data
        // or return null if it can't be retrieved
        var ship = this.getShip(faction, xwsShip);
        var pilot = null;
        if (this.data.shims.xwsPilot[xwsPilot]) {
            xwsPilot = this.data.shims.xwsPilot[xwsPilot];
        }
        ship.pilots.forEach(function (pilotData) {
            if (pilotData.xws == xwsPilot) {
                pilot = pilotData;
            }
        });
        return JSON.parse(JSON.stringify(pilot));
    };
    XwingDataService.prototype.getXwsFromFFG = function (id) {
        var pilot = null;
        this.data.pilots.forEach(function (faction) {
            Object.entries(faction.ships).forEach(function (_a) {
                var ship_key = _a[0], ship = _a[1];
                var shipData = ship['pilots'].find(function (pilot) { return pilot.ffg == id; });
                if (shipData) {
                    pilot = { id: shipData.xws, name: shipData.xws, ship: ship['xws'] };
                }
            });
        });
        if (pilot) {
            return pilot;
        }
        var upgrade = null;
        Object.entries(this.data.upgrades).forEach(function (_a) {
            var upgrade_type = _a[0], upgrade_array = _a[1];
            var upgradeData = upgrade_array.find(function (upgrade) { return upgrade.sides[0].ffg == id; });
            if (upgradeData) {
                upgrade = { type: upgrade_type, xws: upgradeData.xws };
            }
        });
        return upgrade;
    };
    XwingDataService.prototype.getYasbUpgrade = function (id) {
        var upgrade = this.data.yasb.upgrades[id];
        if (!upgrade) {
            return null;
        }
        return JSON.parse(JSON.stringify(upgrade));
    };
    XwingDataService.prototype.getYasbPilot = function (id) {
        var pilot = this.data.yasb.pilots[id];
        if (!pilot) {
            return null;
        }
        return JSON.parse(JSON.stringify(pilot));
    };
    XwingDataService.prototype.getShip = function (faction, xwsShip) {
        if (this.data.shims.xwsShip[xwsShip]) {
            xwsShip = this.data.shims.xwsShip[xwsShip];
        }
        try {
            var factionData = this.data.pilots.find(function (pilotsEntry) { return pilotsEntry.faction == faction; });
            var ships = factionData.ships;
            var ship = ships[xwsShip];
            // For some reason, xws data in guidokessels data uses different names for 
            // TIE Fighters. For exåmple, tieininterceptor instead of tieinterceptor
            ship.keyname = xwsShip;
            return JSON.parse(JSON.stringify(ship));
        }
        catch (Error) {
            return null;
        }
    };
    XwingDataService.prototype.getUpgrade = function (upgradeType, xwsUpgrade) {
        if (this.data.shims.xwsUpgrade[xwsUpgrade]) {
            xwsUpgrade = this.data.shims.xwsUpgrade[xwsUpgrade];
        }
        try {
            var foundUpgrade_1 = null;
            this.data.upgrades[upgradeType].forEach(function (upgrade) {
                if (upgrade.xws == xwsUpgrade) {
                    foundUpgrade_1 = upgrade;
                }
            });
            return JSON.parse(JSON.stringify(foundUpgrade_1));
        }
        catch (Error) {
            return null;
        }
    };
    XwingDataService.prototype.load_images = function (manifest) {
        if (this.hotlink) {
            // If this is running in a desktop browser, then we can simply
            // hotlink to FFG's image CDN
            this.hotlink_images(manifest);
        }
        else {
            // Otherwise, begin a local file storage loading sequence.
            this.await_mainpage_loading_notification(manifest);
        }
    };
    XwingDataService.prototype.await_mainpage_loading_notification = function (manifest) {
        var _this = this;
        // Wait for the Main Page to verify that the "loading" screen is present
        this.events.subscribe("mainpage", function (event) {
            if (event.message == "loading_controller_present") {
                _this.load_images_from_storage(manifest);
            }
        });
        // Notify the Main Page that we will begin loading images. 
        // The above subscription actually begins the loading - but we have
        // to wait for the Main Page to disable screen interactions with
        // LoadingController
        this.status("loading_images", "Loading artwork.");
    };
    XwingDataService.prototype.load_images_from_storage = function (manifest) {
        var _this = this;
        // Create a list of image filenames to search for locally
        // from a manifest.
        var filenames = [];
        this.create_file_list(manifest, ".png").forEach(function (url) {
            filenames.push(_this.url_to_filename(url));
        });
        this.create_file_list(manifest, ".jpg").forEach(function (url) {
            filenames.push(_this.url_to_filename(url));
        });
        // Find the app's cacheDirectory
        this.file.resolveDirectoryUrl(this.file.cacheDirectory).then(function (value) {
            // Once found, load image files from the app's cache directory
            _this.load_files_from_directory(value, filenames);
        }, function (error) {
            // Something is seriously wrong - we can't load the app cache directory?
            console.log("can't resolve directory url", error);
        });
    };
    XwingDataService.prototype.get_image_by_key = function (key) {
        return __awaiter(this, void 0, void 0, function () {
            var base64url;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        // Image loader helper method
                        // Given a image keyname, find its associated URL
                        if (this.image_urls[key]) {
                            // For hotlinked images, this should always be filled
                            return [2 /*return*/, this.image_urls[key]];
                        }
                        return [4 /*yield*/, this.file.readAsDataURL(this.file.cacheDirectory, this.image_map[key])];
                    case 1:
                        base64url = _a.sent();
                        this.image_urls[key] = this.sanitizer.bypassSecurityTrustUrl(base64url);
                        return [2 /*return*/, this.image_urls[key]];
                }
            });
        });
    };
    XwingDataService.prototype.get_image_by_url = function (url) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.get_image_by_key(this.url_to_key_name(url))];
                    case 1: 
                    // Get an image via its URL
                    return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    XwingDataService.prototype.load_files_from_directory = function (directory, filenames) {
        // Do a quick file check for a list of images in a directory
        var _this = this;
        // Create a ({filename, status}) sequence
        var filenames_obs = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(filenames);
        var filereader_obs = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(filenames).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["flatMap"])(function (filename) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(_this.file.checkFile(_this.file.cacheDirectory, filename)); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(function (error) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(undefined);
        }));
        var zipped = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["zip"])(filenames_obs, filereader_obs, (function (filename, status) { return ({ filename: filename, status: status }); }));
        var done = 0;
        var missing = [];
        // Subscribe to the sequence
        zipped.subscribe(function (item) {
            // Mark progress that a file has been checked
            done = done + 1;
            _this.progress = (done / filenames.length) * 100;
            var key = _this.url_to_key_name(item.filename);
            if (item.status) {
                // If a file is present, record its filename in our image_map
                _this.image_map[key] = item.filename;
                //this.status("image_loaded", "Found image " + item.filename);
            }
            else {
                // If it's missing, mark it as missing
                _this.status("image_loaded", "Missing image " + item.filename);
                missing.push(item.filename);
            }
        }, function (error) {
            console.log("image loader error", error);
        }, function () {
            // Notify Main Page that loading images has finished
            _this.status("loading_images_complete", "Loading images complete");
            if (missing.length) {
                // If there are missing images, notify the Main Page so the user can be prompted to download it
                // This should trigger download_missing_images()
                _this.status("images_missing", "Some X-Wing artwork is missing and must be downloaded");
            }
            else {
                // If there are no missing images, then mark this service as initialized!
                _this.initialized = true;
                _this.status("images_complete", "All X-Wing artwork loaded");
                console.log("X-Wing Image Data", _this.image_map);
            }
        });
    };
    XwingDataService.prototype.missing_file_list = function (manifest) {
        var _this = this;
        // Construct a list of missing image files. Missing image
        // files are any .png or .jpg that do not appear in the image_map, which
        // should have been loaded during load_files_from_directory
        var missing_files = [];
        this.create_file_list(manifest, ".png").forEach(function (url) {
            if (!_this.image_map[_this.url_to_key_name(url)]) {
                missing_files.push(url);
            }
        });
        this.create_file_list(manifest, ".jpg").forEach(function (url) {
            if (!_this.image_map[_this.url_to_key_name(url)]) {
                missing_files.push(url);
            }
        });
        return missing_files;
    };
    XwingDataService.prototype.hotlink_images = function (manifest) {
        var _this = this;
        // Hotlink any images in our image_urls structure directly to FFG.
        this.create_file_list(manifest, ".png").forEach(function (url) {
            _this.image_urls[_this.url_to_key_name(url)] = url;
        });
        this.create_file_list(manifest, ".jpg").forEach(function (url) {
            _this.image_urls[_this.url_to_key_name(url)] = url;
        });
        // Notify Main Page that loading images has finished
        this.status("loading_images_complete", "Loading images complete");
        this.status("images_complete", "X-Wing artwork hotlinked");
        this.initialized = true;
        console.log("X-Wing Images hotlinked URLS", this.image_urls);
    };
    XwingDataService.prototype.download_missing_images = function (manifest) {
        // Sequentially ownload missing images from FFG image-cdn
        var _this = this;
        // Create a list of images to download
        var missing = [];
        var urls = this.missing_file_list(manifest);
        // Create a sequence of ( { urls, fileEntry })
        var url_obs = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(urls);
        var file_obs = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(urls).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["concatMap"])(function (url) { return _this.transfer.download(url, _this.file.cacheDirectory + _this.url_to_filename(url)); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(function (error) {
            console.log("download error", error);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(undefined);
        }));
        var zipped = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["zip"])(url_obs, file_obs, function (url, fileEntry) { return ({ url: url, fileEntry: fileEntry }); });
        var done = 0;
        // Subscribe to the downloads
        zipped.subscribe(function (result) {
            var key = _this.url_to_key_name(result.url);
            done = done + 1;
            _this.progress = (done / urls.length) * 100;
            // Check each download
            if (result.fileEntry) {
                // If a fileEntry is present, mark it as downloaded in our image_map
                _this.status("image_download", "Downloaded " + key);
                _this.image_map[key] = _this.url_to_filename(result.url);
            }
            else {
                // Otherwise mark it is missing
                _this.status("image_download", "Unable to download " + key);
                missing.push(key);
            }
        }, function (error) { }, function () {
            if (missing.length) {
                // If there are images that could not be downloaded, inform the Main Page
                _this.status("image_download_incomplete", "Unable to download one or more images");
            }
            else {
                // Otherwise we are good to go. Mark the service as initialized!
                _this.status("image_download_complete", "X-Wing artwork has been downloaded");
                _this.initialized = true;
                console.log("X-Wing Image Data", _this.image_map);
            }
        });
    };
    XwingDataService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_ionic_storage__WEBPACK_IMPORTED_MODULE_1__["Storage"], _providers_http_provider__WEBPACK_IMPORTED_MODULE_2__["HttpProvider"], _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["Events"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["Platform"], _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_8__["File"], _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_6__["FileTransfer"],
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__["DomSanitizer"]])
    ], XwingDataService);
    return XwingDataService;
}());



/***/ }),

/***/ "./src/app/services/xwing-import.service.ts":
/*!**************************************************!*\
  !*** ./src/app/services/xwing-import.service.ts ***!
  \**************************************************/
/*! exports provided: XwingImportService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XwingImportService", function() { return XwingImportService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _xwing_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _providers_http_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../providers/http.provider */ "./src/app/providers/http.provider.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var XwingImportService = /** @class */ (function () {
    function XwingImportService(dataService, http) {
        this.dataService = dataService;
        this.http = http;
    }
    XwingImportService.prototype.injectShipData = function (pilot, faction) {
        // Inject ship data into pilot
        var xwsShip = pilot.ship;
        pilot.ship = this.dataService.getShip(faction, pilot.ship);
        if (pilot.ship != null) {
            // Inject stats array in pilot root
            pilot.stats = [];
            pilot.ship.stats.forEach(function (stat) {
                var statCopy = JSON.parse(JSON.stringify(stat));
                // Future proofing - in case a chassis ever has baked in recurring charge stats
                statCopy.remaining = stat.value;
                if (stat.recovers) {
                    statCopy.numbers = new Array(stat.recovers);
                }
                pilot.stats.push(statCopy);
            });
        }
        else {
            throw "ERROR: Ship not found - " + xwsShip;
        }
    };
    XwingImportService.prototype.injectPilotData = function (pilot, faction) {
        // Get pilot data and insert it into pilot object
        pilot.pilot = this.dataService.getPilot(faction, pilot.ship.keyname, pilot.id);
        if (pilot.pilot != null) {
            // Creates a stat of { type: statType, remaining: 2, numbers: Array() }
            // for display compatibility
            var pushStat = function (stat, statType) {
                var statCopy = JSON.parse(JSON.stringify(stat));
                statCopy.type = statType;
                statCopy.remaining = stat.value;
                statCopy.numbers = Array(stat.numbers);
                pilot.stats.push(statCopy);
            };
            // If the pilot has charges, insert it as a stat
            if (pilot.pilot.charges) {
                pushStat(pilot.pilot.charges, 'charges');
            }
            // If the pilot has force, insert it as a stat
            if (pilot.pilot.force) {
                pushStat(pilot.pilot.force, 'force');
            }
            pilot.card_text = "";
            if (pilot.pilot.ability) {
                pilot.card_text += pilot.pilot.ability + "<br /><br />";
            }
            if (pilot.pilot.text) {
                pilot.card_text += pilot.pilot.text + "<br /><br />";
            }
            if (pilot.pilot.shipAbility && pilot.pilot.shipAbility.text) {
                pilot.card_text += "<i>" + pilot.pilot.shipAbility.name + "</i>: " +
                    pilot.pilot.shipAbility.text;
            }
            // Add additional game state variables
            pilot.damagecards = [];
            pilot.conditions = [];
            pilot.pointsDestroyed = 0;
        }
        else {
            throw "ERROR: Pilot not found - " + pilot.id;
        }
    };
    XwingImportService.prototype.mangleUpgradeArray = function (pilot) {
        var _this = this;
        // Take xws upgrade list {'astromech': ['r2d2']} and mangle it to
        // [ { type: 'astromech', name: 'r2d2', etc... } ]
        var mangledUpgrades = [];
        if (pilot.upgrades) {
            Object.entries(pilot.upgrades).forEach(function (_a) {
                var upgradeType = _a[0], upgradeArray = _a[1];
                if (Array.isArray(upgradeArray)) {
                    upgradeArray.forEach(function (upgradeName) {
                        if (upgradeType == "force" || upgradeType == "force-power") {
                            upgradeType = "forcepower";
                        }
                        // Skip hardpoints on T70s for xws exports from raithos.github.io
                        if (upgradeType == "hardpoint") {
                            return;
                        }
                        var upgradeData = _this.dataService.getUpgrade(upgradeType, upgradeName);
                        if (upgradeData != null) {
                            upgradeData['type'] = upgradeType;
                            mangledUpgrades.push(upgradeData);
                        }
                        else {
                            throw "ERROR: Upgrade not found - " + upgradeName;
                        }
                    });
                }
            });
        }
        pilot.upgrades = mangledUpgrades;
    };
    XwingImportService.prototype.injectUpgradeData = function (pilot, upgrade) {
        // Set default "side" of upgrade card to side 0
        upgrade.side = 0;
        // Process each side
        upgrade.sides.forEach(function (side) {
            // Mangle charges stats
            if (side.charges) {
                side.charges.type = "charges";
                side.charges.remaining = side.charges.value;
                side.charges.numbers = Array(side.charges.recovers);
            }
            // Mangle force stats
            if (side.force) {
                side.force.numbers = Array(side.force.recovers);
                side.force.type = "force";
            }
            // Mangle attack stats
            if (side.attack) {
                side.attack.type = "attack";
                // Displayed icon should be the attack's icon
                side.attack.icon = side.attack.arc;
            }
            // If side has granted actions that aren't listed as actions, 
            // inject those
            if (!side.actions) {
                side.actions = [];
                if (side.grants) {
                    side.grants.forEach(function (grant) {
                        if (grant['type'] == "action") {
                            side.actions.push(grant.value);
                        }
                    });
                }
            }
        });
    };
    XwingImportService.prototype.injectShipBonuses = function (pilot) {
        // Search upgrades for any upgrade that has a 'grant'
        pilot.upgrades.forEach(function (upgrade) {
            var side = upgrade.sides[0];
            if (side.grants) {
                // Find shield or hull bonuses
                var grant_1 = side.grants.find(function (grant) { return grant.value == "shields" || grant.value == "hull"; });
                if (grant_1) {
                    // Find the granted bonus stat on the pilot and add it
                    var stat = pilot.stats.find(function (element) { return element.type == grant_1.value; });
                    if (!stat) {
                        stat = {
                            "type": grant_1.value,
                            "remaining": grant_1.amount,
                            "value": grant_1.amount
                        };
                        pilot.stats.push(stat);
                    }
                    else {
                        stat.value += grant_1.amount;
                        stat.remaining = stat.value;
                    }
                }
            }
        });
    };
    XwingImportService.prototype.injectForceBonuses = function (pilot) {
        // Add any force bonuses to the pilot, creating a force stat if necessary
        pilot.upgrades.forEach(function (upgrade) {
            var side = upgrade.sides[0];
            // Find upgrades that have a force bonus
            if (side.force) {
                // Get the pilot's force stat
                var forceStat = pilot.stats.find(function (element) { return element.type == 'force'; });
                // If no force stat exists, create one
                if (!forceStat) {
                    forceStat = { value: 0, recovers: 0, type: 'force', numbers: [] };
                    pilot.stats.push(forceStat);
                }
                // Add force bonuses
                forceStat.value += side.force.value;
                forceStat.recovers += side.force.recovers;
                forceStat.numbers = Array(forceStat.recovers);
                forceStat.remaining = forceStat.value;
            }
        });
    };
    XwingImportService.prototype.calculatePoints = function (pilot) {
        var pilotCost = pilot.pilot.cost;
        var upgradeCost = 0;
        pilot.upgrades.forEach(function (upgrade) {
            if (upgrade.cost) {
                if ("value" in upgrade.cost) {
                    upgradeCost += upgrade.cost.value;
                }
                if ("variable" in upgrade.cost) {
                    var statValue = "";
                    upgrade.cost.variable = upgrade.cost.variable.toLowerCase();
                    if (upgrade.cost.variable == "size") {
                        statValue = pilot.ship.size;
                    }
                    else if (upgrade.cost.variable == "initiative") {
                        statValue = pilot.pilot.initiative;
                    }
                    else {
                        statValue = pilot.stats.find(function (stat) { return stat.type == upgrade.cost.variable; }).value;
                    }
                    upgradeCost += upgrade.cost.values[statValue];
                }
            }
        });
        pilot.points = pilotCost + upgradeCost;
    };
    XwingImportService.prototype.processFFG = function (data) {
        var _this = this;
        var cost = data.cost;
        var name = data.name;
        var faction = data.faction.name;
        var pilots = [];
        data.deck.forEach(function (pilot) {
            var xwsPilot = _this.dataService.getXwsFromFFG(pilot.pilot_card.id);
            xwsPilot.points = pilot.cost;
            var upgrades = {};
            pilot.slots.forEach(function (upgrade) {
                var upgradeData = _this.dataService.getXwsFromFFG(upgrade.id);
                if (upgrades[upgradeData.type] == undefined) {
                    upgrades[upgradeData.type] = [];
                }
                upgrades[upgradeData.type].push(upgradeData.xws);
            });
            xwsPilot.upgrades = upgrades;
            pilots.push(xwsPilot);
        });
        var squadron = {
            description: data.description,
            faction: data.faction.name.replace(/ /g, '').toLowerCase(),
            name: data.name,
            points: data.cost,
            pilots: pilots
        };
        console.log("FFG SquadBuilder response", data);
        console.log("FFG -> XWS", squadron);
        return this.processXws(squadron);
    };
    XwingImportService.prototype.processYasb = function (data) {
        var _this = this;
        var pilots = [];
        data.pilots.forEach(function (pilot) {
            var yasbPilot = _this.dataService.getYasbPilot(pilot.id);
            var xwsPilot = { id: yasbPilot.xws, ship: yasbPilot.ship, upgrades: {} };
            var upgrades = {};
            for (var i = 0; i < pilot.upgrades.length; i++) {
                var upgrade = pilot.upgrades[i];
                var hardpointRegex = /\d{3}(\:U\.\-?\d+)/g;
                var hardpoints = upgrade.match(hardpointRegex);
                var upgradeNum = -1;
                if (hardpoints && hardpoints[0]) {
                    upgradeNum = parseInt(hardpoints[0].split('.')[1]);
                    // Upgrade number that grants another slot - push to the end
                    var baseUpgradeNum = hardpoints[0].split(':')[0];
                    pilot.upgrades.push(baseUpgradeNum);
                }
                else {
                    upgradeNum = parseInt(upgrade);
                }
                var yasbUpgrade = _this.dataService.getYasbUpgrade(upgradeNum);
                if (yasbUpgrade) {
                    if (upgrades[yasbUpgrade.slot] == undefined) {
                        upgrades[yasbUpgrade.slot] = [];
                    }
                    upgrades[yasbUpgrade.slot].push(yasbUpgrade.xws);
                }
            }
            xwsPilot.upgrades = upgrades;
            pilots.push(xwsPilot);
        });
        var squadron = {
            name: data.name,
            faction: data.faction,
            pilots: pilots
        };
        console.log("YASB squadron", squadron);
        return this.processXws(squadron);
    };
    XwingImportService.prototype.processXws = function (squadron) {
        var _this = this;
        var squadPoints = 0;
        squadron.damagediscard = [];
        squadron.damagedeck = this.dataService.getDamageDeck();
        squadron.pilots.forEach(function (pilot) {
            _this.injectShipData(pilot, squadron.faction);
            _this.injectPilotData(pilot, squadron.faction);
            _this.mangleUpgradeArray(pilot);
            // Process each upgrade card
            pilot.upgrades.forEach(function (upgrade) {
                _this.injectUpgradeData(pilot, upgrade);
            });
            _this.calculatePoints(pilot);
            squadPoints += pilot.points;
            _this.injectShipBonuses(pilot);
            _this.injectForceBonuses(pilot);
        });
        squadron.points = squadPoints;
        squadron.pointsDestroyed = 0;
        return squadron;
    };
    XwingImportService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__["XwingDataService"],
            _providers_http_provider__WEBPACK_IMPORTED_MODULE_2__["HttpProvider"]])
    ], XwingImportService);
    return XwingImportService;
}());



/***/ }),

/***/ "./src/app/services/xwing-state.service.ts":
/*!*************************************************!*\
  !*** ./src/app/services/xwing-state.service.ts ***!
  \*************************************************/
/*! exports provided: XwingStateService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XwingStateService", function() { return XwingStateService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _xwing_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./xwing-data.service */ "./src/app/services/xwing-data.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var XwingStateService = /** @class */ (function () {
    function XwingStateService(dataService, events, storage, toastController) {
        this.dataService = dataService;
        this.events = events;
        this.storage = storage;
        this.toastController = toastController;
        this.initialized = false;
        this.squadron = {};
        this.snapshots = [];
        this.damagedeck = [];
        this.damagediscard = [];
    }
    XwingStateService.prototype.reset = function () {
        this.squadron = {};
        this.snapshots = [];
        this.initialized = false;
    };
    XwingStateService.prototype.restoreFromDisk = function () {
        return __awaiter(this, void 0, void 0, function () {
            var snapshots, lastSnapshot;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.ready()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.storage.get("snapshots")];
                    case 2:
                        snapshots = _a.sent();
                        if (snapshots) {
                            this.snapshots = snapshots;
                            lastSnapshot = JSON.parse(JSON.stringify(this.snapshots[this.snapshots.length - 1]));
                            if (lastSnapshot.squadrons) {
                                console.log("Legacy snapshot found");
                                lastSnapshot.squadron = lastSnapshot.squadrons[0];
                                lastSnapshot.damagedeck = lastSnapshot.squadrons[0].damagedeck;
                                lastSnapshot.damagediscard = lastSnapshot.squadrons[0].damagediscard;
                                this.snapshots = [lastSnapshot];
                            }
                            this.squadron = lastSnapshot.squadron;
                            this.damagedeck = lastSnapshot.damagedeck;
                            this.damagediscard = lastSnapshot.damagediscard;
                            this.injectNums();
                            console.log("Squadron restored", this.squadron);
                            this.initialized = true;
                        }
                        else {
                            this.squadron = null;
                            this.initialized = false;
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    XwingStateService.prototype.getLastSnapshotTime = function () {
        return this.snapshots[this.snapshots.length - 1].time;
    };
    XwingStateService.prototype.resetSquadron = function () {
        this.squadron.pointsDestroyed = 0;
        this.damagediscard = [];
        this.damagedeck = this.dataService.getDamageDeck();
        this.shuffleDamageDeck();
        this.squadron.pilots.forEach(function (pilot) {
            pilot.damagecards = [];
            pilot.conditions = [];
            pilot.pointsDestroyed = 0;
            pilot.stats.forEach(function (stat) {
                stat.remaining = stat.value;
            });
            pilot.upgrades.forEach(function (upgrade) {
                upgrade.side = 0;
                if (upgrade.sides[0].charges) {
                    upgrade.sides[0].charges.remaining = upgrade.sides[0].charges.value;
                }
            });
        });
        this.snapshot();
    };
    XwingStateService.prototype.rechargeAllRecurring = function () {
        var recover = function (stat) {
            stat.remaining += stat.recovers;
            if (stat.remaining > stat.value) {
                stat.remaining = stat.value;
            }
        };
        this.squadron.pilots.forEach(function (pilot) {
            for (var i = 0; i < pilot.stats.length; i++) {
                var stat = pilot.stats[i];
                if (stat.recovers) {
                    recover(stat);
                    pilot.stats.splice(i, 1, JSON.parse(JSON.stringify(stat)));
                }
            }
            pilot.upgrades.forEach(function (upgrade) {
                var side = upgrade.sides[0];
                if (side.charges && side.charges.recovers) {
                    recover(side.charges);
                    side.charges = JSON.parse(JSON.stringify(side.charges));
                }
            });
        });
        this.snapshot();
    };
    XwingStateService.prototype.snapshot = function () {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this.snapshots.length >= 5) {
                            this.snapshots.shift();
                        }
                        this.snapshots.push({ time: new Date().toISOString(),
                            squadron: JSON.parse(JSON.stringify(this.squadron)),
                            damagedeck: JSON.parse(JSON.stringify(this.damagedeck)),
                            damagediscard: JSON.parse(JSON.stringify(this.damagediscard)) });
                        this.storage.set("snapshots", this.snapshots);
                        console.log("snapshot created", this.snapshots);
                        return [4 /*yield*/, this.toastController.create({
                                message: "Snapshot created " + this.getLastSnapshotTime(),
                                duration: 2000,
                                position: 'bottom'
                            })];
                    case 1:
                        toast = _a.sent();
                        return [2 /*return*/, toast.present()];
                }
            });
        });
    };
    XwingStateService.prototype.snapshotCheck = function () {
        if (this.snapshots.length) {
            var lastSnapshot = this.snapshots[this.snapshots.length - 1];
            if (JSON.stringify(lastSnapshot.squadron) != JSON.stringify(this.squadron) ||
                JSON.stringify(lastSnapshot.damagedeck) != JSON.stringify(this.damagedeck) ||
                JSON.stringify(lastSnapshot.damagediscard) != JSON.stringify(this.damagediscard)) {
                this.snapshot();
            }
        }
    };
    XwingStateService.prototype.undo = function () {
        this.snapshots.pop();
        var snapshot = this.snapshots.pop();
        this.squadron = snapshot.squadron;
        this.damagedeck = snapshot.damagedeck;
        this.damagediscard = snapshot.damagediscard;
        this.snapshot();
        return snapshot.time;
    };
    XwingStateService.prototype.injectNums = function () {
        for (var pilotNum = 0; pilotNum < this.squadron.pilots.length; pilotNum++) {
            var pilot = this.squadron.pilots[pilotNum];
            pilot.num = pilotNum;
            for (var upgradeNum = 0; upgradeNum < pilot.upgrades.length; upgradeNum++) {
                pilot.upgrades[upgradeNum].num = upgradeNum;
            }
        }
    };
    XwingStateService.prototype.setSquadron = function (squadron) {
        this.squadron = squadron;
        this.damagedeck = this.dataService.getDamageDeck();
        this.damagediscard = [];
        this.injectNums();
        this.shuffleDamageDeck();
        this.initialized = true;
        this.snapshot();
    };
    XwingStateService.prototype.shuffleDamageDeck = function () {
        return __awaiter(this, void 0, void 0, function () {
            var newDeck, index, card, toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        newDeck = [];
                        while (this.damagedeck.length > 0) {
                            index = Math.floor(Math.random() * this.damagedeck.length);
                            card = this.damagedeck[index];
                            this.damagedeck.splice(index, 1);
                            newDeck.push(card);
                        }
                        this.damagedeck = newDeck;
                        console.log("Damage deck shuffled", this.damagedeck);
                        this.snapshot();
                        return [4 /*yield*/, this.toastController.create({
                                message: "Damage Deck shuffled",
                                duration: 2000,
                                position: 'top'
                            })];
                    case 1:
                        toast = _a.sent();
                        return [2 /*return*/, toast.present()];
                }
            });
        });
    };
    XwingStateService.prototype.shuffleDamageDiscard = function () {
        var _this = this;
        this.damagediscard.forEach(function (card) {
            _this.damagedeck.push(card);
        });
        this.damagediscard = [];
        this.shuffleDamageDeck();
    };
    XwingStateService.prototype.discard = function (card) {
        this.damagediscard.push(card);
    };
    XwingStateService.prototype.draw = function () {
        return this.damagedeck.shift();
    };
    XwingStateService.prototype.postDamage = function (pilot) {
        return __awaiter(this, void 0, void 0, function () {
            var hull, toast, totalPoints, remainingPoints, shields, threshold, toast;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        hull = pilot.stats.find(function (stat) { return stat.type == 'hull'; });
                        // Compute hull remaining based on number of damage cards
                        hull.remaining = hull.value - pilot.damagecards.length;
                        if (!(hull.remaining <= 0)) return [3 /*break*/, 2];
                        pilot.pointsDestroyed = pilot.points;
                        return [4 /*yield*/, this.toastController.create({
                                message: pilot.pilot.name + " destroyed",
                                duration: 2000,
                                position: 'middle'
                            })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [3 /*break*/, 5];
                    case 2:
                        totalPoints = hull.value;
                        remainingPoints = hull.remaining;
                        shields = pilot.stats.find(function (stat) { return stat.type == 'shields'; });
                        if (shields) {
                            totalPoints += shields.value;
                            remainingPoints += shields.remaining;
                        }
                        threshold = Math.floor(totalPoints / 2);
                        if (!(remainingPoints == threshold ||
                            remainingPoints == threshold - 1)) return [3 /*break*/, 4];
                        pilot.pointsDestroyed = Math.ceil(pilot.points / 2);
                        return [4 /*yield*/, this.toastController.create({
                                message: pilot.pilot.name + " at half points",
                                duration: 2000,
                                position: 'middle'
                            })];
                    case 3:
                        toast = _a.sent();
                        toast.present();
                        return [3 /*break*/, 5];
                    case 4:
                        if (remainingPoints > threshold) {
                            pilot.pointsDestroyed = 0;
                        }
                        _a.label = 5;
                    case 5:
                        this.squadron.pointsDestroyed = 0;
                        this.squadron.pilots.forEach(function (pilot) {
                            _this.squadron.pointsDestroyed += pilot.pointsDestroyed;
                        });
                        if (this.squadron.pointsDestroyed == this.squadron.points) {
                            this.squadron.pointsDestroyed = 200;
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    XwingStateService.prototype.drawHit = function (pilot) {
        var card = this.damagedeck.shift();
        if (card) {
            card.exposed = false;
            pilot.damagecards.push(card);
            this.postDamage(pilot);
            return true;
        }
        else {
            return false;
        }
    };
    XwingStateService.prototype.drawCrit = function (pilot) {
        var card = this.damagedeck.shift();
        if (card) {
            card.exposed = true;
            pilot.damagecards.push(card);
            this.postDamage(pilot);
            return true;
        }
        else {
            return false;
        }
    };
    XwingStateService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_xwing_data_service__WEBPACK_IMPORTED_MODULE_1__["XwingDataService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Events"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_3__["Storage"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"]])
    ], XwingStateService);
    return XwingStateService;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false
};
/*
 * In development mode, to ignore zone related error stack frames such as
 * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can
 * import the following file, but please comment it out in production mode
 * because it will have performance impact when throw error
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /Users/jchuah/XwingTabled/src/main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);