(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+tJ4":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},"+umK":function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},"+v3u":function(t,e,n){n("q94Q")("match")},"//qW":function(t,e,n){"use strict";var r=n("Gp07"),o=n("LX9C"),i=n("stQs"),a=o.set,s=o.getterFor("String Iterator");i(String,"String",function(t){a(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=s(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o,!0),e.index+=t.length,{value:t,done:!1})})},"/WYv":function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},0:function(t,e,n){t.exports=n("zUnb")},"0/uQ":function(t,e,n){"use strict";var r=n("6blF"),o=n("/WYv"),i=n("2ePl"),a=n("xTla"),s=n("En8+"),u=n("IUTb"),l=n("pugT"),c=n("S5XQ"),h=n("u67D"),f=n("JcRv"),d=n("Fxb1");function p(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(d.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(e?function(n){var r=new l.a;return r.add(e.schedule(function(){var o=t[a.a]();r.add(o.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:Object(f.a)(t))}(t,e);if(Object(o.a)(t))return function(t,e){return new r.a(e?function(n){var r=new l.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:Object(c.a)(t))}(t,e);if(Object(i.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?function(n){var r,o=new l.a;return o.add(function(){r&&"function"==typeof r.return&&r.return()}),o.add(e.schedule(function(){r=t[s.a](),o.add(e.schedule(function(){if(!n.closed){var t,e;try{var o=r.next();t=o.value,e=o.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}}))})),o}:Object(h.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",function(){return p})},"0Bu/":function(t,e,n){var r=n("kpns"),o=n("bcPd");t.exports=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}},"0FX9":function(t,e,n){var r=n("qmMu"),o=n("QUaw"),i=n("OwiN");function a(t,e,n,o,i){var a=arguments.length-1;if(a<2)throw new Error("Too few arguments provided");if(2===a?(i=n,n=e,e=o=void 0):3===a&&(e.getContext&&void 0===i?(i=o,o=void 0):(i=o,o=n,n=e,e=void 0)),"function"!=typeof i)throw new Error("Callback required as last argument");try{i(null,t(r.create(n,o),e,o))}catch(s){i(s)}}e.create=r.create,e.toCanvas=a.bind(null,o.render),e.toDataURL=a.bind(null,o.renderToDataURL),e.toString=a.bind(null,function(t,e,n){return i.render(t,n)}),e.qrcodedraw=function(){return{draw:e.toCanvas}}},"0HDe":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"0i0S":function(t,e){t.exports={}},"0idE":function(t,e,n){var r=n("57wU"),o=n("SAp2"),i=n("qBi7")("IE_PROTO"),a=n("S5sp"),s=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},"15JJ":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("mrSG"),o=n("MGBS"),i=n("rPjj"),a=n("zotm"),s=n("67Y/"),u=n("0/uQ");function l(t,e){return"function"==typeof e?function(n){return n.pipe(l(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(s.a)(function(t,o){return e(n,t,r,o)}))}))}:function(e){return e.lift(new c(t))}}var c=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project))},t}(),h=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r.__extends(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var o=new i.a(this,void 0,void 0);this.destination.add(o),this.innerSubscription=Object(a.a)(this,t,e,n,o)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e}(o.a)},"1VRj":function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"1f/i":function(t,e,n){var r=n("ysHE"),o=n("wBs/"),i=n("57wU"),a=n("nX7E"),s=n("5eG6"),u=n("LX9C"),l=u.get,c=u.enforce,h=String(s).split("toString");n("MfhB")("inspectSource",function(t){return s.call(t)}),(t.exports=function(t,e,n,s){var u=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),c(n).source=h.join("string"==typeof e?e:"")),t!==r?(u?!f&&t[e]&&(l=!0):delete t[e],l?t[e]=n:o(t,e,n)):l?t[e]=n:a(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&l(this).source||s.call(this)})},"1sBl":function(t,e,n){var r=n("e/Dd").getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];for(var e=Math.floor(t/7)+2,n=r(t),o=145===n?26:2*Math.ceil((n-13)/(2*e-2)),i=[n-7],a=1;a<e-1;a++)i[a]=i[a-1]-o;return i.push(6),i.reverse()},e.getPositions=function(t){for(var n=[],r=e.getRowColCoords(t),o=r.length,i=0;i<o;i++)for(var a=0;a<o;a++)0===i&&0===a||0===i&&a===o-1||i===o-1&&0===a||n.push([r[i],r[a]]);return n}},"2Bdj":function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},"2F3y":function(t,e,n){n("q94Q")("asyncIterator")},"2Hee":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"2ePl":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},"2w5C":function(t,e,n){var r=n("57wU"),o=n("IutQ"),i=n("55jA")(!1),a=n("vcTx");t.exports=function(t,e){var n,s=o(t),u=0,l=[];for(n in s)!r(a,n)&&r(s,n)&&l.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~i(l,n)||l.push(n));return l}},"3Gxb":function(t,e,n){var r=n("2w5C"),o=n("o9j8").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},"3X7Y":function(t,e,n){var r=n("u/Db");function o(t){this.mode=r.NUMERIC,this.data=t.toString()}o.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){var e,n,r;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),r=parseInt(n,10),t.put(r,10);var o=this.data.length-e;o>0&&(n=this.data.substr(e),r=parseInt(n,10),t.put(r,3*o+1))},t.exports=o},"44fV":function(t,e,n){"use strict";var r=n("ysHE"),o=n("57wU"),i=n("lb/b"),a=n("U5J1"),s=n("pSMy"),u=n("1f/i"),l=n("vcTx"),c=n("0HDe"),h=n("MfhB"),f=n("S4gH"),d=n("ptKZ"),p=n("aXXJ"),g=n("ahhG"),m=n("q94Q"),v=n("SIcJ"),y=n("k2qa"),b=n("bcPd"),w=n("kpns"),_=n("IutQ"),C=n("ehg7"),S=n("2Hee"),E=n("tzov"),O=n("zkF/"),I=n("pYsU"),k=n("TIpl"),x=n("iCuu"),T=n("wBs/"),D=n("Q2Kg"),P=n("qBi7")("hidden"),A=n("LX9C"),N=A.set,M=A.getterFor("Symbol"),R=I.f,j=k.f,L=O.f,U=r.Symbol,q=r.JSON,F=q&&q.stringify,V=p("toPrimitive"),B=x.f,z=h("symbol-registry"),H=h("symbols"),G=h("op-symbols"),W=h("wks"),K=Object.prototype,Q=r.QObject,J=n("mk1t"),X=!Q||!Q.prototype||!Q.prototype.findChild,Y=i&&c(function(){return 7!=E(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=R(K,e);r&&delete K[e],j(t,e,n),r&&t!==K&&j(K,e,r)}:j,Z=function(t,e){var n=H[t]=E(U.prototype);return N(n,{type:"Symbol",tag:t,description:e}),i||(n.description=e),n},$=J&&"symbol"==typeof U.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof U},tt=function(t,e,n){return t===K&&tt(G,e,n),b(t),e=C(e,!0),b(n),o(H,e)?(n.enumerable?(o(t,P)&&t[P][e]&&(t[P][e]=!1),n=E(n,{enumerable:S(0,!1)})):(o(t,P)||j(t,P,S(1,{})),t[P][e]=!0),Y(t,e,n)):j(t,e,n)},et=function(t,e){b(t);for(var n,r=v(e=_(e)),o=0,i=r.length;i>o;)tt(t,n=r[o++],e[n]);return t},nt=function(t){var e=B.call(this,t=C(t,!0));return!(this===K&&o(H,t)&&!o(G,t))&&(!(e||!o(this,t)||!o(H,t)||o(this,P)&&this[P][t])||e)},rt=function(t,e){if(t=_(t),e=C(e,!0),t!==K||!o(H,e)||o(G,e)){var n=R(t,e);return!n||!o(H,e)||o(t,P)&&t[P][e]||(n.enumerable=!0),n}},ot=function(t){for(var e,n=L(_(t)),r=[],i=0;n.length>i;)o(H,e=n[i++])||o(l,e)||r.push(e);return r},it=function(t){for(var e,n=t===K,r=L(n?G:_(t)),i=[],a=0;r.length>a;)!o(H,e=r[a++])||n&&!o(K,e)||i.push(H[e]);return i};J||(u((U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor");var t=void 0===arguments[0]?void 0:String(arguments[0]),e=d(t),n=function(t){this===K&&n.call(G,t),o(this,P)&&o(this[P],e)&&(this[P][e]=!1),Y(this,e,S(1,t))};return i&&X&&Y(K,e,{configurable:!0,set:n}),Z(e,t)}).prototype,"toString",function(){return M(this).tag}),x.f=nt,k.f=tt,I.f=rt,n("3Gxb").f=O.f=ot,n("fw2a").f=it,i&&(j(U.prototype,"description",{configurable:!0,get:function(){return M(this).description}}),a||u(K,"propertyIsEnumerable",nt,{unsafe:!0})),g.f=function(t){return Z(p(t),t)}),s({global:!0,wrap:!0,forced:!J,sham:!J},{Symbol:U});for(var at=D(W),st=0;at.length>st;)m(at[st++]);s({target:"Symbol",stat:!0,forced:!J},{for:function(t){return o(z,t+="")?z[t]:z[t]=U(t)},keyFor:function(t){if(!$(t))throw TypeError(t+" is not a symbol");for(var e in z)if(z[e]===t)return e},useSetter:function(){X=!0},useSimple:function(){X=!1}}),s({target:"Object",stat:!0,forced:!J,sham:!i},{create:function(t,e){return void 0===e?E(t):et(E(t),e)},defineProperty:tt,defineProperties:et,getOwnPropertyDescriptor:rt}),s({target:"Object",stat:!0,forced:!J},{getOwnPropertyNames:ot,getOwnPropertySymbols:it}),q&&s({target:"JSON",stat:!0,forced:!J||c(function(){var t=U();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))})},{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(w(e)||void 0!==t)&&!$(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!$(e))return e}),r[1]=e,F.apply(q,r)}}),U.prototype[V]||T(U.prototype,V,U.prototype.valueOf),f(U,"Symbol"),l[P]=!0},"4Ea8":function(t,e,n){t.exports=n("ysHE")},"4fRq":function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},"4mOR":function(t,e,n){"use strict";var r=n("vQkR")(6),o=!0;"findIndex"in[]&&Array(1).findIndex(function(){o=!1}),n("pSMy")({target:"Array",proto:!0,forced:o},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("gJLK")("findIndex")},"4pTB":function(t,e){},"55jA":function(t,e,n){var r=n("IutQ"),o=n("H6ty"),i=n("GJzV");t.exports=function(t){return function(e,n,a){var s,u=r(e),l=o(u.length),c=i(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},"57wU":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"5eG6":function(t,e,n){t.exports=n("MfhB")("native-function-to-string",Function.toString)},"67Y/":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),o=n("FFOo");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}(),s=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return r.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(o.a)},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,i=n("q/0M"),a=n("mrSG"),s=n("x7I3"),u=n("zVF4"),l=o.SDK_VERSION,c=new i.Logger("@firebase/firestore"),h=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function f(){return c.logLevel===i.LogLevel.DEBUG?h.DEBUG:c.logLevel===i.LogLevel.SILENT?h.SILENT:h.ERROR}function d(t){switch(t){case h.DEBUG:c.logLevel=i.LogLevel.DEBUG;break;case h.ERROR:c.logLevel=i.LogLevel.ERROR;break;case h.SILENT:c.logLevel=i.LogLevel.SILENT;break;default:c.error("Firestore ("+l+"): Invalid value passed to `setLogLevel`")}}function p(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(c.logLevel<=i.LogLevel.DEBUG){var o=n.map(m);c.debug.apply(c,["Firestore ("+l+") ["+t+"]: "+e].concat(o))}}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=i.LogLevel.ERROR){var r=e.map(m);c.error.apply(c,["Firestore ("+l+"): "+t].concat(r))}}function m(t){if("string"==typeof t)return t;var e=b.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function v(t){var e="FIRESTORE ("+l+") INTERNAL ASSERTION FAILED: "+t;throw g(e),new Error(e)}function y(t,e){t||v(e)}var b=function(){function t(){}return t.setPlatform=function(e){t.platform&&v("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||v("Platform not set"),t.platform},t}();function w(){return b.getPlatform().emptyByteString}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return a.__extends(e,t),e}(Error);function S(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new C(_.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function O(t,e){return void 0!==t?t:e}function I(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function k(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x(t){for(var e in y(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function T(t,e){if(0!==e.length)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+G(e.length,"argument")+".")}function D(t,e,n){if(e.length!==n)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires "+G(n,"argument")+", but was called with "+G(e.length,"argument")+".")}function P(t,e,n){if(e.length<n)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires at least "+G(n,"argument")+", but was called with "+G(e.length,"argument")+".")}function A(t,e,n,r){if(e.length<n||e.length>r)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+G(e.length,"argument")+".")}function N(t,e,n,r){U(t,e,H(n)+" argument",r)}function M(t,e,n,r){void 0!==r&&N(t,e,n,r)}function R(t,e,n,r){U(t,e,n+" option",r)}function j(t,e,n,r){void 0!==r&&R(t,e,n,r)}function L(t,e,n,r,o){void 0!==r&&function(t,e,n,r,o){for(var i=[],a=0,s=o;a<s.length;a++){var u=s[a];if(u===r)return;i.push(F(u))}var l=F(r);throw new C(_.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+i.join(", "))}(t,0,n,r,o)}function U(t,e,n,r){if(!("object"===e?q(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var o=F(r);throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+o)}}function q(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function F(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v("Unknown wrong type: "+typeof t)}function V(t,e,n){if(void 0===n)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+H(e)+" argument, but it was undefined.")}function B(t,e,n){k(e,function(e,r){if(n.indexOf(e)<0)throw new C(_.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function z(t,e,n,r){var o=F(r);return new C(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+H(n)+" argument to be a "+e+", but it was: "+o)}function H(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function G(t,e){return t+" "+e+(1===t?"":"s")}var W=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return y(20===e.length,"Invalid auto ID: "+e),e},t}();function K(t,e){return t<e?-1:t>e?1:0}function Q(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function J(t){return t+"\0"}function X(){if("undefined"==typeof Uint8Array)throw new C(_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Y(){if(!b.getPlatform().base64Available)throw new C(_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Z=function(){function t(t){Y(),this._binaryString=t}return t.fromBase64String=function(e){D("Blob.fromBase64String",arguments,1),N("Blob.fromBase64String","string",1,e),Y();try{return new t(b.getPlatform().atob(e))}catch(n){throw new C(_.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+n)}},t.fromUint8Array=function(e){if(D("Blob.fromUint8Array",arguments,1),X(),!(e instanceof Uint8Array))throw z("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return D("Blob.toBase64",arguments,0),Y(),b.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){D("Blob.toUint8Array",arguments,0),X();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return K(this._binaryString,t._binaryString)},t}(),$=S(Z,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),tt=function(){function t(t,e){if(D("GeoPoint",arguments,2),N("GeoPoint","number",1,t),N("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new C(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new C(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return K(this._lat,t._lat)||K(this._long,t._long)},t}(),et=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new C(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new C(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new C(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new C(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?K(this.nanoseconds,t.nanoseconds):K(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),nt=function(){return function(t,e,n,r,o){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=o}}(),rt="(default)",ot=function(){function t(t,e){this.projectId=t,this.database=e||rt}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===rt},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return K(this.projectId,t.projectId)||K(this.database,t.database)},t}(),it=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&v("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&v("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):v("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return y(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return y(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return y(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return y(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var o=t.get(r),i=e.get(r);if(o<i)return-1;if(o>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new C(_.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(it),st=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.isValidIdentifier=function(t){return st.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",o=0,i=function(){if(0===r.length)throw new C(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;o<t.length;){var s=t[o];if("\\"===s){if(o+1===t.length)throw new C(_.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[o+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,o+=2}else"`"===s?(a=!a,o++):"."!==s||a?(r+=s,o++):(i(),o++)}if(i(),a)throw new C(_.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(it),lt=function(){function t(e){this.path=e,y(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===at.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return at.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new at(e.slice()))},t.fromPathString=function(e){return new t(at.fromString(e))},t.EMPTY=new t(new at([])),t}(),ct=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return lt.comparator(t.key,e.key)},t}(),ht=function(t){function e(e,n,r,o,i){var a=t.call(this,e,n)||this;return a.data=r,a.proto=i,a.hasLocalMutations=!!o.hasLocalMutations,a.hasCommittedMutations=!!o.hasCommittedMutations,a}return a.__extends(e,t),e.prototype.field=function(t){return this.data.field(t)},e.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,n){var r=e.field(t),o=n.field(t);return void 0!==r&&void 0!==o?r.compareTo(o):v("Trying to compare documents on fields that don't exist")},e}(ct),ft=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.hasCommittedMutations=!(!r||!r.hasCommittedMutations),o}return a.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ct),dt=function(t){function e(e,n){return t.call(this,e,n)||this}return a.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ct),pt=function(){function t(t,e){this.comparator=t,this.root=e||mt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new gt(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new gt(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new gt(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new gt(this.root,t,this.comparator,!0)},t}(),gt=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){y(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),mt=function(){function t(e,n,r,o,i){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:t.EMPTY,this.right=null!=i?i:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,o,i){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,o=n(t,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(e,o.key)){if(o.right.isEmpty())return t.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw v("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw v("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),vt=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.insert=function(t,e,n){return new mt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();mt.EMPTY=new vt;var yt=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),bt=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),wt=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(bt.Estimate,n);case"previous":return new t(bt.Previous,n);case"none":case void 0:return new t(bt.Default,n);default:return v("fromSnapshotOptions() called with invalid options.")}},t}(),_t=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return y(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),K(this.typeOrder,t.typeOrder)},t}(),Ct=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=yt.NullValue,e.internalValue=null,e}return a.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(_t),St=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=yt.BooleanValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?K(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(_t),Et=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=yt.NumberValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(_t);function Ot(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var It=function(t){function e(e){return t.call(this,e)||this}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Ot(this.internalValue,t.internalValue)},e}(Et),kt=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Ot(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Et),xt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=yt.StringValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?K(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(_t),Tt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=yt.TimestampValue,n}return a.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Dt?-1:this.defaultCompareTo(t)},e}(_t),Dt=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=yt.TimestampValue,r}return a.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===bt.Estimate?new Tt(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===bt.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof Tt?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(_t),Pt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=yt.BlobValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(_t),At=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=yt.RefValue,r}return a.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:lt.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(_t),Nt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=yt.GeoPointValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(_t),Mt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=yt.ObjectValue,n}return a.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),i=r.getNext();if(o.key!==i.key||!o.value.isEqual(i.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),i=r.getNext(),a=K(o.key,i.key)||o.value.compareTo(i.value);if(a)return a}return K(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(y(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var o=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),o)},e.prototype.delete=function(t){if(y(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){y(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e&&n.internalValue.get(t)||void 0}),n},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new pt(K)),e}(_t),Rt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=yt.ArrayValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var o=this.internalValue[r].compareTo(t.internalValue[r]);if(o)return o}return K(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map(function(t){return t.toString()}).join(",")+"]"},e}(_t),jt=Number,Lt=jt.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Ut=jt.MAX_SAFE_INTEGER||Math.pow(2,53)-1,qt=jt.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Ft(t){return null==t}function Vt(t){return qt(t)&&t<=Ut&&t>=Lt}var Bt=function(){function t(t,e,n,r,o,i,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[Yt]:[new Xt(t),Yt];else{y(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,o=this.explicitOrderBy;r<o.length;r++){var i=o[r];this.memoizedOrderBy.push(i),i.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Qt.ASCENDING)===Qt.ASCENDING?Yt:Zt)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){y(null==this.getInequalityFilterField()||!(e instanceof Gt)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),y(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){y(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();this.isCollectionGroupQuery()&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,o=this.orderBy;r<o.length;r++)t+=o[r].canonicalId(),t+=",";Ft(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Ft(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,o=this.orderBy;r<o.length;r++){var i=o[r],a=i.compare(t,e);if(0!==a)return a;n=n||i.field.isKeyField()}return y(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Ft(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Gt&&n.isInequality())return n.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(t){return t instanceof Gt&&t.op===Ht.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return lt.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):lt.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){y(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),zt=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(Ct.INSTANCE)){if(e!==Ht.EQUAL)throw new C(_.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Wt(t)}if(n.isEqual(kt.NAN)){if(e!==Ht.EQUAL)throw new C(_.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Kt(t)}return new Gt(t,e,n)},t}(),Ht=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return v("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),Gt=function(t){function e(e,n,r){var o=t.call(this)||this;return o.field=e,o.op=n,o.value=r,o}return a.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){y(this.value instanceof At,"Comparing on key, but filter value not a RefValue"),y(this.op!==Ht.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=lt.comparator(t.key,this.value.key);return this.matchesComparison(e)}var n=t.field(this.field);return void 0!==n&&this.matchesValue(n)},e.prototype.matchesValue=function(t){var e=this;return this.op===Ht.ARRAY_CONTAINS?t instanceof Rt&&void 0!==t.internalValue.find(function(t){return t.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case Ht.LESS_THAN:return t<0;case Ht.LESS_THAN_OR_EQUAL:return t<=0;case Ht.EQUAL:return 0===t;case Ht.GREATER_THAN:return t>0;case Ht.GREATER_THAN_OR_EQUAL:return t>=0;default:return v("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==Ht.EQUAL&&this.op!==Ht.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(zt),Wt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(zt),Kt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field),n=e&&e.value();return"number"==typeof n&&isNaN(n)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(zt),Qt=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Jt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){y(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var o=t[r],i=this.position[r];if(o.field.isKeyField())y(i instanceof At,"Bound has a non-key value where the key path is being used."),n=lt.comparator(i.key,e.key);else{var a=e.field(o.field);y(void 0!==a,"Field should exist since document matched the orderBy already."),n=i.compareTo(a)}if(o.dir===Qt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)return this.position[e].isEqual(t.position[e]);return!0},t}(),Xt=function(){function t(t,e){this.field=t,void 0===e&&(e=Qt.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?ht.compareByKey(t,e):ht.compareByField(this.field,t,e);switch(this.dir){case Qt.ASCENDING:return n;case Qt.DESCENDING:return-1*n;default:return v("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Yt=new Xt(ut.keyField(),Qt.ASCENDING),Zt=new Xt(ut.keyField(),Qt.DESCENDING),$t=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new et(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new et(0,0)),t}(),te=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),ee=function(){function t(t,e,n,r,o,i){void 0===o&&(o=$t.MIN),void 0===i&&(i=w()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.resumeToken=i}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),ne=function(){function t(t){this.comparator=t,this.data=new pt(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new re(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new re(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(o,i))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),re=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),oe=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new ne(ut.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.applyTo=function(t){var e=Mt.EMPTY;return this.fields.forEach(function(n){if(n.isEmpty())return t;var r=t.field(n);void 0!==r&&(e=e.set(n,r))}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),ie=function(){function t(t,e){this.field=t,this.transform=e}return Object.defineProperty(t.prototype,"isIdempotent",{get:function(){return this.transform.isIdempotent},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ae=function(){return function(t,e){this.version=t,this.transformResults=e}}(),se=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),ue=function(){function t(t,e){this.updateTime=t,this.exists=e,y(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof ht&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof ht:(y(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),le=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&y(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof ht?t.version:$t.MIN},t}(),ce=function(t){function e(e,n,r){var o=t.call(this)||this;return o.key=e,o.value=n,o.precondition=r,o.type=se.Set,o}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by SetMutation."),new ht(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=le.getPostMutationVersion(t);return new ht(this.key,r,this.value,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(le),he=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.key=e,i.data=n,i.fieldMask=r,i.precondition=o,i.type=se.Patch,i}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new dt(this.key,e.version);var n=this.patchDocument(t);return new ht(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=le.getPostMutationVersion(t),o=this.patchDocument(t);return new ht(this.key,r,o,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){return this.patchObject(t instanceof ht?t.data:Mt.EMPTY)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t=void 0!==r?t.set(n,r):t.delete(n)}}),t},e}(le),fe=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=se.Transform,r.precondition=ue.exists(!0),r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),y(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new dt(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),o=e.version,i=this.transformObject(n.data,r);return new ht(this.key,o,i,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),o=this.localTransformResults(n,e),i=this.transformObject(r.data,o);return new ht(this.key,r.version,i,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){for(var t=0,e=this.fieldTransforms;t<e.length;t++)if(!e[t].isIdempotent)return!1;return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){var t=new ne(ut.comparator);return this.fieldTransforms.forEach(function(e){return t=t.add(e.field)}),new oe(t)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Q(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){y(t instanceof ht,"Unknown MaybeDocument type "+t);var e=t;return y(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];y(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var o=this.fieldTransforms[r],i=o.transform,a=null;t instanceof ht&&(a=t.field(o.field)||null),n.push(i.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,o=this.fieldTransforms;r<o.length;r++){var i=o[r],a=i.transform,s=null;e instanceof ht&&(s=e.field(i.field)||null),n.push(a.applyToLocalView(s,t))}return n},e.prototype.transformObject=function(t,e){y(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(le),de=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=se.Delete,r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by DeleteMutation."),new ft(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&y(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new ft(this.key,$t.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e}(le),pe=function(){function t(){this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return new Dt(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),ge=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ye(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,o=this.elements;r<o.length;r++)n(o[r]);return new Rt(e)},t.prototype.isEqual=function(e){return e instanceof t&&Q(e.elements,this.elements)},t}(),me=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ye(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,o=this.elements;r<o.length;r++)n(o[r]);return new Rt(e)},t.prototype.isEqual=function(e){return e instanceof t&&Q(e.elements,this.elements)},t}(),ve=function(){function t(t){this.operand=t,this.isIdempotent=!1}return t.prototype.applyToLocalView=function(t,e){return t instanceof It&&this.operand instanceof It?new It(t.internalValue+this.operand.internalValue):t instanceof Et?new kt(t.internalValue+this.operand.internalValue):this.operand},t.prototype.applyToRemoteDocument=function(t,e){return y(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function ye(t){return t instanceof Rt?t.internalValue.slice():[]}var be=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),we=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function _e(t){switch(t){case _.OK:return v("Treated status OK as error");case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0;default:return v("Unknown status code: "+t)}}function Ce(t){if(void 0===t)return g("GRPC error has no .code"),_.UNKNOWN;switch(t){case we.OK:return _.OK;case we.CANCELLED:return _.CANCELLED;case we.UNKNOWN:return _.UNKNOWN;case we.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case we.INTERNAL:return _.INTERNAL;case we.UNAVAILABLE:return _.UNAVAILABLE;case we.UNAUTHENTICATED:return _.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case we.NOT_FOUND:return _.NOT_FOUND;case we.ALREADY_EXISTS:return _.ALREADY_EXISTS;case we.PERMISSION_DENIED:return _.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case we.ABORTED:return _.ABORTED;case we.OUT_OF_RANGE:return _.OUT_OF_RANGE;case we.UNIMPLEMENTED:return _.UNIMPLEMENTED;case we.DATA_LOSS:return _.DATA_LOSS;default:return v("Unknown status code: "+t)}}function Se(t){if(void 0===t)return we.OK;switch(t){case _.OK:return we.OK;case _.CANCELLED:return we.CANCELLED;case _.UNKNOWN:return we.UNKNOWN;case _.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case _.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case _.INTERNAL:return we.INTERNAL;case _.UNAVAILABLE:return we.UNAVAILABLE;case _.UNAUTHENTICATED:return we.UNAUTHENTICATED;case _.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case _.NOT_FOUND:return we.NOT_FOUND;case _.ALREADY_EXISTS:return we.ALREADY_EXISTS;case _.PERMISSION_DENIED:return we.PERMISSION_DENIED;case _.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case _.ABORTED:return we.ABORTED;case _.OUT_OF_RANGE:return we.OUT_OF_RANGE;case _.UNIMPLEMENTED:return we.UNIMPLEMENTED;case _.DATA_LOSS:return we.DATA_LOSS;default:return v("Unknown status code: "+t)}}var Ee=new pt(lt.comparator);function Oe(){return Ee}function Ie(){return Oe()}var ke=new pt(lt.comparator);function xe(){return ke}var Te=new pt(lt.comparator);function De(){return Te}var Pe=new ne(lt.comparator);function Ae(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Pe,r=0,o=t;r<o.length;r++)n=n.add(o[r]);return n}var Ne=new ne(K);function Me(){return Ne}var Re=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||lt.comparator(e.key,n.key)}:function(t,e){return lt.comparator(t.key,e.key)},this.keyedMap=xe(),this.sortedSet=new pt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),je=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),Le=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),Ue=function(){function t(){this.changeMap=new pt(lt.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==je.Added&&n.type===je.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===je.Metadata&&n.type!==je.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===je.Modified&&n.type===je.Modified?this.changeMap=this.changeMap.insert(e,{type:je.Modified,doc:t.doc}):t.type===je.Modified&&n.type===je.Added?this.changeMap=this.changeMap.insert(e,{type:je.Added,doc:t.doc}):t.type===je.Removed&&n.type===je.Added?this.changeMap=this.changeMap.remove(e):t.type===je.Removed&&n.type===je.Modified?this.changeMap=this.changeMap.insert(e,{type:je.Removed,doc:n.doc}):t.type===je.Added&&n.type===je.Removed?this.changeMap=this.changeMap.insert(e,{type:je.Modified,doc:t.doc}):v("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),qe=function(){function t(t,e,n,r,o,i,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,o){var i=[];return n.forEach(function(t){i.push({type:je.Added,doc:t})}),new t(e,n,Re.emptySet(n),i,r,o,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Fe=function(){function t(t,e,n,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,o=((r={})[e]=Ve.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t($t.MIN,o,Me(),Oe(),Ae())},t}(),Ve=function(){function t(t,e,n,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(w(),n,Ae(),Ae(),Ae())},t}(),Be=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),ze=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}(),He=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),Ge=function(){return function(t,e,n,r){void 0===n&&(n=w()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),We=function(){function t(){this.pendingResponses=0,this.documentChanges=Je(),this._resumeToken=w(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Ae(),e=Ae(),n=Ae();return this.documentChanges.forEach(function(r,o){switch(o){case je.Added:t=t.add(r);break;case je.Modified:e=e.add(r);break;case je.Removed:n=n.add(r);break;default:v("Encountered invalid change type: "+o)}}),new Ve(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Je()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Ke=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Oe(),this.pendingDocumentTargetMapping=Qe(),this.pendingTargetResets=new ne(K)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof ht?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof ft&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var o=0,i=t.removedTargetIds;o<i.length;o++)this.removeDocumentFromTarget(r=i[o],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case He.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case He.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case He.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),y(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case He.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case He.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:v("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):I(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var o=r.query;if(o.isDocumentQuery())if(0===n){var i=new lt(o.path);this.removeDocumentFromTarget(e,i,new ft(i,$t.forDeletedDoc()))}else y(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};I(this.targetStates,function(r,o){var i=e.queryDataForActiveTarget(r);if(i){if(o.current&&i.query.isDocumentQuery()){var a=new lt(i.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new ft(a,t))}o.hasPendingChanges&&(n[r]=o.toTargetChange(),o.clearPendingChanges())}});var r=Ae();this.pendingDocumentTargetMapping.forEach(function(t,n){var o=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===te.LimboResolution||(o=!1,!1)}),o&&(r=r.add(t))});var o=new Fe(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Oe(),this.pendingDocumentTargetMapping=Qe(),this.pendingTargetResets=new ne(K),o},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?je.Modified:je.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,je.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new We),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new ne(K),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;y(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new We,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function Qe(){return new pt(lt.comparator)}function Je(){return new pt(lt.comparator)}var Xe,Ye,Ze=((Xe={})[Qt.ASCENDING.name]="ASCENDING",Xe[Qt.DESCENDING.name]="DESCENDING",Xe),$e=((Ye={})[Ht.LESS_THAN.name]="LESS_THAN",Ye[Ht.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Ye[Ht.GREATER_THAN.name]="GREATER_THAN",Ye[Ht.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Ye[Ht.EQUAL.name]="EQUAL",Ye[Ht.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Ye),tn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function en(t,e){y(!Ft(t),e+" is missing")}function nn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):v("can't parse "+t)}var rn=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?_.UNKNOWN:Ce(t.code);return new C(e,t.message||"")},t.prototype.toInt32Value=function(t){return Ft(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Ft(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);y(!!t,"Cannot deserialize null or undefined timestamp.");var e=nn(t.seconds||"0");return new et(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=tn.exec(t);if(y(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var o=new Date(t),i=Math.floor(o.getTime()/1e3);return new et(i,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(y(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Z.fromBase64String(t)):(y(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),Z.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return y(!!t,"Trying to deserialize version that isn't set"),$t.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=at.fromString(t);return y(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return y(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),y(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new lt(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?at.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new at(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new at(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return y(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof Ct)return{nullValue:"NULL_VALUE"};if(t instanceof St)return{booleanValue:t.value()};if(t instanceof It)return{integerValue:""+t.value()};if(t instanceof kt){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof xt?{stringValue:t.value()}:t instanceof Mt?{mapValue:this.toMapValue(t)}:t instanceof Rt?{arrayValue:this.toArrayValue(t)}:t instanceof Tt?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Nt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Pt?{bytesValue:this.toBytes(t.value())}:t instanceof At?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:v("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(on(t,n,"nullValue"))return Ct.INSTANCE;if(on(t,n,"booleanValue"))return St.of(t.booleanValue);if(on(t,n,"integerValue"))return new It(nn(t.integerValue));if(on(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return kt.NAN;if("Infinity"===t.doubleValue)return kt.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return kt.NEGATIVE_INFINITY}return new kt(t.doubleValue)}if(on(t,n,"stringValue"))return new xt(t.stringValue);if(on(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(on(t,n,"arrayValue"))return en(t.arrayValue,"arrayValue"),new Rt((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if(on(t,n,"timestampValue"))return en(t.timestampValue,"timestampValue"),new Tt(this.fromTimestamp(t.timestampValue));if(on(t,n,"geoPointValue"))return en(t.geoPointValue,"geoPointValue"),new Nt(new tt(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if(on(t,n,"bytesValue")){en(t.bytesValue,"bytesValue");var r=this.fromBlob(t.bytesValue);return new Pt(r)}if(on(t,n,"referenceValue")){en(t.referenceValue,"referenceValue");var o=this.fromResourceName(t.referenceValue),i=new ot(o.get(1),o.get(3)),a=new lt(this.extractLocalPathFromResourceName(o));return new At(i,a)}return v("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return y(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new ht(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=Mt.EMPTY;return k(t,function(t,r){n=n.set(new ut([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){y(!!t.found,"Tried to deserialize a found document from a missing document."),en(t.found.name,"doc.found.name"),en(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new ht(e,n,r,{},t.found)},t.prototype.fromMissing=function(t){y(!!t.missing,"Tried to deserialize a missing document from a found document."),y(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new ft(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return on(t,e,"found")?this.fromFound(t):on(t,e,"missing")?this.fromMissing(t):v("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case He.Added:return"ADD";case He.Current:return"CURRENT";case He.NoChange:return"NO_CHANGE";case He.Removed:return"REMOVE";case He.Reset:return"RESET";default:return v("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof ze)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Be){var e;if(t.newDoc instanceof ht)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof ft)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Ge){var n=void 0;return t.cause&&(n={code:Se(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return v("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(on(t,n,"targetChange")){en(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new Ge(r,o,i,s||null)}else if(on(t,n,"documentChange")){en(t.documentChange,"documentChange"),en(t.documentChange.document,"documentChange.name"),en(t.documentChange.document.name,"documentChange.document.name"),en(t.documentChange.document.updateTime,"documentChange.document.updateTime");var u=t.documentChange,l=this.fromName(u.document.name),c=this.fromVersion(u.document.updateTime),h=this.fromFields(u.document.fields||{}),f=new ht(l,c,h,{},u.document);e=new Be(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if(on(t,n,"documentDelete")){en(t.documentDelete,"documentDelete"),en(t.documentDelete.document,"documentDelete.document");var d=t.documentDelete;l=this.fromName(d.document),c=d.readTime?this.fromVersion(d.readTime):$t.forDeletedDoc(),f=new ft(l,c),e=new Be([],d.removedTargetIds||[],f.key,f)}else if(on(t,n,"documentRemove")){en(t.documentRemove,"documentRemove"),en(t.documentRemove.document,"documentRemove");var p=t.documentRemove;l=this.fromName(p.document),e=new Be([],p.removedTargetIds||[],l,null)}else{if(!on(t,n,"filter"))return v("Unknown change type "+JSON.stringify(t));en(t.filter,"filter"),en(t.filter.targetId,"filter.targetId");var g=t.filter,m=new be(g.count||0);e=new ze(g.targetId,m)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?He.NoChange:"ADD"===t?He.Added:"REMOVE"===t?He.Removed:"CURRENT"===t?He.Current:"RESET"===t?He.Reset:v("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!on(t,t.response_type,"targetChange"))return $t.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?$t.MIN:e.readTime?this.fromVersion(e.readTime):$t.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof ce)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof de)e={delete:this.toName(t.key)};else if(t instanceof he)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof fe))return v("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):ue.NONE;if(t.update){en(t.update.name,"name");var r=this.fromName(t.update.name),o=this.fromFields(t.update.fields||{});if(t.updateMask){var i=this.fromDocumentMask(t.updateMask);return new he(r,o,i,n)}return new ce(r,o,n)}if(t.delete)return r=this.fromName(t.delete),new de(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return y(!0===n.exists,'Transforms only support precondition "exists == true"'),new fe(r,a)}return v("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return y(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?ue.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ue.exists(t.exists):ue.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=this.fromVersion(t.updateTime?t.updateTime:e),o=null;return t.transformResults&&t.transformResults.length>0&&(o=t.transformResults.map(function(t){return n.fromValue(t)})),new ae(r,o)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(y(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof pe)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ge)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof me)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ve)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw v("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=t.transform_type,r=null;if(on(t,n,"setToServerValue"))y("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),r=pe.instance;else if(on(t,n,"appendMissingElements"))r=new ge((t.appendMissingElements.values||[]).map(function(t){return e.fromValue(t)}));else if(on(t,n,"removeAllFromArray"))r=new me((t.removeAllFromArray.values||[]).map(function(t){return e.fromValue(t)}));else if(on(t,n,"increment")){var o=this.fromValue(t.increment);y(o instanceof Et,"NUMERIC_ADD transform requires a NumberValue"),r=new ve(o)}else v("Unknown transform proto: "+JSON.stringify(t));var i=ut.fromServerFormat(t.fieldPath);return new ie(i,r)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return y(1===e,"DocumentsTarget contained other than 1 document: "+e),Bt.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(y(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(y(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var o=this.toOrder(t.orderBy);o&&(e.structuredQuery.orderBy=o);var i=this.toInt32Value(t.limit);return void 0!==i&&(e.structuredQuery.limit=i),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){y(1===r,"StructuredQuery.from with more than one collection is not supported.");var i=n.from[0];i.allDescendants?o=i.collectionId:e=e.child(i.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var l=null;n.startAt&&(l=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new Bt(e,o,s,a,u,l,c)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case te.Listen:return null;case te.ExistenceFilterMismatch:return"existence-filter-mismatch";case te.LimboResolution:return"limbo-document";default:return v("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Gt?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):v("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Jt(r,n)},t.prototype.toDirection=function(t){return Ze[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Qt.ASCENDING;case"DESCENDING":return Qt.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return $e[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Ht.EQUAL;case"GREATER_THAN":return Ht.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Ht.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Ht.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Ht.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Ht.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return v("Unspecified relation");default:return v("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ut.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Xt(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Gt?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:v("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Gt(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof Kt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof Wt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:v("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new Kt(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new Wt(n);case"OPERATOR_UNSPECIFIED":return v("Unspecified filter");default:return v("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return ut.fromServerFormat(t)});return oe.fromArray(e)},t}();function on(t,e,n){return e===n||!e&&n in t}var an=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){y(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){y(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){y(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){y(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){y(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){y(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),sn="Connection",un={BatchGetDocuments:"batchGet",Commit:"commit"},ln="gl-js/ fire/"+l,cn=function(){function t(t){this.databaseId=t.databaseId,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=ln},t.prototype.invokeRPC=function(t,e,n){var r=this,o=this.makeUrl(t);return new Promise(function(i,a){var u=new s.XhrIo;u.listenOnce(s.EventType.COMPLETE,function(){try{switch(u.getLastErrorCode()){case s.ErrorCode.NO_ERROR:var e=u.getResponseJson();p(sn,"XHR received:",JSON.stringify(e)),i(e);break;case s.ErrorCode.TIMEOUT:p(sn,'RPC "'+t+'" timed out'),a(new C(_.DEADLINE_EXCEEDED,"Request time out"));break;case s.ErrorCode.HTTP_ERROR:var n=u.getStatus();p(sn,'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0?a(new C(function(t){switch(t){case 200:return _.OK;case 400:return _.INVALID_ARGUMENT;case 401:return _.UNAUTHENTICATED;case 403:return _.PERMISSION_DENIED;case 404:return _.NOT_FOUND;case 409:return _.ABORTED;case 416:return _.OUT_OF_RANGE;case 429:return _.RESOURCE_EXHAUSTED;case 499:return _.CANCELLED;case 500:return _.UNKNOWN;case 501:return _.UNIMPLEMENTED;case 503:return _.UNAVAILABLE;case 504:return _.DEADLINE_EXCEEDED;default:return t>=200&&t<300?_.OK:t>=400&&t<500?_.FAILED_PRECONDITION:t>=500&&t<600?_.INTERNAL:_.UNKNOWN}}(n),"Server responded with status "+u.getStatusText())):(p(sn,'RPC "'+t+'" failed'),a(new C(_.UNAVAILABLE,"Connection failed.")));break;default:v('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{p(sn,'RPC "'+t+'" completed.')}});var l=JSON.stringify(e);p(sn,"XHR sending: ",o+" "+l);var c={"Content-Type":"text/plain"};r.modifyHeadersForRequest(c,n),u.send(o,"POST",l,c,15)})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=s.createWebChannelTransport(),o={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(o.initMessageHeaders,e),u.isReactNative()||(o.httpHeadersOverwriteParam="$httpHeaders");var i=n.join("");p(sn,"Creating WebChannel: "+i+" "+o);var a=r.createWebChannel(i,o),l=!1,c=!1,h=new an({sendFn:function(t){c?p(sn,"Not sending because WebChannel is closed:",t):(l||(p(sn,"Opening WebChannel transport."),a.open(),l=!0),p(sn,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),f=function(t,e){a.listen(t,function(t){try{e(t)}catch(n){setTimeout(function(){throw n},0)}})};return f(s.WebChannel.EventType.OPEN,function(){c||p(sn,"WebChannel transport opened.")}),f(s.WebChannel.EventType.CLOSE,function(){c||(c=!0,p(sn,"WebChannel transport closed"),h.callOnClose())}),f(s.WebChannel.EventType.ERROR,function(t){c||(c=!0,p(sn,"WebChannel transport errored:",t),h.callOnClose(new C(_.UNAVAILABLE,"The operation could not be completed")))}),f(s.WebChannel.EventType.MESSAGE,function(t){if(!c){var e=t.data[0];y(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){p(sn,"WebChannel received error:",n);var r=n.status,o=function(t){var e=we[r];if(void 0!==e)return Ce(e)}(),i=n.message;void 0===o&&(o=_.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),c=!0,h.callOnClose(new C(o,i)),a.close()}else p(sn,"WebChannel received:",e),h.callOnMessage(e)}}),setTimeout(function(){h.callOnOpen()},0),h},t.prototype.makeUrl=function(t){var e=un[t];y(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();b.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new cn(t))},t.prototype.newSerializer=function(t){return new rn(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}()));var hn,fn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),dn=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection"}(hn||(hn={}));var pn=function(){function t(t,e,n,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,o,i){var a=new t(e,n,Date.now()+r,o,i);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),gn=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw g("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),y(e>=0,"Attempted to schedule an operation with a negative delay of "+e),y(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var o=pn.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(o),o},t.prototype.verifyNotFailed=function(){this.failure&&v("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){y(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){y(t===hn.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var o=r[n];if(o.skipDelay(),t!==hn.All&&o.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);y(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),mn="\x01",vn="\x01",yn="\x10",bn="\x11";function wn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Cn(e)),e=_n(t.get(n),e);return Cn(e)}function _n(t,e){for(var n=e,r=t.length,o=0;o<r;o++){var i=t.charAt(o);switch(i){case"\0":n+=mn+yn;break;case mn:n+=mn+bn;break;default:n+=i}}return n}function Cn(t){return t+mn+vn}function Sn(t){var e=t.length;if(y(e>=2,"Invalid path "+t),2===e)return y(t.charAt(0)===mn&&t.charAt(1)===vn,"Non-empty path "+t+" had length 2"),at.EMPTY_PATH;for(var n=e-2,r=[],o="",i=0;i<e;){var a=t.indexOf(mn,i);switch((a<0||a>n)&&v('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case vn:var s=t.substring(i,a),u=void 0;0===o.length?u=s:(u=o+=s,o=""),r.push(u);break;case yn:o+=t.substring(i,a),o+="\0";break;case bn:o+=t.substring(i,a+1);break;default:v('Invalid encoded resource path: "'+t+'"')}i=a+2}return new at(r)}var En=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r,y(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&y(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;y(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var o=0;o<this.mutations.length;o++){var i=this.mutations[o];i.key.isEqual(t)&&(e=i.applyToRemoteDocument(e,r[o]))}return e},t.prototype.applyToLocalView=function(t,e){e&&y(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=s.applyToLocalView(e,e,this.localWriteTime));for(var o=e,i=0,a=this.mutations;i<a.length;i++){var s;(s=a[i]).key.isEqual(t)&&(e=s.applyToLocalView(e,o,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var o=e.applyToLocalView(r.key,t.get(r.key));o&&(n=n.insert(r.key,o))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ae())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Q(this.mutations,t.mutations)&&Q(this.baseMutations,t.baseMutations)},t}(),On=function(){function t(t,e,n,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=o}return t.from=function(e,n,r,o){y(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var i=De(),a=e.mutations,s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new t(e,n,r,o,i)},t}(),In=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&v("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,o){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,o)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,o)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,o=0,i=!1;e.forEach(function(e){++r,e.next(function(){++o,i&&o===r&&t()},function(t){return n(t)})}),i=!0,o===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},o=0,i=e;o<i.length;o++)r(i[o]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,o){r.push(e.call(n,t,o))}),this.waitFor(r)},t}(),kn=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r,o){return y(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r,o)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pn(t).iterate({index:cr.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=Dn(n),Nn(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=Dn(e),Nn(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n,r){var o=this,i=An(t),a=Pn(t);return a.add({}).next(function(s){y("number"==typeof s,"Auto-generated key is not a number");var u=new En(s,e,n,r),l=o.serializer.toDbMutationBatch(o.userId,u);o.documentKeysByBatchId[s]=u.keys();for(var c=[],h=0,f=r;h<f.length;h++){var d=f[h],p=hr.key(o.userId,d.key.path,s);c.push(a.put(l)),c.push(i.put(p,hr.PLACEHOLDER)),c.push(o.indexManager.addToCollectionParentIndex(t,d.key.path.popLast()))}return In.waitFor(c).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Pn(t).get(e).next(function(t){return t?(y(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?In.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this;return this.getMutationQueueMetadata(t).next(function(r){var o=e+1,i=IDBKeyRange.lowerBound([n.userId,o]),a=null;return Pn(t).iterate({index:cr.userMutationsIndex,range:i},function(t,e,r){e.userId===n.userId&&(y(e.batchId>=o,"Should have found mutation after "+o),a=n.serializer.fromDbMutationBatch(e)),r.done()}).next(function(){return a})})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pn(t).loadAll(cr.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=hr.prefixForPath(this.userId,e.path),o=IDBKeyRange.lowerBound(r),i=[];return An(t).iterate({range:o},function(r,o,a){var s=r[0],u=r[2],l=Sn(r[1]);if(s===n.userId&&e.path.isEqual(l))return Pn(t).get(u).next(function(t){if(!t)throw v("Dangling document-mutation reference found: "+r+" which points to "+u);y(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+u),i.push(n.serializer.fromDbMutationBatch(t))});a.done()}).next(function(){return i})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ne(K),o=[];return e.forEach(function(e){var i=hr.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(i),s=An(t).iterate({range:a},function(t,o,i){var a=t[0],s=t[2],u=Sn(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):i.done()});o.push(s)}),In.waitFor(o).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;y(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),y(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,o=r.length+1,i=hr.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(i),s=new ne(K);return An(t).iterate({range:a},function(t,e,i){var a=t[0],u=t[2],l=Sn(t[1]);a===n.userId&&r.isPrefixOf(l)?l.length===o&&(s=s.add(u)):i.done()}).next(function(){return n.lookupMutationBatches(t,s)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],o=[];return e.forEach(function(e){o.push(Pn(t).get(e).next(function(t){if(null===t)throw v("Dangling document-mutation reference found, which points to "+e);y(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),In.waitFor(o).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Tn(t.simpleDbTransaction,this.userId,e).next(function(r){return n.removeCachedMutationKeys(e.batchId),In.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return In.resolve();var r=IDBKeyRange.lowerBound(hr.prefixForUser(e.userId)),o=[];return An(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var i=Sn(t[1]);o.push(i)}else r.done()}).next(function(){y(0===o.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+o.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return xn(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return Nn(t).get(this.userId).next(function(t){return t||new lr(e.userId,-1,"")})},t}();function xn(t,e,n){var r=hr.prefixForPath(e,n.path),o=r[1],i=IDBKeyRange.lowerBound(r),a=!1;return An(t).iterate({range:i,keysOnly:!0},function(t,n,r){t[0]===e&&t[1]===o&&(a=!0),r.done()}).next(function(){return a})}function Tn(t,e,n){var r=t.store(cr.store),o=t.store(hr.store),i=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},function(t,e,n){return s++,n.delete()});i.push(u.next(function(){y(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],d=hr.key(e,f.key.path,n.batchId);i.push(o.delete(d)),l.push(f.key)}return In.waitFor(i).next(function(){return l})}function Dn(t){return t instanceof Uint8Array?(y("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function Pn(t){return Ur.getStore(t,cr.store)}function An(t){return Ur.getStore(t,hr.store)}function Nn(t){return Ur.getStore(t,lr.store)}var Mn=1,Rn=function(t){return t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine",t}({}),jn=function(){function t(t,e){this.generatorId=t,y((t&Mn)===t,"Generator ID "+t+" contains more than "+Mn+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<Mn,t},t.prototype.after=function(t){return this.seek(t+(1<<Mn)),this.next()},t.prototype.seek=function(t){y((t&Mn)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Rn.QueryCache,2)},t.forSyncEngine=function(){return new t(Rn.SyncEngine)},t}(),Ln=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return y(t.isAvailable(),"IndexedDB not supported in current environment."),p("SimpleDb","Opening database:",e),new In(function(o,i){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){o(new t(e.target.result))},a.onblocked=function(){i(new C(_.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;i("VersionError"===e.name?new C(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},a.onupgradeneeded=function(t){p("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,o=new qn(a.transaction);r.createOrUpgrade(n,o,t.oldVersion,ir).next(function(){p("SimpleDb","Database upgrade to version "+ir+" complete")})}}).toPromise()},t.delete=function(t){return p("SimpleDb","Removing database:",t),Vn(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var e=window.navigator.userAgent,n=t.getIOSVersion(e),r=0<n&&n<10,o=t.getAndroidVersion(e),i=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)},t.getStore=function(t,e){return t.store(e)},t.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_")[0]:"-1";return Number(n)},t.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.runTransaction=function(t,e,n){var r=qn.open(this.db,t,e),o=n(r).catch(function(t){return r.abort(t),In.reject(t)}).toPromise();return o.catch(function(){}),r.completionPromise.then(function(){return o})},t.prototype.close=function(){this.db.close()},t}(),Un=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Vn(this.dbCursor.delete())},t}(),qn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new dn,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return y(!!e,"Object store not part of transaction: "+t),new Fn(e)},t}(),Fn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Vn(n)},t.prototype.add=function(t){return p("SimpleDb","ADD",this.store.name,t,t),Vn(this.store.add(t))},t.prototype.get=function(t){var e=this;return Vn(this.store.get(t)).next(function(n){return void 0===n&&(n=null),p("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),Vn(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),Vn(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new In(function(n,r){e.onerror=function(t){r(t.target.error)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new In(function(r,o){t.onerror=function(t){o(t.target.error)},t.onsuccess=function(t){var o=t.target.result;if(o){var i=new Un(o),a=e(o.primaryKey,o.value,i);if(a instanceof In){var s=a.catch(function(t){return i.done(),In.reject(t)});n.push(s)}i.isDone?r():null===i.skipToKey?o.continue():o.continue(i.skipToKey)}else r()}}).next(function(){return In.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(y(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Vn(t){return new In(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)}})}var Bn=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=jn.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return $t.fromTimestamp(new et(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return Gn(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(o){return o.highestListenSequenceNumber=e,n&&(o.lastRemoteSnapshotVersion=n.toTimestamp()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),r.saveMetadata(t,o)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return zn(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return y(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,o=0,i=[];return zn(t).iterate(function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=e&&void 0===n[u.targetId]&&(o++,i.push(r.removeQueryData(t,u)))}).next(function(){return In.waitFor(i)}).next(function(){return o})},t.prototype.forEachTarget=function(t,e){var n=this;return zn(t).iterate(function(t,r){var o=n.serializer.fromDbTarget(r);e(o)})},t.prototype.retrieveMetadata=function(t){return Hn(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,Ur.getStore(n,yr.store)).put(yr.key,e);var n},t.prototype.saveQueryData=function(t,e){return zn(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),i=null;return zn(t).iterate({range:o,index:mr.queryTargetsIndexName},function(t,r,o){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(i=a,o.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,o=[],i=Wn(t);return e.forEach(function(e){var a=wn(e.path);o.push(i.put(new vr(n,a))),o.push(r.referenceDelegate.addReference(t,e))}),In.waitFor(o)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,o=Wn(t);return In.forEach(e,function(e){var i=wn(e.path);return In.waitFor([o.delete([n,i]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Wn(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Wn(t),o=Ae();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=Sn(t[1]),i=new lt(r);o=o.add(i)}).next(function(){return o})},t.prototype.containsKey=function(t,e){var n=wn(e.path),r=IDBKeyRange.bound([n],[J(n)],!1,!0),o=0;return Wn(t).iterate({index:vr.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){0!==t[0]&&(o++,n.done())}).next(function(){return o>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return zn(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function zn(t){return Ur.getStore(t,mr.store)}function Hn(t){return Ln.getStore(t,yr.store).get(yr.key).next(function(t){return y(null!==t,"Missing metadata row."),t})}function Gn(t){return Hn(t).next(function(t){return t.highestListenSequenceNumber})}function Wn(t){return Ur.getStore(t,vr.store)}var Kn=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,o=n;r<o.length;r++){var i=o[r],a=i[1];if(i[0].isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var o=0;o<r.length;o++)if(r[o][0].isEqual(t))return void(r[o]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){k(this.inner,function(e,n){for(var r=0,o=n;r<o.length;r++){var i=o[r];t(i[0],i[1])}})},t.prototype.isEmpty=function(){return x(this.inner)},t}(),Qn=function(){function t(){this.changes=Oe(),this.documentSizes=new Kn(function(t){return t.toString()})}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this,r=this.assertChanges().get(e);return r?In.resolve(r):this.getFromCache(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},t.prototype.getEntries=function(t,e){var n=this;return this.getAllFromCache(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},t.prototype.apply=function(t){var e=this.applyChanges(t);return this.changes=null,e},t.prototype.assertChanges=function(){return y(null!==this.changes,"Changes have already been applied."),this.changes},t}(),Jn="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Xn=function(){function t(t,e,n){this.serializer=t,this.indexManager=e,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=Ln.getStore(t,_r.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntries=function(t,e,n){var r=[];if(e.length>0){for(var o=$n(t),i=Ae(),a=0,s=e;a<s.length;a++){var u=s[a],l=u.key,c=u.doc;r.push(o.put(er(l),c)),i=i.add(l),r.push(this.indexManager.addToCollectionParentIndex(t,l.path.popLast()))}this.keepDocumentChangeLog&&r.push(tr(t).put({changes:this.serializer.toDbResourcePaths(i)})),r.push(this.updateSize(t,n))}return In.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=$n(t),r=er(e);return n.get(r).next(function(t){return t?n.delete(r).next(function(){return nr(t)}):In.resolve(0)})},t.prototype.getEntry=function(t,e){var n=this;return $n(t).get(er(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var n=this;return $n(t).get(er(e)).next(function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:nr(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Ie();return this.forEachDbEntry(t,e,function(t,e){r=r.insert(t,e?n.serializer.fromDbRemoteDocument(e):null)}).next(function(){return r})},t.prototype.getSizedEntries=function(t,e){var n=this,r=Ie(),o=new pt(lt.comparator);return this.forEachDbEntry(t,e,function(t,e){e?(r=r.insert(t,n.serializer.fromDbRemoteDocument(e)),o=o.insert(t,nr(e))):(r=r.insert(t,null),o=o.insert(t,0))}).next(function(){return{maybeDocuments:r,sizeMap:o}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return In.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),o=e.getIterator(),i=o.getNext();return $n(t).iterate({range:r},function(t,e,r){for(var a=lt.fromSegments(t);i&&lt.comparator(i,a)<0;)n(i,null),i=o.getNext();i&&i.isEqual(a)&&(n(i,e),i=o.hasNext()?o.getNext():null),i?r.skip(i.path.toArray()):r.done()}).next(function(){for(;i;)n(i,null),i=o.hasNext()?o.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this;y(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=xe(),o=e.path.length+1,i=e.path.toArray(),a=IDBKeyRange.lowerBound(i);return $n(t).iterate({range:a},function(t,i,a){if(t.length===o){var s=n.serializer.fromDbRemoteDocument(i);e.path.isPrefixOf(s.key.path)?s instanceof ht&&e.matches(s)&&(r=r.insert(s.key,s)):a.done()}}).next(function(){return r})},t.prototype.getNewDocumentChanges=function(t){var e=this;y(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Ae(),r=Oe(),o=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),i=!0,a=tr(t);return a.iterate({range:o},function(t,r){if(i&&(i=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(a).next(function(){return In.reject(new C(_.DATA_LOSS,Jn))});n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id}).next(function(){var o=[];return n.forEach(function(n){o.push(e.getEntry(t,n).next(function(t){var e=t||new ft(n,$t.forDeletedDoc());r=r.insert(n,e)}))}),In.waitFor(o)}).next(function(){return r})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return tr(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()})},t.prototype.newChangeBuffer=function(){return new Zn(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Yn(t).get(gr.key).next(function(t){return y(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return Yn(t).put(gr.key,e)},t.prototype.updateSize=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.setMetadata(t,r)})},t}();function Yn(t){return Ur.getStore(t,gr.store)}var Zn=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return a.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,o=[];return n.forEach(function(t,n){var i=e.documentCache.serializer.toDbRemoteDocument(n),a=e.documentSizes.get(t);y(void 0!==a,"Attempting to change document "+t.toString()+" without having read it first");var s=nr(i);r+=s-a,o.push({key:t,doc:i})}),this.documentCache.addEntries(t,o,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(Qn);function $n(t){return Ur.getStore(t,pr.store)}function tr(t){return Ur.getStore(t,_r.store)}function er(t){return t.path.toArray()}function nr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var rr=function(){function t(){this.collectionParentIndex=new or}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),In.resolve()},t.prototype.getCollectionParents=function(t,e){return In.resolve(this.collectionParentIndex.getEntries(e))},t}(),or=function(){function t(){this.index={}}return t.prototype.add=function(t){y(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ne(at.comparator),o=!r.has(n);return this.index[e]=r.add(n),o},t.prototype.getEntries=function(t){return(this.index[t]||new ne(at.comparator)).toArray()},t}(),ir=8,ar=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var o=this;y(n<r&&n>=0&&r<=ir,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(ur.store)}(t),function(t){t.createObjectStore(lr.store,{keyPath:lr.keyPath}),t.createObjectStore(cr.store,{keyPath:cr.keyPath,autoIncrement:!0}).createIndex(cr.userMutationsIndex,cr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(hr.store)}(t),wr(t),function(t){t.createObjectStore(pr.store)}(t));var i=In.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(vr.store),t.deleteObjectStore(mr.store),t.deleteObjectStore(yr.store)}(t),wr(t)),i=i.next(function(){return function(t){var e=t.store(yr.store),n=new yr(0,0,$t.MIN.toTimestamp(),0);return e.put(yr.key,n)}(e)})),n<4&&r>=4&&(0!==n&&(i=i.next(function(){return function(t,e){return e.store(cr.store).loadAll().next(function(n){t.deleteObjectStore(cr.store),t.createObjectStore(cr.store,{keyPath:cr.keyPath,autoIncrement:!0}).createIndex(cr.userMutationsIndex,cr.userMutationsKeyPath,{unique:!0});var r=e.store(cr.store),o=n.map(function(t){return r.put(t)});return In.waitFor(o)})}(t,e)})),i=i.next(function(){!function(t){t.createObjectStore(Cr.store,{keyPath:Cr.keyPath})}(t),function(t){t.createObjectStore(_r.store,{keyPath:"id",autoIncrement:!0})}(t)})),n<5&&r>=5&&(i=i.next(function(){return o.removeAcknowledgedMutations(e)})),n<6&&r>=6&&(i=i.next(function(){return function(t){t.createObjectStore(gr.store)}(t),o.addDocumentGlobal(e)})),n<7&&r>=7&&(i=i.next(function(){return o.ensureSequenceNumbers(e)})),n<8&&r>=8&&(i=i.next(function(){return o.createCollectionParentIndex(t,e)})),i},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(pr.store).iterate(function(t,n){e+=nr(n)}).next(function(){var n=new gr(e);return t.store(gr.store).put(gr.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(lr.store),r=t.store(cr.store);return n.loadAll().next(function(n){return In.forEach(n,function(n){var o=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(cr.userMutationsIndex,o).next(function(r){return In.forEach(r,function(r){y(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var o=e.serializer.fromDbMutationBatch(r);return Tn(t,n.userId,o).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(vr.store),n=t.store(pr.store);return Gn(t).next(function(t){var r=[];return n.iterate(function(n,o){var i=new at(n),a=function(t){return[0,wn(t)]}(i);r.push(e.get(a).next(function(n){return n?In.resolve():function(n){return e.put(new vr(0,wn(n),t))}(i)}))}).next(function(){return In.waitFor(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(br.store,{keyPath:br.keyPath});var n=e.store(br.store),r=new or,o=function(t){if(r.add(t)){var e=t.lastSegment(),o=t.popLast();return n.put({collectionId:e,parent:wn(o)})}};return e.store(pr.store).iterate({keysOnly:!0},function(t,e){var n=new at(t);return o(n.popLast())}).next(function(){return e.store(hr.store).iterate({keysOnly:!0},function(t,e){var n=Sn(t[1]);return o(n.popLast())})})},t}(),sr=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),ur=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),lr=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),cr=function(){function t(t,e,n,r,o){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),hr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,wn(e)]},t.key=function(t,e,n){return[t,wn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),fr=function(){return function(t,e){this.path=t,this.readTime=e}}(),dr=function(){return function(t,e){this.path=t,this.version=e}}(),pr=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),gr=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),mr=function(){function t(t,e,n,r,o,i){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.query=i}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),vr=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,y(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),yr=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),br=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function wr(t){t.createObjectStore(vr.store,{keyPath:vr.keyPath}).createIndex(vr.documentTargetsIndex,vr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(mr.store,{keyPath:mr.keyPath}).createIndex(mr.queryTargetsIndexName,mr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(yr.store)}var _r=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}(),Cr=function(){function t(t,e,n,r,o){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=o}return t.store="clientMetadata",t.keyPath="clientId",t}(),Sr=[lr.store,cr.store,hr.store,pr.store,mr.store,ur.store,yr.store,vr.store].concat([Cr.store,_r.store]).concat([gr.store]).concat([br.store]),Er=function(){function t(){this.collectionParentsCache=new or}return t.prototype.addToCollectionParentIndex=function(t,e){if(y(e.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(e)){y(e.length>=1,"Invalid collection path.");var n=e.lastSegment(),r=e.popLast();return Or(t).put({collectionId:n,parent:wn(r)})}return In.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[J(e),""],!1,!0);return Or(t).loadAll(r).next(function(t){for(var r=0,o=t;r<o.length;r++){var i=o[r];if(i.collectionId!==e)break;n.push(Sn(i.parent))}return n})},t}();function Or(t){return Ur.getStore(t,br.store)}var Ir=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=lt.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new ft(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=lt.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new dt(e,n)):v("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof ht){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t);return new pr(null,null,e,o=t.hasCommittedMutations)}if(t instanceof ft){var n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),o=t.hasCommittedMutations;return new pr(null,new fr(n,r),null,o)}return t instanceof dt?(n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),new pr(new dr(n,r),null,null,!0)):v("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new sr(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new et(t.seconds,t.nanoseconds);return $t.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map(function(t){return n.remoteSerializer.toMutation(t)}),o=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new cr(t,e.batchId,e.localWriteTime.toMillis(),r,o)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map(function(t){return e.remoteSerializer.fromMutation(t)}),r=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),o=et.fromMillis(t.localWriteTimeMs);return new En(t.batchId,o,n,r)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(wn(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Ae(),n=0,r=t;n<r.length;n++)e=e.add(new lt(Sn(r[n])));return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new ee(e,t.targetId,te.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},t.prototype.toDbTarget=function(t){y(te.Listen===t.purpose,"Only queries with purpose "+te.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(y("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new mr(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,e)},t}();function kr(t,e){var n=t[1],r=e[1],o=K(t[0],e[0]);return 0===o?K(n,r):o}var xr=function(){function t(t){this.maxElements=t,this.buffer=new ne(kr),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();kr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Tr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dr=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),Pr=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.gcTask=null}return t.prototype.start=function(){y(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Dr.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;y(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(hn.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(qr)})},t}(),Ar=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return In.resolve(fn.INVALID);var r=new xr(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===Dr.COLLECTION_DISABLED?(p("LruGarbageCollector","Garbage collection skipped; disabled"),In.resolve(Tr)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Tr):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,o,i,a,s,u,l,c=this;return i=Date.now(),this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,a=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return o=e,u=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return l=Date.now(),f()<=h.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-i)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+o+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(l-u)+"ms\nTotal Duration: "+(l-i)+"ms"),In.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:t})})},t}(),Nr="IndexedDbPersistence",Mr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Rr="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.",jr="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",Lr=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return a.__extends(e,t),e}(function(){return function(){}}()),Ur=function(){function t(e,n,r,o,i,a,s){if(this.persistenceKey=e,this.clientId=n,this.queue=o,this.multiClientParams=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new C(_.UNIMPLEMENTED,jr);if(this.referenceDelegate=new Br(this,a),this.dbName=e+t.MAIN_DATABASE,this.serializer=new Ir(i),this.document=r.document,this.allowTabSynchronization=void 0!==s,this.queryCache=new Bn(this.referenceDelegate,this.serializer),this.indexManager=new Er,this.remoteDocumentCache=new Xn(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new C(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Lr)return Ln.getStore(t.simpleDbTransaction,e);throw v("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,n,r,o,i,s){return a.__awaiter(this,void 0,void 0,function(){var u;return a.__generator(this,function(a){switch(a.label){case 0:return[4,(u=new t(e,n,r,o,i,s)).start()];case 1:return a.sent(),[2,u]}})})},t.createMultiClientIndexedDbPersistence=function(e,n,r,o,i,s,u){return a.__awaiter(this,void 0,void 0,function(){var l;return a.__generator(this,function(a){switch(a.label){case 0:return[4,(l=new t(e,n,r,o,i,s,u)).start()];case 1:return a.sent(),[2,l]}})})},t.prototype.start=function(){var t=this;return y(!this.started,"IndexedDbPersistence double-started!"),y(null!==this.window,"Expected 'window' to be defined"),Ln.openOrCreate(this.dbName,ir,new ar(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()}).then(function(){return t.simpleDb.runTransaction("readonly",[yr.store],function(e){return Gn(e).next(function(e){t.listenSequence=new fn(e,t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",Sr,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",Sr,function(e){return Vr(e).put(new Cr(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return Fr(t).get(ur.key).next(function(t){return In.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return Vr(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return a.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return a.__generator(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(o){var i=t.getStore(o,Cr.store);return i.loadAll().next(function(t){e=r.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return In.forEach(n,function(t){return i.delete(t.clientId)})}).next(function(){if((e=e.filter(function(t){return t.clientId!==r.clientId})).length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(o,n)}})})]);case 1:o.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),o.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(hn.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return Fr(t).get(ur.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new C(_.FAILED_PRECONDITION,Rr);return!1}}return!(!e.networkEnabled||!e.inForeground)||Vr(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&p(Nr,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[ur.store,Cr.store],function(e){return t.releasePrimaryLeaseIfHeld(e).next(function(){return t.removeClientMetadata(e)})})];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[Cr.store],function(e){return Vr(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},t.clearPersistence=function(e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:return t.isAvailable()?[4,Ln.delete(e+t.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return y(this.started,"Cannot initialize MutationQueue before persistence is started."),kn.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getQueryCache=function(){return y(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return y(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return y(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var r=this;return p(Nr,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",Sr,function(o){return"readwrite-primary"===e?r.verifyPrimaryLease(o).next(function(e){if(!e)throw g("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new C(_.FAILED_PRECONDITION,Mr);return n(new Lr(o,r.listenSequence.next()))}).next(function(t){return r.acquireOrExtendPrimaryLease(o).next(function(){return t})}):r.verifyAllowTabSynchronization(o).next(function(){return n(new Lr(o,r.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return Fr(t).get(ur.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new C(_.FAILED_PRECONDITION,Rr)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new ur(this.clientId,this.allowTabSynchronization,Date.now());return Fr(t).put(ur.key,e)},t.isAvailable=function(){return Ln.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=Fr(t);return n.get(ur.key).next(function(t){return e.isLocalClient(t)?(p(Nr,"Releasing primary lease."),n.delete(ur.key)):In.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(g("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(y(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(y("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return p(Nr,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return g(Nr,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){g("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function qr(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){if(!function(t){return t.code===_.FAILED_PRECONDITION&&t.message===Mr}(t))throw t;return p(Nr,"Unexpectedly lost primary lease"),[2]})})}function Fr(t){return t.store(ur.store)}function Vr(t){return t.store(Cr.store)}var Br=function(){function t(t,e){this.db=t,this.garbageCollector=new Ar(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return zr(t,e)},t.prototype.removeReference=function(t,e){return zr(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return zr(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?In.resolve(!0):function(t,e){var n=!1;return Nn(t).iterateSerial(function(r){return xn(t,r,e).next(function(t){return t&&(n=!0),In.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,o=0,i=[];return this.forEachOrphanedDocument(t,function(a,s){if(s<=e){var u=n.isPinned(t,a).next(function(e){if(!e)return r++,n.removeOrphanedDocument(t,a).next(function(t){o+=t})});i.push(u)}}).next(function(){return In.waitFor(i)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(t,-o)}).next(function(){return r})},t.prototype.removeOrphanedDocument=function(t,e){var n,r=0,o=this.db.getRemoteDocumentCache();return In.waitFor([Wn(t).delete((n=e,[0,wn(n.path)])),o.removeEntry(t,e).next(function(t){r+=t})]).next(function(){return r})},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return zr(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=Wn(t),o=fn.INVALID;return r.iterate({index:vr.documentTargetsIndex},function(t,r){var i=r.path,a=r.sequenceNumber;0===t[0]?(o!==fn.INVALID&&e(new lt(Sn(n)),o),o=a,n=i):o=fn.INVALID}).next(function(){o!==fn.INVALID&&e(new lt(Sn(n)),o)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function zr(t,e){return Wn(t).put(function(t,e){return new vr(0,wn(t.path),e)}(e,t.currentSequenceNumber))}var Hr=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,o=n;r<o.length;r++)t=o[r].applyToLocalView(e,t);return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=Ie();return e.forEach(function(t,e){for(var o=0,i=n;o<i.length;o++)e=i[o].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var o=n.applyLocalMutationsToDocuments(t,e,r),i=Oe();return o.forEach(function(t,e){e||(e=new ft(t,$t.forDeletedDoc())),i=i.insert(t,e)}),i})},t.prototype.getDocumentsMatchingQuery=function(t,e){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new lt(e)).next(function(t){var e=xe();return t instanceof ht&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e){var n=this;y(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,o=xe();return this.indexManager.getCollectionParents(t,r).next(function(i){return In.forEach(i,function(i){var a=e.asCollectionQueryAtPath(i.child(r));return n.getDocumentsMatchingCollectionQuery(t,a).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(o){return n=o,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(t){for(var r=0,o=t;r<o.length;r++)for(var i=o[r],a=0,s=i.mutations;a<s.length;a++){var u=s[a],l=u.key;if(e.path.isImmediateParentOf(l.path)){var c=n.get(l),h=u.applyToLocalView(c,c,i.localWriteTime);n=h instanceof ht?n.insert(l,h):n.remove(l)}}}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t}(),Gr=function(){function t(){this.refsByKey=new ne(Wr.compareByKey),this.refsByTarget=new ne(Wr.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Wr(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Wr(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=lt.EMPTY,r=new Wr(n,t),o=new Wr(n,t+1),i=[];return this.refsByTarget.forEachInRange([r,o],function(t){e.removeRef(t),i.push(t.key)}),i},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=lt.EMPTY,n=new Wr(e,t),r=new Wr(e,t+1),o=Ae();return this.refsByTarget.forEachInRange([n,r],function(t){o=o.add(t.key)}),o},t.prototype.containsKey=function(t){var e=new Wr(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Wr=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return lt.comparator(t.key,e.key)||K(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return K(t.targetOrBatchId,e.targetOrBatchId)||lt.comparator(t.key,e.key)},t}(),Kr=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Gr,this.queryDataByTarget={},y(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new Hr(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(o){return r=o,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new Hr(e.remoteDocuments,e.mutationQueue,e.persistence.getIndexManager()),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var o=[],i=[],a=Ae(),s=0,u=r;s<u.length;s++){o.push((d=u[s]).batchId);for(var l=0,c=d.mutations;l<c.length;l++)a=a.add(c[l].key)}for(var h=0,f=t;h<f.length;h++){var d;i.push((d=f[h]).batchId);for(var p=0,g=d.mutations;p<g.length;p++)a=a.add(g[p].key)}return e.localDocuments.getDocuments(n,a).next(function(t){return{affectedDocuments:t,removedBatchIds:o,addedBatchIds:i}})})})},t.prototype.localWrite=function(t){var e=this,n=et.now(),r=t.reduce(function(t,e){return t.add(e.key)},Ae());return this.persistence.runTransaction("Locally write mutations","readwrite",function(o){return e.localDocuments.getDocuments(o,r).next(function(r){for(var i=[],a=0,s=t;a<s.length;a++){var u=s[a],l=r.get(u.key);if(!u.isIdempotent){var c=u.fieldMask;if(c){var h=l instanceof ht?c.applyTo(l.data):Mt.EMPTY;i.push(new he(u.key,h,c,ue.exists(!0)))}}}return e.mutationQueue.addMutationBatch(o,n,i,t).next(function(t){var e=t.applyToLocalDocumentSet(r);return{batchId:t.batchId,changes:e}})})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):In.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=t.batch.keys(),o=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,o)}).next(function(){return o.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return y(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var i=[],a=Ae();I(e.targetChanges,function(r,s){var u=n.queryDataByTarget[r];if(u){s.addedDocuments.forEach(function(t){a=a.add(t)}),s.modifiedDocuments.forEach(function(t){a=a.add(t)}),i.push(n.queryCache.removeMatchingKeys(o,s.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(o,s.addedDocuments,r)}));var l=s.resumeToken;if(l.length>0){var c=u;u=u.copy({resumeToken:l,snapshotVersion:e.snapshotVersion}),n.queryDataByTarget[r]=u,t.shouldPersistQueryData(c,u,s)&&i.push(n.queryCache.updateQueryData(o,u))}}});var s=Oe(),u=Ae();e.documentUpdates.forEach(function(t,e){u=u.add(t)}),i.push(r.getEntries(o,u).next(function(t){e.documentUpdates.forEach(function(u,l){var c=t.get(u);null==c||l.version.isEqual($t.MIN)||a.has(l.key)&&!c.hasPendingWrites||l.version.compareTo(c.version)>=0?(r.addEntry(l),s=s.insert(u,l)):p("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version),e.resolvedLimboDocuments.has(u)&&i.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))})}));var l=e.snapshotVersion;if(!l.isEqual($t.MIN)){var c=n.queryCache.getLastRemoteSnapshotVersion(o).next(function(t){return y(l.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+l+" < "+t),n.queryCache.setTargetsMetadata(o,o.currentSequenceNumber,l)});i.push(c)}return In.waitFor(i).next(function(){return r.apply(o)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(o,s)})})},t.shouldPersistQueryData=function(t,e,n){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return In.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),In.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(o){return o?(r=o,In.resolve()):e.queryCache.allocateTargetId(n).next(function(o){return r=new ee(t,o,te.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)})}).next(function(){return y(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t,e){var n=this;return this.persistence.runTransaction("Release query",e?"readwrite":"readwrite-primary",function(r){return n.queryCache.getQueryData(r,t).next(function(o){y(null!=o,"Tried to release nonexistent query: "+t);var i=o.targetId,a=n.queryDataByTarget[i],s=n.localViewReferences.removeReferencesForId(i);return delete n.queryDataByTarget[i],e?In.resolve():In.forEach(s,function(t){return n.persistence.referenceDelegate.removeReference(r,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,a)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,o=e.batch,i=o.keys(),a=In.resolve();return i.forEach(function(r){a=a.next(function(){return n.getEntry(t,r)}).next(function(t){var i=t,a=e.docVersions.get(r);y(null!==a,"ackVersions should contain every doc in the write."),(!i||i.version.compareTo(a)<0)&&((i=o.applyToRemoteDocument(r,i,e))?n.addEntry(i):y(!t,"Mutation batch "+o+" applied to document "+t+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(t,o)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.queryDataByTarget)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Qr=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=w(),this.batchesByDocumentKey=new ne(Wr.compareByKey)}return t.prototype.checkEmpty=function(t){return In.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,o=this.indexOfExistingBatchId(r,"acknowledged");y(0===o,"Can only acknowledge the first batch in the mutation queue");var i=this.mutationQueue[o];return y(r===i.batchId,"Queue ordering failure: expected batch "+r+", got batch "+i.batchId),this.lastStreamToken=n,In.resolve()},t.prototype.getLastStreamToken=function(t){return In.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,In.resolve()},t.prototype.addMutationBatch=function(t,e,n,r){y(0!==r.length,"Mutation batches should not be empty");var o=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&y(this.mutationQueue[this.mutationQueue.length-1].batchId<o,"Mutation batchIDs must be monotonically increasing order");var i=new En(o,e,n,r);this.mutationQueue.push(i);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Wr(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast())}return In.resolve(i)},t.prototype.lookupMutationBatch=function(t,e){return In.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return y(null!=n,"Failed to find local mutation batch."),In.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.indexOfBatchId(e+1),r=n<0?0:n;return In.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},t.prototype.getAllMutationBatches=function(t){return In.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Wr(e,0),o=new Wr(e,Number.POSITIVE_INFINITY),i=[];return this.batchesByDocumentKey.forEachInRange([r,o],function(t){y(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);y(null!==r,"Batches in the index must exist in the main table"),i.push(r)}),In.resolve(i)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ne(K);return e.forEach(function(t){var e=new Wr(t,0),o=new Wr(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,o],function(e){y(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),In.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){y(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,o=n;lt.isDocumentKey(o)||(o=o.child(""));var i=new Wr(new lt(o),0),a=new ne(K);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)},i),In.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;y(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return In.forEach(e.mutations,function(o){var i=new Wr(o.key,e.batchId);return r=r.delete(i),n.referenceDelegate.removeMutationReference(t,o.key)}).next(function(){n.batchesByDocumentKey=r})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Wr(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return In.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&y(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),In.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return y(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return y(n.batchId===t,"If found batch must match"),n},t}(),Jr=function(){function t(t){this.persistence=t,this.queries=new Kn(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=$t.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Gr,this.targetCount=0,this.targetIdGenerator=jn.forQueryCache()}return t.prototype.getTargetCount=function(t){return In.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),In.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return In.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return In.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,In.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),In.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return y(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,In.resolve()},t.prototype.updateQueryData=function(t,e){return y(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),In.resolve()},t.prototype.removeQueryData=function(t,e){return y(this.targetCount>0,"Removing a target from an empty cache"),y(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,In.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,o=0,i=[];return this.queries.forEach(function(a,s){s.sequenceNumber<=e&&!n[s.targetId]&&(r.queries.delete(a),i.push(r.removeMatchingKeysForTargetId(t,s.targetId)),o++)}),In.waitFor(i).next(function(){return o})},t.prototype.getQueryCount=function(t){return In.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return In.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return v("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(function(e){o.push(r.addReference(t,e))}),In.waitFor(o)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(function(e){o.push(r.removeReference(t,e))}),In.waitFor(o)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),In.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return In.resolve(n)},t.prototype.containsKey=function(t,e){return In.resolve(this.references.containsKey(e))},t}(),Xr=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new pt(lt.comparator),this.newDocumentChanges=Ae(),this.size=0}return t.prototype.addEntries=function(t,e,n){for(var r=[],o=0,i=e;o<i.length;o++){var a=i[o],s=a.maybeDocument.key;this.docs=this.docs.insert(s,a),this.newDocumentChanges=this.newDocumentChanges.add(s),r.push(this.indexManager.addToCollectionParentIndex(t,s.path.popLast()))}return this.size+=n,In.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=this.docs.get(e);return n?(this.docs=this.docs.remove(e),this.size-=n.size,In.resolve(n.size)):In.resolve(0)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return In.resolve(n?n.maybeDocument:null)},t.prototype.getSizedEntry=function(t,e){return In.resolve(this.docs.get(e))},t.prototype.getEntries=function(t,e){var n=this,r=Ie();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),In.resolve(r)},t.prototype.getSizedEntries=function(t,e){var n=this,r=Ie(),o=new pt(lt.comparator);return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null),o=o.insert(t,e?e.size:0)}),In.resolve({maybeDocuments:r,sizeMap:o})},t.prototype.getDocumentsMatchingQuery=function(t,e){y(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=xe(),r=new lt(e.path.child("")),o=this.docs.getIteratorFrom(r);o.hasNext();){var i=o.getNext(),a=i.value.maybeDocument;if(!e.path.isPrefixOf(i.key.path))break;a instanceof ht&&e.matches(a)&&(n=n.insert(a.key,a))}return In.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return In.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=Oe();return this.newDocumentChanges.forEach(function(t){var r=e.docs.get(t),o=r?r.maybeDocument:new ft(t,$t.forDeletedDoc());n=n.insert(t,o)}),this.newDocumentChanges=Ae(),In.resolve(n)},t.prototype.newChangeBuffer=function(){return new Yr(this.sizer,this)},t.prototype.getSize=function(t){return In.resolve(this.size)},t}(),Yr=function(t){function e(e,n){var r=t.call(this)||this;return r.sizer=e,r.documentCache=n,r}return a.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,o=[];return n.forEach(function(t,n){var i=e.documentSizes.get(t);y(void 0!==i,"Attempting to change document "+t.toString()+" without having read it first");var a=e.sizer(n);r+=a-i,o.push({maybeDocument:n,size:a})}),this.documentCache.addEntries(t,o,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(Qn),Zr=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new fn(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Jr(this),this.indexManager=new rr,this.remoteDocumentCache=new Xr(this.indexManager,function(t){return n.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n,r){return new t(e,function(t){return new eo(t,new Ir(n),r)})},t.createEagerPersistence=function(e){return new t(e,function(t){return new to(t)})},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Qr(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;p("MemoryPersistence","Starting transaction:",t);var o=new $r(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(o).next(function(t){return r.referenceDelegate.onTransactionCommitted(o).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return In.or((n=this.mutationQueues,r=[],k(n,function(t,e){return r.push(e)}),r).map(function(n){return function(){return n.containsKey(t,e)}}));var n,r},t}(),$r=function(){return function(t){this.currentSequenceNumber=t}}(),to=function(){function t(t){this.persistence=t}return t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),In.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),In.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),In.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache();return In.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(e){return e?In.resolve():n.removeEntry(t,r).next(function(){})})})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return In.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return In.resolve(n.inMemoryPins.containsKey(e))}])},t}(),eo=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.orphanedSequenceNumbers=new Kn(function(t){return wn(t.path)}),this.garbageCollector=new Ar(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return In.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return In.forEach(this.orphanedSequenceNumbers,function(r,o){return n.isPinned(t,r,o).next(function(t){return t?In.resolve():e(o)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,o=this.persistence.getRemoteDocumentCache();return o.forEachDocumentKey(t,function(i){return n.isPinned(t,i,e).next(function(e){return e?In.resolve():(r++,o.removeEntry(t,i).next())})}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),In.resolve()},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),In.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),In.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),In.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw v("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return In.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return In.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return In.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),no=function(){function t(t,e,n,r,o){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=o,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),o=Math.max(0,n-r);this.currentBaseMs>0&&p("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,o,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),ro=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),oo=1e3,io=6e4,ao=1.5,so=function(){function t(t,e,n,r,o,i){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=o,this.listener=i,this.state=ro.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new no(t,e,oo,ao,io)}return t.prototype.isStarted=function(){return this.state===ro.Starting||this.state===ro.Open||this.state===ro.Backoff},t.prototype.isOpen=function(){return this.state===ro.Open},t.prototype.start=function(){this.state!==ro.Error?(y(this.state===ro.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(ro.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){y(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=ro.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.isOpen()?[2,this.close(ro.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:return y(this.isStarted(),"Only started streams should be closed."),y(t===ro.Error||Ft(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==ro.Error?this.backoff.reset():e&&e.code===_.RESOURCE_EXHAUSTED?(g(e.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===_.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;y(this.state===ro.Initial,"Must be in initial state to auth"),this.state=ro.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new C(_.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;y(this.state===ro.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return y(e.state===ro.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=ro.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;y(this.state===ro.Error,"Should only perform backoff when in Error state"),this.state=ro.Backoff,this.backoff.backoffAndRun(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){return y(this.state===ro.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=ro.Initial,this.start(),y(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return y(this.isStarted(),"Can't handle server close on non-started stream"),p("PersistentStream","close with error: "+t),this.stream=null,this.close(ro.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),uo=function(t){function e(e,n,r,o,i){var a=t.call(this,e,hn.ListenStreamConnectionBackoff,hn.ListenStreamIdle,n,r,i)||this;return a.serializer=o,a}return a.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(so),lo=function(t){function e(e,n,r,o,i){var a=t.call(this,e,hn.WriteStreamConnectionBackoff,hn.WriteStreamIdle,n,r,i)||this;return a.serializer=o,a.handshakeComplete_=!1,a}return a.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(y(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return y(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){y(this.isOpen(),"Writing handshake requires an opened stream"),y(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;y(this.isOpen(),"Writing mutations requires an opened stream"),y(this.handshakeComplete_,"Handshake must be complete before writing mutations"),y(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(so),co=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new lo(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new uo(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=Oe();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var o=[];return t.forEach(function(t){var e=r.get(t);y(!!e,"Missing entity in write response for "+t),o.push(e)}),o})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),ho=function(){function t(t){this.datastore=t,this.readVersions=De(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e;if(t instanceof ht)e=t.version;else{if(!(t instanceof ft))throw v("Document in a transaction was a "+t.constructor.name);e=$t.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new C(_.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){t instanceof ft||t instanceof ht?e.recordVersion(t):v("Document in a transaction was a "+t.constructor.name)}),t})},t.prototype.write=function(t){if(this.committed)throw new C(_.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?ue.updateTime(e):ue.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual($t.forDeletedDoc()))throw new C(_.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?ue.updateTime(e):ue.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new de(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,$t.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),fo=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),po=function(t){return t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState",t}({}),go=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=fo.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(fo.Unknown),y(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(hn.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,y(t.state===fo.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(fo.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===fo.Online?(this.setAndBroadcast(fo.Unknown),y(0===this.watchStreamFailures,"watchStreamFailures must be 0"),y(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(fo.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===fo.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(g(e),this.shouldWarnClientIsOffline=!1):p("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),mo=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.onlineStateTracker=new go(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(fo.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(fo.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(p("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return p("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(fo.Unknown),[2]}})})},t.prototype.listen=function(t){y(!E(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){y(E(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),x(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(fo.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){y(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Ke(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!x(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(e){return I(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return void 0===t&&y(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(fo.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(fo.Online),t instanceof Ge&&t.state===He.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Be?this.watchChangeAggregator.handleDocumentChange(t):t instanceof ze?this.watchChangeAggregator.handleExistenceFilter(t):(y(t instanceof Ge,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual($t.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;y(!t.isEqual($t.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return I(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var o=e.listenTargets[n];o&&(e.listenTargets[n]=o.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:w()}),e.sendUnwatchRequest(t);var r=new ee(n.query,t,te.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;y(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return E(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){y(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){y(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)}).catch(qr)},t.prototype.onMutationResult=function(t,e){var n=this;y(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),o=On.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(o).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(n){return void 0===t&&y(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]:[2]})})},t.prototype.handleHandshakeError=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return _e(t.code)?(p("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=w(),[2,this.localStore.setLastStreamToken(w()).catch(qr)]):[2]})})},t.prototype.handleWriteError=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){return _e(o=t.code)&&o!==_.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2];var o})})},t.prototype.createTransaction=function(){return new ho(this.datastore)},t.prototype.handleCredentialChange=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(p("RemoteStore","RemoteStore restarting streams for new credential"),this.networkEnabled=!1,[4,this.disableNetworkInternal()]):[3,3];case 1:return t.sent(),this.onlineStateTracker.set(fo.Unknown),[4,this.enableNetwork()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.applyPrimaryState=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(fo.Unknown),e.label=4;case 4:return[2]}})})},t}(),vo=function(){return function(){this.listeners=[]}}(),yo=function(){function t(t){this.syncEngine=t,this.queries=new Kn(function(t){return t.canonicalId()}),this.onlineState=fo.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new vo,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,o;return a.__generator(this,function(i){return n=!1,(r=this.queries.get(e=t.query))&&(o=r.listeners.indexOf(t))>=0&&(r.listeners.splice(o,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],o=this.queries.get(r.query);if(o){for(var i=0,a=o.listeners;i<a.length;i++)a[i].onViewSnapshot(r);o.viewSnap=r}}},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,o=n.listeners;r<o.length;r++)o[r].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,o=n.listeners;r<o.length;r++)o[r].applyOnlineStateChange(t)})},t}(),bo=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=fo.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(y(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var o=r[n];o.type!==je.Metadata&&e.push(o)}t=new qe(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return y(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==fo.Offline?(y(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===fo.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){y(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=qe.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),wo=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=Ae(),o=Ae(),i=0,a=n.docChanges;i<a.length;i++){var s=a[i];switch(s.type){case je.Added:r=r.add(s.doc.key);break;case je.Removed:o=o.add(s.doc.key)}}return new t(e,r,o)},t}(),_o=function(){return function(t){this.key=t}}(),Co=function(){return function(t){this.key=t}}(),So=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Ae(),this.mutatedKeys=Ae(),this.documentSet=new Re(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Ue,o=e?e.documentSet:this.documentSet,i=e?e.mutatedKeys:this.mutatedKeys,a=o,s=!1,u=this.query.hasLimit()&&o.size===this.query.limit?o.last():null;if(t.inorderTraversal(function(t,e){var l=o.get(t),c=e instanceof ht?e:null;c&&(y(t.isEqual(c.key),"Mismatching keys found in document changes: "+t+" != "+c.key),c=n.query.matches(c)?c:null);var h=!!l&&n.mutatedKeys.has(l.key),f=!!c&&(c.hasLocalMutations||n.mutatedKeys.has(c.key)&&c.hasCommittedMutations),d=!1;l&&c?l.data.isEqual(c.data)?h!==f&&(r.track({type:je.Metadata,doc:c}),d=!0):n.shouldWaitForSyncedDocument(l,c)||(r.track({type:je.Modified,doc:c}),d=!0,u&&n.query.docComparator(c,u)>0&&(s=!0)):!l&&c?(r.track({type:je.Added,doc:c}),d=!0):l&&!c&&(r.track({type:je.Removed,doc:l}),d=!0,u&&(s=!0)),d&&(c?(a=a.add(c),i=f?i.add(t):i.delete(t)):(a=a.delete(t),i=i.delete(t)))}),this.query.hasLimit())for(;a.size>this.query.limit;){var l=a.last();a=a.delete(l.key),i=i.delete(l.key),r.track({type:je.Removed,doc:l})}return y(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:i}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;y(!t.needsRefill,"Cannot apply changes that need a refill");var o=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var i=t.changeSet.getChanges();i.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case je.Added:return 1;case je.Modified:case je.Metadata:return 2;case je.Removed:return 0;default:return v("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?Le.Synced:Le.Local,u=s!==this.syncState;return this.syncState=s,0!==i.length||u?{snapshot:new qe(this.query,t.documentSet,o,i,t.mutatedKeys,s===Le.Local,u,!1),limboChanges:a}:{limboChanges:a}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===fo.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Ue,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return y(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Ae(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new Co(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new _o(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=Ae();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return qe.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Le.Local)},t}(),Eo=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),Oo=function(){return function(t){this.key=t}}(),Io=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Kn(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new pt(lt.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Gr,this.mutationUserCallbacks={},this.limboTargetIdGenerator=jn.forSyncEngine(),this.isPrimary=void 0,this.onlineState=fo.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){y(null!==t,"SyncEngine listener cannot be null"),y(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,o,i;return a.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(this.sharedClientState.addLocalQueryTarget(e=r.targetId),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return o=a.sent(),i=this.sharedClientState.addLocalQueryTarget(o.targetId),e=o.targetId,[4,this.initializeViewAndComputeSnapshot(o,"current"===i)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(o),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){var n=this,r=t.query;return this.localStore.executeQuery(r).then(function(o){return n.localStore.remoteDocumentKeys(t.targetId).then(function(i){var a=new So(r,i),s=a.computeDocChanges(o),u=Ve.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&n.onlineState!==fo.Offline),l=a.applyChanges(s,!0===n.isPrimary,u);y(0===l.limboChanges.length,"View returned limbo docs before target ack from the server."),y(!!l.snapshot,"applyChanges for new view should always return a snapshot");var c=new Eo(r,t.targetId,a);return n.queryViewsByQuery.set(r,c),n.queryViewsByTarget[t.targetId]=c,l.snapshot})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){var e=this;return this.localStore.executeQuery(t.query).then(function(n){return e.localStore.remoteDocumentKeys(t.targetId).then(function(r){return a.__awaiter(e,void 0,void 0,function(){var e;return a.__generator(this,function(o){return e=t.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(t.targetId,e.limboChanges),[2,e]})})})})},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),y(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(qr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.sharedClientState.addPendingMutation(t.batchId),n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),y(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!Ft(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(o){return Promise.reject(n.wrapUpdateFunctionError(o))}}().then(function(o){return r.commit().then(function(){return o}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(t).then(function(n){return k(t.targetChanges,function(t,n){var r=e.limboResolutionsByTarget[t];r&&(y(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?y(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(y(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),e.emitNewSnapsAndNotifyLocalStore(n,t)}).catch(qr)},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===po.RemoteStore||!this.isPrimary&&e===po.SharedClientState){var n=[];this.queryViewsByQuery.forEach(function(e,r){var o=r.view.applyOnlineStateChange(t);y(0===o.limboChanges.length,"OnlineState should not affect limbo documents."),o.snapshot&&n.push(o.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,o,i,s,u,l=this;return a.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),(r=(n=this.limboResolutionsByTarget[t])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],o=(o=new pt(lt.comparator)).insert(r,new ft(r,$t.forDeletedDoc())),i=Ae().add(r),s=new Fe($t.MIN,{},new ne(K),o,i),[2,this.applyRemoteEvent(s)]):[3,1];case 1:return y(!!(u=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(u.query,!1).then(function(){return l.removeAndCleanupQuery(u)}).catch(qr)];case 2:a.sent(),this.syncEngineListener.onWatchError(u.query,e),a.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(o){switch(o.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=o.sent())?(p("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return o.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):v("Unknown batchState: "+e),o.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return o.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){var e=this;this.assertSubscribed("applySuccessfulWrite()");var n=t.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.sharedClientState.updateMutationState(n,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(t)}).catch(qr)},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(r){return n.sharedClientState.updateMutationState(t,"rejected",e),n.emitNewSnapsAndNotifyLocalStore(r)}).catch(qr)},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new pt(K)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(y(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var o=r[n];o instanceof _o?(this.limboDocumentRefs.addReference(o.key,t),this.trackLimboChange(o)):o instanceof Co?(p("SyncEngine","Document no longer in limbo: "+o.key),this.limboDocumentRefs.removeReference(o.key,t),this.limboDocumentRefs.containsKey(o.key)||this.removeLimboTarget(o.key)):v("Unknown limbo change: "+JSON.stringify(o))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){p("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=Bt.atPath(e.path);this.limboResolutionsByTarget[n]=new Oo(e),this.remoteStore.listen(new ee(r,n,te.LimboResolution,fn.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,o,i=this;return a.__generator(this,function(a){switch(a.label){case 0:return n=[],r=[],o=[],this.queryViewsByQuery.forEach(function(a,s){o.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?i.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var o=s.view.applyChanges(t,!0===i.isPrimary,e&&e.targetChanges[s.targetId]);if(i.updateTrackedLimbos(s.targetId,o.limboChanges),o.snapshot){i.isPrimary&&i.sharedClientState.updateQueryState(s.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var a=wo.fromSnapshot(s.targetId,o.snapshot);r.push(a)}}))}),[4,Promise.all(o)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){y(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n;return a.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?[4,this.localStore.handleUserChange(t)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,o,i,s,u=this;return a.__generator(this,function(a){switch(a.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return a.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=a.sent(),r=0,o=n;r<o.length;r++)this.remoteStore.listen(o[r]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,i=[],s=Promise.resolve(),I(this.queryViewsByTarget,function(t,e){u.sharedClientState.isLocalQueryTarget(t)?i.push(t):s=s.then(function(){return u.unlisten(e.query)}),u.remoteStore.unlisten(e.targetId)}),[4,s]);case 4:return a.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(i)];case 5:return a.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:a.sent(),a.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;I(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new pt(lt.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){for(var e=this,n=Promise.resolve(),r=[],o=[],i=function(t){n=n.then(function(){return a.__awaiter(e,void 0,void 0,function(){var e,n,i,s;return a.__generator(this,function(a){switch(a.label){case 0:return(n=this.queryViewsByTarget[t])?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return a.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return e=a.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return(i=a.sent()).snapshot&&o.push(i.snapshot),[3,8];case 4:return y(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(t)];case 5:return y(!!(s=a.sent()),"Query data for target "+t+" not found"),[4,this.localStore.allocateQuery(s)];case 6:return e=a.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:a.sent(),a.label=8;case 8:return r.push(e),[2]}})})})},s=0,u=t;s<u.length;s++)i(u[s]);return n.then(function(){return e.syncEngineListener.onWatchChange(o),r})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){var r,o=this;return a.__generator(this,function(i){switch(i.label){case 0:if(this.isPrimary)return p("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,5];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(n){return a.__awaiter(o,void 0,void 0,function(){var r;return a.__generator(this,function(o){switch(o.label){case 0:return r=Fe.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return o.sent(),[2]}})})},function(t){return a.__awaiter(o,void 0,void 0,function(){var e;return a.__generator(this,function(n){switch(n.label){case 0:return function(t){return t.code===_.DATA_LOSS&&t.message===Jn}(t)?(e=[],I(this.queryViewsByTarget,function(t){return e.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw t;case 3:return[2]}})})})];case 2:return this.removeAndCleanupQuery(r=this.queryViewsByTarget[t]),[4,this.localStore.releaseQuery(r.query,!0)];case 3:return i.sent(),this.syncEngineListener.onWatchError(r.query,n),[3,5];case 4:v("Unexpected target state: "+e),i.label=5;case 5:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,o,i,s,u,l,c,h,f=this;return a.__generator(this,function(d){switch(d.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,d.label=1;case 1:return n<r.length?(y(!this.queryViewsByTarget[h=r[n]],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return y(!!(o=d.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(o)];case 3:return i=d.sent(),[4,this.initializeViewAndComputeSnapshot(i,!1)];case 4:d.sent(),this.remoteStore.listen(i),d.label=5;case 5:return n++,[3,1];case 6:s=function(t){var e;return a.__generator(this,function(n){switch(n.label){case 0:return(e=u.queryViewsByTarget[t])?[4,u.localStore.releaseQuery(e.query,!1).then(function(){f.remoteStore.unlisten(t),f.removeAndCleanupQuery(e)}).catch(qr)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},u=this,l=0,c=e,d.label=7;case 7:return l<c.length?[5,s(h=c[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Ae().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Ae()},t}(),ko=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),xo="SharedClientState",To="firestore_clients",Do="firestore_mutations",Po="firestore_targets",Ao="firestore_online_state",No="firestore_sequence_number",Mo=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,y(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var o=JSON.parse(r),i="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error),a=void 0;return i&&o.error&&(i="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(a=new C(o.error.code,o.error.message)),i?new t(e,n,o.state,a):(g(xo,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ro=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,y(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),i=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(i=new C(r.error.code,r.error.message)),o?new t(e,r.state,i):(g(xo,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),jo=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),o="object"==typeof r&&r.activeTargetIds instanceof Array,i=Me(),a=0;o&&a<r.activeTargetIds.length;++a)o=Vt(r.activeTargetIds[a]),i=i.add(r.activeTargetIds[a]);return o?new t(e,i):(g(xo,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Lo=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&void 0!==fo[n.onlineState]&&"string"==typeof n.clientId?new t(n.clientId,fo[n.onlineState]):(g(xo,"Failed to parse online state: "+e),null)},t}(),Uo=function(){function t(){this.activeTargetIds=Me()}return t.prototype.addQueryTarget=function(t){y(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),qo=function(){function t(e,n,r,o,i){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new C(_.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=i,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=No+"_"+r,this.activeClients[this.localClientId]=new Uo,this.clientStateKeyRe=new RegExp("^"+To+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Do+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Po+"_"+a+"_(\\d+)$"),this.onlineStateKey=Ao+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return a.__awaiter(this,void 0,void 0,function(){var t,e,n,r,o,i,s,u,l,c,h=this;return a.__generator(this,function(a){switch(a.label){case 0:return y(!this.started,"WebStorageSharedClientState already started"),y(null!==this.syncEngine,"syncEngine property must be set before calling start()"),y(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=a.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(o=this.getItem(this.toWebStorageClientStateKey(r)))&&(i=jo.fromWebStorageEntry(r,o))&&(this.activeClients[i.clientId]=i);for(this.persistClientState(),(s=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(s))&&this.handleOnlineStateEvent(u),l=0,c=this.earlyEvents;l<c.length;l++)this.handleWebStorageEvent(c[l]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=Me();return k(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Ro.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p(xo,"READ",t,e),e},t.prototype.setItem=function(t,e){p(xo,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p(xo,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(p(xo,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return a.__awaiter(e,void 0,void 0,function(){var e,n,r,o,i,s;return a.__generator(this,function(a){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(o=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(o)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(i=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(i)]}else t.key===this.sequenceNumberKey&&(y(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(s=function(t){var e=fn.INVALID;if(null!=t)try{var n=JSON.parse(t);y("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(r){g(xo,"Failed to read sequence number from WebStorage",r)}return e}(t.newValue))!==fn.INVALID&&this.sequenceNumberHandler(s));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Mo(this.currentUser,t,e,n),o=this.toWebStorageMutationBatchKey(t);this.setItem(o,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:fo[t]}))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),o=new Ro(t,e,n);this.setItem(r,o.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return y(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),To+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Po+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Do+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return y(null!==n,"Cannot parse client state key '"+t+"'"),jo.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);y(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return Mo.fromWebStorageEntry(new ko(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);y(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Ro.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return Lo.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(p(xo,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var o=this.getAllActiveQueryTargets(),i=[],s=[];return o.forEach(function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return r.has(t)||i.push(t),[2]})})}),r.forEach(function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return o.has(t)||s.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(i,s)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}(),Fo=function(){function t(){this.localState=new Uo,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Uo,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Vo=function(){function t(t,e){this.cacheSizeBytes=t,this.experimentalTabSynchronization=e}return t.prototype.lruParams=function(){return Dr.withCacheSize(this.cacheSizeBytes)},t}(),Bo=function(){return function(){}}(),zo=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=W.newId(),this.isShutdown=!1}return t.prototype.start=function(t){var e=this;this.verifyNotShutdown();var n=new dn,r=new dn,o=!1;return this.credentials.setChangeListener(function(i){o?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(i)}):(o=!0,e.initializePersistence(t,r,i).then(function(t){return e.initializeRest(i,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof Vo?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof C?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code},t.prototype.verifyNotShutdown=function(){if(this.isShutdown)throw new C(_.FAILED_PRECONDITION,"The client has already been shutdown.")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=Ur.buildStoragePrefix(this.databaseInfo),o=new rn(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return a.__awaiter(n,void 0,void 0,function(){var n,i;return a.__generator(this,function(a){switch(a.label){case 0:if(e.experimentalTabSynchronization&&!qo.isAvailable(this.platform))throw new C(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return i=e.lruParams(),e.experimentalTabSynchronization?(this.sharedClientState=new qo(this.asyncQueue,this.platform,r,this.clientId,t),[4,Ur.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,o,i,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=a.sent(),[3,4];case 2:return this.sharedClientState=new Fo,[4,Ur.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,o,i)];case 3:n=a.sent(),a.label=4;case 4:return this.persistence=n,[2,n.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=Zr.createEagerPersistence(this.clientId),this.sharedClientState=new Fo,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return p("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return a.__awaiter(n,void 0,void 0,function(){var n,o,i,s=this;return a.__generator(this,function(u){switch(u.label){case 0:return this.localStore=new Kr(this.persistence,t),e&&(this.lruScheduler=new Pr(e,this.asyncQueue,this.localStore)),n=this.platform.newSerializer(this.databaseInfo.databaseId),o=new co(this.asyncQueue,r,this.credentials,n),i=function(t){return s.syncEngine.applyOnlineStateChange(t,po.SharedClientState)},this.remoteStore=new mo(this.localStore,o,this.asyncQueue,function(t){return s.syncEngine.applyOnlineStateChange(t,po.RemoteStore)}),this.syncEngine=new Io(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=i,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new yo(this.syncEngine),[4,this.sharedClientState.start()];case 1:return u.sent(),[4,this.remoteStore.start()];case 2:return u.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return a.__awaiter(s,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 3:return u.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.shutdown=function(){var t=this;return!0===this.isShutdown?Promise.resolve():this.asyncQueue.enqueue(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.removeChangeListener(),this.isShutdown=!0,[2]}})})})},t.prototype.listen=function(t,e,n){var r=this;this.verifyNotShutdown();var o=new bo(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(o)}),o},t.prototype.unlisten=function(t){var e=this;this.verifyNotShutdown(),this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof ht)return t;if(t instanceof ft)return null;throw new C(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=Ae(),r=new So(t,n),o=r.computeDocChanges(e);return r.applyChanges(o,!1).snapshot})},t.prototype.write=function(t){var e=this;this.verifyNotShutdown();var n=new dn;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),Ho=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Go=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(e,n,r,o){if(!(t instanceof Array)||t.length<1)throw new C(_.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+G(1,"element")+".")}();for(var n=0;n<t.length;++n)if(N("FieldPath","string",n,t[n]),0===t[n].length)throw new C(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ut.keyField().canonicalString()),t}(),Wo=new RegExp("[~\\*/\\[\\]]"),Ko=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),Qo=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){y(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(ko.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){y(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),Jo=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;y(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new C(_.ABORTED,"getToken aborted due to token change.");return n?(y("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Ko(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){y(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){y(null!=this.tokenListener,"removeChangeListener() called twice"),y(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return y(null===t||"string"==typeof t,"Received invalid UID: "+t),new ko(t)},t}(),Xo=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=ko.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),Yo=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new Xo(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(ko.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Zo(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,o=["next","error","complete"];r<o.length;r++){var i=o[r];if(i in n&&"function"==typeof n[i])return!0}return!1}(t)}var $o=function(){function t(t){this._methodName=t}return t.delete=function(){return T("FieldValue.delete",arguments),ti.instance},t.serverTimestamp=function(){return T("FieldValue.serverTimestamp",arguments),ei.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P("FieldValue.arrayUnion",arguments,1),new ni(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P("FieldValue.arrayRemove",arguments,1),new ri(t)},t.increment=function(t){return N("FieldValue.increment","number",1,t),D("FieldValue.increment",arguments,1),new oi(t)},t.prototype.isEqual=function(t){return this===t},t}(),ti=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return a.__extends(e,t),e.instance=new e,e}($o),ei=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return a.__extends(e,t),e.instance=new e,e}($o),ni=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return a.__extends(e,t),e}($o),ri=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return a.__extends(e,t),e}($o),oi=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return a.__extends(e,t),e}($o),ii=S($o,"Use FieldValue.<field>() instead."),ai=/^__.*__$/,si=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new he(t,this.data,this.fieldMask,e):new ce(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new fe(t,this.fieldTransforms)),n},t}(),ui=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new he(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new fe(t,this.fieldTransforms)),n},t}(),li=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t}({});function ci(t){switch(t){case li.Set:case li.MergeSet:case li.Update:return!0;case li.Argument:return!1;default:throw v("Unexpected case for UserDataSource: "+t)}}var hi=function(){function t(t,e,n,r,o,i){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===o&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=o||[],this.fieldMask=i||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new C(_.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(ci(this.dataSource)&&ai.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),fi=function(){return function(t,e){this.databaseId=t,this.key=e}}(),di=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new hi(li.Set,t,ut.EMPTY_PATH);gi("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new si(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new hi(li.MergeSet,t,ut.EMPTY_PATH);gi("Data must be an object, but it was:",r,e);var o,i,a=this.parseData(e,r);if(n){for(var s=new ne(ut.comparator),u=0,l=n;u<l.length;u++){var c=l[u],h=void 0;if(c instanceof Go)h=c._internalPath;else{if("string"!=typeof c)throw v("Expected stringOrFieldPath to be a string or a FieldPath");h=vi(t,c)}if(!r.contains(h))throw new C(_.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s=s.add(h)}o=oe.fromSet(s),i=r.fieldTransforms.filter(function(t){return o.covers(t.field)})}else o=oe.fromArray(r.fieldMask),i=r.fieldTransforms;return new si(a,o,i)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new hi(li.Update,t,ut.EMPTY_PATH);gi("Data must be an object, but it was:",r,e);var o=new ne(ut.comparator),i=Mt.EMPTY;k(e,function(e,a){var s=vi(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof ti)o=o.add(s);else{var l=n.parseData(a,u);null!=l&&(o=o.add(s),i=i.set(s,l))}});var a=oe.fromSet(o);return new ui(i,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var o=new hi(li.Update,t,ut.EMPTY_PATH),i=[mi(t,e)],a=[n];if(r.length%2!=0)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)i.push(mi(t,r[s])),a.push(r[s+1]);var u=new ne(ut.comparator),l=Mt.EMPTY;for(s=0;s<i.length;++s){var c=i[s],h=o.childContextForFieldPath(c),f=this.runPreConverter(a[s],h);if(f instanceof ti)u=u.add(c);else{var d=this.parseData(f,h);null!=d&&(u=u.add(c),l=l.set(c,d))}}var p=oe.fromSet(u);return new ui(l,p,o.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new hi(li.Argument,t,ut.EMPTY_PATH),r=this.parseData(e,n);return y(null!=r,"Parsed data should not be null."),y(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=yi(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(pi(t=this.runPreConverter(t,e)))return gi("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof $o)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new pt(K);return x(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):k(t,function(t,o){var i=n.parseData(o,e.childContextForField(t));null!=i&&(r=r.insert(t,i))}),new Mt(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,o=0,i=t;o<i.length;o++){var a=this.parseData(i[o],e.childContextForArray(r));null==a&&(a=Ct.INSTANCE),n.push(a),r++}return new Rt(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!ci(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof ti){if(e.dataSource!==li.MergeSet)throw e.dataSource===li.Update?(y(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof ei)e.fieldTransforms.push(new ie(e.path,pe.instance));else if(t instanceof ni){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new ge(n);e.fieldTransforms.push(new ie(e.path,r))}else if(t instanceof ri){n=this.parseArrayTransformElements(t._methodName,t._elements);var o=new me(n);e.fieldTransforms.push(new ie(e.path,o))}else if(t instanceof oi){var i=this.parseQueryValue("FieldValue.increment",t._operand),a=new ve(i);e.fieldTransforms.push(new ie(e.path,a))}else v("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return Ct.INSTANCE;if("number"==typeof t)return Vt(t)?new It(t):new kt(t);if("boolean"==typeof t)return St.of(t);if("string"==typeof t)return new xt(t);if(t instanceof Date)return new Tt(et.fromDate(t));if(t instanceof et)return new Tt(new et(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof tt)return new Nt(t);if(t instanceof Z)return new Pt(t);if(t instanceof fi)return new At(t.databaseId,t.key);throw e.createError("Unsupported field value: "+F(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var o=new hi(li.Argument,t,ut.EMPTY_PATH);return n.parseData(e,o.childContextForArray(r))})},t}();function pi(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof et||t instanceof tt||t instanceof Z||t instanceof fi||t instanceof $o)}function gi(t,e,n){if(!pi(n)||!q(n)){var r=F(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function mi(t,e){if(e instanceof Go)return e._internalPath;if("string"==typeof e)return vi(t,e);throw new C(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function vi(t,e){try{return function(t){if(t.search(Wo)>=0)throw new C(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Go.bind.apply(Go,[void 0].concat(t.split("."))))}catch(e){throw new C(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(r){var n=yi(r);throw new C(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function yi(t){return t instanceof Error?t.message:t.toString()}var bi="firestore.googleapis.com",wi=!0,_i=!0,Ci=!1,Si=Dr.COLLECTION_DISABLED,Ei=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new C(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bi,this.ssl=wi}else R("settings","non-empty string","host",t.host),this.host=t.host,j("settings","boolean","ssl",t.ssl),this.ssl=O(t.ssl,wi);if(B("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),j("settings","object","credentials",t.credentials),this.credentials=t.credentials,j("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?g("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&g("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=O(t.timestampsInSnapshots,_i),j("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Dr.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Si&&t.cacheSizeBytes<Dr.MINIMUM_CACHE_SIZE_BYTES)throw new C(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Dr.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}j("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?Ci:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Oi=function(){return function(){}}(),Ii=function(){function t(e){var n=this;this._queue=new gn,this.INTERNAL={delete:function(){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.shutdown()];case 1:return t.sent(),this.clientRunning=!1,[2]}})})}},this.clientRunning=!1;var r=new Oi;if("object"==typeof e.options){var o=e;r.firebaseApp=o,r.databaseId=t.databaseIdFromApp(o),r.persistenceKey=r.firebaseApp.name,r.credentials=new Jo(o)}else{var i=e;if(!i.projectId)throw new C(_.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new ot(i.projectId,i.database),r.persistenceKey="[DEFAULT]",r.credentials=new Qo}r.settings=new Ei({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(D("Firestore.settings",arguments,1),N("Firestore.settings","object",1,t),E(t,"persistence"))throw new C(_.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Ei(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new C(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new Qo;switch(t.type){case"gapi":var e=t.client;return y(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Yo(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new C(_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new C(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new Vo(this._config.settings.cacheSizeBytes,void 0!==t&&O(t.experimentalTabSynchronization,!1)))},t.prototype._clearPersistence=function(){if(this.clientRunning)throw new C(_.FAILED_PRECONDITION,"Persistence cannot be cleared while the client is running");var t=Ur.buildStoragePrefix(this.makeDatabaseInfo());return Ur.clearPersistence(t)},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Bo),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new nt(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl,this._config.settings.forceLongPolling)},t.prototype.configureClient=function(t){var e=this;y(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),y(!this._firestoreClient,"configureClient() called multiple times"),this.clientRunning=!0;var n=this.makeDatabaseInfo();return this._dataConverter=new di(function(t){if(t instanceof Ti){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new C(_.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new fi(e._config.databaseId,t._key)}return t}),this._firestoreClient=new zo(b.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!E(e,"projectId"))throw new C(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new C(_.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ot(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new C(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return D("Firestore.collection",arguments,1),N("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new Ri(at.fromString(t),this)},t.prototype.doc=function(t){return D("Firestore.doc",arguments,1),N("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Ti.forPath(at.fromString(t),this)},t.prototype._collectionGroup=function(t){if(D("Firestore.collectionGroup",arguments,1),N("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new C(_.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Ni(new Bt(at.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return D("Firestore.runTransaction",arguments,1),N("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new ki(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new xi(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(f()){case h.DEBUG:return"debug";case h.ERROR:return"error";case h.SILENT:return"silent";default:return v("Unknown log level: "+f())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(D("Firestore.setLogLevel",arguments,1),N("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":d(h.DEBUG);break;case"error":d(h.ERROR);break;case"silent":d(h.SILENT);break;default:throw new C(_.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),ki=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;D("Transaction.get",arguments,1);var n=qi("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return v("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof ft)return new Pi(e._firestore,n._key,null,!1,!1);if(r instanceof ht)return new Pi(e._firestore,n._key,r,!1,!1);throw v("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){A("Transaction.set",arguments,2,3);var r=qi("Transaction.set",t,this._firestore),o=(n=ji("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r,o,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return"string"==typeof e||e instanceof Go?(P("Transaction.update",arguments,3),r=qi("Transaction.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,i)):(D("Transaction.update",arguments,2),r=qi("Transaction.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,o),this},t.prototype.delete=function(t){D("Transaction.delete",arguments,1);var e=qi("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),xi=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){A("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=qi("WriteBatch.set",t,this._firestore),o=(n=ji("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(o.toMutations(r._key,ue.NONE)),this},t.prototype.update=function(t,e,n){for(var r,o,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof e||e instanceof Go?(P("WriteBatch.update",arguments,3),r=qi("WriteBatch.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,i)):(D("WriteBatch.update",arguments,2),r=qi("WriteBatch.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(o.toMutations(r._key,ue.exists(!0))),this},t.prototype.delete=function(t){D("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=qi("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new de(e._key,ue.NONE)),this},t.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new C(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Ti=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new C(_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new lt(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ri(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(D("DocumentReference.collection",arguments,1),N("DocumentReference.collection","non-empty string",1,t),!t)throw new C(_.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=at.fromString(t);return new Ri(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){A("DocumentReference.set",arguments,1,2);var n=(e=ji("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,ue.NONE))},t.prototype.update=function(t,e){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return"string"==typeof t||t instanceof Go?(P("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(D("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,ue.exists(!0)))},t.prototype.delete=function(){return D("DocumentReference.delete",arguments,0),this._firestoreClient.write([new de(this._key,ue.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];A("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||Zo(t[o])||(B("DocumentReference.onSnapshot",r=t[o],["includeMetadataChanges"]),j("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++);var i={includeMetadataChanges:r.includeMetadataChanges};return Zo(t[o])?n=t[o]:(N("DocumentReference.onSnapshot","function",o,t[o]),M("DocumentReference.onSnapshot","function",o+1,t[o+1]),M("DocumentReference.onSnapshot","function",o+2,t[o+2]),n={next:t[o],error:t[o+1],complete:t[o+2]}),this.onSnapshotInternal(i,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var o=new Ho({next:function(t){if(e.next){y(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new Pi(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),i=this._firestoreClient.listen(Bt.atPath(this._key.path),o,t);return function(){o.mute(),n._firestoreClient.unlisten(i)}},t.prototype.get=function(t){var e=this;return A("DocumentReference.get",arguments,0,1),Ui("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new Pi(e.firestore,e._key,t,!0,t instanceof ht&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),!o.exists&&o.metadata.fromCache?e(new C(_.UNAVAILABLE,"Failed to get document because the client is offline.")):o.exists&&o.metadata.fromCache&&n&&"server"===n.source?e(new C(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(o)},error:e})},t}(),Di=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Pi=function(){function t(t,e,n,r,o){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=o}return t.prototype.data=function(t){return A("DocumentSnapshot.data",arguments,0,1),t=Li("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,wt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(A("DocumentSnapshot.get",arguments,1,2),e=Li("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(mi("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,wt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ti(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Di(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,o){r[t]=n.convertValue(o,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof Mt)return this.convertObject(t,e);if(t instanceof Rt)return this.convertArray(t,e);if(t instanceof At){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||g("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Ti(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),Ai=function(t){function e(e,n,r,o,i){return t.call(this,e,n,r,o,i)||this}return a.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return y("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(Pi),Ni=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){var o;D("Query.where",arguments,3),V("Query.where",3,r),function(t,e,n,r){if(!e.some(function(t){return t===r}))throw new C(_.INVALID_ARGUMENT,"Invalid value "+F(r)+" provided to function Query.where() for its "+H(2)+" argument. Acceptable values: "+e.join(", "))}(0,["<","<=","==",">=",">","array-contains"],0,n);var i=mi("Query.where",e),a=Ht.fromString(n);if(i.isKeyField()){if(a===Ht.ARRAY_CONTAINS)throw new C(_.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof r){if(""===r)throw new C(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==r.indexOf("/"))throw new C(_.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection by FieldPath.documentId(), the value provided must be a plain document ID, but '"+r+"' contains a slash.");var s=this._query.path.child(at.fromString(r));if(!lt.isDocumentKey(s))throw new C(_.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+s+"' is not because it has an odd number of segments ("+s.length+").");o=new At(this.firestore._databaseId,new lt(s))}else{if(!(r instanceof Ti))throw new C(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+F(r)+".");o=new At(this.firestore._databaseId,r._key)}}else o=this.firestore._dataConverter.parseQueryValue("Query.where",r);var u=zt.create(i,a,o);return this.validateNewFilter(u),new t(this._query.addFilter(u),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(A("Query.orderBy",arguments,1,2),M("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Qt.ASCENDING;else{if("desc"!==n)throw new C(_.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Qt.DESCENDING}if(null!==this._query.startAt)throw new C(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new C(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var o=mi("Query.orderBy",e),i=new Xt(o,r);return this.validateNewOrderBy(i),new t(this._query.addOrderBy(i),this.firestore)},t.prototype.limit=function(e){if(D("Query.limit",arguments,1),N("Query.limit","number",1,e),e<=0)throw new C(_.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.startAt",arguments,1);var o=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(o),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.startAfter",arguments,1);var o=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(o),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.endBefore",arguments,1);var o=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(o),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.endAt",arguments,1);var o=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(o),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(V(t,1,e),e instanceof Pi){if(n.length>0)throw new C(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var o=e;if(!o.exists)throw new C(_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,o._document,r)}var i=[e].concat(n);return this.boundFromFields(t,i,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],o=0,i=this._query.orderBy;o<i.length;o++){var a=i[o];if(a.field.isKeyField())r.push(new At(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(s instanceof Dt)throw new C(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(void 0===s){var u=a.field.canonicalString();throw new C(_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Jt(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new C(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var o=[],i=0;i<e.length;i++){var a=e[i];if(r[i].field.isKeyField()){if("string"!=typeof a)throw new C(_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(at.fromString(a));if(!lt.isDocumentKey(s))throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new lt(s);o.push(new At(this.firestore._databaseId,u))}else{var l=this.firestore._dataConverter.parseQueryValue(t,a);o.push(l)}}return new Jt(o,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];A("Query.onSnapshot",arguments,1,4);var n,r={},o=0;return"object"!=typeof t[o]||Zo(t[o])||(B("Query.onSnapshot",r=t[o],["includeMetadataChanges"]),j("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++),Zo(t[o])?n=t[o]:(N("Query.onSnapshot","function",o,t[o]),M("Query.onSnapshot","function",o+1,t[o+1]),M("Query.onSnapshot","function",o+2,t[o+2]),n={next:t[o],error:t[o+1],complete:t[o+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var o=new Ho({next:function(t){e.next&&e.next(new Mi(n.firestore,n._query,t))},error:r}),i=this.firestore.ensureClientConfigured(),a=i.listen(this._query,o,t);return function(){o.mute(),i.unlisten(a)}},t.prototype.get=function(t){var e=this;return A("Query.get",arguments,0,1),Ui("Query.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new Mi(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),o.metadata.fromCache&&n&&"server"===n.source?e(new C(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(o)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof Gt)if(t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new C(_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}else if(t.op===Ht.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new C(_.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new C(_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Mi=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Di(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;A("QuerySnapshot.forEach",arguments,1,2),N("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Ni(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(B("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),j("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new C(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,o=0;return n.docChanges.map(function(e){var i=new Ai(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return y(e.type===je.Added,"Invalid event type for first snapshot"),y(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:o++}})}var i=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==je.Metadata}).map(function(e){var r=new Ai(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),o=-1,a=-1;return e.type!==je.Added&&(y((o=i.indexOf(e.doc.key))>=0,"Index for document not found"),i=i.delete(e.doc.key)),e.type!==je.Removed&&(a=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:Fi(e.type),doc:r,oldIndex:o,newIndex:a}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new Ai(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(Mi.prototype.docChanges,t,{get:function(){return function(){throw new C(_.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var Ri=function(t){function e(e,n){var r=t.call(this,Bt.atPath(e),n)||this;if(e.length%2!=1)throw new C(_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return a.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Ti(new lt(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(A("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=W.newId()),N("CollectionReference.doc","non-empty string",1,t),""===t)throw new C(_.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=at.fromString(t);return Ti.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){D("CollectionReference.add",arguments,1),N("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(Ni);function ji(t,e){if(void 0===e)return{merge:!1};if(B(t,e,["merge","mergeFields"]),j(t,"boolean","merge",e.merge),"mergeFields","a string or a FieldPath",void 0!==(n=e.mergeFields)&&function(t,e,n,r,o){if(!(r instanceof Array))throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+F(r));for(var i=0;i<r.length;++i)if(!o(r[i]))throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+i+" was: "+F(r[i]))}(t,0,0,n,function(t){return"string"==typeof t||t instanceof Go}),void 0!==e.mergeFields&&void 0!==e.merge)throw new C(_.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function Li(t,e){return void 0===e?{}:(B(t,e,["serverTimestamps"]),L(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Ui(t,e){M(t,"object",1,e),e&&(B(t,e,["source"]),L(t,0,"source",e.source,["default","server","cache"]))}function qi(t,e,n){if(e instanceof Ti){if(e.firestore!==n)throw new C(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw z(t,"DocumentReference",1,e)}function Fi(t){switch(t){case je.Added:return"added";case je.Modified:case je.Metadata:return"modified";case je.Removed:return"removed";default:return v("Unknown change type: "+t)}}var Vi=S(Ii,"Use firebase.firestore() instead."),Bi=S(ki,"Use firebase.firestore().runTransaction() instead."),zi=S(xi,"Use firebase.firestore().batch() instead."),Hi=S(Ti,"Use firebase.firestore().doc() instead."),Gi=S(Pi),Wi=S(Ai),Ki=S(Ni),Qi=S(Mi),Ji=S(Ri,"Use firebase.firestore().collection() instead."),Xi={Firestore:Vi,GeoPoint:tt,Timestamp:et,Blob:$,Transaction:Bi,WriteBatch:zi,DocumentReference:Hi,DocumentSnapshot:Gi,Query:Ki,QueryDocumentSnapshot:Wi,QuerySnapshot:Qi,CollectionReference:Ji,FieldPath:Go,FieldValue:ii,setLogLevel:Ii.setLogLevel,CACHE_SIZE_UNLIMITED:Si};function Yi(t){t.INTERNAL.registerService("firestore",function(t){return new Ii(t)},function(t){y(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Xi))}Yi(o),e.registerFirestore=Yi},"6ahw":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("iLxQ"),o=n("DKTb"),i={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(o.a)(t)},complete:function(){}}},"6blF":function(t,e,n){"use strict";var r=n("FFOo"),o=n("L/V9"),i=n("6ahw"),a=n("xTla"),s=n("y3By"),u=n("iLxQ");n.d(e,"a",function(){return l});var l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new r.a(t,e,n):new r.a(i.a)}(t,e,n);if(s.add(a?a.call(s,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof r.a?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=c(e))(function(e,r){var o;o=n.subscribe(function(e){try{t(e)}catch(n){r(n),o&&o.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(s.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=c(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function c(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"73IE":function(t,e,n){"use strict";var r=n("H6ty"),o=n("hEy5"),i=n("z5ME")("startsWith"),a="".startsWith;n("pSMy")({target:"String",proto:!0,forced:!i},{startsWith:function(t){var e=o(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return a?a.call(e,i,n):e.slice(n,n+i.length)===i}})},"7uVY":function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},"7xuS":function(t,e,n){t.exports=n("T3Qk")},"8g8A":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",function(){return o}),r.prototype=Object.create(Error.prototype);var o=r},"9Nts":function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},"9UdO":function(t,e,n){n("q94Q")("dispose")},"9Z1F":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("mrSG"),o=n("MGBS"),i=n("rPjj"),a=n("zotm");function s(t){return function(e){var n=new u(t),r=e.lift(n);return n.caught=r}}var u=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.selector,this.caught))},t}(),l=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.selector=n,o.caught=r,o}return r.__extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(o){return void t.prototype.error.call(this,o)}this._unsubscribeAndRecycle();var r=new i.a(this,void 0,void 0);this.add(r),Object(a.a)(this,n,void 0,void 0,r)}},e}(o.a)},"9r11":function(t,e,n){t.exports=n("ArVK")},A9d8:function(t,e,n){"use strict";var r=n("YxH6").IteratorPrototype,o=n("tzov"),i=n("2Hee"),a=n("S4gH"),s=n("0i0S"),u=function(){return this};t.exports=function(t,e,n){var l=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,l,!1,!0),s[l]=u,t}},AZa5:function(t,e,n){var r=n("Wogr"),o=n("u/Db");function i(t){this.mode=o.BYTE,this.data=new r(t)}i.getBitsLength=function(t){return 8*t},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){for(var e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)},t.exports=i},ArVK:function(t,e,n){n("d8cw"),t.exports=n("vLVD")("Array","find")},AzFY:function(t,e,n){t.exports=n("tuBy")},BCVQ:function(t,e){var n="(?:[\u3000-\u303f]|[\u3040-\u309f]|[\u30a0-\u30ff]|[\uff00-\uffef]|[\u4e00-\u9faf]|[\u2605-\u2606]|[\u2190-\u2195]|\u203b|[\u2010\u2015\u2018\u2019\u2025\u2026\u201c\u201d\u2225\u2260]|[\u0391-\u0451]|[\xa7\xa8\xb1\xb4\xd7\xf7])+";e.KANJI=new RegExp(n,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+-./:]+","g"),e.BYTE=new RegExp("(?:(?![A-Z0-9 $%*+-./:]|(?:[\u3000-\u303f]|[\u3040-\u309f]|[\u30a0-\u30ff]|[\uff00-\uffef]|[\u4e00-\u9faf]|[\u2605-\u2606]|[\u2190-\u2195]|\u203b|[\u2010\u2015\u2018\u2019\u2025\u2026\u201c\u201d\u2225\u2260]|[\u0391-\u0451]|[\xa7\xa8\xb1\xb4\xd7\xf7])+).)+","g"),e.NUMERIC=new RegExp("[0-9]+","g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+-./:]+","g");var r=new RegExp("^"+n+"$"),o=new RegExp("^[0-9]+$"),i=new RegExp("^[A-Z0-9 $%*+-./:]+$");e.testKanji=function(t){return r.test(t)},e.testNumeric=function(t){return o.test(t)},e.testAlphanumeric=function(t){return i.test(t)}},BloW:function(t,e,n){var r=n("5eG6"),o=n("ysHE").WeakMap;t.exports="function"==typeof o&&/native code/.test(r.call(o))},CcnG:function(t,e,n){"use strict";var r=n("mrSG"),o=n("pugT"),i=n("K9Ia"),a=n("6blF"),s=n("nkY7"),u=n("Zn8D"),l=n("IUTb"),c=n("S1nX");function h(t){for(var e in t)if(t[e]===h)return e;throw Error("Could not find renamed property on target object.")}function f(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}n.d(e,"ib",function(){return xi}),n.d(e,"jb",function(){return Ti}),n.d(e,"kb",function(){return Di}),n.d(e,"hb",function(){return uo}),n.d(e,"g",function(){return Ko}),n.d(e,"R",function(){return zo}),n.d(e,"y",function(){return Bo}),n.d(e,"T",function(){return mr}),n.d(e,"X",function(){return gr}),n.d(e,"c",function(){return so}),n.d(e,"C",function(){return co}),n.d(e,"B",function(){return ho}),n.d(e,"b",function(){return fo}),n.d(e,"d",function(){return io}),n.d(e,"e",function(){return ao}),n.d(e,"V",function(){return li}),n.d(e,"M",function(){return jo}),n.d(e,"Z",function(){return Uo}),n.d(e,"u",function(){return ki}),n.d(e,"f",function(){return Pi}),n.d(e,"m",function(){return Vr}),n.d(e,"l",function(){return no}),n.d(e,"G",function(){return rr}),n.d(e,"H",function(){return nr}),n.d(e,"a",function(){return x}),n.d(e,"n",function(){return Jr}),n.d(e,"r",function(){return Qr}),n.d(e,"P",function(){return V}),n.d(e,"N",function(){return or}),n.d(e,"S",function(){return b}),n.d(e,"U",function(){return q}),n.d(e,"q",function(){return hn}),n.d(e,"W",function(){return Ut}),n.d(e,"p",function(){return C}),n.d(e,"o",function(){return Dt}),n.d(e,"A",function(){return Pt}),n.d(e,"I",function(){return Nt}),n.d(e,"z",function(){return To}),n.d(e,"D",function(){return tr}),n.d(e,"E",function(){return Zn}),n.d(e,"F",function(){return $n}),n.d(e,"i",function(){return Co}),n.d(e,"j",function(){return zn}),n.d(e,"k",function(){return Jn}),n.d(e,"v",function(){return Kn}),n.d(e,"x",function(){return Wn}),n.d(e,"w",function(){return Kr}),n.d(e,"J",function(){return Zo}),n.d(e,"K",function(){return Xo}),n.d(e,"L",function(){return Br}),n.d(e,"O",function(){return ei}),n.d(e,"h",function(){return ri}),n.d(e,"s",function(){return _i}),n.d(e,"t",function(){return Ci}),n.d(e,"Q",function(){return Ee}),n.d(e,"Y",function(){return Ii}),n.d(e,"sb",function(){return Ie}),n.d(e,"cb",function(){return po}),n.d(e,"ab",function(){return On}),n.d(e,"bb",function(){return Hn}),n.d(e,"db",function(){return Lr}),n.d(e,"eb",function(){return Wr}),n.d(e,"fb",function(){return wr}),n.d(e,"qb",function(){return P}),n.d(e,"vb",function(){return j}),n.d(e,"Cb",function(){return L}),n.d(e,"tb",function(){return oo}),n.d(e,"ub",function(){return ro}),n.d(e,"gb",function(){return Sa}),n.d(e,"lb",function(){return za}),n.d(e,"mb",function(){return Hu}),n.d(e,"nb",function(){return Qi}),n.d(e,"ob",function(){return ds}),n.d(e,"pb",function(){return Ea}),n.d(e,"rb",function(){return _a}),n.d(e,"wb",function(){return Ma}),n.d(e,"xb",function(){return Na}),n.d(e,"yb",function(){return Ms}),n.d(e,"zb",function(){return ts}),n.d(e,"Ab",function(){return ps}),n.d(e,"Bb",function(){return Ts}),n.d(e,"Db",function(){return js}),n.d(e,"Eb",function(){return qs});var d=h({ngComponentDef:h}),p=h({ngInjectableDef:h}),g=h({ngInjectorDef:h}),m=h({ngModuleDef:h}),v=h({ngBaseDef:h}),y=h({__NG_ELEMENT_ID__:h});function b(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return t&&t.hasOwnProperty(p)?t[p]:null}function _(t){return t&&t.hasOwnProperty(g)?t[g]:null}var C=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?b({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),S="__parameters__",E="__prop__metadata__";function O(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var o=t.apply(void 0,Object(r.__spread)(e));for(var i in o)this[i]=o[i]}}}function I(t,e,n){var o=O(e);function i(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof i)return o.apply(this,e),this;var a=new((t=i).bind.apply(t,Object(r.__spread)([void 0],e)));return s.annotation=a,s;function s(t,e,n){for(var r=t.hasOwnProperty(S)?t[S]:Object.defineProperty(t,S,{value:[]})[S];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}function k(t,e,n,o){var i=O(e);function a(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof a)return i.apply(this,e),this;var s=new((t=a).bind.apply(t,Object(r.__spread)([void 0],e)));return function(t,n){var i=t.constructor,a=i.hasOwnProperty(E)?i[E]:Object.defineProperty(i,E,{value:{}})[E];a[n]=a.hasOwnProperty(n)&&a[n]||[],a[n].unshift(s),o&&o.apply(void 0,Object(r.__spread)([t,n],e))}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a}var x=new C("AnalyzeForEntryComponents"),T="undefined"!=typeof window&&window,D="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,P="undefined"!=typeof global&&global||T||D,A=Promise.resolve(0),N=null;function M(){if(!N){var t=P.Symbol;if(t&&t.iterator)N=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(N=r)}}return N}function R(t){"undefined"==typeof Zone?A.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function j(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function L(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(L).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var U=h({__forward_ref__:h});function q(t){return t.__forward_ref__=q,t.toString=function(){return L(this())},t}function F(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(U)&&e.__forward_ref__===q?e():t}var V=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),B=0,z=1,H=2,G=3,W=5,K=6,Q=7,J=8,X=9,Y=10,Z=11,$=12,tt=13,et=15,nt=17,rt=18,ot=0,it=1,at=6,st=8,ut="__ngContext__",lt=8,ct=8,ht=9,ft=-1,dt=function(){return function(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}(),pt=dt.prototype;function gt(t){return"function"==typeof t?t.name||t:"string"==typeof t?t:null==t?"":"object"==typeof t&&"function"==typeof t.type?t.type.name||t.type:""+t}function mt(t){for(;Array.isArray(t);)t=t[W];return t}function vt(t,e){return mt(e[t.index])}function yt(t,e){var n=e[t];return n.length>=rt?n:n[W]}function bt(t){return null!==t.template}function wt(t){return t[ut]}function _t(t){var e=wt(t);return e?Array.isArray(e)?e:e.lView:null}function Ct(t){return 32767&t}function St(t,e){for(var n=t>>16,r=e;n>0;)r=r[nt],n--;return r}var Et=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(P);function Ot(t){for(var e=t[K];e&&2===e.type;)e=(t=t[nt])[K];return t}var It,kt,xt,Tt,Dt=I("Inject",function(t){return{token:t}}),Pt=I("Optional"),At=I("Self"),Nt=I("SkipSelf"),Mt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({}),Rt=void 0;function jt(t){var e=Rt;return Rt=t,e}function Lt(t){var e=It;return It=t,e}function Ut(t,e){return void 0===e&&(e=Mt.Default),(It||function(t,e){if(void 0===e&&(e=Mt.Default),void 0===Rt)throw new Error("inject() must be called from an injection context");return null===Rt?qt(t,void 0,e):Rt.get(t,e&Mt.Optional?null:void 0,e)})(t,e)}function qt(t,e,n){var r=w(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&Mt.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND ["+L(t)+"]")}function Ft(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var o=void 0,i=Mt.Default,a=0;a<r.length;a++){var s=r[a];s instanceof Pt||"Optional"===s.ngMetadataName?i|=Mt.Optional:s instanceof Nt||"SkipSelf"===s.ngMetadataName?i|=Mt.SkipSelf:s instanceof At||"Self"===s.ngMetadataName?i|=Mt.Self:o=s instanceof Dt?s.token:s}e.push(Ut(o,i))}else e.push(Ut(r))}return e}function Vt(t,e,n){t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked))}function Bt(t,e,n){t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked))}function zt(t,e,n){null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}function Ht(t,e,n,r){if(!r){var o=2&t[z]?e:n;o&&Gt(t,o)}}function Gt(t,e){for(var n=0;n<e.length;n+=2)e[n+1].call(t[e[n]])}function Wt(){return Tt}function Kt(){return kt}function Qt(t){kt=t}function Jt(t,e){kt=t,Tt=e}function Xt(){return xt}function Yt(t){xt=t}function Zt(t){return void 0===t&&(t=Tt),1==(1&t[z])}var $t=!1;function te(){return $t}function ee(t){$t=t}var ne=!0;function re(){return ne}function oe(t){ne=t}function ie(t,e){var n=Tt;t&&(ne=t[B].firstTemplatePass);return kt=e,xt=!0,Tt=t,n}function ae(t){var e=Tt[B];Zt(Tt)?Tt[z]&=-2:(Ht(Tt,e.viewHooks,e.viewCheckHooks,$t),Tt[z]&=-11,Tt[z]|=32,Tt[Q]=e.bindingStartIndex),ie(t,null)}var se=!0;function ue(t){var e=se;return se=t,e}var le=255,ce=0;function he(t,e){t.push(0,0,0,0,0,0,0,0,e)}function fe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+ct]?-1:t.injectorIndex}function de(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[K],r=1;n&&-1===n.injectorIndex;)n=(e=e[nt])?e[K]:null,r++;return n?n.injectorIndex|r<<16:-1}var pe={};function ge(t,e,n,r,o,i){var a=e[B],s=a.data[t+lt],u=function(t,e,n,r,o){for(var i=t.providerIndexes,a=e[B].data,s=65535&i,u=t.directiveStart,l=i>>16,c=o?s+l:t.directiveEnd,h=r?s:s+l;h<c;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(o){var d=a[u];if(d&&bt(d)&&d.type===n)return u}return null}(s,e,n,null==r?function(t){return 1==(1&t.flags)}(s)&&se:r!=a&&3===s.type,o&Mt.Host&&i===s);return null!==u?me(a.data,e,u,s):pe}function me(t,e,n,r){var o,i=e[n];if(null!=(o=i)&&"object"==typeof o&&Object.getPrototypeOf(o)==pt){var a=i;if(a.resolving)throw new Error("Circular dep for "+gt(t[n]));var s=ue(a.canSeeViewProviders);a.resolving=!0;var u=void 0;a.injectImpl&&(u=Lt(a.injectImpl));var l=Kt(),c=Wt();Jt(r,e);try{i=e[n]=a.factory(null,t,e,r)}finally{a.injectImpl&&Lt(u),ue(s),a.resolving=!1,Jt(l,c)}}return i}function ve(t,e,n){var r=64&t,o=32&t;return!!((128&t?r?o?n[e+7]:n[e+6]:o?n[e+5]:n[e+4]:r?o?n[e+3]:n[e+2]:o?n[e+1]:n[e])&1<<t)}function ye(t,e){return!(t&Mt.Self||t&Mt.Host&&e)}var be=function(){function t(t,e){this._tNode=t,this._lView=e}return t.prototype.get=function(t,e){return function(t,e,n,r,o){if(void 0===r&&(r=Mt.Default),t){var i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[y];return"number"==typeof e?e&le:e}(n);if("function"==typeof i){var a=Kt(),s=Wt();Jt(t,e);try{var u=i();if(null!=u||r&Mt.Optional)return u;throw new Error("No provider for "+gt(n)+"!")}finally{Jt(a,s)}}else if("number"==typeof i){var l=null,c=fe(t,e),h=ft,f=r&Mt.Host?Ot(e)[K]:null;for((-1===c||r&Mt.SkipSelf)&&(h=-1===c?de(t,e):e[c+ct],ye(r,!1)?(l=e[B],c=Ct(h),e=St(h,e)):c=-1);-1!==c;){h=e[c+ct];var d=e[B];if(ve(i,c,d.data)){var p=ge(c,e,n,l,r,f);if(p!==pe)return p}ye(r,e[B].data[c+lt]===f)&&ve(i,c,e)?(l=d,c=Ct(h),e=St(h,e)):c=-1}}}if(r&Mt.Optional&&void 0===o&&(o=null),0==(r&(Mt.Self|Mt.Host))){var g=e[Y];return g?g.get(n,o,r&Mt.Optional):qt(n,o,r&Mt.Optional)}if(r&Mt.Optional)return o;throw new Error("NodeInjector: NOT_FOUND ["+gt(n)+"]")}(this._tNode,this._lView,t,void 0,e)},t}();function we(t,e){t[ut]=e}var _e=/([A-Z])/g;function Ce(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function Se(t,e){var n=Ie(t),r=Ie(e);return n&&r?function(t,e,n){for(var r=t[M()](),o=e[M()]();;){var i=r.next(),a=o.next();if(i.done&&a.done)return!0;if(i.done||a.done)return!1;if(!n(i.value,a.value))return!1}}(t,e,Se):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||j(t,e)}var Ee=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),Oe=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function Ie(t){return!!ke(t)&&(Array.isArray(t)||!(t instanceof Map)&&M()in t)}function ke(t){return null!==t&&("function"==typeof t||"object"==typeof t)}var xe={},Te="ngProjectAs";function De(t){return!!t.listen}var Pe={createRenderer:function(t,e){return document}},Ae=[];function Ne(t,e,n,r,o){0===t?De(e)?e.insertBefore(n,r,o):n.insertBefore(r,o,!0):1===t?De(e)?e.removeChild(n,r):n.removeChild(r):2===t&&e.destroyNode(r)}function Me(t){var e=t[B].childIndex;return-1===e?null:t[e]}function Re(t,e){var n;return t.length>=rt&&(n=t[K])&&2===n.type?function(e,n){if(-1===e.index){var r=t[et];return r>-1?t[H][r]:null}return t[H][e.parent.index]}(n):t[H]===e?null:t[H]}function je(t){if(t.length>=rt){var e=t;!function(t){var e,n=t[B];null!=n&&null!=(e=n.destroyHooks)&&Gt(t,e)}(e),(o=(r=e)[B]&&r[B].pipeDestroyHooks)&&Gt(r,o),function(t){var e=t[B].cleanup;if(null!=e){for(var n=t[J],r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){var o=n[e[r+2]],i=mt(t[e[r+1]]),a=e[r+3];"boolean"==typeof a?i.removeEventListener(e[r],o,a):a>=0?n[a]():n[-a].unsubscribe(),r+=2}else"number"==typeof e[r]?(0,n[e[r]])():e[r].call(n[e[r+1]]);t[J]=null}}(e);var n=e[K];n&&3===n.type&&De(e[$])&&e[$].destroy()}var r,o}var Le="@",Ue=Promise.resolve(null);function qe(t){var e=t[B];if(e.firstTemplatePass=!1,oe(!1),!Zt(t)){var n=te();(function(t,e,n){!n&&32&t[z]&&(Ht(t,e.initHooks,e.checkHooks,n),t[z]&=-33)})(t,e,n),function(t){for(var e=Me(t);null!==e;e=e[G])if(e.length<rt&&-1===e[ot])for(var n=e,r=0;r<n[it].length;r++){var o=n[it][r];Be(o,o[B],o[X])}}(t),function(t){if(null!=t.contentQueries)for(var e=0;e<t.contentQueries.length;e+=2){var n=t.contentQueries[e];t.data[n].contentQueriesRefresh(n-rt,t.contentQueries[e+1])}}(e),Ht(t,e.contentHooks,e.contentCheckHooks,n),function(t,e){if(t.expandoInstructions)for(var n=e[Q]=t.expandoStartIndex,r=-1,o=-1,i=0;i<t.expandoInstructions.length;i++){var a=t.expandoInstructions[i];if("number"==typeof a)if(a<=0){o=-a;var s=t.expandoInstructions[++i];r=n+=ht+s}else n+=a;else null!==a&&(e[Q]=n,a(2,mt(e[r]),o)),r++}}(e,t)}!function(t){if(null!=t)for(var e=0;e<t.length;e++)void 0,void 0,16==(16&(n=yt(t[e],Wt()))[z])&&12&n[z]&&(function(t){for(var e=t[B],n=t.length;n<e.blueprint.length;n++)t[n]=e.blueprint[n]}(n),Ze(n,n[X]));var n}(e.components)}function Fe(t,e,n,r,o,i,a,s){var u=e.blueprint.slice();return u[z]=51|r,u[H]=u[nt]=t,u[X]=n,u[Z]=o||t&&t[Z],u[$]=i||t&&t[$],u[tt]=a||t&&t[tt]||null,u[Y]=s||t&&t[Y]||null,u}function Ve(t,e,n,r,o){var i=Wt(),a=i[B],s=t+rt;i[s]=n;var u=a.data[s];null==u&&(u=a.data[s]=Qe(i,e,s,r,o,null));var l=Kt(),c=Xt();return l&&(!c||null!=l.child||null===u.parent&&2!==l.type?c||(l.next=u):l.child=u),null==a.firstChild&&(a.firstChild=u),Qt(u),Yt(!0),u}function Be(t,e,n){var r,o=Xt(),i=Kt();if(Yt(!0),Qt(null),128&t[z])Je(function(t){for(var e=Array.isArray(t)?t:_t(t);e&&!(128&e[z]);)e=e[H];return e}(t)[X]);else try{Yt(!0),Qt(null),r=ie(t,t[K]),We(),e.template(He(t),n),t[B].firstTemplatePass=!1,oe(!1),qe(t)}finally{ae(r),Yt(o),Qt(i)}}function ze(t,e,n){var r=t[Z],o=ie(t,t[K]),i=!te();try{i&&r.begin&&r.begin(),Zt(t)&&(n&&(We(),n(1,e)),qe(t),t[z]&=-2),n&&n(2,e),qe(t)}finally{i&&r.end&&r.end(),ae(o)}}function He(t){return Zt(t)?1:2}var Ge=null;function We(){Ge=null}function Ke(t,e,n,r,o,i,a){var s=rt+n,u=s+r,l=function(t,e){var n=new Array(e).fill(null,0,t).fill(xe,t);return n[et]=-1,n[Q]=t,n}(s,u);return l[B]={id:t,blueprint:l,template:e,viewQuery:a,node:null,data:l.slice(),childIndex:-1,bindingStartIndex:s,expandoStartIndex:u,expandoInstructions:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof i?i():i,firstChild:null}}function Qe(t,e,n,r,o,i){var a=Kt(),s=Xt()?a:a&&a.parent,u=s&&t&&s!==t[K]?s:null;return{type:e,index:n,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,flags:0,providerIndexes:0,tagName:r,attrs:o,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:i,next:null,child:null,parent:u,detached:null,stylingTemplate:null,projection:null}}function Je(t){for(var e=0;e<t.components.length;e++){var n=t.components[e];ze(_t(n),n)}}function Xe(t,e){var n=t[Z];n.begin&&n.begin(),Zt(t)&&Ze(t,e),Ze(t,e),n.end&&n.end()}function Ye(t){Je(t[X])}function Ze(t,e){var n=t[B],r=ie(t,t[K]),o=n.template,i=n.viewQuery;try{We(),function(e,n,r){e&&Zt(t)&&e(1,r)}(i,0,e),o(He(t),e),qe(t),function(e,n,r){e&&!Zt(t)&&e(2,r)}(i,0,e)}finally{ae(r)}}var $e=Ue;function tn(t,e,n,r,o,i){xt=!1,kt=null;var a,s=n[B],u=Fe(n,(a=e.template).ngPrivateData||(a.ngPrivateData=Ke(-1,a,e.consts,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery)),null,e.onPush?8:4,r,o,i),l=Ve(0,3,t,null,null);return s.firstTemplatePass&&(function(t,e,n){var r="string"!=typeof n?n[y]:n.charCodeAt(0)||0;null==r&&(r=n[y]=ce++);var o=r&le,i=1<<o,a=64&o,s=32&o,u=e.data;128&o?a?s?u[t+7]|=i:u[t+6]|=i:s?u[t+5]|=i:u[t+4]|=i:a?s?u[t+3]|=i:u[t+2]|=i:s?u[t+1]|=i:u[t]|=i}(function(t,e){var n=fe(t,e);if(-1!==n)return n;var r=e[B];r.firstTemplatePass&&(t.injectorIndex=e.length,he(r.data,t),he(e,null),he(r.blueprint,null));var o=de(t,e),i=Ct(o),a=St(o,e),s=t.injectorIndex;if(o!==ft)for(var u=a[B].data,l=0;l<8;l++)e[s+l]=a[i+l]|u[i+l];return e[s+ct]=o,s}(l,n),n[B],e.type),l.flags=1,function(t,e,n){t.flags=1&t.flags,t.directiveStart=e,t.directiveEnd=e+1,t.providerIndexes=e}(l,n.length),function(t){var e=Wt()[B];(e.components||(e.components=[])).push(t.index)}(l)),u[W]=n[rt],u[K]=l,n[rt]=u}function en(t,e,n,r,o){var i=n[B],a=function(t,e,n){var r=Kt();t.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),function(t,e,n){var o=-(r.index-rt),i=t.data.length-(65535&r.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(o,i,1)}(t),function(t,e,n,r){t.data.push(n);var o=new dt(r,bt(n),null);t.blueprint.push(o),e.push(o)}(t,e,n,n.factory));var o=me(t.data,e,e.length-1,r);return function(t,e,n,r){var o=vt(e,t);we(n,t),o&&we(o,t),null!=r.attributes&&3==e.type&&function(t,e){for(var n=Wt()[$],r=De(n),o=0;o<e.length;){var i=e[o++];if("number"==typeof i){if(0!==i)break;var a=e[o++],s=e[o++],u=e[o++];r?n.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else u=e[o++],i!==Te&&(i[0]===Le?r&&n.setProperty(t,i,u):r?n.setAttribute(t,i,u):t.setAttribute(i,u))}}(o,r.attributes)}(e,r,o,n),o}(i,n,e);if(r.components.push(a),t[X]=a,o&&o.forEach(function(t){return t(a,e)}),i.firstTemplatePass&&e.hostBindings){var s=Kt();e.hostBindings(1,a,s.index-rt)}return a}function nn(t,e){return{components:[],scheduler:t||Et,clean:$e,playerHandler:e||null,flags:0}}function rn(t,e){var n,r,o,i,a=_t(t)[B],s=a.data.length-1;n=s,o=e.doCheck,i=a,(r=e.onInit)&&(i.initHooks||(i.initHooks=[])).push(n,r),o&&((i.initHooks||(i.initHooks=[])).push(n,o),(i.checkHooks||(i.checkHooks=[])).push(n,o)),function(t,e){if(t.firstTemplatePass)for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var o=t.data[n];Vt(o,t,n),Bt(o,t,n),zt(o,t,n)}}(a,{directiveStart:s,directiveEnd:s+1})}function on(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var an="__source",sn=new Object,un=sn,ln=new C("INJECTOR"),cn=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=sn),e===sn)throw new Error("NullInjectorError: No provider for "+L(t)+"!");return e},t}(),hn=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new _n(t,e):new _n(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=sn,t.NULL=new cn,t.ngInjectableDef=b({providedIn:"any",factory:function(){return Ut(ln)}}),t.__NG_ELEMENT_ID__=function(){return fn()},t}(),fn=on,dn=function(t){return t},pn=[],gn=dn,mn=function(){return Array.prototype.slice.call(arguments)},vn=h({provide:String,useValue:h}),yn=hn.NULL,bn=/\n/gm,wn="\u0275",_n=function(){function t(t,e,n){void 0===e&&(e=yn),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(hn,{token:hn,fn:dn,deps:pn,value:this,useNew:!1}),r.set(ln,{token:ln,fn:dn,deps:pn,value:this,useNew:!1}),function t(e,n){if(n)if((n=F(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw En("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw En("Unexpected provider",n);var o=F(n.provide),i=function(t){var e=function(t){var e=pn,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var o=6;if((u=F(n[r]))instanceof Array)for(var i=0,a=u;i<a.length;i++){var s=a[i];s instanceof Pt||s==Pt?o|=1:s instanceof Nt||s==Nt?o&=-3:s instanceof At||s==At?o&=-5:u=s instanceof Dt?s.token:F(s)}e.push({token:u,options:o})}}else if(t.useExisting){var u;e=[{token:u=F(t.useExisting),options:6}]}else if(!(n||vn in t))throw En("'deps' required",t);return e}(t),n=dn,r=pn,o=!1,i=F(t.provide);if(vn in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)o=!0,n=F(t.useClass);else{if("function"!=typeof i)throw En("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);o=!0,n=i}return{deps:e,fn:n,useNew:o,value:r}}(n);if(!0===n.multi){var a=e.get(o);if(a){if(a.fn!==mn)throw Cn(o)}else e.set(o,a={token:n.provide,deps:[],useNew:!1,fn:mn,value:pn});a.deps.push({token:o=n,options:6})}var s=e.get(o);if(s&&s.fn==mn)throw Cn(o);e.set(o,i)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=Mt.Default);var o=this._records.get(t);try{return function t(e,n,o,i,a,s){try{return function(e,n,o,i,a,s){var u,l;if(!n||s&Mt.SkipSelf)s&Mt.Self||(l=i.get(e,a,Mt.Default));else{if((l=n.value)==gn)throw Error(wn+"Circular dependency");if(l===pn){n.value=gn;var c=n.useNew,h=n.fn,f=n.deps,d=pn;if(f.length){d=[];for(var p=0;p<f.length;p++){var g=f[p],m=g.options,v=2&m?o.get(g.token):void 0;d.push(t(g.token,v,o,v||4&m?i:yn,1&m?null:hn.THROW_IF_NOT_FOUND,Mt.Default))}}n.value=l=c?new((u=h).bind.apply(u,Object(r.__spread)([void 0],d))):h.apply(void 0,d)}}return l}(e,n,o,i,a,s)}catch(u){throw u instanceof Error||(u=new Error(u)),(u.ngTempTokenPath=u.ngTempTokenPath||[]).unshift(e),n&&n.value==gn&&(n.value=pn),u}}(t,o,this._records,this.parent,e,n)}catch(a){var i=a.ngTempTokenPath;throw t[an]&&i.unshift(t[an]),a.message=Sn("\n"+a.message,i,this.source),a.ngTokenPath=i,a.ngTempTokenPath=null,a}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(L(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function Cn(t){return En("Cannot mix multi providers and regular providers",t)}function Sn(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==wn?t.substr(2):t;var r=L(e);if(e instanceof Array)r=e.map(L).join(" -> ");else if("object"==typeof e){var o=[];for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];o.push(i+":"+("string"==typeof a?JSON.stringify(a):L(a)))}r="{"+o.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(bn,"\n  ")}function En(t,e){return new Error(Sn(t,e))}var On=new C("The presence of this token marks an injector as being the root injector."),In={},kn={},xn=[],Tn=void 0;function Dn(){return void 0===Tn&&(Tn=new cn),Tn}var Pn=function(){function t(t,e,n){var r=this;this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1;var o=[];Mn([t],function(t){return r.processInjectorType(t,[],o)}),e&&Mn(e,function(n){return r.processProvider(n,t,e)}),this.records.set(ln,Nn(void 0,this)),this.isRootInjector=this.records.has(On),this.injectorDefTypes.forEach(function(t){return r.get(t)})}return t.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},t.prototype.get=function(t,e,n){void 0===e&&(e=un),void 0===n&&(n=Mt.Default),this.assertNotDestroyed();var r,o=jt(this);try{if(!(n&Mt.SkipSelf)){var i=this.records.get(t);if(void 0===i){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof C)&&w(t);a&&this.injectableDefInScope(a)&&(i=Nn(An(t),In),this.records.set(t,i))}if(void 0!==i)return this.hydrate(t,i)}return(n&Mt.Self?Dn():this.parent).get(t,e)}finally{jt(o)}},t.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error("Injector has already been destroyed.")},t.prototype.processInjectorType=function(t,e,n){var r=this;if(t=F(t)){var o=_(t),i=null==o&&t.ngModule||void 0,a=void 0===i?t:i,s=-1!==n.indexOf(a),u=void 0!==i&&t.providers||xn;if(void 0!==i&&(o=_(i)),null!=o){if(this.injectorDefTypes.add(a),this.records.set(a,Nn(o.factory,In)),null!=o.imports&&!s){n.push(a);try{Mn(o.imports,function(t){return r.processInjectorType(t,e,n)})}finally{}}var l=o.providers;if(null!=l&&!s){var c=t;Mn(l,function(t){return r.processProvider(t,c,l)})}var h=t.ngModule;Mn(u,function(t){return r.processProvider(t,h,u)})}}},t.prototype.processProvider=function(t,e,n){var o=jn(t=F(t))?t:F(t&&t.provide),i=function(t,e,n){var o=function(t,e,n){var o,i=void 0;if(jn(t))return An(F(t));if(Rn(t))i=function(){return F(t.useValue)};else if((o=t)&&o.useExisting)i=function(){return Ut(F(t.useExisting))};else if(t&&t.useFactory)i=function(){return t.useFactory.apply(t,Object(r.__spread)(Ft(t.deps||[])))};else{var a=F(t&&(t.useClass||t.provide));if(!a){var s="";throw e&&n&&(s=" - only instances of Provider and Type are allowed, got: ["+n.map(function(e){return e==t?"?"+t+"?":"..."}).join(", ")+"]"),new Error("Invalid provider for the NgModule '"+L(e)+"'"+s)}if(!t.deps)return An(a);i=function(){return new(a.bind.apply(a,Object(r.__spread)([void 0],Ft(t.deps))))}}return i}(t,e,n);return Rn(t)?Nn(void 0,t.useValue):Nn(o,In)}(t,e,n);if(jn(t)||!0!==t.multi){var a=this.records.get(o);if(a&&void 0!==a.multi)throw new Error("Mixed multi-provider for "+L(o))}else{var s=this.records.get(o);if(s){if(void 0===s.multi)throw new Error("Mixed multi-provider for "+o+".")}else(s=Nn(void 0,In,!0)).factory=function(){return Ft(s.multi)},this.records.set(o,s);o=t,s.multi.push(t)}this.records.set(o,i)},t.prototype.hydrate=function(t,e){if(e.value===kn)throw new Error("Cannot instantiate cyclic dependency! "+L(t));var n;return e.value===In&&(e.value=kn,e.value=e.factory()),"object"==typeof e.value&&e.value&&"object"==typeof(n=e.value)&&null!=n&&n.ngOnDestroy&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value},t.prototype.injectableDefInScope=function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||"root"===t.providedIn&&this.isRootInjector:this.injectorDefTypes.has(t.providedIn))},t}();function An(t){var e=w(t);if(null===e){var n=_(t);if(null!==n)return n.factory;if(t instanceof C)throw new Error("Token "+L(t)+" is missing an ngInjectableDef definition.");if(t instanceof Function){var r=t.length;if(r>0){var o=new Array(r).fill("?");throw new Error("Can't resolve all parameters for "+L(t)+": ("+o.join(", ")+").")}return function(){return new t}}throw new Error("unreachable")}return e.factory}function Nn(t,e,n){return void 0===n&&(n=!1),{factory:t,value:e,multi:n?[]:void 0}}function Mn(t,e){t.forEach(function(t){return Array.isArray(t)?Mn(t,e):e(t)})}function Rn(t){return t&&"object"==typeof t&&vn in t}function jn(t){return"function"==typeof t}var Ln=function(){return function(){}}(),Un=function(){return function(){}}();function qn(t){var e=Error("No component factory found for "+L(t)+". Did you add it to @NgModule.entryComponents?");return e[Vn]=t,e}var Fn,Vn="ngComponent",Bn=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw qn(t)},t}(),zn=function(){function t(){}return t.NULL=new Bn,t}(),Hn=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var o=t[r];this._factories.set(o.componentType,o)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw qn(t);return new Gn(e,this._ngModule)},t}(),Gn=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return Object(r.__extends)(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(Un),Wn=function(){return function(){}}(),Kn=function(){return function(){}}(),Qn=function(t){function e(e){var n=t.call(this,e,null,-1)||this;return n._view=e,n}return Object(r.__extends)(e,t),e.prototype.detectChanges=function(){Ye(this._view)},e.prototype.checkNoChanges=function(){!function(t){ee(!0);try{Ye(t)}finally{ee(!1)}}(this._view)},Object.defineProperty(e.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),e}(function(){function t(t,e,n){this._context=e,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=t}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return null==this._lView[W]?function t(e,n,r){for(var o=n.child;o;)r.push(vt(o,e)),4===o.type&&t(e,o,r),o=o.next;return r}(this._lView,this._lView[K],[]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context?this._context:this._lookUpContext()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 64==(64&this._lView[z])},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}var e,n;De(n=(e=this._lView)[$])&&n.destroyNode&&function(t,n,r,o,i){for(var a=e[B].node,s=-1,u=e,l=a.child;l;){var c=null;if(3===l.type){Ne(2,r,null,vt(l,u),i);var h=u[l.index];g=h,Array.isArray(g)&&g.length===st&&Ne(2,r,null,h[at],i)}else if(0===l.type){var f=u[l.index];Ne(2,r,null,f[at],i),f[it].length&&(c=(u=f[it][0])[B].node,i=f[at])}else if(1===l.type){var d=Ot(u),p=d[K].projection[l.projection];Ae[++s]=l,Ae[++s]=u,p&&(c=(u=d[H])[B].data[p.index])}else c=l.child;if(null===c)for(null===l.next&&2&l.flags&&(u=Ae[s--],l=Ae[s--]),c=l.next;!c;){if(null===(l=l.parent||u[B].node)||l===a)return null;0===l.type&&(i=(u=u[H])[l.index][at]),c=2===l.type&&u[G]?(u=u[G])[B].node:l.next}l=c}var g}(0,0,n),function(t){if(-1===t[B].childIndex)return je(t);for(var e=Me(t);e;){var n=null;if(e.length>=rt?e[B].childIndex>-1&&(n=Me(e)):e[it].length&&(n=e[it][0]),null==n){for(;e&&!e[G]&&e!==t;)je(e),e=Re(e,t);je(e||t),n=e&&e[G]}e=n}}(e),e[z]|=64},t.prototype.onDestroy=function(t){var e,n;n=t,function(t){return t[J]||(t[J]=[])}(e=this._lView).push(n),e[B].firstTemplatePass&&function(t){return t[B].cleanup||(t[B].cleanup=[])}(e).push(e[J].length-1,null)},t.prototype.markForCheck=function(){!function(t){for(;t&&!(128&t[z]);)t[z]|=8,t=t[H];var e,n,r;t[z]|=8,r=0===(e=t[X]).flags,e.flags|=1,r&&e.clean==Ue&&(e.clean=new Promise(function(t){return n=t}),e.scheduler(function(){if(1&e.flags&&(e.flags&=-2,Je(e)),2&e.flags){e.flags&=-3;var t=e.playerHandler;t&&t.flushPlayers()}e.clean=Ue,n(null)}))}(this._lView)},t.prototype.detach=function(){this._lView[z]&=-17},t.prototype.reattach=function(){this._lView[z]|=16},t.prototype.detectChanges=function(){Xe(this._lView,this.context)},t.prototype.checkNoChanges=function(){!function(t){ee(!0);try{!function(t){Xe(function(t){var e,n=wt(t);if(Array.isArray(n)){var r=function(t,e){var n=t[B].components;if(n)for(var r=0;r<n.length;r++){var o=n[r];if(yt(o,t)[X]===e)return o}else if(yt(rt,t)[X]===e)return rt;return-1}(n,t);(o=function(t,e,n){return{lView:t,nodeIndex:e,native:n,component:void 0,directives:void 0,localRefs:void 0}}(n,r,(e=yt(r,n))[W])).component=t,we(t,o),we(o.native,o)}else{var o;e=yt((o=n).nodeIndex,o.lView)}return e}(t),t)}(t)}finally{ee(!1)}}(this.context)},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t.prototype.detachFromAppRef=function(){this._appRef=null},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype._lookUpContext=function(){return this._context=this._lView[H][this._componentIndex]},t}()),Jn=function(){function t(t){this.nativeElement=t}return t.__NG_ELEMENT_ID__=function(){return Xn(t)},t}(),Xn=on,Yn=function(){return function(){}}(),Zn=function(){return function(){}}(),$n=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),tr=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return er()},t}(),er=on,nr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),rr=function(){return function(){}}(),or=function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}(),ir=new or("7.2.10"),ar=function(t){function e(e){var n=t.call(this)||this;return n.ngModule=e,n}return Object(r.__extends)(e,t),e.prototype.resolveComponentFactory=function(t){return new hr(t[d]||null,this.ngModule)},e}(zn);function sr(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var ur=new C("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:function(){return nn(Ut(lr))}}),lr=new C("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Et}}),cr={},hr=function(t){function e(e,n){var r=t.call(this)||this;return r.componentDef=e,r.ngModule=n,r.componentType=e.type,r.selector=e.selectors[0][0],r.ngContentSelectors=[],r}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){return sr(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return sr(this.componentDef.outputs)},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,o){var i,a,s,u,l=void 0===n,c=(o=o||this.ngModule)?function(t,e){return{get:function(n,r){var o=t.get(n,cr);return o!==cr||r===cr?o:e.get(n,r)}}}(t,o.injector):t,h=c.get(Zn,Pe),f=c.get(rr,null),d=l?(s=this.selector,De(u=h.createRenderer(null,this.componentDef)||Wt()[$])?u.createElement(s,Ge):null===Ge?u.createElement(s):u.createElementNS(Ge,s)):(i=n,a=h.createRenderer(null,null),"string"==typeof i?De(a)?a.selectRootElement(i):a.querySelector(i):i),p=this.componentDef.onPush?136:132,g=l?nn():c.get(ur),m=h.createRenderer(d,this.componentDef);n&&d&&(De(m)?m.setAttribute(d,"ng-version",ir.full):d.setAttribute("ng-version",ir.full));var v,y,b=Fe(null,Ke(-1,null,1,0,null,null,null),g,p,h,m,f,c),w=ie(b,null);try{h.begin&&h.begin();var _=tn(d,this.componentDef,b,h,m);if(y=b[B].data[0+rt],e)for(var C=0,S=b[B],E=y.projection=[],O=0;O<e.length;O++){for(var I=e[O],k=null,x=null,T=0;T<I.length;T++){S.firstTemplatePass&&(S.expandoStartIndex++,S.blueprint.splice(++C+rt,0,null),S.data.splice(C+rt,0,null),b.splice(C+rt,0,null));var D=Ve(C,3,I[T],null,null);x?x.next=D:k=D,x=D}E.push(k)}v=en(_,this.componentDef,b,g,[rn]),function(t,e,n){var r=t[B],o=re();t[14]?t[14][G]=n:o&&(r.childIndex=e),t[14]=n}(b,rt,_),qe(b)}finally{ae(w),h.end&&h.end()}var P=new fr(this.componentType,v,function(t,e,n){return Fn||(Fn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(Jn)),new Fn(vt(e,n))}(0,y,b),b,y);return l&&(P.hostView._tViewNode.child=y),P},e}(Un),fr=function(t){function e(e,n,r,o,i){var a,s=t.call(this)||this;return s.location=r,s._rootLView=o,s._tNode=i,s.destroyCbs=[],s.instance=n,s.hostView=s.changeDetectorRef=new Qn(o),s.hostView._tViewNode=(-1,null==(a=o)[B].node&&(a[B].node=Qe(a,2,-1,null,null,null)),a[K]=a[B].node),s.componentType=e,s}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"injector",{get:function(){return new be(this._tNode,this._rootLView)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null,this.hostView.destroy()},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(Ln),dr=!0,pr=!1;function gr(){return pr=!0,dr}function mr(){if(pr)throw new Error("Cannot enable prod mode after platform setup.");dr=!1}var vr=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var o=t.firstChild;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling},t}(),yr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,br=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wr(t){return(t=String(t)).match(yr)||t.match(br)?t:(gr()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function _r(t){var e,n,o={};try{for(var i=Object(r.__values)(t.split(",")),a=i.next();!a.done;a=i.next())o[a.value]=!0}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return o}function Cr(){for(var t,e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i={};try{for(var a=Object(r.__values)(n),s=a.next();!s.done;s=a.next()){var u=s.value;for(var l in u)u.hasOwnProperty(l)&&(i[l]=!0)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return i}var Sr,Er=_r("area,br,col,hr,img,wbr"),Or=_r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ir=_r("rp,rt"),kr=Cr(Ir,Or),xr=Cr(Er,Cr(Or,_r("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cr(Ir,_r("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kr),Tr=_r("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dr=_r("srcset"),Pr=Cr(Tr,Dr,_r("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),Ar=_r("script,style,template"),Nr=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e,n=t.nodeName.toLowerCase();if(!xr.hasOwnProperty(n))return this.sanitizedSomething=!0,!Ar.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);for(var r=t.attributes,o=0;o<r.length;o++){var i=r.item(o),a=i.name,s=a.toLowerCase();if(Pr.hasOwnProperty(s)){var u=i.value;Tr[s]&&(u=wr(u)),Dr[s]&&(e=u,u=(e=String(e)).split(",").map(function(t){return wr(t.trim())}).join(", ")),this.buf.push(" ",a,'="',jr(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();xr.hasOwnProperty(e)&&!Er.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(jr(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),Mr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rr=/([^\#-~ |!])/g;function jr(t){return t.replace(/&/g,"&amp;").replace(Mr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Rr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Lr(t,e){var n=null;try{Sr=Sr||new vr(t);var r=e?String(e):"";n=Sr.getInertBodyElement(r);var o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=Sr.getInertBodyElement(r)}while(r!==i);var a=new Nr,s=a.sanitizeChildren(Ur(n)||n);return gr()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=Ur(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function Ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var qr={provide:zn,useClass:ar,deps:[Wn]},Fr=function(t){function e(e,n){var r=t.call(this)||this;r._parent=n,r._bootstrapComponents=[],r.injector=r,r.destroyCbs=[];var o=function(t,n){var r=e[m]||null;return r}();return r._bootstrapComponents=o.bootstrap,r._r3Injector=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),e=e||Dn(),new Pn(t,n,e)}(e,n,[{provide:Wn,useValue:r},qr]),r.instance=r.get(e),r}return Object(r.__extends)(e,t),e.prototype.get=function(t,e,n){return void 0===e&&(e=hn.THROW_IF_NOT_FOUND),void 0===n&&(n=Mt.Default),t===hn||t===Wn||t===ln?this:this._r3Injector.get(t,e,n)},Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this.get(zn)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(Wn);!function(t){function e(e){var n=t.call(this)||this;return n.moduleType=e,n}Object(r.__extends)(e,t),e.prototype.create=function(t){return new Fr(this.moduleType,t)}}(Kn);var Vr=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(r.__extends)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,a=function(t){return null},s=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(a=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var u=t.prototype.subscribe.call(this,i,a,s);return e instanceof o.a&&e.add(u),u},e}(i.a),Br=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return zr(t,Jn)},t}(),zr=on,Hr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Gr=/^url\(([^)]+)\)$/;function Wr(t){if(!(t=String(t).trim()))return"";var e=t.match(Gr);return e&&wr(e[1])===e[1]||t.match(Hr)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var o=t.charAt(r);"'"===o&&n?e=!e:'"'===o&&e&&(n=!n)}return e&&n}(t)?t:(gr()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}var Kr=function(){return function(){}}(),Qr=k("Input",function(t){return{bindingPropertyName:t}},void 0,function(t){return function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=t.constructor;o.hasOwnProperty(v)||function(t){var e=t.constructor,n=e.ngBaseDef,r=e.ngBaseDef={inputs:{},outputs:{},declaredInputs:{}};n&&(f(r.inputs,n.inputs),f(r.outputs,n.outputs),f(r.declaredInputs,n.declaredInputs))}(t),(function(t){return t.inputs||{}}(o.ngBaseDef))[e]=n[0]}}()),Jr=k("HostBinding",function(t){return{hostPropertyName:t}}),Xr="ngDebugContext",Yr="ngOriginalError",Zr="ngErrorLogger";function $r(t){return t[Xr]}function to(t){return t[Yr]}function eo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,Object(r.__spread)(e))}var no=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[Zr]||eo}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?$r(t)?$r(t):this._findContext(to(t)):null},t.prototype._findOriginalError=function(t){for(var e=to(t);e&&to(e);)e=to(e);return e},t}();function ro(t){return!!t&&"function"==typeof t.then}function oo(t){return!!t&&"function"==typeof t.subscribe}var io=new C("Application Initializer"),ao=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var o=this.appInits[r]();ro(o)&&e.push(o)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),so=new C("AppId");function uo(){return""+lo()+lo()+lo()}function lo(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var co=new C("Platform Initializer"),ho=new C("Platform ID"),fo=new C("appBootstrapListener"),po=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}();function go(){throw new Error("Runtime compiler is not loaded")}var mo,vo,yo=go,bo=go,wo=go,_o=go,Co=function(){function t(){this.compileModuleSync=yo,this.compileModuleAsync=bo,this.compileModuleAndAllComponentsSync=wo,this.compileModuleAndAllComponentsAsync=_o}return t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),So=function(){return function(){}}();function Eo(){var t=P.wtf;return!(!t||!(mo=t.trace)||(vo=mo.events,0))}var Oo=Eo();function Io(t,e){return null}var ko=Oo?function(t,e){return void 0===e&&(e=null),vo.createScope(t,e)}:function(t,e){return Io},xo=Oo?function(t,e){return mo.leaveScope(t,e),e}:function(t,e){return e},To=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vr(!1),this.onMicrotaskEmpty=new Vr(!1),this.onStable=new Vr(!1),this.onError=new Vr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,o,i,a){try{return No(e),t.invokeTask(r,o,i,a)}finally{Mo(e)}},onInvoke:function(t,n,r,o,i,a,s){try{return No(e),t.invoke(r,o,i,a,s)}finally{Mo(e)}},onHasTask:function(t,n,r,o){t.hasTask(r,o),n===r&&("microTask"==o.change?(e.hasPendingMicrotasks=o.microTask,Ao(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:function(t,n,r,o){return t.handleError(r,o),e.runOutsideAngular(function(){return e.onError.emit(o)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+r,t,Po,Do,Do);try{return o.runTask(i,e,n)}finally{o.cancelTask(i)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function Do(){}var Po={};function Ao(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function No(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mo(t){t._nesting--,Ao(t)}var Ro=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vr,this.onMicrotaskEmpty=new Vr,this.onStable=new Vr,this.onError=new Vr}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),jo=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){To.assertNotInAngularZone(),R(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())R(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]},t.prototype.addCallback=function(t,e,n){var r=this,o=-1;e&&e>0&&(o=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==o}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Lo=function(){function t(){this._applications=new Map,Fo.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Fo.findTestabilityInTree(this,t,e)},Object(r.__decorate)([Object(r.__metadata)("design:paramtypes",[])],t)}();function Uo(t){Fo=t}var qo,Fo=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Vo=new C("AllowMultipleToken"),Bo=function(){return function(t,e){this.name=t,this.token=e}}();function zo(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,o=new C(r);return function(e){void 0===e&&(e=[]);var i=Ho();if(!i||i.injector.get(Vo,!1))if(t)t(n.concat(e).concat({provide:o,useValue:!0}));else{var a=n.concat(e).concat({provide:o,useValue:!0});!function(t){if(qo&&!qo.destroyed&&!qo.injector.get(Vo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");qo=t.get(Go);var e=t.get(co,null);e&&e.forEach(function(t){return t()})}(hn.create({providers:a,name:r}))}return function(t){var e=Ho();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(o)}}function Ho(){return qo&&!qo.destroyed?qo:null}var Go=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,o="noop"===(n=e?e.ngZone:void 0)?new Ro:("zone.js"===n?void 0:n)||new To({enableLongStackTrace:gr()}),i=[{provide:To,useValue:o}];return o.run(function(){var e=hn.create({providers:i,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(no,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return Qo(r._modules,n)}),o.runOutsideAngular(function(){return o.onError.subscribe({next:function(t){a.handleError(t)}})}),function(t,e,o){try{var i=((a=n.injector.get(ao)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return ro(i)?i.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):i}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(a,o)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=Wo({},e);return function(t,e,n){return t.get(So).createCompiler([e]).compileModuleAsync(n)}(this.injector,r,t).then(function(t){return n.bootstrapModuleFactory(t,r)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(Ko);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+L(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function Wo(t,e){return Array.isArray(e)?e.reduce(Wo,t):Object(r.__assign)({},t,e)}var Ko=function(){function t(t,e,n,r,o,i){var h=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=gr(),this._zone.onMicrotaskEmpty.subscribe({next:function(){h._zone.run(function(){h.tick()})}});var f=new a.a(function(t){h._stable=h._zone.isStable&&!h._zone.hasPendingMacrotasks&&!h._zone.hasPendingMicrotasks,h._zone.runOutsideAngular(function(){t.next(h._stable),t.complete()})}),d=new a.a(function(t){var e;h._zone.runOutsideAngular(function(){e=h._zone.onStable.subscribe(function(){To.assertNotInAngularZone(),R(function(){h._stable||h._zone.hasPendingMacrotasks||h._zone.hasPendingMicrotasks||(h._stable=!0,t.next(!0))})})});var n=h._zone.onUnstable.subscribe(function(){To.assertInAngularZone(),h._stable&&(h._stable=!1,h._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return Object(s.a)(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof a.a?t[0]:Object(u.a)(n)(Object(l.a)(t,r))}(f,d.pipe(Object(c.a)()))}var e;return e=t,t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Un?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var o=n instanceof Gn?null:this._injector.get(Wn),i=n.create(hn.NULL,[],e||n.selector,o);i.onDestroy(function(){r._unloadComponent(i)});var a=i.injector.get(jo,null);return a&&i.injector.get(Lo).registerApplication(i.location.nativeElement,a),this._loadComponent(i),gr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i},t.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(r){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(r)})}finally{this._runningTick=!1,xo(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;Qo(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(fo,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),Qo(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=ko("ApplicationRef#tick()"),t}();function Qo(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Jo=function(){function t(){this.dirty=!0,this._results=[],this.changes=new Vr,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[M()]=function(){return this._results[M()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),Xo=function(){return function(){}}(),Yo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Zo=function(){function t(t,e){this._compiler=t,this._config=e||Yo}return t.prototype.load=function(t){return this._compiler instanceof Co?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,o=Object(r.__read)(t.split("#"),2),i=o[0],a=o[1];return void 0===a&&(a="default"),n("crnd")(i).then(function(t){return t[a]}).then(function(t){return $o(t,i,a)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=Object(r.__read)(t.split("#"),2),o=e[0],i=e[1],a="NgFactory";return void 0===i&&(i="default",a=""),n("crnd")(this._config.factoryPathPrefix+o+this._config.factoryPathSuffix).then(function(t){return t[i+a]}).then(function(t){return $o(t,o,i)})},t}();function $o(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var ti,ei=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return ni(t,Jn)},t}(),ni=on,ri=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return oi()},t}(),oi=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},ii=(ti=ri,Object(r.__extends)(function(){return null!==ti&&ti.apply(this,arguments)||this},ti),function(){return function(t,e){this.name=t,this.callback=e}}()),ai=function(){function t(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof si&&e.addChild(this)}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),si=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=e,o}return Object(r.__extends)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,o=this,i=this.childNodes.indexOf(t);-1!==i&&((n=this.childNodes).splice.apply(n,Object(r.__spread)([i+1,0],e)),e.forEach(function(e){e.parent&&e.parent.removeChild(e),t.parent=o}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return function t(e,n,r){e.childNodes.forEach(function(e){e instanceof si&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return function t(e,n,r){e instanceof si&&e.childNodes.forEach(function(e){n(e)&&r.push(e),e instanceof si&&t(e,n,r)})}(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(ai),ui=new Map,li=function(t){return ui.get(t)||null};function ci(t){ui.set(t.nativeNode,t)}var hi=function(){function t(){}return t.prototype.supports=function(t){return Ie(t)},t.prototype.create=function(t){return new di(t)},t}(),fi=function(t,e){return e},di=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||fi}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,o=null;e||n;){var i=!n||e&&e.currentIndex<vi(n,r,o)?e:n,a=vi(i,r,o),s=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(e=e._next,null==i.previousIndex)r++;else{o||(o=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<o.length?o[c]:o[c]=0,f=h+c;l<=f&&f<u&&(o[c]=h+1)}o[i.previousIndex]=l-u}}a!==s&&t(i,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!Ie(t))throw new Error("Error trying to diff '"+L(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,o,i=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)o=this._trackByFn(s,r=t[s]),null!==i&&j(i.trackById,o)?(a&&(i=this._verifyReinsertion(i,r,o,s)),j(i.item,r)||this._addIdentityChange(i,r)):(i=this._mismatch(i,r,o,s),a=!0),i=i._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[M()](),o=void 0;!(o=r.next()).done;)e(o.value)}(t,function(t){o=e._trackByFn(n,t),null!==i&&j(i.trackById,o)?(a&&(i=e._verifyReinsertion(i,t,o,n)),j(i.item,t)||e._addIdentityChange(i,t)):(i=e._mismatch(i,t,o,n),a=!0),i=i._next,n++}),this.length=n;return this._truncate(i),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(j(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(j(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):t=this._addAfter(new pi(e,n),o,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new mi),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mi),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),pi=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),gi=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&j(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),mi=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new gi,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function vi(t,e,n){var r=t.previousIndex;if(null===r)return r;var o=0;return n&&r<n.length&&(o=n[r]),r+e+o}var yi=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||ke(t)},t.prototype.create=function(){return new bi},t}(),bi=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||ke(t)))throw new Error("Error trying to diff '"+L(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var o=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,o=n._next;return r&&(r._next=o),o&&(o._prev=r),n._next=null,n._prev=null,n}var i=new wi(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){j(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),wi=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),_i=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Nt,new Pt]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=b({providedIn:"root",factory:function(){return new t([new hi])}}),t}(),Ci=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Nt,new Pt]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t.ngInjectableDef=b({providedIn:"root",factory:function(){return new t([new yi])}}),t}(),Si=[new yi],Ei=new _i([new hi]),Oi=new Ci(Si),Ii=zo(null,"core",[{provide:ho,useValue:"unknown"},{provide:Go,deps:[hn]},{provide:Lo,deps:[]},{provide:po,deps:[]}]),ki=new C("LocaleId");function xi(){return Ei}function Ti(){return Oi}function Di(t){return t||"en-US"}var Pi=function(){return function(t){}}();function Ai(t,e,n){var r=t.state,o=1792&r;return o===e?(t.state=-1793&r|n,t.initIndex=-1,!0):o===n}function Ni(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Mi(t,e){return t.nodes[e]}function Ri(t,e){return t.nodes[e]}function ji(t,e){return t.nodes[e]}function Li(t,e){return t.nodes[e]}function Ui(t,e){return t.nodes[e]}var qi={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function Fi(t,e,n,r){var o="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(o+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Vi(n,e),n}(o,t)}function Vi(t,e){t[Xr]=e,t[Zr]=e.logError.bind(e)}function Bi(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var zi=function(){},Hi=new Map;function Gi(t){var e=Hi.get(t);return e||(e=L(t)+"_"+Hi.size,Hi.set(t,e)),e}var Wi="$$undefined",Ki="$$empty";function Qi(t){return{id:Wi,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var Ji=0;function Xi(t,e,n,r){return!(!(2&t.state)&&j(t.oldValues[e.bindingIndex+n],r))}function Yi(t,e,n,r){return!!Xi(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Zi(t,e,n,r){var o=t.oldValues[e.bindingIndex+n];if(1&t.state||!Se(o,r)){var i=e.bindings[n].name;throw Fi(qi.createDebugContext(t,e.nodeIndex),i+": "+o,i+": "+r,0!=(1&t.state))}}function $i(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function ta(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function ea(t,e,n,r){try{return $i(33554432&t.def.nodes[e].flags?Ri(t,e).componentView:t),qi.handleEvent(t,e,n,r)}catch(o){t.root.errorHandler.handleError(o)}}function na(t){return t.parent?Ri(t.parent,t.parentNodeDef.nodeIndex):null}function ra(t){return t.parent?t.parentNodeDef.parent:null}function oa(t,e){switch(201347067&e.flags){case 1:return Ri(t,e.nodeIndex).renderElement;case 2:return Mi(t,e.nodeIndex).renderText}}function ia(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function aa(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function sa(t){return 1<<t%32}function ua(t){var e={},n=0,o={};return t&&t.forEach(function(t){var i=Object(r.__read)(t,2),a=i[0],s=i[1];"number"==typeof a?(e[a]=s,n|=sa(a)):o[a]=s}),{matchedQueries:e,references:o,matchedQueryIds:n}}function la(t,e){return t.map(function(t){var n,o,i;return Array.isArray(t)?(i=(n=Object(r.__read)(t,2))[0],o=n[1]):(i=0,o=t),o&&("function"==typeof o||"object"==typeof o)&&e&&Object.defineProperty(o,an,{value:e,configurable:!0}),{flags:i,token:o,tokenKey:Gi(o)}})}function ca(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===V.Native?Ri(t,n.renderParent.nodeIndex).renderElement:void 0:e}var ha=new WeakMap;function fa(t){var e=ha.get(t);return e||((e=t(function(){return zi})).factory=t,ha.set(t,e)),e}function da(t,e,n,r,o){3===e&&(n=t.renderer.parentNode(oa(t,t.def.lastRenderRootNode))),pa(t,e,0,t.def.nodes.length-1,n,r,o)}function pa(t,e,n,r,o,i,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&ma(t,u,e,o,i,a),s+=u.childCount}}function ga(t,e,n,r,o,i){for(var a=t;a&&!ia(a);)a=a.parent;for(var s=a.parent,u=ra(a),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var h=s.def.nodes[c];h.ngContentIndex===e&&ma(s,h,n,r,o,i),c+=h.childCount}if(!s.parent){var f=t.root.projectableNodes[e];if(f)for(c=0;c<f.length;c++)va(t,f[c],n,r,o,i)}}function ma(t,e,n,r,o,i){if(8&e.flags)ga(t,e.ngContent.index,n,r,o,i);else{var a=oa(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&va(t,a,n,r,o,i),32&e.bindingFlags&&va(Ri(t,e.nodeIndex).componentView,a,n,r,o,i)):va(t,a,n,r,o,i),16777216&e.flags)for(var s=Ri(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)da(s[u],n,r,o,i);1&e.flags&&!e.element.name&&pa(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,o,i)}}function va(t,e,n,r,o,i){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,o);break;case 3:a.removeChild(r,e);break;case 0:i.push(e)}}var ya=/^:([^:]+):(.+)$/;function ba(t){if(":"===t[0]){var e=t.match(ya);return[e[1],e[2]]}return["",t]}function wa(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function _a(t,e,n,r,o,i,a,s,u,l,c,h,f,d,p,g,m,v,y,b){switch(t){case 1:return e+Ca(n)+r;case 2:return e+Ca(n)+r+Ca(o)+i;case 3:return e+Ca(n)+r+Ca(o)+i+Ca(a)+s;case 4:return e+Ca(n)+r+Ca(o)+i+Ca(a)+s+Ca(u)+l;case 5:return e+Ca(n)+r+Ca(o)+i+Ca(a)+s+Ca(u)+l+Ca(c)+h;case 6:return e+Ca(n)+r+Ca(o)+i+Ca(a)+s+Ca(u)+l+Ca(c)+h+Ca(f)+d;case 7:return e+Ca(n)+r+Ca(o)+i+Ca(a)+s+Ca(u)+l+Ca(c)+h+Ca(f)+d+Ca(p)+g;case 8:return e+Ca(n)+r+Ca(o)+i+Ca(a)+s+Ca(u)+l+Ca(c)+h+Ca(f)+d+Ca(p)+g+Ca(m)+v;case 9:return e+Ca(n)+r+Ca(o)+i+Ca(a)+s+Ca(u)+l+Ca(c)+h+Ca(f)+d+Ca(p)+g+Ca(m)+v+Ca(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function Ca(t){return null!=t?t.toString():""}function Sa(t,e,n,r,o,i){t|=1;var a=ua(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?fa(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:o||zi},provider:null,text:null,query:null,ngContent:null}}function Ea(t,e,n,o,i,a,s,u,l,c,h,f){var d;void 0===s&&(s=[]),c||(c=zi);var p=ua(n),g=p.matchedQueries,m=p.references,v=p.matchedQueryIds,y=null,b=null;a&&(y=(d=Object(r.__read)(ba(a),2))[0],b=d[1]),u=u||[];for(var w=new Array(u.length),_=0;_<u.length;_++){var C=Object(r.__read)(u[_],3),S=C[0],E=C[1],O=C[2],I=Object(r.__read)(ba(E),2),k=I[0],x=I[1],T=void 0,D=void 0;switch(15&S){case 4:D=O;break;case 1:case 8:T=O}w[_]={flags:S,ns:k,name:x,nonMinifiedName:x,securityContext:T,suffix:D}}l=l||[];var P=new Array(l.length);for(_=0;_<l.length;_++){var A=Object(r.__read)(l[_],2);P[_]={type:0,target:A[0],eventName:A[1],propName:null}}var N=(s=s||[]).map(function(t){var e=Object(r.__read)(t,2),n=e[0],o=e[1],i=Object(r.__read)(ba(n),2);return[i[0],i[1],o]});return f=function(t){if(t&&t.id===Wi){var e=null!=t.encapsulation&&t.encapsulation!==V.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Ji++:Ki}return t&&t.id===Ki&&(t=null),t||null}(f),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:g,matchedQueryIds:v,references:m,ngContentIndex:o,childCount:i,bindings:w,bindingFlags:wa(w),outputs:P,element:{ns:y,name:b,attrs:N,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:c||zi},provider:null,text:null,query:null,ngContent:null}}function Oa(t,e,n){var o,i=n.element,a=t.root.selectorOrNode,s=t.renderer;if(t.parent||!a){o=i.name?s.createElement(i.name,i.ns):s.createComment("");var u=ca(t,e,n);u&&s.appendChild(u,o)}else o=s.selectRootElement(a,!!i.componentRendererType&&i.componentRendererType.encapsulation===V.ShadowDom);if(i.attrs)for(var l=0;l<i.attrs.length;l++){var c=Object(r.__read)(i.attrs[l],3);s.setAttribute(o,c[1],c[2],c[0])}return o}function Ia(t,e,n,r){for(var o=0;o<n.outputs.length;o++){var i=n.outputs[o],a=ka(t,n.nodeIndex,(h=i.eventName,(c=i.target)?c+":"+h:h)),s=i.target,u=t;"component"===i.target&&(s=null,u=e);var l=u.renderer.listen(s||r,i.eventName,a);t.disposables[n.outputIndex+o]=l}var c,h}function ka(t,e,n){return function(r){return ea(t,e,n,r)}}function xa(t,e,n,r){if(!Yi(t,e,n,r))return!1;var o=e.bindings[n],i=Ri(t,e.nodeIndex),a=i.renderElement,s=o.name;switch(15&o.flags){case 1:!function(t,e,n,r,o,i){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,i):i;s=null!=s?s.toString():null;var u=t.renderer;null!=i?u.setAttribute(n,o,s,r):u.removeAttribute(n,o,r)}(t,o,a,o.ns,s,r);break;case 2:!function(t,e,n,r){var o=t.renderer;r?o.addClass(e,n):o.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,o){var i=t.root.sanitizer.sanitize(nr.STYLE,o);if(null!=i){i=i.toString();var a=e.suffix;null!=a&&(i+=a)}else i=null;var s=t.renderer;null!=i?s.setStyle(n,r,i):s.removeStyle(n,r)}(t,o,a,s,r);break;case 8:!function(t,e,n,r,o){var i=e.securityContext,a=i?t.root.sanitizer.sanitize(i,o):o;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&o.flags?i.componentView:t,o,a,s,r)}return!0}var Ta=new Object,Da=Gi(hn),Pa=Gi(ln),Aa=Gi(Wn);function Na(t,e,n,r){return n=F(n),{index:-1,deps:la(r,L(e)),flags:t,token:e,value:n}}function Ma(t){for(var e={},n=[],r=!1,o=0;o<t.length;o++){var i=t[o];i.token===On&&!0===i.value&&(r=!0),1073741824&i.flags&&n.push(i.token),i.index=o,e[Gi(i.token)]=i}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function Ra(t,e,n){void 0===n&&(n=hn.THROW_IF_NOT_FOUND);var r,o,i=jt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var a=e.tokenKey;switch(a){case Da:case Pa:case Aa:return t}var s,u=t._def.providersByKey[a];if(u){var l=t._providers[u.index];return void 0===l&&(l=t._providers[u.index]=ja(t,u)),l===Ta?void 0:l}if((s=w(e.token))&&(r=t,null!=(o=s).providedIn&&(function(t,e){return t._def.modules.indexOf(o.providedIn)>-1}(r)||"root"===o.providedIn&&r._def.isRoot))){var c=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:s.factory,deps:[],index:c,token:e.token},t._providers[c]=Ta,t._providers[c]=ja(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{jt(i)}}function ja(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var o=n.length;switch(o){case 0:return new e;case 1:return new e(Ra(t,n[0]));case 2:return new e(Ra(t,n[0]),Ra(t,n[1]));case 3:return new e(Ra(t,n[0]),Ra(t,n[1]),Ra(t,n[2]));default:for(var i=new Array(o),a=0;a<o;a++)i[a]=Ra(t,n[a]);return new(e.bind.apply(e,Object(r.__spread)([void 0],i)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var o=n.length;switch(o){case 0:return e();case 1:return e(Ra(t,n[0]));case 2:return e(Ra(t,n[0]),Ra(t,n[1]));case 3:return e(Ra(t,n[0]),Ra(t,n[1]),Ra(t,n[2]));default:for(var i=Array(o),a=0;a<o;a++)i[a]=Ra(t,n[a]);return e.apply(void 0,Object(r.__spread)(i))}}(t,e.value,e.deps);break;case 2048:n=Ra(t,e.deps[0]);break;case 256:n=e.value}return n===Ta||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Ta:n}function La(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Va(n,e),qi.dirtyParentQueries(r),qa(r),r}function Ua(t,e,n){var r=e?oa(e,e.def.lastRenderRootNode):t.renderElement,o=n.renderer.parentNode(r),i=n.renderer.nextSibling(r);da(n,2,o,i,void 0)}function qa(t){da(t,3,null,null,void 0)}function Fa(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Va(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var Ba=new Object;function za(t,e,n,r,o,i){return new Ha(t,e,n,r,o,i)}var Ha=function(t){function e(e,n,r,o,i,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=o,s._outputs=i,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var o=fa(this.viewDefFactory),i=o.nodes[0].element.componentProvider.nodeIndex,a=qi.createRootView(t,e||[],n,o,r,Ba),s=ji(a,i).instance;return n&&a.renderer.setAttribute(Ri(a,0).renderElement,"ng-version",ir.full),new Ga(a,new Ja(a),s)},e}(Un),Ga=function(t){function e(e,n,r){var o=t.call(this)||this;return o._view=e,o._viewRef=n,o._component=r,o._elDef=o._view.def.nodes[0],o.hostView=n,o.changeDetectorRef=n,o.instance=r,o}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new Jn(Ri(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new $a(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Ln);function Wa(t,e,n){return new Ka(t,e,n)}var Ka=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new Jn(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new $a(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=ra(t),t=t.parent;return t?new $a(t,e):new $a(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=La(this._data,t);qi.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Ja(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,o){var i=n||this.parentInjector;o||t instanceof Gn||(o=i.get(Wn));var a=t.create(i,r,void 0,o);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,o,i,a=t;return i=(n=this._data).viewContainer._embeddedViews,null==(r=e)&&(r=i.length),(o=a._view).viewContainerParent=this._view,Fa(i,r,o),function(t,e){var n=na(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,o),qi.dirtyParentQueries(o),Ua(n,r>0?i[r-1]:null,o),a.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,o,i,a,s=this._embeddedViews.indexOf(t._view);return o=e,a=(i=(n=this._data).viewContainer._embeddedViews)[r=s],Va(i,r),null==o&&(o=i.length),Fa(i,o,a),qi.dirtyParentQueries(a),qa(a),Ua(n,o>0?i[o-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=La(this._data,t);e&&qi.destroyView(e)},t.prototype.detach=function(t){var e=La(this._data,t);return e?new Ja(e):null},t}();function Qa(t){return new Ja(t)}var Ja=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return da(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){$i(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{qi.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){qi.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),qi.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,qa(this._view),qi.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function Xa(t,e){return new Ya(t,e)}var Ya=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(r.__extends)(e,t),e.prototype.createEmbeddedView=function(t){return new Ja(qi.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new Jn(Ri(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(Br);function Za(t,e){return new $a(t,e)}var $a=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=hn.THROW_IF_NOT_FOUND),qi.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Gi(t)},e)},t}();function ts(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=Ri(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Mi(t,n.nodeIndex).renderText;if(20240&n.flags)return ji(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function es(t){return new ns(t.renderer)}var ns=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Object(r.__read)(ba(e),2),o=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,o),o},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),o=0;o<e.length;o++)this.delegate.insertBefore(n,e[o],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var o=Object(r.__read)(ba(e),2),i=o[0],a=o[1];null!=n?this.delegate.setAttribute(t,a,n,i):this.delegate.removeAttribute(t,a,i)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function rs(t,e,n,r){return new os(t,e,n,r)}var os=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var o=e.providers[r];4096&o.flags||void 0===n[r]&&(n[r]=ja(t,o))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=hn.THROW_IF_NOT_FOUND),void 0===n&&(n=Mt.Default);var r=0;return n&Mt.SkipSelf?r|=1:n&Mt.Self&&(r|=4),Ra(this,{token:t,tokenKey:Gi(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(zn)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+L(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,o=0;o<n.providers.length;o++)if(131072&n.providers[o].flags){var i=t._providers[o];if(i&&i!==Ta){var a=i.ngOnDestroy;"function"!=typeof a||r.has(i)||(a.apply(i),r.add(i))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),is=Gi(Yn),as=Gi(tr),ss=Gi(Jn),us=Gi(ei),ls=Gi(Br),cs=Gi(ri),hs=Gi(hn),fs=Gi(ln);function ds(t,e,n,o,i,a,s,u){var l=[];if(s)for(var c in s){var h=Object(r.__read)(s[c],2);l[h[0]]={flags:8,name:c,nonMinifiedName:h[1],ns:null,securityContext:null,suffix:null}}var f=[];if(u)for(var d in u)f.push({type:1,propName:d,target:null,eventName:u[d]});return gs(t,e|=16384,n,o,i,i,a,l,f)}function ps(t,e,n,r,o){return gs(-1,t,e,0,n,r,o)}function gs(t,e,n,r,o,i,a,s,u){var l=ua(n),c=l.matchedQueries,h=l.references,f=l.matchedQueryIds;u||(u=[]),s||(s=[]),i=F(i);var d=la(a,L(o));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:wa(s),outputs:u,element:null,provider:{token:o,value:i,deps:d},text:null,query:null,ngContent:null}}function ms(t,e){return ws(t,e)}function vs(t,e){for(var n=t;n.parent&&!ia(n);)n=n.parent;return _s(n.parent,ra(n),!0,e.provider.value,e.provider.deps)}function ys(t,e){var n=_s(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var o=e.outputs[r],i=n[o.propName];if(!oo(i))throw new Error("@Output "+o.propName+" not initialized in '"+n.constructor.name+"'.");var a=i.subscribe(bs(t,e.parent.nodeIndex,o.eventName));t.disposables[e.outputIndex+r]=a.unsubscribe.bind(a)}return n}function bs(t,e,n){return function(r){return ea(t,e,n,r)}}function ws(t,e){var n=(8192&e.flags)>0,o=e.provider;switch(201347067&e.flags){case 512:return _s(t,e.parent,n,o.value,o.deps);case 1024:return function(t,e,n,o,i){var a=i.length;switch(a){case 0:return o();case 1:return o(Ss(t,e,n,i[0]));case 2:return o(Ss(t,e,n,i[0]),Ss(t,e,n,i[1]));case 3:return o(Ss(t,e,n,i[0]),Ss(t,e,n,i[1]),Ss(t,e,n,i[2]));default:for(var s=Array(a),u=0;u<a;u++)s[u]=Ss(t,e,n,i[u]);return o.apply(void 0,Object(r.__spread)(s))}}(t,e.parent,n,o.value,o.deps);case 2048:return Ss(t,e.parent,n,o.deps[0]);case 256:return o.value}}function _s(t,e,n,o,i){var a=i.length;switch(a){case 0:return new o;case 1:return new o(Ss(t,e,n,i[0]));case 2:return new o(Ss(t,e,n,i[0]),Ss(t,e,n,i[1]));case 3:return new o(Ss(t,e,n,i[0]),Ss(t,e,n,i[1]),Ss(t,e,n,i[2]));default:for(var s=new Array(a),u=0;u<a;u++)s[u]=Ss(t,e,n,i[u]);return new(o.bind.apply(o,Object(r.__spread)([void 0],s)))}}var Cs={};function Ss(t,e,n,r,o){if(void 0===o&&(o=hn.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var i=t;2&r.flags&&(o=null);var a=r.tokenKey;a===cs&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case is:return es(Es(s,e,n));case as:return Es(s,e,n).renderer;case ss:return new Jn(Ri(s,e.nodeIndex).renderElement);case us:return Ri(s,e.nodeIndex).viewContainer;case ls:if(e.element.template)return Ri(s,e.nodeIndex).template;break;case cs:return Qa(Es(s,e,n));case hs:case fs:return Za(s,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var l=ji(s,u.nodeIndex);return l||(l={instance:ws(s,u)},s.nodes[u.nodeIndex]=l),l.instance}}n=ia(s),e=ra(s),s=s.parent,4&r.flags&&(s=null)}var c=i.root.injector.get(r.token,Cs);return c!==Cs||o===Cs?c:i.root.ngModule.injector.get(r.token,o)}function Es(t,e,n){var r;if(n)r=Ri(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!ia(r);)r=r.parent;return r}function Os(t,e,n,r,o,i){if(32768&n.flags){var a=Ri(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=o,524288&n.flags){i=i||{};var s=Ee.unwrap(t.oldValues[n.bindingIndex+r]);i[n.bindings[r].nonMinifiedName]=new Oe(s,o,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=o,i}function Is(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,o=0;o<n.length;o++){var i=n[o],a=i.parent;for(!a&&i.flags&e&&xs(t,o,i.flags&e,r++),0==(i.childFlags&e)&&(o+=i.childCount);a&&1&a.flags&&o===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=ks(t,a,e,r)),a=a.parent}}function ks(t,e,n,r){for(var o=e.nodeIndex+1;o<=e.nodeIndex+e.childCount;o++){var i=t.def.nodes[o];i.flags&n&&xs(t,o,i.flags&n,r++),o+=i.childCount}return r}function xs(t,e,n,r){var o=ji(t,e);if(o){var i=o.instance;i&&(qi.setCurrentNode(t,e),1048576&n&&Ni(t,512,r)&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&Ni(t,768,r)&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}}function Ts(t,e,n){var r=[];for(var o in n)r.push({propName:o,bindingType:n[o]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:sa(e),bindings:r},ngContent:null}}function Ds(t){for(var e=t.def.nodeMatchedQueries;t.parent&&aa(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,o=0;o<=r;o++)67108864&(i=t.def.nodes[o]).flags&&536870912&i.flags&&(i.query.filterId&e)===i.query.filterId&&Ui(t,o).setDirty(),!(1&i.flags&&o+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(o+=i.childCount)}if(134217728&t.def.nodeFlags)for(o=0;o<t.def.nodes.length;o++){var i;134217728&(i=t.def.nodes[o]).flags&&536870912&i.flags&&Ui(t,o).setDirty(),o+=i.childCount}}function Ps(t,e){var n=Ui(t,e.nodeIndex);if(n.dirty){var r,o=void 0;if(67108864&e.flags){var i=e.parent.parent;o=As(t,i.nodeIndex,i.nodeIndex+i.childCount,e.query,[]),r=ji(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(o=As(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(o);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var l=a[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}r[l.propName]=c}s&&n.notifyOnChanges()}}function As(t,e,n,r,o){for(var i=e;i<=n;i++){var a=t.def.nodes[i],s=a.matchedQueries[r.id];if(null!=s&&o.push(Ns(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Ri(t,i);if((a.childMatchedQueries&r.filterId)===r.filterId&&(As(t,i+1,i+a.childCount,r,o),i+=a.childCount),16777216&a.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],f=na(h);f&&f===u&&As(h,0,h.def.nodes.length-1,r,o)}var d=u.template._projectedViews;if(d)for(c=0;c<d.length;c++){var p=d[c];As(p,0,p.def.nodes.length-1,r,o)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(i+=a.childCount)}return o}function Ns(t,e,n){if(null!=n)switch(n){case 1:return Ri(t,e.nodeIndex).renderElement;case 0:return new Jn(Ri(t,e.nodeIndex).renderElement);case 2:return Ri(t,e.nodeIndex).template;case 3:return Ri(t,e.nodeIndex).viewContainer;case 4:return ji(t,e.nodeIndex).instance}}function Ms(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Rs(t,e,n){var r=ca(t,e,n);r&&ga(t,n.ngContent.index,1,r,null,void 0)}function js(t,e,n){for(var r=new Array(n.length-1),o=1;o<n.length;o++)r[o-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[o]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Ls(t,e,n){var r,o=t.renderer;r=o.createText(n.text.prefix);var i=ca(t,e,n);return i&&o.appendChild(i,r),{renderText:r}}function Us(t,e){return(null!=t?t.toString():"")+e.suffix}function qs(t,e,n,r){for(var o=0,i=0,a=0,s=0,u=0,l=null,c=null,h=!1,f=!1,d=null,p=0;p<e.length;p++){var g=e[p];if(g.nodeIndex=p,g.parent=l,g.bindingIndex=o,g.outputIndex=i,g.renderParent=c,a|=g.flags,u|=g.matchedQueryIds,g.element){var m=g.element;m.publicProviders=l?l.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,h=!1,f=!1,g.element.template&&(u|=g.element.template.nodeMatchedQueries)}if(Vs(l,g,e.length),o+=g.bindings.length,i+=g.outputs.length,!c&&3&g.flags&&(d=g),20224&g.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var v=0!=(32768&g.flags);0==(8192&g.flags)||v?l.element.publicProviders[Gi(g.provider.token)]=g:(f||(f=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[Gi(g.provider.token)]=g),v&&(l.element.componentProvider=g)}if(l?(l.childFlags|=g.flags,l.directChildFlags|=g.flags,l.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(l.childMatchedQueries|=g.element.template.nodeMatchedQueries)):s|=g.flags,g.childCount>0)l=g,Fs(g)||(c=g);else for(;l&&p===l.nodeIndex+l.childCount;){var y=l.parent;y&&(y.childFlags|=l.childFlags,y.childMatchedQueries|=l.childMatchedQueries),c=(l=y)&&Fs(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||zi,updateRenderer:r||zi,handleEvent:function(t,n,r,o){return e[n].element.handleEvent(t,r,o)},bindingCount:o,outputCount:i,lastRenderRootNode:d}}function Fs(t){return 0!=(1&t.flags)&&null===t.element.name}function Vs(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var o=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=o&&e.nodeIndex+e.childCount>o)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function Bs(t,e,n,r){var o=Gs(t.root,t.renderer,t,e,n);return Ws(o,t.component,r),Ks(o),o}function zs(t,e,n){var r=Gs(t,t.renderer,null,null,e);return Ws(r,n,n),Ks(r),r}function Hs(t,e,n,r){var o,i=e.element.componentRendererType;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Gs(t.root,o,t,e.element.componentProvider,n)}function Gs(t,e,n,r,o){var i=new Array(o.nodes.length),a=o.outputCount?new Array(o.outputCount):null;return{def:o,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:i,state:13,root:t,renderer:e,oldValues:new Array(o.bindingCount),disposables:a,initIndex:-1}}function Ws(t,e,n){t.component=e,t.context=n}function Ks(t){var e;ia(t)&&(e=Ri(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,o=0;o<n.nodes.length;o++){var i=n.nodes[o];qi.setCurrentNode(t,o);var a=void 0;switch(201347067&i.flags){case 1:var s=Oa(t,e,i),u=void 0;if(33554432&i.flags){var l=fa(i.element.componentView);u=qi.createComponentView(t,i,l,s)}Ia(t,u,i,s),a={renderElement:s,componentView:u,viewContainer:null,template:i.element.template?Xa(t,i):void 0},16777216&i.flags&&(a.viewContainer=Wa(t,i,a));break;case 2:a=Ls(t,e,i);break;case 512:case 1024:case 2048:case 256:(a=r[o])||4096&i.flags||(a={instance:ms(t,i)});break;case 16:a={instance:vs(t,i)};break;case 16384:(a=r[o])||(a={instance:ys(t,i)}),32768&i.flags&&Ws(Ri(t,i.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Jo;break;case 8:Rs(t,e,i),a=void 0}r[o]=a}nu(t,eu.CreateViewNodes),au(t,201326592,268435456,0)}function Qs(t){Ys(t),qi.updateDirectives(t,1),ru(t,eu.CheckNoChanges),qi.updateRenderer(t,1),nu(t,eu.CheckNoChanges),t.state&=-97}function Js(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Ai(t,0,256),Ys(t),qi.updateDirectives(t,0),ru(t,eu.CheckAndUpdate),au(t,67108864,536870912,0);var e=Ai(t,256,512);Is(t,2097152|(e?1048576:0)),qi.updateRenderer(t,0),nu(t,eu.CheckAndUpdate),au(t,134217728,536870912,0),Is(t,8388608|((e=Ai(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Ai(t,768,1024)}function Xs(t,e,n,o,i,a,s,u,l,c,h,f,d){return 0===n?function(t,e,n,r,o,i,a,s,u,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,o,i,a,s,u,l,c,h){var f=e.bindings.length,d=!1;return f>0&&xa(t,e,0,n)&&(d=!0),f>1&&xa(t,e,1,r)&&(d=!0),f>2&&xa(t,e,2,o)&&(d=!0),f>3&&xa(t,e,3,i)&&(d=!0),f>4&&xa(t,e,4,a)&&(d=!0),f>5&&xa(t,e,5,s)&&(d=!0),f>6&&xa(t,e,6,u)&&(d=!0),f>7&&xa(t,e,7,l)&&(d=!0),f>8&&xa(t,e,8,c)&&(d=!0),f>9&&xa(t,e,9,h)&&(d=!0),d}(t,e,n,r,o,i,a,s,u,l,c,h);case 2:return function(t,e,n,r,o,i,a,s,u,l,c,h){var f=!1,d=e.bindings,p=d.length;if(p>0&&Yi(t,e,0,n)&&(f=!0),p>1&&Yi(t,e,1,r)&&(f=!0),p>2&&Yi(t,e,2,o)&&(f=!0),p>3&&Yi(t,e,3,i)&&(f=!0),p>4&&Yi(t,e,4,a)&&(f=!0),p>5&&Yi(t,e,5,s)&&(f=!0),p>6&&Yi(t,e,6,u)&&(f=!0),p>7&&Yi(t,e,7,l)&&(f=!0),p>8&&Yi(t,e,8,c)&&(f=!0),p>9&&Yi(t,e,9,h)&&(f=!0),f){var g=e.text.prefix;p>0&&(g+=Us(n,d[0])),p>1&&(g+=Us(r,d[1])),p>2&&(g+=Us(o,d[2])),p>3&&(g+=Us(i,d[3])),p>4&&(g+=Us(a,d[4])),p>5&&(g+=Us(s,d[5])),p>6&&(g+=Us(u,d[6])),p>7&&(g+=Us(l,d[7])),p>8&&(g+=Us(c,d[8])),p>9&&(g+=Us(h,d[9]));var m=Mi(t,e.nodeIndex).renderText;t.renderer.setValue(m,g)}return f}(t,e,n,r,o,i,a,s,u,l,c,h);case 16384:return function(t,e,n,r,o,i,a,s,u,l,c,h){var f=ji(t,e.nodeIndex),d=f.instance,p=!1,g=void 0,m=e.bindings.length;return m>0&&Xi(t,e,0,n)&&(p=!0,g=Os(t,f,e,0,n,g)),m>1&&Xi(t,e,1,r)&&(p=!0,g=Os(t,f,e,1,r,g)),m>2&&Xi(t,e,2,o)&&(p=!0,g=Os(t,f,e,2,o,g)),m>3&&Xi(t,e,3,i)&&(p=!0,g=Os(t,f,e,3,i,g)),m>4&&Xi(t,e,4,a)&&(p=!0,g=Os(t,f,e,4,a,g)),m>5&&Xi(t,e,5,s)&&(p=!0,g=Os(t,f,e,5,s,g)),m>6&&Xi(t,e,6,u)&&(p=!0,g=Os(t,f,e,6,u,g)),m>7&&Xi(t,e,7,l)&&(p=!0,g=Os(t,f,e,7,l,g)),m>8&&Xi(t,e,8,c)&&(p=!0,g=Os(t,f,e,8,c,g)),m>9&&Xi(t,e,9,h)&&(p=!0,g=Os(t,f,e,9,h,g)),g&&d.ngOnChanges(g),65536&e.flags&&Ni(t,256,e.nodeIndex)&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),p}(t,e,n,r,o,i,a,s,u,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,o,i,a,s,u,l,c,h){var f=e.bindings,d=!1,p=f.length;if(p>0&&Yi(t,e,0,n)&&(d=!0),p>1&&Yi(t,e,1,r)&&(d=!0),p>2&&Yi(t,e,2,o)&&(d=!0),p>3&&Yi(t,e,3,i)&&(d=!0),p>4&&Yi(t,e,4,a)&&(d=!0),p>5&&Yi(t,e,5,s)&&(d=!0),p>6&&Yi(t,e,6,u)&&(d=!0),p>7&&Yi(t,e,7,l)&&(d=!0),p>8&&Yi(t,e,8,c)&&(d=!0),p>9&&Yi(t,e,9,h)&&(d=!0),d){var g=Li(t,e.nodeIndex),m=void 0;switch(201347067&e.flags){case 32:m=new Array(f.length),p>0&&(m[0]=n),p>1&&(m[1]=r),p>2&&(m[2]=o),p>3&&(m[3]=i),p>4&&(m[4]=a),p>5&&(m[5]=s),p>6&&(m[6]=u),p>7&&(m[7]=l),p>8&&(m[8]=c),p>9&&(m[9]=h);break;case 64:m={},p>0&&(m[f[0].name]=n),p>1&&(m[f[1].name]=r),p>2&&(m[f[2].name]=o),p>3&&(m[f[3].name]=i),p>4&&(m[f[4].name]=a),p>5&&(m[f[5].name]=s),p>6&&(m[f[6].name]=u),p>7&&(m[f[7].name]=l),p>8&&(m[f[8].name]=c),p>9&&(m[f[9].name]=h);break;case 128:var v=n;switch(p){case 1:m=v.transform(n);break;case 2:m=v.transform(r);break;case 3:m=v.transform(r,o);break;case 4:m=v.transform(r,o,i);break;case 5:m=v.transform(r,o,i,a);break;case 6:m=v.transform(r,o,i,a,s);break;case 7:m=v.transform(r,o,i,a,s,u);break;case 8:m=v.transform(r,o,i,a,s,u,l);break;case 9:m=v.transform(r,o,i,a,s,u,l,c);break;case 10:m=v.transform(r,o,i,a,s,u,l,c,h)}}g.value=m}return d}(t,e,n,r,o,i,a,s,u,l,c,h);default:throw"unreachable"}}(t,e,o,i,a,s,u,l,c,h,f,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,o=0;o<n.length;o++)xa(t,e,o,n[o])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,o=!1,i=0;i<n.length;i++)Yi(t,e,i,n[i])&&(o=!0);if(o){var a="";for(i=0;i<n.length;i++)a+=Us(n[i],r[i]);a=e.text.prefix+a;var s=Mi(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return o}(t,e,n);case 16384:return function(t,e,n){for(var r=ji(t,e.nodeIndex),o=r.instance,i=!1,a=void 0,s=0;s<n.length;s++)Xi(t,e,s,n[s])&&(i=!0,a=Os(t,r,e,s,n[s],a));return a&&o.ngOnChanges(a),65536&e.flags&&Ni(t,256,e.nodeIndex)&&o.ngOnInit(),262144&e.flags&&o.ngDoCheck(),i}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var o=e.bindings,i=!1,a=0;a<n.length;a++)Yi(t,e,a,n[a])&&(i=!0);if(i){var s=Li(t,e.nodeIndex),u=void 0;switch(201347067&e.flags){case 32:u=n;break;case 64:for(u={},a=0;a<n.length;a++)u[o[a].name]=n[a];break;case 128:var l=n[0],c=n.slice(1);u=l.transform.apply(l,Object(r.__spread)(c))}s.value=u}return i}(t,e,n);default:throw"unreachable"}}(t,e,o)}function Ys(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var o=Ri(t,n).template._projectedViews;if(o)for(var i=0;i<o.length;i++){var a=o[i];a.state|=32,ta(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Zs(t,e,n,r,o,i,a,s,u,l,c,h,f){return 0===n?function(t,e,n,r,o,i,a,s,u,l,c,h){var f=e.bindings.length;f>0&&Zi(t,e,0,n),f>1&&Zi(t,e,1,r),f>2&&Zi(t,e,2,o),f>3&&Zi(t,e,3,i),f>4&&Zi(t,e,4,a),f>5&&Zi(t,e,5,s),f>6&&Zi(t,e,6,u),f>7&&Zi(t,e,7,l),f>8&&Zi(t,e,8,c),f>9&&Zi(t,e,9,h)}(t,e,r,o,i,a,s,u,l,c,h,f):function(t,e,n){for(var r=0;r<n.length;r++)Zi(t,e,r,n[r])}(t,e,r),!1}function $s(t,e){if(Ui(t,e.nodeIndex).dirty)throw Fi(qi.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function tu(t){if(!(128&t.state)){if(ru(t,eu.Destroy),nu(t,eu.Destroy),Is(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=na(t);if(e){var n=e.template._projectedViews;n&&(Va(n,n.indexOf(t)),qi.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(Ri(t,n).renderElement):2&r.flags?t.renderer.destroyNode(Mi(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&Ui(t,n).destroy()}}(t),ia(t)&&t.renderer.destroy(),t.state|=128}}var eu=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function nu(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];33554432&o.flags?ou(Ri(t,r).componentView,e):0==(33554432&o.childFlags)&&(r+=o.childCount)}}function ru(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];if(16777216&o.flags)for(var i=Ri(t,r).viewContainer._embeddedViews,a=0;a<i.length;a++)ou(i[a],e);else 0==(16777216&o.childFlags)&&(r+=o.childCount)}}function ou(t,e){var n=t.state;switch(e){case eu.CheckNoChanges:0==(128&n)&&(12==(12&n)?Qs(t):64&n&&iu(t,eu.CheckNoChangesProjectedViews));break;case eu.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Qs(t):64&n&&iu(t,e));break;case eu.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Js(t):64&n&&iu(t,eu.CheckAndUpdateProjectedViews));break;case eu.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Js(t):64&n&&iu(t,e));break;case eu.Destroy:tu(t);break;case eu.CreateViewNodes:Ks(t)}}function iu(t,e){ru(t,e),nu(t,e)}function au(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var o=t.def.nodes.length,i=0;i<o;i++){var a=t.def.nodes[i];if(a.flags&e&&a.flags&n)switch(qi.setCurrentNode(t,a.nodeIndex),r){case 0:Ps(t,a);break;case 1:$s(t,a)}a.childFlags&e&&a.childFlags&n||(i+=a.childCount)}}var su=!1;function uu(t,e,n,r,o,i){var a=o.injector.get(Zn);return zs(cu(t,o,a,e,n),r,i)}function lu(t,e,n,r,o,i){var a=o.injector.get(Zn),s=cu(t,o,new Bu(a),e,n),u=wu(r);return Fu(Tu.create,zs,null,[s,u,i])}function cu(t,e,n,r,o){var i=e.injector.get(rr),a=e.injector.get(no),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:o,sanitizer:i,rendererFactory:n,renderer:s,errorHandler:a}}function hu(t,e,n,r){var o=wu(n);return Fu(Tu.create,Bs,null,[t,e,o,r])}function fu(t,e,n,r){return n=mu.get(e.element.componentProvider.provider.token)||wu(n),Fu(Tu.create,Hs,null,[t,e,n,r])}function du(t,e,n,r){return rs(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===pu.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=pu.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(function(t){gu.forEach(function(r,o){w(o).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var o=pu.get(r.token);o&&(r.flags=-3841&r.flags|o.flags,r.deps=la(o.deps),r.value=o.value)}if(gu.size>0){var i=new Set(t.modules);gu.forEach(function(e,r){if(i.has(w(r).providedIn)){var o={token:r,flags:e.flags|(n?4096:0),deps:la(e.deps),value:e.value,index:t.providers.length};t.providers.push(o),t.providersByKey[Gi(r)]=o}})}}(t=t.factory(function(){return zi})),t):t}(r))}var pu=new Map,gu=new Map,mu=new Map;function vu(t){var e;pu.set(t.token,t),"function"==typeof t.token&&(e=w(t.token))&&"function"==typeof e.providedIn&&gu.set(t.token,t)}function yu(t,e){var n=fa(e.viewDefFactory),r=fa(n.nodes[0].element.componentView);mu.set(t,r)}function bu(){pu.clear(),gu.clear(),mu.clear()}function wu(t){if(0===pu.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var o=t.nodes[r];1&o.flags&&(n=o),n&&3840&o.flags&&pu.has(o.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return zi});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var o=r.provider,i=pu.get(o.token);i&&(r.flags=-3841&r.flags|i.flags,o.deps=la(i.deps),o.value=i.value)}}}}function _u(t,e,n,r,o,i,a,s,u,l,c,h,f){var d=t.def.nodes[e];return Xs(t,d,n,r,o,i,a,s,u,l,c,h,f),224&d.flags?Li(t,e).value:void 0}function Cu(t,e,n,r,o,i,a,s,u,l,c,h,f){var d=t.def.nodes[e];return Zs(t,d,n,r,o,i,a,s,u,l,c,h,f),224&d.flags?Li(t,e).value:void 0}function Su(t){return Fu(Tu.detectChanges,Js,null,[t])}function Eu(t){return Fu(Tu.checkNoChanges,Qs,null,[t])}function Ou(t){return Fu(Tu.destroy,tu,null,[t])}var Iu,ku,xu,Tu=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function Du(t,e){ku=t,xu=e}function Pu(t,e,n,r){return Du(t,e),Fu(Tu.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Au(t,e){if(128&t.state)throw Bi(Tu[Iu]);return Du(t,ju(t,0)),t.def.updateDirectives(function(t,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var a=t.def.nodes[n];return 0===e?Mu(t,a,r,o):Ru(t,a,r,o),16384&a.flags&&Du(t,ju(t,n)),224&a.flags?Li(t,a.nodeIndex).value:void 0},t)}function Nu(t,e){if(128&t.state)throw Bi(Tu[Iu]);return Du(t,Lu(t,0)),t.def.updateRenderer(function(t,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var a=t.def.nodes[n];return 0===e?Mu(t,a,r,o):Ru(t,a,r,o),3&a.flags&&Du(t,Lu(t,n)),224&a.flags?Li(t,a.nodeIndex).value:void 0},t)}function Mu(t,e,n,o){if(Xs.apply(void 0,Object(r.__spread)([t,e,n],o))){var i=1===n?o[0]:o;if(16384&e.flags){for(var a={},s=0;s<e.bindings.length;s++){var u=e.bindings[s],l=i[s];8&u.flags&&(a[(d=u.nonMinifiedName,"ng-reflect-"+d.replace(/[$@]/g,"_").replace(_e,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))]=Ce(l))}var c=e.parent,h=Ri(t,c.nodeIndex).renderElement;if(c.element.name)for(var f in a)null!=(l=a[f])?t.renderer.setAttribute(h,f,l):t.renderer.removeAttribute(h,f);else t.renderer.setValue(h,"bindings="+JSON.stringify(a,null,2))}}var d}function Ru(t,e,n,o){Zs.apply(void 0,Object(r.__spread)([t,e,n],o))}function ju(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Lu(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var Uu=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=ra(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return Ri(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Za(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){qu(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&qu(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!ia(t);)t=t.parent;return t.parent?Ri(t.parent,ra(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?oa(this.view,this.nodeDef):oa(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var a=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),s=-1;e.factory(function(){var e;return++s===a?(e=t.error).bind.apply(e,Object(r.__spread)([t],o)):zi}),s<a&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,Object(r.__spread)(o)))},t}();function qu(t,e,n){for(var r in e.references)n[r]=Ns(t,e,e.references[r])}function Fu(t,e,n,r){var o=Iu,i=ku,a=xu;try{Iu=t;var s=e.apply(n,r);return ku=i,xu=a,Iu=o,s}catch(u){if($r(u)||!ku)throw u;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Vi(t,e),t}(u,Vu())}}function Vu(){return ku?new Uu(ku,xu):null}var Bu=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new zu(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),zu=function(){function t(t){this.delegate=t,this.debugContextFactory=Vu,this.data=this.delegate.data}return t.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},t.prototype.destroyNode=function(t){!function(t){ui.delete(t.nativeNode)}(li(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){var o=new si(n,null,r);o.name=t,ci(o)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&ci(new ai(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&ci(new ai(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=li(t),r=li(e);n&&r&&n instanceof si&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=li(t),o=li(e),i=li(n);r&&o&&r instanceof si&&r.insertBefore(i,o),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=li(t),r=li(e);n&&r&&n instanceof si&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t,e){var n=this.delegate.selectRootElement(t,e),r=Vu();return r&&ci(new si(n,null,r)),n},t.prototype.setAttribute=function(t,e,n,r){var o=li(t);o&&o instanceof si&&(o.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=li(t);r&&r instanceof si&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=li(t);n&&n instanceof si&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=li(t);n&&n instanceof si&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var o=li(t);o&&o instanceof si&&(o.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=li(t);r&&r instanceof si&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=li(t);r&&r instanceof si&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=li(t);r&&r.listeners.push(new ii(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function Hu(t,e,n){return new Gu(t,e,n)}var Gu=function(t){function e(e,n,r){var o=t.call(this)||this;return o.moduleType=e,o._bootstrapComponents=n,o._ngModuleDefFactory=r,o}return Object(r.__extends)(e,t),e.prototype.create=function(t){!function(){if(!su){su=!0;var t=gr()?{setCurrentNode:Du,createRootView:lu,createEmbeddedView:hu,createComponentView:fu,createNgModuleRef:du,overrideProvider:vu,overrideComponentView:yu,clearOverrides:bu,checkAndUpdateView:Su,checkNoChangesView:Eu,destroyView:Ou,createDebugContext:function(t,e){return new Uu(t,e)},handleEvent:Pu,updateDirectives:Au,updateRenderer:Nu}:{setCurrentNode:function(){},createRootView:uu,createEmbeddedView:Bs,createComponentView:Hs,createNgModuleRef:rs,overrideProvider:zi,overrideComponentView:zi,clearOverrides:zi,checkAndUpdateView:Js,checkNoChangesView:Qs,destroyView:tu,createDebugContext:function(t,e){return new Uu(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?_u:Cu,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?_u:Cu,t)}};qi.setCurrentNode=t.setCurrentNode,qi.createRootView=t.createRootView,qi.createEmbeddedView=t.createEmbeddedView,qi.createComponentView=t.createComponentView,qi.createNgModuleRef=t.createNgModuleRef,qi.overrideProvider=t.overrideProvider,qi.overrideComponentView=t.overrideComponentView,qi.clearOverrides=t.clearOverrides,qi.checkAndUpdateView=t.checkAndUpdateView,qi.checkNoChangesView=t.checkNoChangesView,qi.destroyView=t.destroyView,qi.resolveDep=Ss,qi.createDebugContext=t.createDebugContext,qi.handleEvent=t.handleEvent,qi.updateDirectives=t.updateDirectives,qi.updateRenderer=t.updateRenderer,qi.dirtyParentQueries=Ds}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var o in t.providersByKey)r[o]=t.providersByKey[o];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(fa(this._ngModuleDefFactory));return qi.createNgModuleRef(this.moduleType,t||hn.NULL,this._bootstrapComponents,e)},e}(Kn)},DKTb:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t})}n.d(e,"a",function(){return r})},"Dd/+":function(t,e,n){n("q94Q")("unscopables")},ELBg:function(t,e,n){"use strict";var r={single_source_shortest_paths:function(t,e,n){var o={},i={};i[e]=0;var a,s,u,l,c,h,f=r.PriorityQueue.make();for(f.push(e,0);!f.empty();)for(u in l=(a=f.pop()).cost,c=t[s=a.value]||{})c.hasOwnProperty(u)&&(h=l+c[u],(void 0===i[u]||i[u]>h)&&(i[u]=h,f.push(u,h),o[u]=s));if(void 0!==n&&void 0===i[n]){var d=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(d)}return o},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],r=e;r;)n.push(r),r=t[r];return n.reverse(),n},find_path:function(t,e,n){var o=r.single_source_shortest_paths(t,e,n);return r.extract_shortest_path_from_predecessor_list(o,n)},PriorityQueue:{make:function(t){var e,n=r.PriorityQueue,o={};for(e in t=t||{},n)n.hasOwnProperty(e)&&(o[e]=n[e]);return o.queue=[],o.sorter=t.sorter||n.default_sorter,o},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){this.queue.push({value:t,cost:e}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=r},"En8+":function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return o});var o=r()},"F/XL":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("nkY7"),o=n("IUTb"),i=n("G5J1"),a=n("PU8L");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(Object(r.a)(n)?t.pop():n=void 0,t.length){case 0:return Object(i.b)(n);case 1:return n?Object(o.a)(t,n):Object(a.a)(t[0]);default:return Object(o.a)(t,n)}}},FFOo:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("mrSG"),o=n("2Bdj"),i=n("6ahw"),a=n("pugT"),s=n("L/V9"),u=n("iLxQ"),l=n("DKTb"),c=function(t){function e(n,r,o){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!n){a.destination=i.a;break}if("object"==typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new h(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new h(a,n,r,o)}return a}return r.__extends(e,t),e.prototype[s.a]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(a.a),h=function(t){function e(e,n,r,a){var s,u=t.call(this)||this;u._parentSubscriber=e;var l=u;return Object(o.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==i.a&&(l=Object.create(n),Object(o.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(u))),u._context=l,u._next=s,u._error=r,u._complete=a,u}return r.__extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(l.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(l.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(l.a)(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(l.a)(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(c)},FQ1g:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("kL6T");var r=function(){return function(){}}()},FnXw:function(t,e,n){var r=n("kpns"),o=n("hdqJ"),i=n("aXXJ")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},FoKB:function(t,e,n){n("q94Q")("observable")},Fxb1:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n("6blF"),o=n("+tJ4"),i=n("S5XQ"),a=n("u67D"),s=n("JcRv"),u=n("2ePl"),l=n("/WYv"),c=n("McSo"),h=n("En8+"),f=n("xTla"),d=function(t){if(t instanceof r.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[f.a])return Object(s.a)(t);if(Object(u.a)(t))return Object(o.a)(t);if(Object(l.a)(t))return Object(i.a)(t);if(t&&"function"==typeof t[h.a])return Object(a.a)(t);var e=Object(c.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},G5J1:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i});var r=n("6blF"),o=new r.a(function(t){return t.complete()});function i(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):o}},GJzV:function(t,e,n){var r=n("JKJi"),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},Gp07:function(t,e,n){var r=n("JKJi"),o=n("9Nts");t.exports=function(t,e,n){var i,a,s=String(o(t)),u=r(e),l=s.length;return u<0||u>=l?n?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?n?s.charAt(u):i:n?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}},GrVo:function(t,e,n){"use strict";var r=n("Q2Kg"),o=n("fw2a"),i=n("iCuu"),a=n("SAp2"),s=n("t5mC"),u=Object.assign;t.exports=!u||n("0HDe")(function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||"abcdefghijklmnopqrst"!=r(u({},e)).join("")})?function(t,e){for(var n=a(t),u=arguments.length,l=1,c=o.f,h=i.f;u>l;)for(var f,d=s(arguments[l++]),p=c?r(d).concat(c(d)):r(d),g=p.length,m=0;g>m;)h.call(d,f=p[m++])&&(n[f]=d[f]);return n}:u},H6ty:function(t,e,n){var r=n("JKJi"),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},HPGL:function(t,e,n){"use strict";function r(){if("undefined"==typeof process){var t="undefined"!=typeof window?window:{},e=Date.now(),n=!1;t.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-e)+" ms"),n=!0}),setTimeout(function(){!n&&t.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}n.d(e,"a",function(){return r})},HefZ:function(t,e,n){n("rZEa"),n("QvOV"),n("44fV"),n("2F3y"),n("qjh4"),n("b2LF"),n("uiB+"),n("q0E7"),n("+v3u"),n("dstF"),n("dYkh"),n("gIEr"),n("luCB"),n("MuAL"),n("uLJa"),n("Dd/+"),n("vb+c"),n("ZPxF"),t.exports=n("4Ea8").Symbol},I2ZF:function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0;return[n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]]].join("")}},IUTb:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("6blF"),o=n("pugT"),i=n("+tJ4");function a(t,e){return new r.a(e?function(n){var r=new o.a,i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r}:Object(i.a)(t))}},Ip0R:function(t,e,n){"use strict";n.d(e,"r",function(){return v}),n.d(e,"j",function(){return b}),n.d(e,"k",function(){return y}),n.d(e,"s",function(){return w}),n.d(e,"b",function(){return k}),n.d(e,"h",function(){return C}),n.d(e,"i",function(){return E}),n.d(e,"c",function(){return x}),n.d(e,"q",function(){return T}),n.d(e,"o",function(){return P}),n.d(e,"p",function(){return A}),n.d(e,"n",function(){return N}),n.d(e,"m",function(){return i}),n.d(e,"e",function(){return a}),n.d(e,"g",function(){return s}),n.d(e,"a",function(){return u}),n.d(e,"d",function(){return h}),n.d(e,"l",function(){return f}),n.d(e,"f",function(){return l});var r=n("CcnG"),o=n("mrSG"),i=function(){return function(){}}(),a=new r.p("Location Initialized"),s=function(){return function(){}}(),u=new r.p("appBaseHref"),l=function(){function t(t){var n=this;this._subject=new r.m,this._platformStrategy=t;var o=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(c(o)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})})}var e;return e=t,t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(t,n){return void 0===n&&(n=""),this.path()==this.normalize(t+e.normalizeQueryParams(n))},t.prototype.normalize=function(t){return e.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,c(t)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",t,e)},t.prototype.replaceState=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function c(t){return t.replace(/\/index.html$/,"")}var h=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(o.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=l.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var o=this.prepareExternalUrl(n+l.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,e,o)},e.prototype.replaceState=function(t,e,n,r){var o=this.prepareExternalUrl(n+l.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,o)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(s),f=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(o.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return l.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+l.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var o=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.pushState(t,e,o)},e.prototype.replaceState=function(t,e,n,r){var o=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,o)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(s),d=void 0,p=["en",[["a","p"],["AM","PM"],d],[["AM","PM"],d,d],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],d,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],d,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",d,"{1} 'at' {0}",d],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],g={},m=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),v=new r.p("UseV4Plurals"),y=function(){return function(){}}(),b=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(o.__extends)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=g[e];if(n)return n;var r=e.split("-")[0];if(n=g[r])return n;if("en"===r)return p;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[18]}(e||this.locale)(t)){case m.Zero:return"zero";case m.One:return"one";case m.Two:return"two";case m.Few:return"few";case m.Many:return"many";default:return"other"}},e}(y);function w(t,e){var n,r;e=encodeURIComponent(e);try{for(var i=Object(o.__values)(t.split(";")),a=i.next();!a.done;a=i.next()){var s=a.value,u=s.indexOf("="),l=Object(o.__read)(-1==u?[s,""]:[s.slice(0,u),s.slice(u+1)],2),c=l[1];if(l[0].trim()===e)return decodeURIComponent(c)}}catch(h){n={error:h}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null}var _=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),C=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(r.X)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,o){if(null==t.previousIndex){var i=e._viewContainer.createEmbeddedView(e._template,new _(null,e._ngForOf,-1,-1),o),a=new S(t,i);n.push(a)}else null==o?e._viewContainer.remove(r):(i=e._viewContainer.get(r),e._viewContainer.move(i,o),a=new S(t,i),n.push(a))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var o=this._viewContainer.length;r<o;r++){var i=this._viewContainer.get(r);i.context.index=r,i.context.count=o,i.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.ngTemplateContextGuard=function(t,e){return!0},t}(),S=function(){return function(t,e){this.record=t,this.view=e}}(),E=function(){function t(t,e){this._viewContainer=t,this._context=new O,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){I("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){I("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t.ngTemplateGuard_ngIf=function(t,e){return!0},t}(),O=function(){return function(){this.$implicit=null,this.ngIf=null}}();function I(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+Object(r.Cb)(e)+"'.")}var k=function(){return function(){}}(),x=new r.p("DocumentToken"),T="browser",D="server";function P(t){return t===T}function A(t){return t===D}var N=function(){function t(){}return t.ngInjectableDef=Object(r.S)({providedIn:"root",factory:function(){return new M(Object(r.W)(x),window)}}),t}(),M=function(){function t(t,e){this.document=t,this.window=e,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}()},IutQ:function(t,e,n){var r=n("t5mC"),o=n("9Nts");t.exports=function(t){return r(o(t))}},JIMt:function(t,e,n){var r=n("kpns"),o=n("ysHE").document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},JKJi:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},JcRv:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("xTla"),o=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},Ji5e:function(t,e,n){},JpPu:function(t,e,n){var r=n("nJQW");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},JzIs:function(t,e,n){var r=n("lb/b"),o=n("TIpl"),i=n("bcPd"),a=n("Q2Kg");t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),s=r.length,u=0;s>u;)o.f(t,n=r[u++],e[n]);return t}},JzKC:function(t,e,n){var r=n("Wogr"),o=n("aZ40");e.mul=function(t,e){var n=new r(t.length+e.length-1);n.fill(0);for(var i=0;i<t.length;i++)for(var a=0;a<e.length;a++)n[i+a]^=o.mul(t[i],e[a]);return n},e.mod=function(t,e){for(var n=new r(t);n.length-e.length>=0;){for(var i=n[0],a=0;a<e.length;a++)n[a]^=o.mul(e[a],i);for(var s=0;s<n.length&&0===n[s];)s++;n=n.slice(s)}return n},e.generateECPolynomial=function(t){for(var n=new r([1]),i=0;i<t;i++)n=e.mul(n,[1,o.exp(i)]);return n}},K8G7:function(t,e,n){"use strict";var r=n("IutQ"),o=n("gJLK"),i=n("0i0S"),a=n("LX9C"),s=n("stQs"),u=a.set,l=a.getterFor("Array Iterator");t.exports=s(Array,"Array",function(t,e){u(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=l(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},K9Ia:function(t,e,n){"use strict";var r=n("mrSG"),o=n("6blF"),i=n("FFOo"),a=n("pugT"),s=n("8g8A"),u=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.__extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(a.a),l=n("L/V9");n.d(e,"b",function(){return c}),n.d(e,"a",function(){return h});var c=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.__extends(e,t),e}(i.a),h=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.__extends(e,t),e.prototype[l.a]=function(){return new c(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new u(this,t))},e.prototype.asObservable=function(){var t=new o.a;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(o.a),f=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.__extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(h)},"KOl+":function(t,e,n){"use strict";n.d(e,"c",function(){return s}),n.d(e,"a",function(){return u}),n.d(e,"d",function(){return l}),n.d(e,"b",function(){return d}),n.d(e,"e",function(){return g}),n.d(e,"f",function(){return m});var r=n("6blF"),o=n("bne5"),i={error:"cordova_not_available"},a={error:"plugin_not_installed"};function s(t){if("undefined"!=typeof window&&window.angular){var e=window.document,n=window.angular.element(e.querySelector("[ng-app]")||e.body).injector();if(n)return n.get("$q")(function(e,n){t(e,n)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(e,n){t(e,n)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function u(t,e,n){var r,o,s;return"string"==typeof t?r=t:(r=t.constructor.getPluginRef(),n=t.constructor.getPluginName(),s=t.constructor.getPluginInstallName()),!(!(o=d(r))||e&&void 0===o[e])||("undefined"!=typeof window&&window.cordova?(function(t,n,r){e?console.warn("Native: tried calling "+t+"."+e+", but the "+t+" plugin is not installed."):console.warn("Native: tried accessing the "+t+" plugin but it's not installed."),n&&console.warn("Install the "+t+" plugin: 'ionic cordova plugin add "+n+"'")}(n,s),a):(function(t,n){"undefined"==typeof process&&(e?console.warn("Native: tried calling "+t+"."+e+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"):console.warn("Native: tried accessing the "+t+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"))}(n),i))}function l(t,e){return t._objectInstance&&(!e||void 0!==t._objectInstance[e])}function c(t,e,n,r){if(void 0===e&&(e={}),e.sync)return t;if("reverse"===e.callbackOrder)t.unshift(r),t.unshift(n);else if("node"===e.callbackStyle)t.push(function(t,e){t?r(t):n(e)});else if("object"===e.callbackStyle&&e.successName&&e.errorName){var o={};o[e.successName]=n,o[e.errorName]=r,t.push(o)}else if(void 0!==e.successIndex||void 0!==e.errorIndex){var i=function(){e.successIndex>t.length?t[e.successIndex]=n:t.splice(e.successIndex,0,n)},a=function(){e.errorIndex>t.length?t[e.errorIndex]=r:t.splice(e.errorIndex,0,r)};e.successIndex>e.errorIndex?(a(),i()):(i(),a())}else t.push(n),t.push(r);return t}function h(t,e,n,r,o,i){void 0===r&&(r={}),n=c(n,r,o,i);var a=u(t,e);if(!0===a){var s=d(t.constructor.getPluginRef());return s[e].apply(s,n)}return a}function f(t,e,n,r,o,i){if(void 0===r&&(r={}),n=c(n,r,o,i),l(t,e))return t._objectInstance[e].apply(t._objectInstance,n)}function d(t){return"undefined"!=typeof window?p(window,t):null}function p(t,e){for(var n=e.split("."),r=t,o=0;o<n.length;o++){if(!r)return null;r=r[n[o]]}return r}var g=function(t,e,n){return void 0===n&&(n={}),function(){for(var i,a,u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return n.sync?h(t,e,u,n):n.observable?function(t,e,n,o){return void 0===o&&(o={}),new r.a(function(r){var i;return(i=o.destruct?h(t,e,n,o,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.error(t)}):h(t,e,n,o,r.next.bind(r),r.error.bind(r)))&&i.error&&(r.error(i.error),r.complete()),function(){try{if(o.clearFunction)return o.clearWithArgs?h(t,o.clearFunction,n,o,r.next.bind(r),r.error.bind(r)):h(t,o.clearFunction,[])}catch(i){console.warn("Unable to clear the previous observable watch for",t.constructor.getPluginName(),e),console.warn(i)}}})}(t,e,u,n):n.eventObservable&&n.event?(i=n.event,a=n.element,a="undefined"!=typeof window&&a?p(window,a):a||"undefined"!=typeof window||{},Object(o.a)(a,i)):n.otherPromise?function(t,e,n,r){return void 0===r&&(r={}),s(function(o,i){var a=h(t,e,n,r);a?a.error?i(a.error):a.then&&a.then(o).catch(i):i({error:"unexpected_error"})})}(t,e,u,n):function(t,e,n,r){var o,i;void 0===r&&(r={});var a=s(function(a,s){o=r.destruct?h(t,e,n,r,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s(t)}):h(t,e,n,r,a,s),i=s});return o&&o.error&&(a.catch(function(){}),"function"==typeof i&&i(o.error)),a}(t,e,u,n)}};function m(t,e,n){return void 0===n&&(n={}),function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(n.sync)return f(t,e,o,n);if(n.observable)return new r.a(function(r){var i;return(i=n.destruct?f(t,e,o,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.error(t)}):f(t,e,o,n,r.next.bind(r),r.error.bind(r)))&&i.error&&r.error(i.error),function(){try{return n.clearWithArgs?f(t,n.clearFunction,o,n,r.next.bind(r),r.error.bind(r)):f(t,n.clearFunction,[])}catch(i){console.warn("Unable to clear the previous observable watch for",t.constructor.getPluginName(),e),console.warn(i)}}});if(n.otherPromise)return s(function(r,i){var a;(a=n.destruct?f(t,e,o,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)}):f(t,e,o,n,r,i))&&a.then?a.then(r,i):i()});var a,u,l=s(function(r,i){a=n.destruct?f(t,e,o,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)}):f(t,e,o,n,r,i),u=i});return a&&a.error&&(l.catch(function(){}),"function"==typeof u&&u(a.error)),l}}},KaSA:function(t,e,n){t.exports=n("uzDk")},Ksdp:function(t,e,n){var r=n("GrVo");n("pSMy")({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},"L/V9":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},LX9C:function(t,e,n){var r,o,i,a=n("BloW"),s=n("kpns"),u=n("wBs/"),l=n("57wU"),c=n("qBi7"),h=n("vcTx"),f=n("ysHE").WeakMap;if(a){var d=new f,p=d.get,g=d.has,m=d.set;r=function(t,e){return m.call(d,t,e),e},o=function(t){return p.call(d,t)||{}},i=function(t){return g.call(d,t)}}else{var v=c("state");h[v]=!0,r=function(t,e){return u(t,v,e),e},o=function(t){return l(t,v)?t[v]:{}},i=function(t){return l(t,v)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!s(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},Lq6m:function(t,e,n){"use strict";var r=n("KOl+");n.d(e,"a",function(){return o});var o=function(){function t(){}return t.installed=function(){return!0===Object(r.a)(this.pluginRef)},t.getPlugin=function(){return"undefined"!=typeof window?function(t,e){for(var n=e.split("."),r=t,o=0;o<n.length;o++){if(!r)return null;r=r[n[o]]}return r}(window,this.pluginRef):null},t.getPluginName=function(){return this.pluginName},t.getPluginRef=function(){return this.pluginRef},t.getPluginInstallName=function(){return this.plugin},t.getSupportedPlatforms=function(){return this.platforms||[]},t}()},Lzq4:function(t,e,n){var r=n("u/Db"),o=n("e/Dd");function i(t){this.mode=r.KANJI,this.data=t}i.getBitsLength=function(t){return 13*t},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var n=o.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");n-=49472}t.put(n=192*(n>>>8&255)+(255&n),13)}},t.exports=i},MGBS:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("FFOo").a)},McSo:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},MfhB:function(t,e,n){var r=n("ysHE"),o=n("nX7E"),i=r["__core-js_shared__"]||o("__core-js_shared__",{});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.0.1",mode:n("U5J1")?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},MuAL:function(t,e,n){n("q94Q")("toPrimitive")},NPxG:function(t,e,n){var r=n("ekOh"),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case r.L:return o[4*(t-1)+0];case r.M:return o[4*(t-1)+1];case r.Q:return o[4*(t-1)+2];case r.H:return o[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case r.L:return i[4*(t-1)+0];case r.M:return i[4*(t-1)+1];case r.Q:return i[4*(t-1)+2];case r.H:return i[4*(t-1)+3];default:return}}},OwiN:function(t,e,n){var r=n("Rb7d");function o(t){return'fill="rgb('+[t.r,t.g,t.b].join(",")+')" fill-opacity="'+(t.a/255).toFixed(2)+'"'}e.render=function(t,e){var n=r.getOptions(e),i=t.modules.size,a=t.modules.data,s=(i+2*n.margin)*n.scale,u='<?xml version="1.0" encoding="utf-8"?>\n';u+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n',u+='<svg version="1.1" baseProfile="full"',u+=' width="'+s+'" height="'+s+'"',u+=' viewBox="0 0 '+s+" "+s+'"',u+=' xmlns="http://www.w3.org/2000/svg"',u+=' xmlns:xlink="http://www.w3.org/1999/xlink"',u+=' xmlns:ev="http://www.w3.org/2001/xml-events">\n',u+='<rect x="0" y="0" width="'+s+'" height="'+s+'" '+o(n.color.light)+" />\n",u+='<defs><rect id="p" width="'+n.scale+'" height="'+n.scale+'" /></defs>\n',u+="<g "+o(n.color.dark)+">\n";for(var l=0;l<i;l++)for(var c=0;c<i;c++)a[l*i+c]&&(u+='<use x="'+(n.margin+c)*n.scale+'" y="'+(n.margin+l)*n.scale+'" xlink:href="#p" />\n');return(u+="</g>\n")+"</svg>"}},PU8L:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("6blF");function o(t){var e=new r.a(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}},Phjn:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("psW0");function o(t,e){return Object(r.a)(t,e,1)}},Q2Kg:function(t,e,n){var r=n("2w5C"),o=n("o9j8");t.exports=Object.keys||function(t){return r(t,o)}},QURa:function(t,e,n){n("q94Q")("patternMatch")},QUaw:function(t,e,n){var r=n("Rb7d");e.render=function(t,e,n){var o=n,i=e;void 0!==o||e&&e.getContext||(o=e,e=void 0),e||(i=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),o=r.getOptions(o);var a=(t.modules.size+2*o.margin)*o.scale,s=i.getContext("2d"),u=s.createImageData(a,a);return r.qrToImageData(u.data,t,o.margin,o.scale,o.color),function(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}(s,i,a),s.putImageData(u,0,0),i},e.renderToDataURL=function(t,n,r){var o=r;return void 0!==o||n&&n.getContext||(o=n,n=void 0),o||(o={}),e.render(t,n,o).toDataURL(o.type||"image/png",(o.rendererOpts||{}).quality)}},QvOV:function(t,e,n){var r=n("YCU0"),o=Object.prototype;r!==o.toString&&n("1f/i")(o,"toString",r,{unsafe:!0})},Rb7d:function(t,e){function n(t){if("string"!=typeof t)throw new Error("Color should be defined as hex string");var e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map(function(t){return[t,t]}))),6===e.length&&e.push("F","F");var n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n}}e.getOptions=function(t){return t||(t={}),t.color||(t.color={}),{scale:t.scale||4,margin:null==t.margin||t.margin<0?4:t.margin,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.qrToImageData=function(t,e,n,r,o){for(var i=e.modules.size,a=e.modules.data,s=n*r,u=i*r+2*s,l=[o.light,o.dark],c=0;c<u;c++)for(var h=0;h<u;h++){var f=4*(c*u+h),d=o.light;c>=s&&h>=s&&c<u-s&&h<u-s&&(d=l[a[Math.floor((c-s)/r)*i+Math.floor((h-s)/r)]]),t[f++]=d.r,t[f++]=d.g,t[f++]=d.b,t[f]=d.a}}},"Rt+L":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("KOl+");function o(t,e,n,o){return o=Array.from(o),Object(r.f)(t,e,n).apply(this,o)}},S1nX:function(t,e,n){"use strict";var r=n("mrSG"),o=n("K9Ia"),i=n("6blF"),a=n("FFOo"),s=n("pugT");function u(){return function(t){return t.lift(new l(t))}}var l=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new c(t,n),o=e.subscribe(r);return r.closed||(r.connection=n.connect()),o},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.__extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(a.a),h=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.__extends(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.a).add(this.source.subscribe(new d(this.getSubject(),this))),t.closed?(this._connection=null,t=s.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return u()(this)},e}(i.a).prototype,f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},d=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.__extends(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(o.b);function p(){return new o.a}function g(){return function(t){return u()((e=p,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}}n.d(e,"a",function(){return g})},S4gH:function(t,e,n){var r=n("TIpl").f,o=n("57wU"),i=n("aXXJ")("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},S5XQ:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("DKTb"),o=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.a),e}}},S5sp:function(t,e,n){t.exports=!n("0HDe")(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},SAp2:function(t,e,n){var r=n("9Nts");t.exports=function(t){return Object(r(t))}},SIcJ:function(t,e,n){var r=n("Q2Kg"),o=n("fw2a"),i=n("iCuu");t.exports=function(t){var e=r(t),n=o.f;if(n)for(var a,s=n(t),u=i.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},SqqW:function(t,e,n){"use strict";var r=n("CcnG"),o=n("oBZk"),i=n("ZZ/e"),a=n("kL6T");n.d(e,"a",function(){return c});var s=r.nb({encapsulation:0,styles:[[""]],data:{}});function u(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,6,"ion-header",[],null,null,null,o.F,o.j)),r.ob(1,49152,null,0,i.A,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,4,"ion-toolbar",[],null,null,null,o.R,o.v)),r.ob(3,49152,null,0,i.Ab,[r.h,r.k],null,null),(t()(),r.pb(4,0,null,0,2,"ion-title",[],null,null,null,o.Q,o.u)),r.ob(5,49152,null,0,i.yb,[r.h,r.k],null,null),(t()(),r.Db(-1,0,["X-Wing Tabled"])),(t()(),r.pb(7,0,null,null,36,"ion-content",[["padding",""]],null,null,null,o.A,o.e)),r.ob(8,49152,null,0,i.t,[r.h,r.k],null,null),(t()(),r.pb(9,0,null,0,2,"h3",[],null,null,null,null,null)),(t()(),r.pb(10,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["...Because Second Edition has huge cards and too many tokens"])),(t()(),r.pb(12,0,null,0,4,"p",[],null,null,null,null,null)),(t()(),r.Db(-1,null,[" This app will maintain your card state for The X-Wing Miniatures Game: Second Edition. It is designed to maintain items that are off the play area - cards and shield/charge/force tokens. This app is not a squadron builder. You can import XWS squadron data from places like "])),(t()(),r.pb(14,0,null,null,1,"a",[["href","https://raithos.github.io"]],null,null,null,null,null)),(t()(),r.Db(-1,null,["YASB 2.0"])),(t()(),r.Db(-1,null,[" or Launch Bay Next. "])),(t()(),r.pb(17,0,null,0,1,"h3",[],null,null,null,null,null)),(t()(),r.Db(-1,null,[" Found a bug or have a suggestion? "])),(t()(),r.pb(19,0,null,0,4,"p",[],null,null,null,null,null)),(t()(),r.Db(-1,null,[" Please submit an issue to "])),(t()(),r.pb(21,0,null,null,1,"a",[["href","https://github.com/jychuah/XwingTabled/issues"]],null,null,null,null,null)),(t()(),r.Db(-1,null,["the XwingTabled GitHub repo"])),(t()(),r.Db(-1,null,[". Better yet, if you have a fix or feature, feel free to fork the repo and submit pull requests! "])),(t()(),r.pb(24,0,null,0,1,"h3",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["Local Data Storage"])),(t()(),r.pb(26,0,null,0,1,"p",[],null,null,null,null,null)),(t()(),r.Db(-1,null,[" This web app caches some data locally, such as card data or your table state. This means you will be required to download data on first use or when new data is released. The advantage is that if you navigate away from the app in the middle of the game, you don't have to worry about losing your game state. "])),(t()(),r.pb(28,0,null,0,1,"h3",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["Artwork and Game Text Use"])),(t()(),r.pb(30,0,null,0,7,"p",[],null,null,null,null,null)),(t()(),r.Db(-1,null,[" This app uses artwork from Fantasy Flight's image CDN, open source card and text data from "])),(t()(),r.pb(32,0,null,null,1,"a",[["href","https://github.com/guidokessels/xwing-data2"]],null,null,null,null,null)),(t()(),r.Db(-1,null,["Guido Kessel's Xwing Data 2 project"])),(t()(),r.Db(-1,null,[", and "])),(t()(),r.pb(35,0,null,null,1,"a",[["href","https://github.com/geordanr/xwing-miniatures-font"]],null,null,null,null,null)),(t()(),r.Db(-1,null,["GeordanR's X-Wing Miniatures Font"])),(t()(),r.Db(-1,null,[". This app is not distributed with copyright artwork or card data on its own. Data is downloaded and cached upon first use. Artwork is hotlinked from Fantasy Flight for web versions of this application, and downloaded and cached for mobile versions. "])),(t()(),r.pb(38,0,null,0,5,"ion-fab",[["horizontal","start"],["slot","fixed"],["vertical","bottom"]],null,null,null,o.D,o.f)),r.ob(39,49152,null,0,i.v,[r.h,r.k],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(t()(),r.pb(40,0,null,0,3,"ion-fab-button",[["href","../"]],null,null,null,o.B,o.g)),r.ob(41,49152,null,0,i.w,[r.h,r.k],{href:[0,"href"]},null),(t()(),r.pb(42,0,null,0,1,"ion-icon",[["name","arrow-back"]],null,null,null,o.G,o.k)),r.ob(43,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null)],function(t,e){t(e,39,0,"start","bottom"),t(e,41,0,"../"),t(e,43,0,"arrow-back")},null)}function l(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"app-about",[],null,null,null,u,s)),r.ob(1,114688,null,0,a.a,[],null,null)],function(t,e){t(e,1,0)},null)}var c=r.lb("app-about",a.a,l,{},{},[])},T3Qk:function(t,e,n){n("q0E7"),n("//qW"),n("spD4"),t.exports=n("ahhG").f("iterator")},TIpl:function(t,e,n){var r=n("lb/b"),o=n("a0i3"),i=n("bcPd"),a=n("ehg7"),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return s(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},U4hp:function(t,e,n){"use strict";var r=n("ehg7"),o=n("TIpl"),i=n("2Hee");t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},U5J1:function(t,e){t.exports=!1},Uv6z:function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},o=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};c.prototype.append=function(t,e){t=s(t),e=u(e);var n=this.map[t];this.map[t]=n?n+","+e:e},c.prototype.delete=function(t){delete this.map[s(t)]},c.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},c.prototype.set=function(t,e){this.map[s(t)]=u(e)},c.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),l(t)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),l(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),l(t)},e.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},g.call(m.prototype),g.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];y.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=c,t.Request=m,t.Response=y,t.fetch=function(t,n){return new Promise(function(r,o){var i=new m(t,n),a=new XMLHttpRequest;a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new c,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}}),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL"),r(new y("response"in a?a.response:a.responseText,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),i.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function c(t){this.map={},t instanceof c?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function d(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!o(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=p(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var t,e,n,r=h(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=f(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(t,e){var n,r,o=(e=e||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),i.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}}),e}function y(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},V35J:function(t,e,n){var r=n("Wogr");function o(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new r(t*t),this.data.fill(0),this.reservedBit=new r(t*t),this.reservedBit.fill(0)}o.prototype.set=function(t,e,n,r){var o=t*this.size+e;this.data[o]=n,r&&(this.reservedBit[o]=!0)},o.prototype.get=function(t,e){return this.data[t*this.size+e]},o.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},o.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=o},"VnD/":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),o=n("FFOo");function i(t,e){return function(n){return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return r.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(o.a)},WBJg:function(t,e,n){n("pSMy")({target:"String",proto:!0},{repeat:n("nsc/")})},Wcq6:function(t,e,n){"use strict";n("lcbw");var r,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=o},Wogr:function(t,e,n){"use strict";var r=n("7uVY"),o=2147483647;function i(t,e,n){return"number"==typeof t?u(t):function(t,e,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(t,e,n){if(e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");var r;return(r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n)).__proto__=i.prototype,r}(t,e,n):"string"==typeof t?function(t){var e=0|h(t),n=s(e),r=n.write(t);return r!==e&&(n=n.slice(0,r)),n}(t):function(t){if(i.isBuffer(t)){var e=0|a(t.length),n=s(e);return 0===n.length?n:(t.copy(n,0,0,e),n)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(0):l(t);if("Buffer"===t.type&&Array.isArray(t.data))return l(t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t)}(t,e,n)}function a(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function s(t){var e=new Uint8Array(t);return e.__proto__=i.prototype,e}function u(t){return s(t<0?0:0|a(t))}function l(t){for(var e=t.length<0?0:0|a(t.length),n=s(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function c(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function h(t){return i.isBuffer(t)?t.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)?t.byteLength:("string"!=typeof t&&(t=""+t),0===t.length?0:c(t).length)}i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.prototype.write=function(t,e,n){void 0===e?(n=this.length,e=0):void 0===n&&"string"==typeof e?(n=this.length,e=0):isFinite(e)&&(e|=0,isFinite(n)?n|=0:n=void 0);var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(t,e,n,r){return function(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}(c(e,t.length-n),t,n,r)}(this,t,e,n)},i.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return r.__proto__=i.prototype,r},i.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},i.prototype.fill=function(t,e,n){if("string"==typeof t){if("string"==typeof e?(e=0,n=this.length):"string"==typeof n&&(n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=i.isBuffer(t)?t:new i(t),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this},i.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s(null);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var o=u(e),a=0;for(n=0;n<t.length;++n){var l=t[n];if(!i.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(o,a),a+=l.length}return o},i.byteLength=h,i.prototype._isBuffer=!0,i.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.exports=i},XCog:function(t,e,n){var r=n("0Bu/");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(o){}return function(n,o){return r(n,o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},YCU0:function(t,e,n){"use strict";var r=n("ZrEc"),o={};o[n("aXXJ")("toStringTag")]="z",t.exports="[object z]"!==String(o)?function(){return"[object "+r(this)+"]"}:o.toString},YxH6:function(t,e,n){"use strict";var r,o,i,a=n("0idE"),s=n("wBs/"),u=n("57wU"),l=n("U5J1"),c=n("aXXJ")("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):h=!0),null==r&&(r={}),l||u(r,c)||s(r,c,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},ZPxF:function(t,e,n){n("S4gH")(n("ysHE").JSON,"JSON",!0)},ZYCi:function(t,e,n){"use strict";var r=n("mrSG"),o=n("Ip0R"),i=n("CcnG"),a=n("F/XL"),s=n("0/uQ"),u=n("K9Ia"),l=n("8g8A"),c=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return r.__extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new l.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(u.a),h=n("6blF");function f(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}f.prototype=Object.create(Error.prototype);var d=f,p=n("nkY7"),g=n("isby"),m=n("MGBS"),v=n("zotm"),y=n("IUTb"),b={},w=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new _(t,this.resultSelector))},t}(),_=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.__extends(e,t),e.prototype._next=function(t){this.values.push(b),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(v.a)(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){var i=this.values,a=this.toRespond?i[n]===b?--this.toRespond:this.toRespond:0;i[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(m.a),C=n("G5J1");function S(t){return new h.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(s.a)(n):Object(C.b)()).subscribe(e)})}var E=n("67Y/"),O=n("Zn8D");function I(){return Object(O.a)(1)}var k=n("VnD/"),x=n("FFOo");function T(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}T.prototype=Object.create(Error.prototype);var D=T;function P(t){return function(e){return 0===t?Object(C.b)():e.lift(new A(t))}}var A=function(){function t(t){if(this.total=t,this.total<0)throw new D}return t.prototype.call=function(t,e){return e.subscribe(new N(t,this.total))},t}(),N=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.__extends(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,o=0;o<n;o++){var i=e++%n;t.next(r[i])}t.complete()},e}(x.a),M=n("xMyE"),R=function(t){return void 0===t&&(t=j),Object(M.a)({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function j(){return new d}function L(t){return void 0===t&&(t=null),function(e){return e.lift(new U(t))}}var U=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new q(t,this.defaultValue))},t}(),q=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.__extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(x.a),F=n("mChF");function V(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(k.a)(function(e,n){return t(e,n,r)}):F.a,P(1),n?L(e):R(function(){return new d}))}}var B=n("9Z1F");function z(t){return function(e){return 0===t?Object(C.b)():e.lift(new H(t))}}var H=function(){function t(t){if(this.total=t,this.total<0)throw new D}return t.prototype.call=function(t,e){return e.subscribe(new G(t,this.total))},t}(),G=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r.__extends(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(x.a);function W(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(k.a)(function(e,n){return t(e,n,r)}):F.a,z(1),n?L(e):R(function(){return new d}))}}var K=n("psW0"),Q=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new J(t,this.predicate,this.thisArg,this.source))},t}(),J=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.source=o,i.index=0,i.thisArg=r||i,i}return r.__extends(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(x.a),X=n("15JJ"),Y=n("PU8L"),Z=n("dC0D"),$=n("Phjn"),tt=n("y3By"),et=n("pugT"),nt=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new rt(t,this.callback))},t}(),rt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new et.a(n)),r}return r.__extends(e,t),e}(x.a),ot=n("ZYjt");n.d(e,"t",function(){return Rn}),n.d(e,"A",function(){return Gn}),n.d(e,"v",function(){return qn}),n.d(e,"B",function(){return Wn}),n.d(e,"C",function(){return Kn}),n.d(e,"x",function(){return Vn}),n.d(e,"w",function(){return Fn}),n.d(e,"z",function(){return Hn}),n.d(e,"u",function(){return Ln}),n.d(e,"y",function(){return zn}),n.d(e,"D",function(){return Nn}),n.d(e,"o",function(){return kn}),n.d(e,"d",function(){return at}),n.d(e,"l",function(){return gn}),n.d(e,"m",function(){return En}),n.d(e,"k",function(){return vn}),n.d(e,"i",function(){return Mn}),n.d(e,"j",function(){return Qn}),n.d(e,"n",function(){return Un}),n.d(e,"b",function(){return In}),n.d(e,"e",function(){return Pn}),n.d(e,"g",function(){return Dn}),n.d(e,"h",function(){return Tn}),n.d(e,"p",function(){return An}),n.d(e,"a",function(){return de}),n.d(e,"f",function(){return St}),n.d(e,"q",function(){return bn}),n.d(e,"c",function(){return Wt}),n.d(e,"r",function(){return Gt}),n.d(e,"s",function(){return Ct});var it=function(){return function(t,e){this.id=t,this.url=e}}(),at=function(t){function e(e,n,r,o){void 0===r&&(r="imperative"),void 0===o&&(o=null);var i=t.call(this,e,n)||this;return i.navigationTrigger=r,i.restoredState=o,i}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(it),st=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(it),ut=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.reason=r,o}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(it),lt=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.error=r,o}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(it),ct=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(it),ht=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(it),ft=function(t){function e(e,n,r,o,i){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=o,a.shouldActivate=i,a}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(it),dt=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(it),pt=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(it),gt=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),mt=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),vt=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),yt=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),bt=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),wt=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),_t=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),Ct=function(){return function(){}}(),St="primary",Et=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function Ot(t){return new Et(t)}var It="ngNavigationCancelingError";function kt(t){var e=Error("NavigationCancelingError: "+t);return e[It]=!0,e}function xt(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var o={},i=0;i<r.length;i++){var a=r[i],s=t[i];if(a.startsWith(":"))o[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}var Tt=function(){return function(t,e){this.routes=t,this.module=e}}();function Dt(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];Pt(r,At(e,r))}}function Pt(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==St)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Dt(t.children,e)}function At(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function Nt(t){var e=t.children&&t.children.map(Nt),n=e?Object(r.__assign)({},t,{children:e}):Object(r.__assign)({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==St&&(n.component=Ct),n}function Mt(t,e){var n,r=Object.keys(t),o=Object.keys(e);if(r.length!=o.length)return!1;for(var i=0;i<r.length;i++)if(t[n=r[i]]!==e[n])return!1;return!0}function Rt(t){return Array.prototype.concat.apply([],t)}function jt(t){return t.length>0?t[t.length-1]:null}function Lt(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ut(t){return Object(i.tb)(t)?t:Object(i.ub)(t)?Object(s.a)(Promise.resolve(t)):Object(a.a)(t)}function qt(t,e,n){return n?function(t,e){return Mt(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!zt(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,o){if(n.segments.length>o.length)return!!zt(a=n.segments.slice(0,o.length),o)&&!r.hasChildren();if(n.segments.length===o.length){if(!zt(n.segments,o))return!1;for(var i in r.children){if(!n.children[i])return!1;if(!t(n.children[i],r.children[i]))return!1}return!0}var a=o.slice(0,n.segments.length),s=o.slice(n.segments.length);return!!zt(n.segments,a)&&!!n.children[St]&&e(n.children[St],r,s)}(e,n,n.segments)}(t.root,e.root)}var Ft=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Ot(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Kt.serialize(this)},t}(),Vt=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,Lt(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Qt(this)},t}(),Bt=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Ot(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return te(this)},t}();function zt(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function Ht(t,e){var n=[];return Lt(t.children,function(t,r){r===St&&(n=n.concat(e(t,r)))}),Lt(t.children,function(t,r){r!==St&&(n=n.concat(e(t,r)))}),n}var Gt=function(){return function(){}}(),Wt=function(){function t(){}return t.prototype.parse=function(t){var e=new ie(t);return new Ft(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return Qt(e);if(n){var r=e.children[St]?t(e.children[St],!1):"",o=[];return Lt(e.children,function(e,n){n!==St&&o.push(n+":"+t(e,!1))}),o.length>0?r+"("+o.join("//")+")":r}var i=Ht(e,function(n,r){return r===St?[t(e.children[St],!1)]:[r+":"+t(n,!1)]});return Qt(e)+"/("+i.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return Xt(t)+"="+Xt(e)}).join("&"):Xt(t)+"="+Xt(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Kt=new Wt;function Qt(t){return t.segments.map(function(t){return te(t)}).join("/")}function Jt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xt(t){return Jt(t).replace(/%3B/gi,";")}function Yt(t){return Jt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zt(t){return decodeURIComponent(t)}function $t(t){return Zt(t.replace(/\+/g,"%20"))}function te(t){return""+Yt(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+Yt(t)+"="+Yt(e[t])}).join(""));var e}var ee=/^[^\/()?;=#]+/;function ne(t){var e=t.match(ee);return e?e[0]:""}var re=/^[^=?&#]+/,oe=/^[^?&#]+/,ie=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[St]=new Vt(t,e)),n},t.prototype.parseSegment=function(){var t=ne(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new Bt(Zt(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=ne(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=ne(this.remaining);r&&this.capture(n=r)}t[Zt(e)]=Zt(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(re))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var o=function(t){var e=t.match(oe);return e?e[0]:""}(this.remaining);o&&this.capture(r=o)}var i=$t(n),a=$t(r);if(t.hasOwnProperty(i)){var s=t[i];Array.isArray(s)||(t[i]=s=[s]),s.push(a)}else t[i]=a}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=ne(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var o=void 0;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=St);var i=this.parseChildren();e[o]=1===Object.keys(i).length?i[St]:new Vt([],i),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),ae=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=se(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=se(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=ue(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return ue(t,this._root).map(function(t){return t.value})},t}();function se(t,e){var n,o;if(t===e.value)return e;try{for(var i=Object(r.__values)(e.children),a=i.next();!a.done;a=i.next()){var s=se(t,a.value);if(s)return s}}catch(u){n={error:u}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return null}function ue(t,e){var n,o;if(t===e.value)return[e];try{for(var i=Object(r.__values)(e.children),a=i.next();!a.done;a=i.next()){var s=ue(t,a.value);if(s.length)return s.unshift(e),s}}catch(u){n={error:u}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return[]}var le=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function ce(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var he=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,ve(r,e),r}return Object(r.__extends)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(ae);function fe(t,e){var n=function(t,e){var n=new ge([],{},{},"",{},St,e,null,t.root,-1,{});return new me("",new le(n,[]))}(t,e),r=new c([new Bt("",{})]),o=new c({}),i=new c({}),a=new c({}),s=new c(""),u=new de(r,o,a,s,i,St,e,n.root);return u.snapshot=n.root,new he(new le(u,[]),n)}var de=function(){function t(t,e,n,r,o,i,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(E.a)(function(t){return Ot(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(E.a)(function(t){return Ot(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function pe(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,o=0;if("always"!==e)for(o=n.length-1;o>=1;){var i=n[o],a=n[o-1];if(i.routeConfig&&""===i.routeConfig.path)o--;else{if(a.component)break;o--}}return function(t){return t.reduce(function(t,e){return{params:Object(r.__assign)({},t.params,e.params),data:Object(r.__assign)({},t.data,e.data),resolve:Object(r.__assign)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(o))}var ge=function(){function t(t,e,n,r,o,i,a,s,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Ot(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Ot(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),me=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,ve(r,n),r}return Object(r.__extends)(e,t),e.prototype.toString=function(){return ye(this._root)},e}(ae);function ve(t,e){e.value._routerState=t,e.children.forEach(function(e){return ve(t,e)})}function ye(t){var e=t.children.length>0?" { "+t.children.map(ye).join(", ")+" } ":"";return""+t.value+e}function be(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Mt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Mt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Mt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Mt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function we(t,e){var n,r;return Mt(t.params,e.params)&&zt(n=t.url,r=e.url)&&n.every(function(t,e){return Mt(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||we(t.parent,e.parent))}function _e(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ce(t,e,n,r,o){var i={};return r&&Lt(r,function(t,e){i[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new Ft(n.root===t?e:function t(e,n,r){var o={};return Lt(e.children,function(e,i){o[i]=e===n?r:t(e,n,r)}),new Vt(e.segments,o)}(n.root,t,e),i,o)}var Se=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&_e(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==jt(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),Ee=function(){return function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}();function Oe(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[St]:""+t}function Ie(t,e,n){if(t||(t=new Vt([],{})),0===t.segments.length&&t.hasChildren())return ke(t,e,n);var r=function(t,e,n){for(var r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};o<t.segments.length;){if(r>=n.length)return i;var a=t.segments[o],s=Oe(n[r]),u=r<n.length-1?n[r+1]:null;if(o>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!Pe(s,u,a))return i;r+=2}else{if(!Pe(s,{},a))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var i=new Vt(t.segments.slice(0,r.pathIndex),{});return i.children[St]=new Vt(t.segments.slice(r.pathIndex),t.children),ke(i,0,o)}return r.match&&0===o.length?new Vt(t.segments,{}):r.match&&!t.hasChildren()?xe(t,e,n):r.match?ke(t,0,o):xe(t,e,n)}function ke(t,e,n){if(0===n.length)return new Vt(t.segments,{});var r=function(t){var e,n;return"object"!=typeof t[0]?((e={})[St]=t,e):void 0===t[0].outlets?((n={})[St]=t,n):t[0].outlets}(n),o={};return Lt(r,function(n,r){null!==n&&(o[r]=Ie(t.children[r],e,n))}),Lt(t.children,function(t,e){void 0===r[e]&&(o[e]=t)}),new Vt(t.segments,o)}function xe(t,e,n){for(var r=t.segments.slice(0,e),o=0;o<n.length;){if("object"==typeof n[o]&&void 0!==n[o].outlets){var i=Te(n[o].outlets);return new Vt(r,i)}if(0===o&&_e(n[0]))r.push(new Bt(t.segments[e].path,n[0])),o++;else{var a=Oe(n[o]),s=o<n.length-1?n[o+1]:null;a&&s&&_e(s)?(r.push(new Bt(a,De(s))),o+=2):(r.push(new Bt(a,{})),o++)}}return new Vt(r,{})}function Te(t){var e={};return Lt(t,function(t,n){null!==t&&(e[n]=xe(new Vt([],{}),0,t))}),e}function De(t){var e={};return Lt(t,function(t,n){return e[n]=""+t}),e}function Pe(t,e,n){return t==n.path&&Mt(e,n.parameters)}var Ae=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),be(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,o=ce(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,o[e],n),delete o[e]}),Lt(o,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,o=e?e.value:null;if(r===o)if(r.component){var i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:o})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var o=ce(t),i=t.value.component?r.children:e;Lt(o,function(t,e){return n.deactivateRouteAndItsChildren(t,i)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,o=ce(e);t.children.forEach(function(t){r.activateRoutes(t,o[t.value.outlet],n),r.forwardEvent(new wt(t.value.snapshot))}),t.children.length&&this.forwardEvent(new yt(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,o=e?e.value:null;if(be(r),r===o)if(r.component){var i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(i=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),i.children.onOutletReAttached(a.contexts),i.attachRef=a.componentRef,i.route=a.route.value,i.outlet&&i.outlet.attach(a.componentRef,a.route.value),Ne(a.route)}else{var s=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=s?s.module.componentFactoryResolver:null;i.attachRef=null,i.route=r,i.resolver=u,i.outlet&&i.outlet.activateWith(r,u),this.activateChildRoutes(t,null,i.children)}else this.activateChildRoutes(t,null,n)},t}();function Ne(t){be(t.value),t.children.forEach(Ne)}function Me(t){return"function"==typeof t}function Re(t){return t instanceof Ft}var je=function(){return function(t){this.segmentGroup=t||null}}(),Le=function(){return function(t){this.urlTree=t}}();function Ue(t){return new h.a(function(e){return e.error(new je(t))})}function qe(t){return new h.a(function(e){return e.error(new Le(t))})}function Fe(t){return new h.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var Ve=function(){function t(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.x)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,St).pipe(Object(E.a)(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Object(B.a)(function(e){if(e instanceof Le)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof je)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,St).pipe(Object(E.a)(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(Object(B.a)(function(t){if(t instanceof je)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,o=t.segments.length>0?new Vt([],((r={})[St]=t,r)):t;return new Ft(o,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(E.a)(function(t){return new Vt([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,o){if(0===Object.keys(n).length)return Object(a.a)({});var i=[],s=[],u={};return Lt(n,function(n,o){var a,l,c=(a=o,l=n,r.expandSegmentGroup(t,e,l,a)).pipe(Object(E.a)(function(t){return u[o]=t}));o===St?i.push(c):s.push(c)}),a.a.apply(null,i.concat(s)).pipe(I(),V(),Object(E.a)(function(){return u}))}(n.children)},t.prototype.expandSegment=function(t,e,n,o,i,s){var u=this;return a.a.apply(void 0,Object(r.__spread)(n)).pipe(Object(E.a)(function(r){return u.expandSegmentAgainstRoute(t,e,n,r,o,i,s).pipe(Object(B.a)(function(t){if(t instanceof je)return Object(a.a)(null);throw t}))}),I(),W(function(t){return!!t}),Object(B.a)(function(t,n){if(t instanceof d||"EmptyError"===t.name){if(u.noLeftoversInUrl(e,o,i))return Object(a.a)(new Vt([],{}));throw new je(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,o,i,a){return Ge(r)!==i?Ue(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i):Ue(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,o,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var o=this,i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?qe(i):this.lineralizeSegments(n,i).pipe(Object(K.a)(function(n){var i=new Vt(n,{});return o.expandSegment(t,i,e,n,r,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,o,i){var a=this,s=Be(e,r,o),u=s.consumedSegments,l=s.lastChild,c=s.positionalParamSegments;if(!s.matched)return Ue(e);var h=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?qe(h):this.lineralizeSegments(r,h).pipe(Object(K.a)(function(r){return a.expandSegment(t,e,n,r.concat(o.slice(l)),i,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,o){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(E.a)(function(t){return n._loadedConfig=t,new Vt(o,{})})):Object(a.a)(new Vt(o,{}));var s=Be(e,n,o),u=s.consumedSegments,l=s.lastChild;if(!s.matched)return Ue(e);var c=o.slice(l);return this.getChildConfig(t,n,o).pipe(Object(K.a)(function(t){var n=t.module,o=t.routes,s=function(t,e,n,o){return n.length>0&&function(t,e,n){return o.some(function(n){return He(t,e,n)&&Ge(n)!==St})}(t,n)?{segmentGroup:ze(new Vt(e,function(t,e){var n,o,i={};i[St]=e;try{for(var a=Object(r.__values)(t),s=a.next();!s.done;s=a.next()){var u=s.value;""===u.path&&Ge(u)!==St&&(i[Ge(u)]=new Vt([],{}))}}catch(l){n={error:l}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return i}(o,new Vt(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return o.some(function(n){return He(t,e,n)})}(t,n)?{segmentGroup:ze(new Vt(t.segments,function(t,e,n,o){var i,a,s={};try{for(var u=Object(r.__values)(n),l=u.next();!l.done;l=u.next()){var c=l.value;He(t,e,c)&&!o[Ge(c)]&&(s[Ge(c)]=new Vt([],{}))}}catch(h){i={error:h}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return Object(r.__assign)({},o,s)}(t,n,o,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,u,c,o),l=s.segmentGroup,h=s.slicedSegments;return 0===h.length&&l.hasChildren()?i.expandChildren(n,o,l).pipe(Object(E.a)(function(t){return new Vt(u,t)})):0===o.length&&0===h.length?Object(a.a)(new Vt(u,{})):i.expandSegment(n,l,o,h,St,!0).pipe(Object(E.a)(function(t){return new Vt(u.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e,n){var r=this;return e.children?Object(a.a)(new Tt(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(a.a)(e._loadedConfig):function(t,e,n){var r,o=e.canLoad;return o&&0!==o.length?Object(s.a)(o).pipe(Object(E.a)(function(r){var o,i=t.get(r);if(function(t){return t&&Me(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Me(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Ut(o)})).pipe(I(),(r=function(t){return!0===t},function(t){return t.lift(new Q(r,void 0,t))})):Object(a.a)(!0)}(t.injector,e,n).pipe(Object(K.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(E.a)(function(t){return e._loadedConfig=t,t})):function(t){return new h.a(function(e){return e.error(kt("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}(e)})):Object(a.a)(new Tt([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(a.a)(n);if(r.numberOfChildren>1||!r.children[St])return Fe(t.redirectTo);r=r.children[St]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var o=this.createSegmentGroup(t,e.root,n,r);return new Ft(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return Lt(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var o=t.substring(1);n[r]=e[o]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var o=this,i=this.createSegments(t,e.segments,n,r),a={};return Lt(e.children,function(e,i){a[i]=o.createSegmentGroup(t,e,n,r)}),new Vt(i,a)},t.prototype.createSegments=function(t,e,n,r){var o=this;return e.map(function(e){return e.path.startsWith(":")?o.findPosParam(t,e,r):o.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){var n,o,i=0;try{for(var a=Object(r.__values)(e),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.path===t.path)return e.splice(i),u;i++}}catch(l){n={error:l}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return t},t}();function Be(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||xt)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ze(t){if(1===t.numberOfChildren&&t.children[St]){var e=t.children[St];return new Vt(t.segments.concat(e.segments),e.children)}return t}function He(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Ge(t){return t.outlet||St}var We=function(){return function(t){this.path=t,this.route=this.path[this.path.length-1]}}(),Ke=function(){return function(t,e){this.component=t,this.route=e}}();function Qe(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Je(t,e,n,r,o){void 0===o&&(o={canDeactivateChecks:[],canActivateChecks:[]});var i=ce(e);return t.children.forEach(function(t){!function(t,e,n,r,o){void 0===o&&(o={canDeactivateChecks:[],canActivateChecks:[]});var i=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&i.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!zt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!zt(t.url,e.url)||!Mt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!we(t,e)||!Mt(t.queryParams,e.queryParams);case"paramsChange":default:return!we(t,e)}}(a,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new We(r)):(i.data=a.data,i._resolvedData=a._resolvedData),Je(t,e,i.component?s?s.children:null:n,r,o),u&&o.canDeactivateChecks.push(new Ke(s&&s.outlet&&s.outlet.component||null,a))}else a&&Xe(e,s,o),o.canActivateChecks.push(new We(r)),Je(t,null,i.component?s?s.children:null:n,r,o)}(t,i[t.value.outlet],n,r.concat([t.value]),o),delete i[t.value.outlet]}),Lt(i,function(t,e){return Xe(t,n.getContext(e),o)}),o}function Xe(t,e,n){var r=ce(t),o=t.value;Lt(r,function(t,r){Xe(t,o.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ke(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}var Ye=Symbol("INITIAL_VALUE");function Ze(){return Object(X.a)(function(t){return(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return Object(p.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(g.a)(t[0])&&(t=t[0]),Object(y.a)(t,r).lift(new w(n))}).apply(void 0,Object(r.__spread)(t.map(function(t){return t.pipe(z(1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n=t[t.length-1];Object(p.a)(n)?t.pop():n=null;var r=t.length;return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return I()(a.a.apply(void 0,t))}(1!==r||n?r>0?Object(y.a)(t,n):Object(C.b)(n):Object(Y.a)(t[0]),e)}}(Ye))}))).pipe(Object(Z.a)(function(t,e){var n=!1;return e.reduce(function(t,r,o){if(t!==Ye)return t;if(r===Ye&&(n=!0),!n){if(!1===r)return r;if(o===e.length-1||Re(r))return r}return t},t)},Ye),Object(k.a)(function(t){return t!==Ye}),Object(E.a)(function(t){return Re(t)?t:!0===t}),z(1))})}function $e(t,e){return null!==t&&e&&e(new bt(t)),Object(a.a)(!0)}function tn(t,e){return null!==t&&e&&e(new vt(t)),Object(a.a)(!0)}function en(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(a.a)(!0);var o=r.map(function(r){return S(function(){var o,i=Qe(r,e,n);if(function(t){return t&&Me(t.canActivate)}(i))o=Ut(i.canActivate(e,t));else{if(!Me(i))throw new Error("Invalid CanActivate guard");o=Ut(i(e,t))}return o.pipe(W())})});return Object(a.a)(o).pipe(Ze())}function nn(t,e,n){var r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return S(function(){var o=e.guards.map(function(o){var i,a=Qe(o,e.node,n);if(function(t){return t&&Me(t.canActivateChild)}(a))i=Ut(a.canActivateChild(r,t));else{if(!Me(a))throw new Error("Invalid CanActivateChild guard");i=Ut(a(r,t))}return i.pipe(W())});return Object(a.a)(o).pipe(Ze())})});return Object(a.a)(o).pipe(Ze())}var rn=function(){return function(){}}(),on=function(){function t(t,e,n,r,o,i){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=i}return t.prototype.recognize=function(){try{var t=un(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,St),n=new ge([],Object.freeze({}),Object.freeze(Object(r.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,{},St,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new le(n,e),i=new me(this.url,o);return this.inheritParamsAndData(i._root),Object(a.a)(i)}catch(s){return new h.a(function(t){return t.error(s)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=pe(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,o=Ht(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},o.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),o=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+o+"'.")}n[t.value.outlet]=t.value}),o.sort(function(t,e){return t.value.outlet===St?-1:e.value.outlet===St?1:t.value.outlet.localeCompare(e.value.outlet)}),o},t.prototype.processSegment=function(t,e,n,o){var i,a;try{for(var s=Object(r.__values)(t),u=s.next();!u.done;u=s.next()){var l=u.value;try{return this.processSegmentAgainstRoute(l,e,n,o)}catch(c){if(!(c instanceof rn))throw c}}}catch(h){i={error:h}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}if(this.noLeftoversInUrl(e,n,o))return[];throw new rn},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,o){if(t.redirectTo)throw new rn;if((t.outlet||St)!==o)throw new rn;var i,a=[],s=[];if("**"===t.path){var u=n.length>0?jt(n).parameters:{};i=new ge(n,u,Object.freeze(Object(r.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,hn(t),o,t.component,t,an(e),sn(e)+n.length,fn(t))}else{var l=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new rn;return{consumedSegments:[],lastChild:0,parameters:{}}}var o=(e.matcher||xt)(n,t,e);if(!o)throw new rn;var i={};Lt(o.posParams,function(t,e){i[e]=t.path});var a=o.consumed.length>0?Object(r.__assign)({},i,o.consumed[o.consumed.length-1].parameters):i;return{consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:a}}(e,t,n);a=l.consumedSegments,s=n.slice(l.lastChild),i=new ge(a,l.parameters,Object.freeze(Object(r.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,hn(t),o,t.component,t,an(e),sn(e)+a.length,fn(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),h=un(e,a,s,c,this.relativeLinkResolution),f=h.segmentGroup,d=h.slicedSegments;if(0===d.length&&f.hasChildren()){var p=this.processChildren(c,f);return[new le(i,p)]}if(0===c.length&&0===d.length)return[new le(i,[])];var g=this.processSegment(c,f,d,St);return[new le(i,g)]},t}();function an(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function sn(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function un(t,e,n,o,i){if(n.length>0&&function(t,e,n){return o.some(function(n){return ln(t,e,n)&&cn(n)!==St})}(t,n)){var a=new Vt(e,function(t,e,n,o){var i,a,s={};s[St]=o,o._sourceSegment=t,o._segmentIndexShift=e.length;try{for(var u=Object(r.__values)(n),l=u.next();!l.done;l=u.next()){var c=l.value;if(""===c.path&&cn(c)!==St){var h=new Vt([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,s[cn(c)]=h}}}catch(f){i={error:f}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return s}(t,e,o,new Vt(n,t.children)));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return o.some(function(n){return ln(t,e,n)})}(t,n)){var s=new Vt(t.segments,function(t,e,n,o,i,a){var s,u,l={};try{for(var c=Object(r.__values)(o),h=c.next();!h.done;h=c.next()){var f=h.value;if(ln(t,n,f)&&!i[cn(f)]){var d=new Vt([],{});d._sourceSegment=t,d._segmentIndexShift="legacy"===a?t.segments.length:e.length,l[cn(f)]=d}}}catch(p){s={error:p}}finally{try{h&&!h.done&&(u=c.return)&&u.call(c)}finally{if(s)throw s.error}}return Object(r.__assign)({},i,l)}(t,e,n,o,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var u=new Vt(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function ln(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function cn(t){return t.outlet||St}function hn(t){return t.data||{}}function fn(t){return t.resolve||{}}function dn(t,e,n,r){var o=Qe(t,e,r);return Ut(o.resolve?o.resolve(e,n):o(e,n))}function pn(t){return function(e){return e.pipe(Object(X.a)(function(e){var n=t(e);return n?Object(s.a)(n).pipe(Object(E.a)(function(){return e})):Object(s.a)([e])}))}}var gn=function(){return function(){}}(),mn=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),vn=new i.p("ROUTES"),yn=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(E.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var o=r.create(t);return new Tt(Rt(o.injector.get(vn)).map(Nt),o)}))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(s.a)(this.loader.load(t)):Ut(t()).pipe(Object(K.a)(function(t){return t instanceof i.v?Object(a.a)(t):Object(s.a)(e.compiler.compileModuleAsync(t))}))},t}(),bn=function(){return function(){}}(),wn=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function _n(t){throw t}function Cn(t,e,n){return e.parse("/")}function Sn(t,e){return Object(a.a)(null)}var En=function(){function t(t,e,n,r,o,a,s,l){var h=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new u.a,this.errorHandler=_n,this.malformedUriErrorHandler=Cn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Sn,afterPreactivation:Sn},this.urlHandlingStrategy=new wn,this.routeReuseStrategy=new mn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(i.x),this.console=o.get(i.cb);var f=o.get(i.z);this.isNgZoneEnabled=f instanceof i.z,this.resetConfig(l),this.currentUrlTree=new Ft(new Vt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new yn(a,s,function(t){return h.triggerEvent(new gt(t))},function(t){return h.triggerEvent(new mt(t))}),this.routerState=fe(this.currentUrlTree,this.rootComponentType),this.transitions=new c({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return t.prototype.setupNavigations=function(t){var e=this,n=this.events;return t.pipe(Object(k.a)(function(t){return 0!==t.id}),Object(E.a)(function(t){return Object(r.__assign)({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),Object(M.a)(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object(r.__assign)({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Object(X.a)(function(t){var o,i,u,l,h=!1,f=!1;return Object(a.a)(t).pipe(Object(X.a)(function(t){var o,i,s,u,l=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||l)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(a.a)(t).pipe(Object(X.a)(function(t){var r=e.transitions.getValue();return n.next(new at(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?C.a:[t]}),Object(X.a)(function(t){return Promise.resolve(t)}),(o=e.ngModule.injector,i=e.configLoader,s=e.urlSerializer,u=e.config,function(t){return t.pipe(Object(X.a)(function(t){return function(e,n,r,o,i){return new Ve(e,n,r,t.extractedUrl,i).apply()}(o,i,s,0,u).pipe(Object(E.a)(function(e){return Object(r.__assign)({},t,{urlAfterRedirects:e})}))}))}),Object(M.a)(function(t){e.currentNavigation=Object(r.__assign)({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,n,o,i,a){return function(o){return o.pipe(Object(K.a)(function(o){return function(t,e,n,r,o,i){return void 0===o&&(o="emptyOnly"),void 0===i&&(i="legacy"),new on(t,e,n,r,o,i).recognize()}(t,n,o.urlAfterRedirects,(s=o.urlAfterRedirects,e.serializeUrl(s)),i,a).pipe(Object(E.a)(function(t){return Object(r.__assign)({},o,{targetSnapshot:t})}));var s}))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(M.a)(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id),e.browserUrlTree=t.urlAfterRedirects)}),Object(M.a)(function(t){var r=new ct(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(l&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var c=t.extractedUrl,h=t.source,f=t.restoredState,d=t.extras,p=new at(t.id,e.serializeUrl(c),h,f);n.next(p);var g=fe(c,e.rootComponentType).snapshot;return Object(a.a)(Object(r.__assign)({},t,{targetSnapshot:g,urlAfterRedirects:c,extras:Object(r.__assign)({},d,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,t.resolve(null),C.a}),pn(function(t){var n=t.extras;return e.hooks.beforePreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Object(M.a)(function(t){var n=new ht(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(E.a)(function(t){return Object(r.__assign)({},t,{guards:(n=t.targetSnapshot,o=t.currentSnapshot,i=e.rootContexts,a=n._root,Je(a,o?o._root:null,i,[a.value]))});var n,o,i,a}),function(t,e){return function(n){return n.pipe(Object(K.a)(function(n){var o=n.targetSnapshot,i=n.currentSnapshot,u=n.guards,l=u.canActivateChecks,c=u.canDeactivateChecks;return 0===c.length&&0===l.length?Object(a.a)(Object(r.__assign)({},n,{guardsResult:!0})):function(t,e,n,r){return Object(s.a)(t).pipe(Object(K.a)(function(t){return function(t,e,n,r,o){var i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||0===i.length)return Object(a.a)(!0);var s=i.map(function(i){var a,s=Qe(i,e,o);if(function(t){return t&&Me(t.canDeactivate)}(s))a=Ut(s.canDeactivate(t,e,n,r));else{if(!Me(s))throw new Error("Invalid CanDeactivate guard");a=Ut(s(t,e,n,r))}return a.pipe(W())});return Object(a.a)(s).pipe(Ze())}(t.component,t.route,n,e,r)}),W(function(t){return!0!==t},!0))}(c,o,i,t).pipe(Object(K.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(s.a)(e).pipe(Object($.a)(function(e){return Object(s.a)([tn(e.route.parent,r),$e(e.route,r),nn(t,e.path,n),en(t,e.route,n)]).pipe(I(),W(function(t){return!0!==t},!0))}),W(function(t){return!0!==t},!0))}(o,l,t,e):Object(a.a)(n)}),Object(E.a)(function(t){return Object(r.__assign)({},n,{guardsResult:t})}))}))}}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Object(M.a)(function(t){if(Re(t.guardsResult)){var n=kt('Redirecting to "'+e.serializeUrl(t.guardsResult)+'"');throw n.url=t.guardsResult,n}}),Object(M.a)(function(t){var n=new ft(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)}),Object(k.a)(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new ut(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),pn(function(t){if(t.guards.canActivateChecks.length)return Object(a.a)(t).pipe(Object(M.a)(function(t){var n=new dt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),(n=e.paramsInheritanceStrategy,o=e.ngModule.injector,function(t){return t.pipe(Object(K.a)(function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?Object(s.a)(i).pipe(Object($.a)(function(t){return function(t,n,o,i){return function(t,e,n,r){var o=Object.keys(t);if(0===o.length)return Object(a.a)({});if(1===o.length){var i=o[0];return dn(t[i],e,n,r).pipe(Object(E.a)(function(t){var e;return(e={})[i]=t,e}))}var u={};return Object(s.a)(o).pipe(Object(K.a)(function(o){return dn(t[o],e,n,r).pipe(Object(E.a)(function(t){return u[o]=t,t}))})).pipe(V(),Object(E.a)(function(){return u}))}(t._resolve,t,e,i).pipe(Object(E.a)(function(e){return t._resolvedData=e,t.data=Object(r.__assign)({},t.data,pe(t,o).resolve),null}))}(t.route,0,n,o)}),function(t,e){return arguments.length>=2?function(e){return Object(tt.a)(Object(Z.a)(t,void 0),P(1),L(void 0))(e)}:function(e){return Object(tt.a)(Object(Z.a)(function(e,n,r){return t(e)}),P(1))(e)}}(function(t,e){return t}),Object(E.a)(function(e){return t})):Object(a.a)(t)}))}),Object(M.a)(function(t){var n=new pt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}));var n,o}),pn(function(t){var n=t.extras;return e.hooks.afterPreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Object(E.a)(function(t){var n,o,i,a=(i=function t(e,n,o){if(o&&e.shouldReuseRoute(n.value,o.value.snapshot)){(l=o.value)._futureSnapshot=n.value;var i=function(e,n,o){return n.children.map(function(n){var i,a;try{for(var s=Object(r.__values)(o.children),u=s.next();!u.done;u=s.next()){var l=u.value;if(e.shouldReuseRoute(l.value.snapshot,n.value))return t(e,n,l)}}catch(c){i={error:c}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return t(e,n)})}(e,n,o);return new le(l,i)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,l=new de(new c((u=n.value).url),new c(u.params),new c(u.queryParams),new c(u.fragment),new c(u.data),u.outlet,u.component,u);return i=n.children.map(function(n){return t(e,n)}),new le(l,i)}(e.routeReuseStrategy,(n=t.targetSnapshot)._root,(o=t.currentRouterState)?o._root:void 0),new he(i,n));return Object(r.__assign)({},t,{targetRouterState:a})}),Object(M.a)(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,u=e.routeReuseStrategy,l=function(t){return e.triggerEvent(t)},Object(E.a)(function(t){return new Ae(u,t.targetRouterState,t.currentRouterState,l).activate(i),t})),Object(M.a)({next:function(){h=!0},complete:function(){h=!0}}),(o=function(){if(!h&&!f){e.resetUrlToCurrentUrlTree();var r=new ut(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+e.navigationId);n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new nt(o))}),Object(B.a)(function(r){if(f=!0,(s=r)&&s[It]){var o=Re(r.url);o||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var i=new ut(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(i),t.resolve(!1),o&&e.navigateByUrl(r.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new lt(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(u){t.reject(u)}}var s;return C.a}))}))},t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.getTransition=function(){return this.transitions.value},t.prototype.setTransition=function(t){this.transitions.next(Object(r.__assign)({},this.getTransition(),t))},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",o=e.state&&e.state.navigationId?e.state:null;setTimeout(function(){t.scheduleNavigation(n,r,o,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.getCurrentNavigation=function(){return this.currentNavigation},t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){Dt(t),this.config=t.map(Nt),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,o=e.queryParams,a=e.fragment,s=e.preserveQueryParams,u=e.queryParamsHandling,l=e.preserveFragment;Object(i.X)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,h=l?this.currentUrlTree.fragment:a,f=null;if(u)switch(u){case"merge":f=Object(r.__assign)({},this.currentUrlTree.queryParams,o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}else f=s?this.currentUrlTree.queryParams:o||null;return null!==f&&(f=this.removeEmptyProps(f)),function(t,e,n,o,i){if(0===n.length)return Ce(e.root,e.root,e,o,i);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Se(!0,0,t);var e=0,n=!1,o=t.reduce(function(t,o,i){if("object"==typeof o&&null!=o){if(o.outlets){var a={};return Lt(o.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),Object(r.__spread)(t,[{outlets:a}])}if(o.segmentPath)return Object(r.__spread)(t,[o.segmentPath])}return"string"!=typeof o?Object(r.__spread)(t,[o]):0===i?(o.split("/").forEach(function(r,o){0==o&&"."===r||(0==o&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):Object(r.__spread)(t,[o])},[]);return new Se(n,e,o)}(n);if(a.toRoot())return Ce(e.root,new Vt([],{}),e,o,i);var s=function(t,n,r){if(t.isAbsolute)return new Ee(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Ee(r.snapshot._urlSegment,!0,0);var o=_e(t.commands[0])?0:1;return function(e,n,i){for(var a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+o,u=t.numberOfDoubleDots;u>s;){if(u-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new Ee(a,!1,s-u)}()}(a,0,t),u=s.processChildren?ke(s.segmentGroup,s.index,a.commands):Ie(s.segmentGroup,s.index,a.commands);return Ce(s.segmentGroup,u,e,o,i)}(c,this.currentUrlTree,t,f,h)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),Object(i.X)()&&this.isNgZoneEnabled&&!i.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Re(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(Re(t))return qt(this.currentUrlTree,t,e);var n=this.parseUrl(t);return qt(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new st(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})},t.prototype.scheduleNavigation=function(t,e,n,r){var o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);var i=null,a=null,s=new Promise(function(t,e){i=t,a=e}),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:i,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})},t.prototype.setBrowserUrl=function(t,e,n,o){var i=this.urlSerializer.serialize(t);o=o||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object(r.__assign)({},o,{navigationId:n})):this.location.go(i,"",Object(r.__assign)({},o,{navigationId:n}))},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),On=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new In,this.attachRef=null}}(),In=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new On,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),kn=function(){function t(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.m,this.deactivateEvents=new i.m,this.name=r||St,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,o=new xn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),xn=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===de?this.route:t===In?this.childContexts:this.parent.get(t,e)},t}(),Tn=function(){return function(){}}(),Dn=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(Object(B.a)(function(){return Object(a.a)(null)}))},t}(),Pn=function(){function t(){}return t.prototype.preload=function(t,e){return Object(a.a)(null)},t}(),An=function(){function t(t,e,n,r,o){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=new yn(e,n,function(e){return t.triggerEvent(new gt(e))},function(e){return t.triggerEvent(new mt(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(Object(k.a)(function(t){return t instanceof st}),Object($.a)(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(i.x);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,o,i=[];try{for(var a=Object(r.__values)(e),u=a.next();!u.done;u=a.next()){var l=u.value;if(l.loadChildren&&!l.canLoad&&l._loadedConfig){var c=l._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children))}}catch(h){n={error:h}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return Object(s.a)(i).pipe(Object(O.a)(),Object(E.a)(function(t){}))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(Object(K.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})},t}(),Nn=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof at?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof st&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof _t&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new _t(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),Mn=new i.p("ROUTER_CONFIGURATION"),Rn=new i.p("ROUTER_FORROOT_GUARD"),jn=[o.f,{provide:Gt,useClass:Wt},{provide:En,useFactory:zn,deps:[i.g,Gt,In,o.f,i.q,i.w,i.i,vn,Mn,[bn,new i.A],[gn,new i.A]]},In,{provide:de,useFactory:Hn,deps:[En]},{provide:i.w,useClass:i.J},An,Pn,Dn,{provide:Mn,useValue:{enableTracing:!1}}];function Ln(){return new i.y("Router",En)}var Un=function(){function t(t,e){}var e;return e=t,t.forRoot=function(t,n){return{ngModule:e,providers:[jn,Bn(t),{provide:Rn,useFactory:Vn,deps:[[En,new i.A,new i.I]]},{provide:Mn,useValue:n||{}},{provide:o.g,useFactory:Fn,deps:[o.m,[new i.o(o.a),new i.A],Mn]},{provide:Nn,useFactory:qn,deps:[En,o.n,Mn]},{provide:Tn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Pn},{provide:i.y,multi:!0,useFactory:Ln},[Gn,{provide:i.d,multi:!0,useFactory:Wn,deps:[Gn]},{provide:Qn,useFactory:Kn,deps:[Gn]},{provide:i.b,multi:!0,useExisting:Qn}]]}},t.forChild=function(t){return{ngModule:e,providers:[Bn(t)]}},t}();function qn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Nn(t,e,n)}function Fn(t,e,n){return void 0===n&&(n={}),n.useHash?new o.d(t,e):new o.l(t,e)}function Vn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Bn(t){return[{provide:i.a,multi:!0,useValue:t},{provide:vn,multi:!0,useValue:t}]}function zn(t,e,n,r,o,i,a,s,u,l,c){void 0===u&&(u={});var h=new En(null,e,n,r,o,i,a,Rt(s));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=Object(ot.r)();h.events.subscribe(function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Hn(t){return t.routerState.root}var Gn=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new u.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(o.e,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(En),o=t.injector.get(Mn);if(t.isLegacyDisabled(o)||t.isLegacyEnabled(o))e(!0);else if("disabled"===o.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==o.initialNavigation)throw new Error("Invalid initialNavigation options: '"+o.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?Object(a.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Mn),n=this.injector.get(An),r=this.injector.get(Nn),o=this.injector.get(En),a=this.injector.get(i.g);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function Wn(t){return t.appInitializer.bind(t)}function Kn(t){return t.bootstrapListener.bind(t)}var Qn=new i.p("Router Initializer")},ZYjt:function(t,e,n){"use strict";n.d(e,"p",function(){return vt}),n.d(e,"q",function(){return I}),n.d(e,"a",function(){return yt}),n.d(e,"h",function(){return mt}),n.d(e,"c",function(){return k}),n.d(e,"d",function(){return x}),n.d(e,"e",function(){return tt}),n.d(e,"f",function(){return et}),n.d(e,"g",function(){return nt}),n.d(e,"b",function(){return st}),n.d(e,"r",function(){return s}),n.d(e,"j",function(){return U}),n.d(e,"i",function(){return Z}),n.d(e,"m",function(){return rt}),n.d(e,"n",function(){return at}),n.d(e,"l",function(){return P}),n.d(e,"o",function(){return D}),n.d(e,"k",function(){return ut});var r=n("mrSG"),o=n("Ip0R"),i=n("CcnG"),a=null;function s(){return a}var u,l={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},c={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},h={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};i.qb.Node&&(u=i.qb.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var f,d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,a||(a=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var o;(o=t)[e].apply(o,Object(r.__spread)(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return l},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return u.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var o=n.item(r);e.set(o.name,o.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&h.hasOwnProperty(e)&&(e=h[e]))}return c[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=p||(p=document.querySelector("base"))?p.getAttribute("href"):null;return null==n?null:(e=n,f||(f=document.createElement("a")),f.setAttribute("href",e),"/"===f.pathname.charAt(0)?f.pathname:"/"+f.pathname)},e.prototype.resetBaseElement=function(){p=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(o.s)(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],o=0;o<r.length;o++)if(null!=e.getStyle(n,r[o]+"AnimationName")){e._animationPrefix="-"+r[o].toLowerCase()+"-";break}var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(i).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=i[t])})}catch(a){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(r.__extends)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),p=null,g=o.c;function m(){return!!window.history.pushState}var v=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(r.__extends)(e,t),e.prototype._init=function(){this.location=s().getLocation(),this._history=s().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return s().getBaseHref(this._doc)},e.prototype.onPopState=function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){m()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){m()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},Object(r.__decorate)([Object(r.__param)(0,Object(i.o)(g)),Object(r.__metadata)("design:paramtypes",[Object])],e)}(o.m),y=new i.p("TRANSITION_ID"),b=[{provide:i.d,useFactory:function(t,e,n){return function(){n.get(i.e).donePromise.then(function(){var n=s();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[y,g,i.q],multi:!0}],w=function(){function t(){}return t.init=function(){Object(i.Z)(new t)},t.prototype.addToWindow=function(t){i.qb.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.qb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},i.qb.getAllAngularRootElements=function(){return t.getAllRootElements()},i.qb.frameworkStabilizers||(i.qb.frameworkStabilizers=[]),i.qb.frameworkStabilizers.push(function(t){var e=i.qb.getAllAngularTestabilities(),n=e.length,r=!1,o=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(o)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,s().getHost(e),!0):this.findTestabilityInTree(t,s().parentElement(e),!0):null},t}();function _(t,e){"undefined"!=typeof COMPILED&&COMPILED||((i.qb.ng=i.qb.ng||{})[t]=e)}var C={ApplicationRef:i.g,NgZone:i.z},S="probe",E="coreTokens";function O(t){return Object(i.V)(t)}function I(t){return _(S,O),_(E,Object(r.__assign)({},C,(t||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return O}}var k=new i.p("EventManagerPlugins"),x=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var o=n[r];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error("No event manager plugin found for event "+t)},t}(),T=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),D=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),P=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(r.__extends)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return s().remove(t)})},e}(D),A={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},N=/%COMP%/g,M="_nghost-%COMP%",R="_ngcontent-%COMP%";function j(t,e,n){for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?j(t,o,n):(o=o.replace(N,t),n.push(o))}return n}function L(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var U=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new q(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.P.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new z(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case i.P.Native:case i.P.ShadowDom:return new H(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=j(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),q=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(A[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'+t+'" did not match any elements');return e||(n.textContent=""),n},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var o=A[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=A[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&i.F.DashCase?t.style.setProperty(e,n,r&i.F.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&i.F.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){V(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return V(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,L(n)):this.eventManager.addEventListener(t,e,L(n))},t}(),F="@".charCodeAt(0);function V(t,e){if(t.charCodeAt(0)===F)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var B,z=function(t){function e(e,n,r){var o=t.call(this,e)||this;o.component=r;var i=j(r.id,r.styles,[]);return n.addStyles(i),o.contentAttr=R.replace(N,r.id),o.hostAttr=M.replace(N,r.id),o}return Object(r.__extends)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(q),H=function(t){function e(e,n,r,o){var a=t.call(this,e)||this;a.sharedStylesHost=n,a.hostEl=r,a.component=o,a.shadowRoot=o.encapsulation===i.P.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=j(o.id,o.styles,[]),u=0;u<s.length;u++){var l=document.createElement("style");l.textContent=s[u],a.shadowRoot.appendChild(l)}return a}return Object(r.__extends)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(q),G="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},W=G("addEventListener"),K=G("removeEventListener"),Q={},J="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[G("BLACK_LISTED_EVENTS")]&&(B={});var X=function(t){return!!B&&B.hasOwnProperty(t)},Y=function(t){var e=Q[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var o=n.slice(),i=0;i<o.length&&!0!==t[J];i++){var a;(a=o[i]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Z=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.ngZone=n,r&&Object(o.p)(r)||i.patchEvent(),i}return Object(r.__extends)(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[J]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,o=n;if(!t[W]||i.z.isInAngularZone()&&!X(e))t.addEventListener(e,o,!1);else{var a=Q[e];a||(a=Q[e]=G("ANGULAR"+e+"FALSE"));var s=t[a],u=s&&s.length>0;s||(s=t[a]=[]);var l=X(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:l,handler:o});else{for(var c=!1,h=0;h<s.length;h++)if(s[h].handler===o){c=!0;break}c||s.push({zone:l,handler:o})}u||t[W](e,Y,!1)}return function(){return r.removeEventListener(t,e,o)}},e.prototype.removeEventListener=function(t,e,n){var r=t[K];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var o=Q[e],i=o&&t[o];if(!i)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<i.length;s++)if(i[s].handler===n){a=!0,i.splice(s,1);break}a?0===i.length&&r.apply(t,[e,Y,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(T),$={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},tt=new i.p("HammerGestureConfig"),et=new i.p("HammerLoader"),nt=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),rt=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i._config=n,i.console=r,i.loader=o,i}return Object(r.__extends)(e,t),e.prototype.supports=function(t){return!(!$.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,n){var r=this,o=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var i=!1,a=function(){i=!0};return this.loader().then(function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});i||(a=r.addEventListener(t,e,n))}).catch(function(){r.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),a=function(){}}),function(){a()}}return o.runOutsideAngular(function(){var i=r._config.buildHammer(t),a=function(t){o.runGuarded(function(){n(t)})};return i.on(e,a),function(){i.off(e,a),"function"==typeof i.destroy&&i.destroy()}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(T),ot=["alt","control","meta","shift"],it={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},at=function(t){function e(e){return t.call(this,e)||this}var n;return Object(r.__extends)(e,t),n=e,e.prototype.supports=function(t){return null!=n.parseEventName(t)},e.prototype.addEventListener=function(t,e,r){var o=n.parseEventName(e),i=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return s().onAndCancel(t,o.domEventName,i)})},e.parseEventName=function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var o=n._normalizeKey(e.pop()),i="";if(ot.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=o,0!=e.length||0===o.length)return null;var a={};return a.domEventName=r,a.fullKey=i,a},e.getEventFullKey=function(t){var e="",n=s().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),ot.forEach(function(r){r!=n&&(0,it[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,e,r){return function(o){n.getEventFullKey(o)===t&&r.runGuarded(function(){return e(o)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(T),st=function(){return function(){}}(),ut=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(r.__extends)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case i.H.NONE:return e;case i.H.HTML:return e instanceof ct?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(i.db)(this._doc,String(e)));case i.H.STYLE:return e instanceof ht?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(i.eb)(e));case i.H.SCRIPT:if(e instanceof ft)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case i.H.URL:return e instanceof pt||e instanceof dt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(i.fb)(String(e)));case i.H.RESOURCE_URL:if(e instanceof pt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof lt)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new ct(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new ht(t)},e.prototype.bypassSecurityTrustScript=function(t){return new ft(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new dt(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new pt(t)},e}(st),lt=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(lt),ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(lt),ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(lt),dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(lt),pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(lt),gt=[{provide:i.B,useValue:o.q},{provide:i.C,useValue:function(){d.makeCurrent(),w.init()},multi:!0},{provide:o.m,useClass:v,deps:[g]},{provide:g,useFactory:function(){return document},deps:[]}],mt=Object(i.R)(i.Y,"browser",gt);function vt(){return new i.l}var yt=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:i.c,useValue:t.appId},{provide:y,useExisting:i.c},b]}},t}();"undefined"!=typeof window&&window},"ZZ/e":function(t,e,n){"use strict";var r=n("mrSG"),o=n("CcnG"),i=n("Ip0R"),a=n("ZYCi"),s=n("K9Ia"),u=n("bne5"),l=n("cBjU"),c=[["ion-action-sheet",{ios:"1kttiagf",md:"x4ue4dpx"},1,[["animated",1,0,1,4],["backdropDismiss",1,0,"backdrop-dismiss",4],["buttons",1],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["dismiss",32],["el",64],["enterAnimation",1],["header",1,0,1,2],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["present",32],["subHeader",1,0,"sub-header",2],["translucent",1,0,1,4]],2,[["ionBackdropTap","onBackdropTap"],["ionActionSheetWillDismiss","dispatchCancelHandler"]]],["ion-action-sheet-controller",{ios:"1kttiagf",md:"x4ue4dpx"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-alert",{ios:"5u5c8wcw",md:"sqd5wawk"},1,[["animated",1,0,1,4],["backdropDismiss",1,0,"backdrop-dismiss",4],["buttons",1],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["dismiss",32],["el",64],["enterAnimation",1],["header",1,0,1,2],["inputs",2],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["message",1,0,1,2],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["present",32],["subHeader",1,0,"sub-header",2],["translucent",1,0,1,4]],2,[["ionBackdropTap","onBackdropTap"],["ionAlertWillDismiss","dispatchCancelHandler"]]],["ion-alert-controller",{ios:"5u5c8wcw",md:"sqd5wawk"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-anchor",{ios:"0utrggve",md:"ycyyhg01"},1,[["color",1,0,1,2],["href",1,0,1,2],["routerDirection",1,0,"router-direction",2],["win",4,0,0,0,"window"]],1,[["click","onClick"]]],["ion-app",{ios:"0hsmjqf5",md:"qeoxaimy"},1,[["config",4,0,0,0,"config"],["el",64],["queue",4,0,0,0,"queue"],["win",4,0,0,0,"window"]]],["ion-avatar",{ios:"xgnma4yj",md:"oboc8zd4"},1,0,1],["ion-back-button",{ios:"0utrggve",md:"ycyyhg01"},1,[["color",1,0,1,2],["config",4,0,0,0,"config"],["defaultHref",1,0,"default-href",2],["el",64],["icon",1,0,1,2],["mode",1,0,1,2],["text",1,0,1,2],["win",4,0,0,0,"window"]],2,[["click","onClick"]]],["ion-backdrop",{ios:"qvwswew4",md:"t547wlk7"},1,[["doc",4,0,0,0,"document"],["stopPropagation",1,0,"stop-propagation",4],["tappable",1,0,1,4],["visible",1,0,1,4]],1,[["touchstart","onTouchStart",0,0,1],["click","onMouseDown",0,0,1],["mousedown","onMouseDown",0,0,1]]],["ion-badge",{ios:"xgnma4yj",md:"oboc8zd4"},1,[["color",1,0,1,2],["mode",1,0,1,2]],1],["ion-button",{ios:"wsfvc8rr",md:"bzgyi6uy"},1,[["buttonType",2,0,"button-type",2],["color",1,0,1,2],["disabled",1,1,1,4],["el",64],["expand",1,1,1,2],["fill",2,1,1,2],["href",1,0,1,2],["mode",1,0,1,2],["routerDirection",1,0,"router-direction",2],["shape",1,1,1,2],["size",1,1,1,2],["strong",1,0,1,4],["type",1,0,1,2],["win",4,0,0,0,"window"]],1,[["click","onClick"]]],["ion-buttons",{ios:"0hsmjqf5",md:"qeoxaimy"},1,0,2],["ion-card",{ios:"tylmm2yl",md:"jwqvpjte"},1,[["color",1,0,1,2],["mode",1,0,1,2]],2],["ion-card-content",{ios:"tylmm2yl",md:"jwqvpjte"},1,[["mode",1,0,1,2]]],["ion-card-header",{ios:"tylmm2yl",md:"jwqvpjte"},1,[["color",1,0,1,2],["mode",1,0,1,2],["translucent",1,0,1,4]],1],["ion-card-subtitle",{ios:"tylmm2yl",md:"jwqvpjte"},1,[["color",1,0,1,2],["mode",1,0,1,2]],1],["ion-card-title",{ios:"tylmm2yl",md:"jwqvpjte"},1,[["color",1,0,1,2],["mode",1,0,1,2]],1],["ion-checkbox",{ios:"hs4xwlox",md:"wajpsmly"},1,[["checked",2,0,1,4],["color",1,0,1,2],["disabled",1,0,1,4],["el",64],["indeterminate",2,0,1,4],["mode",1,0,1,2],["name",1,0,1,2],["value",1,0,1,2]],1,[["click","onClick"]]],["ion-chip",{ios:"qrxqqhr4",md:"eljrbuqs"},1,[["color",1,0,1,2],["mode",1,0,1,2],["outline",1,0,1,4]],1],["ion-col","ye5age0r",1,[["el",64],["offset",1,0,1,2],["offsetLg",1,0,"offset-lg",2],["offsetMd",1,0,"offset-md",2],["offsetSm",1,0,"offset-sm",2],["offsetXl",1,0,"offset-xl",2],["offsetXs",1,0,"offset-xs",2],["pull",1,0,1,2],["pullLg",1,0,"pull-lg",2],["pullMd",1,0,"pull-md",2],["pullSm",1,0,"pull-sm",2],["pullXl",1,0,"pull-xl",2],["pullXs",1,0,"pull-xs",2],["push",1,0,1,2],["pushLg",1,0,"push-lg",2],["pushMd",1,0,"push-md",2],["pushSm",1,0,"push-sm",2],["pushXl",1,0,"push-xl",2],["pushXs",1,0,"push-xs",2],["size",1,0,1,2],["sizeLg",1,0,"size-lg",2],["sizeMd",1,0,"size-md",2],["sizeSm",1,0,"size-sm",2],["sizeXl",1,0,"size-xl",2],["sizeXs",1,0,"size-xs",2],["win",4,0,0,0,"window"]],1,[["window:resize","onResize",0,1]]],["ion-content",{ios:"0hsmjqf5",md:"qeoxaimy"},1,[["color",1,0,1,2],["config",4,0,0,0,"config"],["el",64],["forceOverscroll",2,0,"force-overscroll",4],["fullscreen",1,0,1,4],["getScrollElement",32],["queue",4,0,0,0,"queue"],["scrollByPoint",32],["scrollEvents",1,0,"scroll-events",4],["scrollToBottom",32],["scrollToPoint",32],["scrollToTop",32],["scrollX",1,0,"scroll-x",4],["scrollY",1,0,"scroll-y",4],["win",4,0,0,0,"window"]],1,[["click","onClick",0,0,1]]],["ion-datetime",{ios:"6g4thfnt",md:"lwxjzkgx"},1,[["cancelText",1,0,"cancel-text",2],["dayNames",1,0,"day-names",2],["dayShortNames",1,0,"day-short-names",2],["dayValues",1,0,"day-values",1],["disabled",1,0,1,4],["displayFormat",1,0,"display-format",2],["doneText",1,0,"done-text",2],["el",64],["hourValues",1,0,"hour-values",1],["isExpanded",16],["max",2,0,1,2],["min",2,0,1,2],["minuteValues",1,0,"minute-values",1],["mode",1,0,1,2],["monthNames",1,0,"month-names",2],["monthShortNames",1,0,"month-short-names",2],["monthValues",1,0,"month-values",1],["name",1,0,1,2],["open",32],["pickerCtrl",8,0,0,0,"ion-picker-controller"],["pickerFormat",1,0,"picker-format",2],["pickerOptions",1],["placeholder",1,0,1,2],["readonly",1,0,1,4],["value",2,0,1,2],["yearValues",1,0,"year-values",1]],1,[["click","onClick"]]],["ion-fab",{ios:"zdhyxh0f",md:"b9hbg5md"},1,[["activated",2,0,1,4],["close",32],["edge",1,0,1,4],["el",64],["horizontal",1,0,1,2],["vertical",1,0,1,2]],1,[["click","onClick"]]],["ion-fab-button",{ios:"zdhyxh0f",md:"b9hbg5md"},1,[["activated",1,0,1,4],["color",1,0,1,2],["disabled",1,0,1,4],["el",64],["href",1,0,1,2],["mode",1,0,1,2],["routerDirection",1,0,"router-direction",2],["show",1,0,1,4],["size",1,0,1,2],["translucent",1,0,1,4],["type",1,0,1,2],["win",4,0,0,0,"window"]],1],["ion-fab-list",{ios:"zdhyxh0f",md:"b9hbg5md"},1,[["activated",1,0,1,4],["el",64],["side",1,0,1,2]],1],["ion-footer",{ios:"0hsmjqf5",md:"qeoxaimy"},1,[["mode",1,0,1,2],["translucent",1,0,1,4]]],["ion-grid","ye5age0r",1,[["fixed",1,0,1,4]],1],["ion-header",{ios:"0hsmjqf5",md:"qeoxaimy"},1,[["mode",1,0,1,2],["translucent",1,0,1,4]]],["ion-icon",{ios:"wsfvc8rr",md:"bzgyi6uy"},1,[["ariaLabel",2,1,"aria-label",2],["color",1,0,1,2],["doc",4,0,0,0,"document"],["el",64],["flipRtl",1,0,"flip-rtl",4],["icon",1,0,1,2],["ios",1,0,1,2],["isServer",4,0,0,0,"isServer"],["isVisible",16],["lazy",1,0,1,4],["md",1,0,1,2],["mode",1,0,1,2],["name",1,0,1,2],["resourcesUrl",4,0,0,0,"resourcesUrl"],["size",1,0,1,2],["src",1,0,1,2],["svgContent",16],["win",4,0,0,0,"window"]],1],["ion-img","vbsrxypz",1,[["alt",1,0,1,2],["el",64],["loadSrc",16],["src",1,0,1,2]],1],["ion-infinite-scroll",{ios:"yxulgzjp",md:"vtbkki9o"},1,[["complete",32],["disabled",1,0,1,4],["el",64],["enableListener",4,0,0,0,"enableListener"],["isLoading",16],["position",1,0,1,2],["queue",4,0,0,0,"queue"],["threshold",1,0,1,2]],0,[["scroll","onScroll",1,1]]],["ion-infinite-scroll-content",{ios:"yxulgzjp",md:"vtbkki9o"},1,[["config",4,0,0,0,"config"],["loadingSpinner",2,0,"loading-spinner",2],["loadingText",1,0,"loading-text",2]]],["ion-input",{ios:"neixdayp",md:"a7z8hams"},1,[["accept",1,0,1,2],["autocapitalize",1,0,1,2],["autocomplete",1,0,1,2],["autocorrect",1,0,1,2],["autofocus",1,0,1,4],["clearInput",1,0,"clear-input",4],["clearOnEdit",2,0,"clear-on-edit",4],["color",1,0,1,2],["debounce",1,0,1,8],["disabled",1,0,1,4],["el",64],["getInputElement",32],["hasFocus",16],["inputmode",1,0,1,2],["max",1,0,1,2],["maxlength",1,0,1,8],["min",1,0,1,2],["minlength",1,0,1,8],["mode",1,0,1,2],["multiple",1,0,1,4],["name",1,0,1,2],["pattern",1,0,1,2],["placeholder",1,0,1,2],["readonly",1,0,1,4],["required",1,0,1,4],["setFocus",32],["size",1,0,1,8],["spellcheck",1,0,1,4],["step",1,0,1,2],["type",1,0,1,2],["value",2,0,1,2]],2],["ion-item",{ios:"xnfqzgvy",md:"pfpbfexy"},1,[["button",1,0,1,4],["color",1,0,1,2],["detail",1,0,1,4],["detailIcon",1,0,"detail-icon",2],["disabled",1,0,1,4],["el",64],["href",1,0,1,2],["lines",1,0,1,2],["mode",1,0,1,2],["multipleInputs",16],["routerDirection",1,0,"router-direction",2],["type",1,0,1,2],["win",4,0,0,0,"window"]],1,[["ionStyle","itemStyle"]]],["ion-item-divider",{ios:"xnfqzgvy",md:"pfpbfexy"},1,[["color",1,0,1,2],["el",64],["mode",1,0,1,2],["sticky",1,0,1,4]],1],["ion-item-group",{ios:"xnfqzgvy",md:"pfpbfexy"},1],["ion-item-option",{ios:"sw2yobif",md:"ludl7zh0"},1,[["color",1,0,1,2],["disabled",1,0,1,4],["el",64],["expandable",1,0,1,4],["href",1,0,1,2],["mode",1,0,1,2]],1,[["click","onClick"]]],["ion-item-options",{ios:"sw2yobif",md:"ludl7zh0"},1,[["el",64],["fireSwipeEvent",32],["side",1,0,1,2],["win",4,0,0,0,"window"]]],["ion-item-sliding",{ios:"sw2yobif",md:"ludl7zh0"},1,[["close",32],["closeOpened",32],["disabled",1,0,1,4],["el",64],["getOpenAmount",32],["getSlidingRatio",32],["queue",4,0,0,0,"queue"],["state",16]]],["ion-label",{ios:"xnfqzgvy",md:"pfpbfexy"},1,[["color",1,0,1,2],["el",64],["mode",1,0,1,2],["noAnimate",16],["position",1,0,1,2]],2],["ion-list",{ios:"xnfqzgvy",md:"pfpbfexy"},1,[["closeSlidingItems",32],["el",64],["inset",1,0,1,4],["lines",1,0,1,2],["mode",1,0,1,2]]],["ion-list-header",{ios:"xnfqzgvy",md:"pfpbfexy"},1,[["color",1,0,1,2],["mode",1,0,1,2]],1],["ion-loading",{ios:"tluindqz",md:"ladxfuum"},1,[["animated",1,0,1,4],["backdropDismiss",1,0,"backdrop-dismiss",4],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["dismiss",32],["duration",1,0,1,8],["el",64],["enterAnimation",1],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["message",1,0,1,2],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["present",32],["showBackdrop",1,0,"show-backdrop",4],["spinner",2,0,1,2],["translucent",1,0,1,4]],2,[["ionBackdropTap","onBackdropTap"]]],["ion-loading-controller",{ios:"tluindqz",md:"ladxfuum"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-menu",{ios:"fokfxvfn",md:"n5wnzrch"},1,[["close",32],["config",4,0,0,0,"config"],["contentId",1,0,"content-id",2],["disabled",2,0,1,4],["doc",4,0,0,0,"document"],["el",64],["enableListener",4,0,0,0,"enableListener"],["isActive",32],["isEndSide",16],["isOpen",32],["isPaneVisible",16],["isServer",4,0,0,0,"isServer"],["lazyMenuCtrl",8,0,0,0,"ion-menu-controller"],["maxEdgeStart",1,0,"max-edge-start",8],["menuId",1,0,"menu-id",2],["open",32],["queue",4,0,0,0,"queue"],["setOpen",32],["side",1,1,1,2],["swipeGesture",1,0,"swipe-gesture",4],["toggle",32],["type",2,0,1,2],["win",4,0,0,0,"window"]],1,[["body:ionSplitPaneVisible","onSplitPaneChanged"],["click","onBackdropClick",1,0,1]]],["ion-menu-button",{ios:"fokfxvfn",md:"n5wnzrch"},1,[["autoHide",1,0,"auto-hide",4],["color",1,0,1,2],["config",4,0,0,0,"config"],["menu",1,0,1,2],["mode",1,0,1,2]],1],["ion-menu-controller",{ios:"fokfxvfn",md:"n5wnzrch"},1,[["_getInstance",32],["close",32],["config",4,0,0,0,"config"],["doc",4,0,0,0,"document"],["enable",32],["get",32],["getMenus",32],["getOpen",32],["isAnimating",32],["isEnabled",32],["isOpen",32],["open",32],["registerAnimation",32],["swipeGesture",32],["toggle",32]]],["ion-menu-toggle",{ios:"fokfxvfn",md:"n5wnzrch"},1,[["autoHide",1,0,"auto-hide",4],["doc",4,0,0,0,"document"],["menu",1,0,1,2],["visible",16]],1,[["click","onClick"],["body:ionMenuChange","updateVisibility"],["body:ionSplitPaneVisible","updateVisibility"]]],["ion-modal",{ios:"vxxpn0fi",md:"dlyuptke"},1,[["animated",1,0,1,4],["backdropDismiss",1,0,"backdrop-dismiss",4],["component",1,0,1,2],["componentProps",1],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["delegate",1],["dismiss",32],["el",64],["enterAnimation",1],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["present",32],["showBackdrop",1,0,"show-backdrop",4]],2,[["ionDismiss","onDismiss"],["ionBackdropTap","onBackdropTap"],["ionModalDidPresent","lifecycle"],["ionModalWillPresent","lifecycle"],["ionModalWillDismiss","lifecycle"],["ionModalDidDismiss","lifecycle"]]],["ion-modal-controller",{ios:"vxxpn0fi",md:"dlyuptke"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-nav","cwd9g9my",1,[["animated",1,0,1,4],["animation",1],["canGoBack",32],["config",4,0,0,0,"config"],["delegate",1],["el",64],["getActive",32],["getByIndex",32],["getPrevious",32],["getRouteId",32],["insert",32],["insertPages",32],["pop",32],["popTo",32],["popToRoot",32],["push",32],["queue",4,0,0,0,"queue"],["removeIndex",32],["root",1,0,1,2],["rootParams",1],["setPages",32],["setRoot",32],["setRouteId",32],["swipeGesture",2,0,"swipe-gesture",4],["win",4,0,0,0,"window"]],1],["ion-nav-pop","cwd9g9my",0,[["el",64]],0,[["child:click","pop"]]],["ion-nav-push","cwd9g9my",0,[["component",1,0,1,2],["componentProps",1],["el",64]],0,[["child:click","push"]]],["ion-nav-set-root","cwd9g9my",0,[["component",1,0,1,2],["componentProps",1],["el",64]],0,[["child:click","push"]]],["ion-note",{ios:"xnfqzgvy",md:"pfpbfexy"},1,[["color",1,0,1,2],["mode",1,0,1,2]],1],["ion-picker",{ios:"6g4thfnt",md:"lwxjzkgx"},1,[["animated",1,0,1,4],["backdropDismiss",1,0,"backdrop-dismiss",4],["buttons",1],["columns",1],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["dismiss",32],["duration",1,0,1,8],["el",64],["enterAnimation",1],["getColumn",32],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["present",32],["presented",16],["showBackdrop",1,0,"show-backdrop",4]],2,[["ionBackdropTap","onBackdropTap"]]],["ion-picker-column",{ios:"6g4thfnt",md:"lwxjzkgx"},1,[["col",1],["el",64],["queue",4,0,0,0,"queue"]]],["ion-picker-controller",{ios:"6g4thfnt",md:"lwxjzkgx"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-popover",{ios:"ucdtgfa9",md:"jzvvnvez"},1,[["animated",1,0,1,4],["backdropDismiss",1,0,"backdrop-dismiss",4],["component",1,0,1,2],["componentProps",1],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["delegate",1],["dismiss",32],["el",64],["enterAnimation",1],["event",1,0,1,1],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["present",32],["showBackdrop",1,0,"show-backdrop",4],["translucent",1,0,1,4]],2,[["ionDismiss","onDismiss"],["ionBackdropTap","onBackdropTap"],["ionPopoverDidPresent","lifecycle"],["ionPopoverWillPresent","lifecycle"],["ionPopoverWillDismiss","lifecycle"],["ionPopoverDidDismiss","lifecycle"]]],["ion-popover-controller",{ios:"ucdtgfa9",md:"jzvvnvez"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-progress-bar",{ios:"c2kiol1t",md:"jtkjzkgg"},1,[["buffer",1,0,1,8],["color",1,0,1,2],["config",4,0,0,0,"config"],["mode",1,0,1,2],["reversed",1,0,1,4],["type",1,0,1,2],["value",1,0,1,8]],1],["ion-radio",{ios:"nr6wcehx",md:"ly8zbpmk"},1,[["checked",2,0,1,4],["color",1,0,1,2],["disabled",1,0,1,4],["el",64],["mode",1,0,1,2],["name",1,0,1,2],["value",2,0,1,1]],1,[["click","onClick"]]],["ion-radio-group",{ios:"nr6wcehx",md:"ly8zbpmk"},0,[["allowEmptySelection",1,0,"allow-empty-selection",4],["el",64],["name",1,0,1,2],["value",2,0,1,1]],0,[["ionRadioDidLoad","onRadioDidLoad"],["ionRadioDidUnload","onRadioDidUnload"],["ionSelect","onRadioSelect"],["ionDeselect","onRadioDeselect"]]],["ion-range",{ios:"gwiqb6zv",md:"2g1gy9f9"},1,[["color",1,0,1,2],["debounce",1,0,1,8],["disabled",1,0,1,4],["doc",4,0,0,0,"document"],["dualKnobs",1,0,"dual-knobs",4],["el",64],["max",1,0,1,8],["min",1,0,1,8],["mode",1,0,1,2],["name",1,0,1,2],["pin",1,0,1,4],["pressedKnob",16],["queue",4,0,0,0,"queue"],["ratioA",16],["ratioB",16],["snaps",1,0,1,4],["step",1,0,1,8],["value",2,0,1,8]],1,[["focusout","onBlur"],["focusin","onFocus"]]],["ion-refresher",{ios:"pubwd8xa",md:"rsatbj4w"},1,[["cancel",32],["closeDuration",1,0,"close-duration",2],["complete",32],["disabled",1,0,1,4],["el",64],["getProgress",32],["pullMax",1,0,"pull-max",8],["pullMin",1,0,"pull-min",8],["queue",4,0,0,0,"queue"],["snapbackDuration",1,0,"snapback-duration",2],["state",16]]],["ion-refresher-content",{ios:"pubwd8xa",md:"rsatbj4w"},0,[["config",4,0,0,0,"config"],["pullingIcon",2,0,"pulling-icon",2],["pullingText",1,0,"pulling-text",2],["refreshingSpinner",2,0,"refreshing-spinner",2],["refreshingText",1,0,"refreshing-text",2]]],["ion-reorder",{ios:"tpeqvzxx",md:"adaxrxoq"},1,0,1,[["click","onClick",0,0,1]]],["ion-reorder-group",{ios:"tpeqvzxx",md:"adaxrxoq"},1,[["complete",32],["disabled",1,0,1,4],["doc",4,0,0,0,"document"],["el",64],["queue",4,0,0,0,"queue"],["state",16]]],["ion-ripple-effect","z9nt6ntd",1,[["addRipple",32],["el",64],["queue",4,0,0,0,"queue"],["type",1,0,1,2],["win",4,0,0,0,"window"]],1],["ion-route","6dsdnxyn",0,[["component",1,0,1,2],["componentProps",1],["url",1,0,1,2]]],["ion-route-redirect","6dsdnxyn",0,[["from",1,0,1,2],["to",1,0,1,2]]],["ion-router","6dsdnxyn",0,[["back",32],["config",4,0,0,0,"config"],["el",64],["navChanged",32],["printDebug",32],["push",32],["queue",4,0,0,0,"queue"],["root",1,0,1,2],["useHash",1,0,"use-hash",4],["win",4,0,0,0,"window"]],0,[["window:popstate","onPopState"],["document:ionBackButton","onBackButton"]]],["ion-router-outlet","6dsdnxyn",1,[["animated",1,0,1,4],["animation",1],["commit",32],["config",4,0,0,0,"config"],["delegate",1],["el",64],["getRouteId",32],["mode",1,0,1,2],["queue",4,0,0,0,"queue"],["setRouteId",32],["swipeHandler",1],["win",4,0,0,0,"window"]],1],["ion-row","ye5age0r",1,0,1],["ion-searchbar",{ios:"c3xilup3",md:"5ey3bs99"},1,[["animated",1,0,1,4],["autocomplete",1,0,1,2],["autocorrect",1,0,1,2],["cancelButtonIcon",1,0,"cancel-button-icon",2],["cancelButtonText",1,0,"cancel-button-text",2],["clearIcon",1,0,"clear-icon",2],["color",1,0,1,2],["config",4,0,0,0,"config"],["debounce",1,0,1,8],["doc",4,0,0,0,"document"],["el",64],["focused",16],["getInputElement",32],["mode",1,0,1,2],["noAnimate",16],["placeholder",1,0,1,2],["searchIcon",1,0,"search-icon",2],["setFocus",32],["showCancelButton",1,0,"show-cancel-button",4],["spellcheck",1,0,1,4],["type",1,0,1,2],["value",2,0,1,2]],2],["ion-segment",{ios:"4m739wpj",md:"uegz8gm3"},1,[["color",1,0,1,2],["disabled",1,0,1,4],["el",64],["mode",1,0,1,2],["scrollable",1,0,1,4],["value",2,0,1,2]],2,[["ionSelect","segmentClick"]]],["ion-segment-button",{ios:"4m739wpj",md:"uegz8gm3"},1,[["checked",2,0,1,4],["disabled",1,0,1,4],["el",64],["layout",1,0,1,2],["mode",1,0,1,2],["value",1,0,1,2]],1,[["click","onClick"]]],["ion-select",{ios:"ao2edhxl",md:"okpgrmbb"},1,[["actionSheetCtrl",8,0,0,0,"ion-action-sheet-controller"],["alertCtrl",8,0,0,0,"ion-alert-controller"],["cancelText",1,0,"cancel-text",2],["compareWith",1,0,"compare-with",2],["disabled",1,0,1,4],["el",64],["interface",1,0,1,2],["interfaceOptions",1,0,"interface-options",1],["isExpanded",16],["mode",1,0,1,2],["multiple",1,0,1,4],["name",1,0,1,2],["okText",1,0,"ok-text",2],["open",32],["placeholder",1,0,1,2],["popoverCtrl",8,0,0,0,"ion-popover-controller"],["selectedText",1,0,"selected-text",2],["value",2,0,1,1]],1,[["ionSelectOptionDidLoad","selectOptionChanged"],["ionSelectOptionDidUnload","selectOptionChanged"],["click","onClick"]]],["ion-select-option",{ios:"ao2edhxl",md:"okpgrmbb"},1,[["disabled",1,0,1,4],["el",64],["selected",1,0,1,4],["value",2,0,1,1]],1],["ion-select-popover",{ios:"ao2edhxl",md:"okpgrmbb"},1,[["header",1,0,1,2],["message",1,0,1,2],["options",1],["subHeader",1,0,"sub-header",2]],2,[["ionSelect","onSelect"]]],["ion-skeleton-text",{ios:"xnfqzgvy",md:"pfpbfexy"},1,[["animated",1,0,1,4],["config",4,0,0,0,"config"],["el",64],["width",1,0,1,2]],1],["ion-slide",{ios:"bneiwm8s",md:"tqgphjq7"},1],["ion-slides",{ios:"bneiwm8s",md:"tqgphjq7"},1,[["el",64],["getActiveIndex",32],["getPreviousIndex",32],["isBeginning",32],["isEnd",32],["length",32],["lockSwipeToNext",32],["lockSwipeToPrev",32],["lockSwipes",32],["mode",1,0,1,2],["options",1,0,1,1],["pager",1,0,1,4],["scrollbar",1,0,1,4],["slideNext",32],["slidePrev",32],["slideTo",32],["startAutoplay",32],["stopAutoplay",32],["update",32],["updateAutoHeight",32]],0,[["ionSlideChanged","onSlideChanged"]]],["ion-spinner","jdcptvrs",1,[["color",1,0,1,2],["config",4,0,0,0,"config"],["duration",1,0,1,8],["name",1,0,1,2],["paused",1,0,1,4]],1],["ion-split-pane",{ios:"o2g4txhh",md:"l1m0sgjq"},1,[["contentId",1,0,"content-id",2],["disabled",1,0,1,4],["el",64],["isServer",4,0,0,0,"isServer"],["visible",16],["when",1,0,1,1],["win",4,0,0,0,"window"]]],["ion-tab","jpkvsu5y",1,[["active",2,0,1,4],["component",1,0,1,2],["delegate",1],["el",64],["setActive",32],["tab",1,0,1,2]],1],["ion-tab-bar",{ios:"uetn90ud",md:"dznymaqz"},1,[["color",1,0,1,2],["doc",4,0,0,0,"document"],["el",64],["keyboardVisible",16],["mode",1,0,1,2],["queue",4,0,0,0,"queue"],["selectedTab",1,0,"selected-tab",2],["translucent",1,0,1,4]],1,[["window:keyboardWillHide","onKeyboardWillHide"],["window:keyboardWillShow","onKeyboardWillShow"]]],["ion-tab-button",{ios:"uetn90ud",md:"dznymaqz"},1,[["config",4,0,0,0,"config"],["disabled",1,0,1,4],["doc",4,0,0,0,"document"],["el",64],["href",1,0,1,2],["layout",2,0,1,2],["mode",1,0,1,2],["queue",4,0,0,0,"queue"],["selected",2,0,1,4],["tab",1,0,1,2]],1,[["parent:ionTabBarChanged","onTabBarChanged"],["click","onClick"]]],["ion-tabs","jpkvsu5y",1,[["config",4,0,0,0,"config"],["doc",4,0,0,0,"document"],["el",64],["getRouteId",32],["getSelected",32],["getTab",32],["select",32],["selectedTab",16],["setRouteId",32],["tabs",16],["useRouter",2,0,"use-router",4]],1,[["ionTabButtonClick","onTabClicked"]]],["ion-text","coytbtgb",1,[["color",1,0,1,2],["mode",1,0,1,2]],1],["ion-textarea",{ios:"8q1e6dus",md:"odqmlmdd"},1,[["autocapitalize",1,0,1,2],["autofocus",1,0,1,4],["clearOnEdit",2,0,"clear-on-edit",4],["color",1,0,1,2],["cols",1,0,1,8],["debounce",1,0,1,8],["disabled",1,0,1,4],["el",64],["getInputElement",32],["hasFocus",16],["maxlength",1,0,1,8],["minlength",1,0,1,8],["mode",1,0,1,2],["name",1,0,1,2],["placeholder",1,0,1,2],["readonly",1,0,1,4],["required",1,0,1,4],["rows",1,0,1,8],["setFocus",32],["spellcheck",1,0,1,4],["value",2,0,1,2],["wrap",1,0,1,2]],2],["ion-thumbnail",{ios:"xgnma4yj",md:"oboc8zd4"},1,0,1],["ion-title",{ios:"0hsmjqf5",md:"qeoxaimy"},1,[["color",1,0,1,2],["el",64]],1],["ion-toast",{ios:"soeaphrm",md:"6eqoprbr"},1,[["animated",1,0,1,4],["closeButtonText",1,0,"close-button-text",2],["color",1,0,1,2],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["dismiss",32],["duration",1,0,1,8],["el",64],["enterAnimation",1],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["message",1,0,1,2],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["position",1,0,1,2],["present",32],["showCloseButton",1,0,"show-close-button",4],["translucent",1,0,1,4]],1],["ion-toast-controller",{ios:"soeaphrm",md:"6eqoprbr"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-toggle",{ios:"bfxkhdio",md:"av1nxhcg"},1,[["activated",16],["checked",2,0,1,4],["color",1,0,1,2],["disabled",1,0,1,4],["doc",4,0,0,0,"document"],["el",64],["mode",1,0,1,2],["name",1,0,1,2],["queue",4,0,0,0,"queue"],["value",1,0,1,2]],1,[["click","onClick"]]],["ion-toolbar",{ios:"0hsmjqf5",md:"qeoxaimy"},1,[["color",1,0,1,2],["config",4,0,0,0,"config"],["el",64],["mode",1,0,1,2]],1,[["ionStyle","childrenStyle"]]],["ion-virtual-scroll","ffukzwt6",1,[["approxFooterHeight",1,0,"approx-footer-height",8],["approxHeaderHeight",1,0,"approx-header-height",8],["approxItemHeight",1,0,"approx-item-height",8],["checkEnd",32],["checkRange",32],["domRender",1],["el",64],["enableListener",4,0,0,0,"enableListener"],["footerFn",1],["headerFn",1],["itemHeight",1],["items",1],["nodeRender",1],["positionForItem",32],["queue",4,0,0,0,"queue"],["renderFooter",1],["renderHeader",1],["renderItem",1],["totalHeight",16],["win",4,0,0,0,"window"]],0,[["scroll","onScroll",1],["window:resize","onResize",0,1]]]];n.d(e,"a",function(){return ke}),n.d(e,"b",function(){return se}),n.d(e,"c",function(){return re}),n.d(e,"d",function(){return xe}),n.d(e,"e",function(){return U}),n.d(e,"f",function(){return q}),n.d(e,"g",function(){return F}),n.d(e,"h",function(){return V}),n.d(e,"i",function(){return B}),n.d(e,"j",function(){return z}),n.d(e,"k",function(){return H}),n.d(e,"l",function(){return G}),n.d(e,"m",function(){return W}),n.d(e,"n",function(){return K}),n.d(e,"o",function(){return Q}),n.d(e,"p",function(){return J}),n.d(e,"q",function(){return X}),n.d(e,"r",function(){return Y}),n.d(e,"s",function(){return Z}),n.d(e,"t",function(){return $}),n.d(e,"u",function(){return tt}),n.d(e,"v",function(){return et}),n.d(e,"w",function(){return nt}),n.d(e,"x",function(){return rt}),n.d(e,"y",function(){return ot}),n.d(e,"z",function(){return it}),n.d(e,"A",function(){return at}),n.d(e,"B",function(){return st}),n.d(e,"C",function(){return ut}),n.d(e,"D",function(){return lt}),n.d(e,"E",function(){return ct}),n.d(e,"F",function(){return ht}),n.d(e,"G",function(){return ft}),n.d(e,"H",function(){return dt}),n.d(e,"I",function(){return pt}),n.d(e,"J",function(){return gt}),n.d(e,"K",function(){return mt}),n.d(e,"L",function(){return vt}),n.d(e,"M",function(){return yt}),n.d(e,"N",function(){return bt}),n.d(e,"O",function(){return wt}),n.d(e,"P",function(){return _t}),n.d(e,"Q",function(){return Ct}),n.d(e,"R",function(){return St}),n.d(e,"S",function(){return Et}),n.d(e,"T",function(){return Ot}),n.d(e,"U",function(){return It}),n.d(e,"V",function(){return kt}),n.d(e,"W",function(){return xt}),n.d(e,"X",function(){return Tt}),n.d(e,"Y",function(){return Dt}),n.d(e,"Z",function(){return Pt}),n.d(e,"ab",function(){return At}),n.d(e,"bb",function(){return Nt}),n.d(e,"cb",function(){return Mt}),n.d(e,"db",function(){return Rt}),n.d(e,"eb",function(){return jt}),n.d(e,"fb",function(){return Lt}),n.d(e,"gb",function(){return _e}),n.d(e,"hb",function(){return Ut}),n.d(e,"ib",function(){return qt}),n.d(e,"jb",function(){return Ft}),n.d(e,"kb",function(){return Vt}),n.d(e,"lb",function(){return Bt}),n.d(e,"mb",function(){return zt}),n.d(e,"nb",function(){return Ht}),n.d(e,"ob",function(){return Gt}),n.d(e,"pb",function(){return Wt}),n.d(e,"qb",function(){return Kt}),n.d(e,"rb",function(){return Qt}),n.d(e,"sb",function(){return Jt}),n.d(e,"tb",function(){return Xt}),n.d(e,"ub",function(){return Se}),n.d(e,"vb",function(){return Yt}),n.d(e,"wb",function(){return Zt}),n.d(e,"xb",function(){return $t}),n.d(e,"yb",function(){return te}),n.d(e,"zb",function(){return ee}),n.d(e,"Ab",function(){return ne}),n.d(e,"Bb",function(){return Ee}),n.d(e,"Cb",function(){return Le}),n.d(e,"Db",function(){return Ne}),n.d(e,"Eb",function(){return Te}),n.d(e,"Fb",function(){return De}),n.d(e,"Gb",function(){return A}),n.d(e,"Hb",function(){return p}),n.d(e,"Ib",function(){return T}),n.d(e,"Jb",function(){return Pe}),n.d(e,"Kb",function(){return g}),n.d(e,"Lb",function(){return m}),n.d(e,"Mb",function(){return Ae}),n.d(e,"Nb",function(){return oe}),n.d(e,"Ob",function(){return Me});var h=function(){function t(t){this.el=t,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this.el.nativeElement.value=this.lastValue=null==t?"":t,f(this.el)},t.prototype.handleChangeEvent=function(t){t!==this.lastValue&&(this.lastValue=t,this.onChange(t)),f(this.el)},t.prototype._handleBlurEvent=function(){this.onTouched(),f(this.el)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.el.nativeElement.disabled=t},t}();function f(t){requestAnimationFrame(function(){var e=t.nativeElement,n=function(t){for(var n=e.classList,r=[],o=0;o<n.length;o++){var i=n.item(o);null!==i&&"ng-"===i.substr(0,"ng-".length)&&r.push("ion-"+i.substr(3))}return r}();d(e,n);var r=e.closest("ion-item");r&&d(r,n)})}function d(t,e){var n=t.classList;n.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),n.add.apply(n,e)}var p=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),e.prototype._handleIonChange=function(t){this.handleChangeEvent(t)},e.prototype.registerOnChange=function(e){t.prototype.registerOnChange.call(this,function(t){e(""===t?null:parseFloat(t))})},e}(h),g=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),e.prototype._handleChangeEvent=function(t){this.handleChangeEvent(t)},e}(h),m=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),e.prototype._handleInputEvent=function(t){this.handleChangeEvent(t)},e}(h),v=function(t){return y(t)},y=function(t){t.Ionic=t.Ionic||{};var e=t.Ionic.platforms;return null==e&&(e=t.Ionic.platforms=b(t)).forEach(function(e){return t.document.documentElement.classList.add("plt-"+e)}),e},b=function(t){return Object.keys(x).filter(function(e){return x[e](t)})},w=function(t){return I(t,/iPad/i)},_=function(t){return I(t,/android|sink/i)},C=function(t){return k(t,"(any-pointer:coarse)")},S=function(t){return E(t)||O(t)},E=function(t){return!!(t.cordova||t.phonegap||t.PhoneGap)},O=function(t){var e=t.Capacitor;return!(!e||!e.isNative)},I=function(t,e){return!(!t.navigator||!t.navigator.userAgent)&&e.test(t.navigator.userAgent)},k=function(t,e){return!!t.matchMedia&&t.matchMedia(e).matches},x={ipad:w,iphone:function(t){return I(t,/iPhone/i)},ios:function(t){return I(t,/iPad|iPhone|iPod/i)},android:_,phablet:function(t){var e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),o=Math.max(e,n);return r>390&&r<520&&o>620&&o<800},tablet:function(t){var e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),o=Math.max(e,n);return w(t)||function(t){return _(t)&&!I(t,/mobile/i)}(t)||r>460&&r<820&&o>780&&o<1400},cordova:E,capacitor:O,electron:function(t){return I(t,/electron/)},pwa:function(t){return!!t.matchMedia&&(t.matchMedia("(display-mode: standalone)").matches||t.navigator.standalone)},mobile:C,mobileweb:function(t){return C(t)&&!S(t)},desktop:function(t){return!C(t)},hybrid:S},T=function(){function t(t){var e;this.doc=t,this.backButton=new s.a,this.pause=new s.a,this.resume=new s.a,this.resize=new s.a,this.win=t.defaultView,this.backButton.subscribeWithPriority=function(t,e){return this.subscribe(function(n){n.register(t,e)})},P(this.pause,t,"pause"),P(this.resume,t,"resume"),P(this.backButton,t,"ionBackButton"),P(this.resize,this.win,"resize"),this._readyPromise=new Promise(function(t){e=t}),this.win&&this.win.cordova?t.addEventListener("deviceready",function(){e("cordova")},{once:!0}):e("dom")}return t.prototype.is=function(t){return e=t,v(this.win).includes(e);var e},t.prototype.platforms=function(){return v(this.win)},t.prototype.ready=function(){return this._readyPromise},Object.defineProperty(t.prototype,"isRTL",{get:function(){return"rtl"===this.doc.dir},enumerable:!0,configurable:!0}),t.prototype.getQueryParam=function(t){return D(this.win.location.href,t)},t.prototype.isLandscape=function(){return!this.isPortrait()},t.prototype.isPortrait=function(){return this.win.matchMedia&&this.win.matchMedia("(orientation: portrait)").matches},t.prototype.testUserAgent=function(t){var e=this.win.navigator;return!!(e&&e.userAgent&&e.userAgent.indexOf(t)>=0)},t.prototype.url=function(){return this.win.location.href},t.prototype.width=function(){return this.win.innerWidth},t.prototype.height=function(){return this.win.innerHeight},t.ngInjectableDef=Object(o.S)({factory:function(){return new t(Object(o.W)(i.c))},token:t,providedIn:"root"}),t}(),D=function(t,e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},P=function(t,e,n){e&&e.addEventListener(n,function(e){t.next(null!=e?e.detail:void 0)})},A=function(){function t(t,e,n){var r=this;this.location=e,this.router=n,this.direction=N,this.animated=M,this.guessDirection="forward",this.lastNavId=-1,n&&n.events.subscribe(function(t){if(t instanceof a.d){var e=t.restoredState?t.restoredState.navigationId:t.id;r.guessDirection=e<r.lastNavId?"back":"forward",r.guessAnimation=t.restoredState?void 0:r.guessDirection,r.lastNavId="forward"===r.guessDirection?t.id:e}}),t.backButton.subscribeWithPriority(0,function(){return r.pop()})}return t.prototype.navigateForward=function(t,e){return void 0===e&&(e={}),this.setDirection("forward",e.animated,e.animationDirection),this.navigate(t,e)},t.prototype.navigateBack=function(t,e){return void 0===e&&(e={}),this.setDirection("back",e.animated,e.animationDirection),this.navigate(t,e)},t.prototype.navigateRoot=function(t,e){return void 0===e&&(e={}),this.setDirection("root",e.animated,e.animationDirection),this.navigate(t,e)},t.prototype.back=function(t){return void 0===t&&(t={animated:!0,animationDirection:"back"}),this.setDirection("back",t.animated,t.animationDirection),this.location.back()},t.prototype.pop=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(e){switch(e.label){case 0:t=this.topOutlet,e.label=1;case 1:return t?[4,t.pop()]:[3,3];case 2:return e.sent()?[3,3]:(t=t.parentOutlet,[3,1]);case 3:return[2]}})})},t.prototype.setDirection=function(t,e,n){this.direction=t,this.animated=function(t,e,n){if(!1!==e)return void 0!==n?n:"forward"===t||"back"===t?t:"root"===t&&!0===e?"forward":void 0}(t,e,n)},t.prototype.setTopOutlet=function(t){this.topOutlet=t},t.prototype.consumeTransition=function(){var t,e="root";return"auto"===this.direction?(e=this.guessDirection,t=this.guessAnimation):(t=this.animated,e=this.direction),this.direction=N,this.animated=M,{direction:e,animation:t}},t.prototype.navigate=function(t,e){return Array.isArray(t)?this.router.navigate(t,e):this.router.navigateByUrl(t,e)},t.ngInjectableDef=Object(o.S)({factory:function(){return new t(Object(o.W)(T),Object(o.W)(i.f),Object(o.W)(a.m,8))},token:t,providedIn:"root"}),t}(),N="auto",M=void 0;function R(t,e){var n=t.prototype;e.forEach(function(t){Object.defineProperty(n,t,{get:function(){return this.el[t]},set:function(e){this.el[t]=e}})})}function j(t,e){var n=t.prototype;e.forEach(function(t){n[t]=function(){var e=arguments;return this.el.componentOnReady().then(function(n){return n[t].apply(n,e)})}})}function L(t,e,n){n.forEach(function(n){return t[n]=Object(u.a)(e,n)})}var U=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),q=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),F=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(F,["color","mode","defaultHref","icon","text"]);var V=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionBackdropTap"])}}();R(V,["visible","tappable","stopPropagation"]);var B=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(B,["color","mode"]);var z=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionFocus","ionBlur"])}}();R(z,["color","mode","buttonType","disabled","expand","fill","routerDirection","href","shape","size","strong","type"]);var H=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),G=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(G,["color","mode"]);var W=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(W,["mode"]);var K=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(K,["color","mode","translucent"]);var Q=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Q,["color","mode"]);var J=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(J,["color","mode"]);var X=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionChange","ionFocus","ionBlur"])}}();R(X,["color","mode","name","checked","indeterminate","disabled","value"]);var Y=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Y,["color","mode","outline"]);var Z=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Z,["offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","pull","pullXs","pullSm","pullMd","pullLg","pullXl","push","pushXs","pushSm","pushMd","pushLg","pushXl","size","sizeXs","sizeSm","sizeMd","sizeLg","sizeXl"]);var $=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}}();j($,["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]),R($,["color","fullscreen","forceOverscroll","scrollX","scrollY","scrollEvents"]);var tt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}}();j(tt,["open"]),R(tt,["mode","name","disabled","readonly","min","max","displayFormat","pickerFormat","cancelText","doneText","yearValues","monthValues","dayValues","hourValues","minuteValues","monthNames","monthShortNames","dayNames","dayShortNames","pickerOptions","placeholder","value"]);var et=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();j(et,["close"]),R(et,["horizontal","vertical","edge","activated"]);var nt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionFocus","ionBlur"])}}();R(nt,["mode","color","activated","disabled","href","routerDirection","show","translucent","type","size"]);var rt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(rt,["activated","side"]);var ot=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(ot,["mode","translucent"]);var it=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(it,["fixed"]);var at=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(at,["mode","translucent"]);var st=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(st,["ariaLabel","color","flipRtl","icon","ios","lazy","md","mode","name","size","src"]);var ut=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionImgDidLoad"])}}();R(ut,["alt","src"]);var lt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionInfinite"])}}();j(lt,["complete"]),R(lt,["threshold","disabled","position"]);var ct=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(ct,["loadingSpinner","loadingText"]);var ht=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}}();j(ht,["setFocus","getInputElement"]),R(ht,["color","mode","accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","debounce","disabled","inputmode","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","spellcheck","step","size","type","value"]);var ft=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(ft,["color","mode","button","detail","detailIcon","disabled","href","lines","routerDirection","type"]);var dt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(dt,["color","mode","sticky"]);var pt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),gt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(gt,["color","mode","disabled","expandable","href"]);var mt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionSwipe"])}}();R(mt,["side"]);var vt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionDrag"])}}();j(vt,["getOpenAmount","getSlidingRatio","close","closeOpened"]),R(vt,["disabled"]);var yt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(yt,["color","mode","position"]);var bt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();j(bt,["closeSlidingItems"]),R(bt,["mode","lines","inset"]);var wt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(wt,["mode","color"]);var _t=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}}();j(_t,["isOpen","isActive","open","close","toggle","setOpen"]),R(_t,["contentId","menuId","type","disabled","side","swipeGesture","maxEdgeStart"]);var Ct=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Ct,["color","mode","menu","autoHide"]);var St=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(St,["menu","autoHide"]);var Et=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionNavWillChange","ionNavDidChange"])}}();j(Et,["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]),R(Et,["swipeGesture","animated","animation","rootParams","root"]);var Ot=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),It=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(It,["component","componentProps"]);var kt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(kt,["component","componentProps"]);var xt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(xt,["color","mode"]);var Tt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Tt,["mode","type","reversed","value","buffer","color"]);var Dt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionSelect","ionFocus","ionBlur"])}}();R(Dt,["color","mode","name","disabled","checked","value"]);var Pt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionChange"])}}();R(Pt,["allowEmptySelection","name","value"]);var At=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionChange","ionFocus","ionBlur"])}}();R(At,["color","mode","debounce","name","dualKnobs","min","max","pin","snaps","step","disabled","value"]);var Nt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionRefresh","ionPull","ionStart"])}}();j(Nt,["complete","cancel","getProgress"]),R(Nt,["pullMin","pullMax","closeDuration","snapbackDuration","disabled"]);var Mt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Mt,["pullingIcon","pullingText","refreshingSpinner","refreshingText"]);var Rt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),jt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionItemReorder"])}}();j(jt,["complete"]),R(jt,["disabled"]);var Lt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();j(Lt,["addRipple"]),R(Lt,["type"]);var Ut=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),qt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}}();j(qt,["setFocus","getInputElement"]),R(qt,["color","mode","animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","debounce","placeholder","searchIcon","showCancelButton","spellcheck","type","value"]);var Ft=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionChange","ionStyle"])}}();R(Ft,["color","mode","disabled","scrollable","value"]);var Vt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionSelect"])}}();R(Vt,["mode","checked","disabled","layout","value"]);var Bt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionChange","ionCancel","ionFocus","ionBlur"])}}();j(Bt,["open"]),R(Bt,["mode","disabled","cancelText","okText","placeholder","name","selectedText","multiple","interface","interfaceOptions","compareWith","value"]);var zt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(zt,["disabled","selected","value"]);var Ht=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Ht,["animated","width"]);var Gt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),Wt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionSlidesDidLoad","ionSlideTap","ionSlideDoubleTap","ionSlideWillChange","ionSlideDidChange","ionSlideNextStart","ionSlidePrevStart","ionSlideNextEnd","ionSlidePrevEnd","ionSlideTransitionStart","ionSlideTransitionEnd","ionSlideDrag","ionSlideReachStart","ionSlideReachEnd","ionSlideTouchStart","ionSlideTouchEnd"])}}();j(Wt,["update","updateAutoHeight","slideTo","slideNext","slidePrev","getActiveIndex","getPreviousIndex","length","isEnd","isBeginning","startAutoplay","stopAutoplay","lockSwipeToNext","lockSwipeToPrev","lockSwipes"]),R(Wt,["mode","options","pager","scrollbar"]);var Kt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Kt,["color","duration","name","paused"]);var Qt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionSplitPaneVisible"])}}();R(Qt,["contentId","disabled","when"]);var Jt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Jt,["mode","color","selectedTab","translucent"]);var Xt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Xt,["selected","mode","layout","href","tab","disabled"]);var Yt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Yt,["color","mode"]);var Zt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}}();j(Zt,["setFocus","getInputElement"]),R(Zt,["mode","color","autocapitalize","autofocus","clearOnEdit","debounce","disabled","maxlength","minlength","name","placeholder","readonly","required","spellcheck","cols","rows","wrap","value"]);var $t=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),te=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(te,["color"]);var ee=function(){return function(t,e){t.detach(),this.el=e.nativeElement,L(this,this.el,["ionChange","ionFocus","ionBlur"])}}();R(ee,["mode","color","name","checked","disabled","value"]);var ne=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(ne,["color","mode"]);var re=function(){function t(){}return t.prototype.get=function(t,e){var n=ie();return n?n.get(t,e):null},t.prototype.getBoolean=function(t,e){var n=ie();return!!n&&n.getBoolean(t,e)},t.prototype.getNumber=function(t,e){var n=ie();return n?n.getNumber(t,e):0},t.prototype.set=function(t,e){var n=ie();n&&n.set(t,e)},t.ngInjectableDef=Object(o.S)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),oe=new o.p("USERCONFIG");function ie(){if("undefined"!=typeof window){var t=window.Ionic;if(t&&t.config)return t.config}return null}var ae=function(){function t(t){void 0===t&&(t={}),this.data=t}return t.prototype.get=function(t){return this.data[t]},t}(),se=function(){function t(t,e){this.zone=t,this.appRef=e}return t.prototype.create=function(t,e,n){return new ue(t,e,n,this.appRef,this.zone)},t}(),ue=function(){function t(t,e,n,r,o){this.resolver=t,this.injector=e,this.location=n,this.appRef=r,this.zone=o,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}return t.prototype.attachViewToDom=function(t,e,n,r){var i=this;return new Promise(function(a){i.zone.run(function(){var s=function(t,e,n,r,a,s,u,l,c,h){var f=i.resolver.resolveComponentFactory(l),d=o.q.create({providers:fe(c),parent:e}),p=n?n.createComponent(f,n.length,d):f.create(d),g=p.instance,m=p.location.nativeElement;if(c&&Object.assign(g,c),h)for(var v=0,y=h;v<y.length;v++)m.classList.add(y[v]);var b=ce(g,m);return u.appendChild(m),n||r.attachView(p.hostView),p.changeDetectorRef.reattach(),a.set(m,p),s.set(m,b),m}(0,i.injector,i.location,i.appRef,i.elRefMap,i.elEventsMap,t,e,n,r);a(s)})})},t.prototype.removeViewFromDom=function(t,e){var n=this;return new Promise(function(t){n.zone.run(function(){var r=n.elRefMap.get(e);if(r){r.destroy(),n.elRefMap.delete(e);var o=n.elEventsMap.get(e);o&&(o(),n.elEventsMap.delete(e))}t()})})},t}(),le=["ionViewWillEnter","ionViewDidEnter","ionViewWillLeave","ionViewDidLeave","ionViewWillUnload"];function ce(t,e){var n=le.map(function(n){var r=function(e){"function"==typeof t[n]&&t[n](e.detail)};return e.addEventListener(n,r),function(){e.removeEventListener(n,r)}});return function(){n.forEach(function(t){return t()})}}var he=new o.p("NavParamsToken");function fe(t){return[{provide:he,useValue:t},{provide:ae,useFactory:de,deps:[he]}]}function de(t){return new ae(t)}function pe(t,e){return(t=t.filter(function(t){return t.stackId!==e.stackId})).push(e),t}function ge(t,e){var n=t.createUrlTree(["."],{relativeTo:e});return t.serializeUrl(n)}function me(t,e){if(t)for(var n=ve(e),r=0;r<n.length;r++){if(r>=t.length)return n[r];if(n[r]!==t[r])return}}function ve(t){return t.split("/").map(function(t){return t.trim()}).filter(function(t){return""!==t})}function ye(t){t&&(t.ref.destroy(),t.unlistenEvents())}var be=function(){function t(t,e,n,r,o){this.containerEl=e,this.router=n,this.navCtrl=r,this.zone=o,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?ve(t):void 0}return t.prototype.createView=function(t,e){var n=ge(this.router,e),r=t&&t.location&&t.location.nativeElement,o=ce(t.instance,r);return{id:this.nextId++,stackId:me(this.tabsPrefix,n),unlistenEvents:o,element:r,ref:t,url:n}},t.prototype.getExistingView=function(t){var e=ge(this.router,t),n=this.views.find(function(t){return t.url===e});return n&&n.ref.changeDetectorRef.reattach(),n},t.prototype.setActive=function(t){var e=this,n=this.navCtrl.consumeTransition(),o=n.direction,i=n.animation,a=this.activeView,s=function(t,e){return!e||t.stackId!==e.stackId}(t,a);s&&(o="back",i=void 0);var u=this.views.slice(),l=this.insertView(t,o);return this.wait(function(){return Object(r.__awaiter)(e,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return[4,this.transition(t,a,i,this.canGoBack(1),!1)];case 1:return e.sent(),[4,we(t,l,u)];case 2:return e.sent(),[2,{enteringView:t,direction:o,animation:i,tabSwitch:s}]}})})})},t.prototype.canGoBack=function(t,e){return void 0===e&&(e=this.getActiveStackId()),this.getStack(e).length>t},t.prototype.pop=function(t,e){var n=this;return void 0===e&&(e=this.getActiveStackId()),this.zone.run(function(){var r=n.getStack(e);return r.length<=t?Promise.resolve(!1):n.navCtrl.navigateBack(r[r.length-t-1].url).then(function(){return!0})})},t.prototype.startBackTransition=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,e,n,o=this;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return(t=this.activeView)?(e=this.getStack(t.stackId),(n=e[e.length-2]).ref.changeDetectorRef.reattach(),[4,this.wait(function(){return o.transition(n,t,"back",!0,!0)})]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.endBackTransition=function(t){t&&(this.skipTransition=!0,this.pop(1))},t.prototype.getLastUrl=function(t){var e=this.getStack(t);return e.length>0?e[e.length-1]:void 0},t.prototype.getActiveStackId=function(){return this.activeView?this.activeView.stackId:void 0},t.prototype.destroy=function(){this.containerEl=void 0,this.views.forEach(ye),this.activeView=void 0,this.views=[]},t.prototype.getStack=function(t){return this.views.filter(function(e){return e.stackId===t})},t.prototype.insertView=function(t,e){return this.activeView=t,this.views=function(t,e,n){return"root"===n?pe(t,e):"forward"===n?function(t,e){return t.indexOf(e)>=0?t=t.filter(function(t){return t.stackId!==e.stackId||t.id<=e.id}):t.push(e),t}(t,e):function(t,e){return t.indexOf(e)>=0?t.filter(function(t){return t.stackId!==e.stackId||t.id<=e.id}):pe(t,e)}(t,e)}(this.views,t,e),this.views.slice()},t.prototype.transition=function(t,e,n,o,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var a,s,u;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return this.skipTransition?(this.skipTransition=!1,[2]):(s=e?e.element:void 0,u=this.containerEl,(a=t?t.element:void 0)&&a!==s?(a.classList.add("ion-page","ion-page-invisible"),a.parentElement!==u&&u.appendChild(a),[4,u.componentOnReady()]):[3,3]);case 1:return r.sent(),[4,u.commit(a,s,{deepWait:!0,duration:void 0===n?0:void 0,direction:n,showGoBack:o,progressAnimation:i})];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.wait=function(t){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return void 0===this.runningTask?[3,2]:[4,this.runningTask];case 1:e.sent(),this.runningTask=void 0,e.label=2;case 2:return[2,this.runningTask=t()]}})})},t}();function we(t,e,n){return new Promise(function(r){requestAnimationFrame(function(){!function(t,e,n){n.filter(function(t){return!e.includes(t)}).forEach(ye),e.forEach(function(e){if(e!==t){var n=e.element;n.setAttribute("aria-hidden","true"),n.classList.add("ion-page-hidden"),e.ref.changeDetectorRef.detach()}})}(t,e,n),r()})})}var _e=function(){function t(t,e,n,r,i,s,u,l,c,h,f,d,p){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.config=u,this.navCtrl=l,this.parentOutlet=p,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.stackEvents=new o.m,this.activateEvents=new o.m,this.deactivateEvents=new o.m,this.nativeEl=c.nativeElement,this.name=r||a.f,this.tabsPrefix="true"===i?ge(h,d):void 0,this.stackCtrl=new be(this.tabsPrefix,this.nativeEl,h,l,f),t.onChildOutletCreated(this.name,this)}return Object.defineProperty(t.prototype,"animated",{set:function(t){this.nativeEl.animated=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeGesture",{set:function(t){var e=this;this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:function(){return e.stackCtrl.canGoBack(1)},onStart:function(){return e.stackCtrl.startBackTransition()},onEnd:function(t){return e.stackCtrl.endBackTransition(t)}}:void 0},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.stackCtrl.destroy()},t.prototype.getContext=function(){return this.parentContexts.getContext(this.name)},t.prototype.ngOnInit=function(){var t=this;if(!this.activated){var e=this.getContext();e&&e.route&&this.activateWith(e.route,e.resolver||null)}this.nativeEl.componentOnReady&&this.nativeEl.componentOnReady().then(function(){void 0===t._swipeGesture&&(t.swipeGesture=t.config.getBoolean("swipeBackEnabled","ios"===t.nativeEl.mode))})},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){throw new Error("incompatible reuse strategy")},t.prototype.attach=function(t,e){throw new Error("incompatible reuse strategy")},t.prototype.deactivate=function(){if(this.activated){this.activatedView&&(this.activatedView.savedData=new Map(this.getContext().children.contexts));var t=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){var n,r=this;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var o=this.stackCtrl.getExistingView(t);if(o){n=this.activated=o.ref;var i=o.savedData;i&&(this.getContext().children.contexts=i)}else{var a=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),s=this.parentContexts.getOrCreateContext(this.name).children,u=new Ce(t,s,this.location.injector);n=this.activated=this.location.createComponent(a,this.location.length,u),o=this.stackCtrl.createView(this.activated,t),this.changeDetector.markForCheck()}this.activatedView=o,this.stackCtrl.setActive(o).then(function(t){r.navCtrl.setTopOutlet(r),r.activateEvents.emit(n.instance),r.stackEvents.emit(t)})},t.prototype.canGoBack=function(t,e){return void 0===t&&(t=1),this.stackCtrl.canGoBack(t,e)},t.prototype.pop=function(t,e){return void 0===t&&(t=1),this.stackCtrl.pop(t,e)},t.prototype.getLastUrl=function(t){var e=this.stackCtrl.getLastUrl(t);return e?e.url:void 0},t.prototype.getActiveStackId=function(){return this.stackCtrl.getActiveStackId()},t}(),Ce=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===a.a?this.route:t===a.b?this.childContexts:this.parent.get(t,e)},t}(),Se=function(){function t(t){this.navCtrl=t,this.ionTabsWillChange=new o.m,this.ionTabsDidChange=new o.m}return t.prototype.onPageSelected=function(t){var e=t.enteringView.stackId;t.tabSwitch&&void 0!==e&&(this.tabBar&&(this.tabBar.selectedTab=e),this.ionTabsWillChange.emit({tab:e}),this.ionTabsDidChange.emit({tab:e}))},t.prototype.select=function(t){var e=this.outlet.getActiveStackId()===t,n=this.outlet.tabsPrefix+"/"+t,r=e?n:this.outlet.getLastUrl(t)||n;return this.navCtrl.navigateRoot(r,{animated:!0,animationDirection:"back"})},t.prototype.getSelected=function(){return this.outlet.getActiveStackId()},t}(),Ee=function(){function t(t,e,n){this.zone=t,this.iterableDiffers=e,this.refMap=new WeakMap,this.el=n.nativeElement,this.el.nodeRender=this.nodeRender.bind(this)}return t.prototype.ngOnChanges=function(t){if(this.trackBy&&"items"in t){var e=t.items.currentValue;if(void 0===this.differ&&null!=e)try{this.differ=this.iterableDiffers.find(e).create(this.trackBy)}catch(n){throw new Error("Cannot find a differ supporting object '"+e+"'. VirtualScroll only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){null!==(void 0!==this.differ&&this.items?this.differ.diff(this.items):null)&&this.checkRange(0)},t.prototype.nodeRender=function(t,e,n){var r=this;return this.zone.run(function(){var o;if(t){var i=(o=r.refMap.get(t)).context;i.$implicit=e.value,i.index=e.index}else o=r.itmTmp.viewContainer.createEmbeddedView(r.getComponent(e.type),{$implicit:e.value,index:n},n),t=function(t){for(var e=o.rootNodes,n=0;n<e.length;n++)if(1===e[n].nodeType)return e[n];throw new Error("virtual element was not created")}(),r.refMap.set(t,o);return o.detectChanges(),t})},t.prototype.getComponent=function(t){switch(t){case"item":return this.itmTmp.templateRef;case"header":return this.hdrTmp.templateRef;case"footer":return this.ftrTmp.templateRef}throw new Error("template for virtual item was not provided")},t}();function Oe(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var i=function(t,e){var n=e.querySelector(t);return n||(n=e.createElement(t),e.body.appendChild(n)),n}(t,e);return i.componentOnReady().then(function(){return i[n].apply(i,r)})}R(Ee,["approxItemHeight","approxHeaderHeight","approxFooterHeight","headerFn","footerFn","items","itemHeight"]),j(Ee,["checkEnd","checkRange","positionForItem"]);var Ie=function(){function t(t,e){this.ctrl=t,this.doc=e}return t.prototype.create=function(t){return Oe(this.ctrl,this.doc,"create",t)},t.prototype.dismiss=function(t,e,n){return Oe(this.ctrl,this.doc,"dismiss",t,e,n)},t.prototype.getTop=function(){return Oe(this.ctrl,this.doc,"getTop")},t}(),ke=function(t){function e(e){return t.call(this,"ion-alert-controller",e)||this}return Object(r.__extends)(e,t),e.ngInjectableDef=Object(o.S)({factory:function(){return new e(Object(o.W)(i.c))},token:e,providedIn:"root"}),e}(Ie),xe=function(){function t(){this.c=new Map}return t.prototype.subscribe=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.c.get(t);r||this.c.set(t,r=[]),r.push.apply(r,e)},t.prototype.unsubscribe=function(t,e){if(!e)return this.c.delete(t);var n=this.c.get(t);if(!n)return!1;var r=n.indexOf(e);return!(r<0||(n.splice(r,1),0===n.length&&this.c.delete(t),0))},t.prototype.publish=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.c.get(t);return r?r.map(function(t){try{return t.apply(void 0,e)}catch(n){return console.error(n),null}}):null},t.ngInjectableDef=Object(o.S)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Te=function(t){function e(e){return t.call(this,"ion-loading-controller",e)||this}return Object(r.__extends)(e,t),e.ngInjectableDef=Object(o.S)({factory:function(){return new e(Object(o.W)(i.c))},token:e,providedIn:"root"}),e}(Ie),De=function(t){function e(e,n,r,o){var i=t.call(this,"ion-modal-controller",o)||this;return i.angularDelegate=e,i.resolver=n,i.injector=r,i}return Object(r.__extends)(e,t),e.prototype.create=function(e){return t.prototype.create.call(this,Object(r.__assign)({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))},e}(Ie),Pe=function(t){function e(e,n,r,o){var i=t.call(this,"ion-popover-controller",o)||this;return i.angularDelegate=e,i.resolver=n,i.injector=r,i}return Object(r.__extends)(e,t),e.prototype.create=function(e){return t.prototype.create.call(this,Object(r.__assign)({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))},e}(Ie),Ae=function(t){function e(e){return t.call(this,"ion-toast-controller",e)||this}return Object(r.__extends)(e,t),e.ngInjectableDef=Object(o.S)({factory:function(){return new e(Object(o.W)(i.c))},token:e,providedIn:"root"}),e}(Ie),Ne=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.shouldAttach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){if(t.routeConfig!==e.routeConfig)return!1;if(t.component!==e.component)return!1;var n=t.params,r=e.params,o=Object.keys(n),i=Object.keys(r);if(o.length!==i.length)return!1;for(var a=0,s=o;a<s.length;a++){var u=s[a];if(r[u]!==n[u])return!1}return!0},t}();function Me(t,e){return function(){var n=e.defaultView;if(n){var r=n.Ionic=n.Ionic||{};return r.config=t,r.asyncQueue=!1,r.ael=function(t,e,n,r){t.__zone_symbol__addEventListener&&je(e)?t.__zone_symbol__addEventListener(e,n,r):t.addEventListener(e,n,r)},r.rel=function(t,e,n,r){t.__zone_symbol__removeEventListener&&je(e)?t.__zone_symbol__removeEventListener(e,n,r):t.removeEventListener(e,n,r)},function(t,e){return Object(l.a)(t,c,{exclude:["ion-tabs","ion-tab"]})}(n)}}}var Re=["scroll","resize","touchstart","touchmove","touchend","mousedown","mousemove","mouseup","ionStyle"];function je(t){return Re.indexOf(t)>=0}var Le=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:oe,useValue:e},{provide:o.d,useFactory:Me,multi:!0,deps:[oe,i.c]}]}},t}()},Zn8D:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("psW0"),o=n("mChF");function i(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.a)(o.a,t)}},ZrEc:function(t,e,n){var r=n("hdqJ"),o=n("aXXJ")("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},"a+hM":function(t,e,n){var r=n("57wU"),o=n("ySdl"),i=n("pYsU"),a=n("TIpl");t.exports=function(t,e){for(var n=o(e),s=a.f,u=i.f,l=0;l<n.length;l++){var c=n[l];r(t,c)||s(t,c,u(e,c))}}},a0i3:function(t,e,n){t.exports=!n("lb/b")&&!n("0HDe")(function(){return 7!=Object.defineProperty(n("JIMt")("div"),"a",{get:function(){return 7}}).a})},a3Cf:function(t,e,n){"use strict";var r=n("HPGL"),o=n("Lq6m");n.d(e,"IonicNativePlugin",function(){return o.a});var i=n("KOl+");n.d(e,"checkAvailability",function(){return i.a}),n.d(e,"instanceAvailability",function(){return i.d}),n.d(e,"getPromise",function(){return i.c});var a=n("xSm1");n.d(e,"cordova",function(){return a.a}),n("hKQe");var s=n("Rt+L");n.d(e,"cordovaInstance",function(){return s.a});var u=n("pxS/");n.d(e,"cordovaPropertyGet",function(){return u.a}),n.d(e,"cordovaPropertySet",function(){return u.b}),n("Ji5e"),n("4pTB"),Object(r.a)()},aXXJ:function(t,e,n){var r=n("MfhB")("wks"),o=n("ptKZ"),i=n("ysHE").Symbol,a=n("mk1t");t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}},aZ40:function(t,e,n){var r=n("Wogr"),o=new r(512),i=new r(256);!function(){for(var t=1,e=0;e<255;e++)o[e]=t,i[t]=e,256&(t<<=1)&&(t^=285);for(e=255;e<512;e++)o[e]=o[e-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return i[t]},e.exp=function(t){return o[t]},e.mul=function(t,e){return 0===t||0===e?0:o[i[t]+i[e]]}},ahhG:function(t,e,n){e.f=n("aXXJ")},b2LF:function(t,e,n){n("q94Q")("hasInstance")},bcPd:function(t,e,n){var r=n("kpns");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},bne5:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("6blF"),o=n("isby"),i=n("2Bdj"),a=n("67Y/");function s(t,e,n,u){return Object(i.a)(n)&&(u=n,n=void 0),u?s(t,e,n).pipe(Object(a.a)(function(t){return Object(o.a)(t)?u.apply(void 0,t):u(t)})):new r.a(function(r){!function t(e,n,r,o,i){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,r,i),a=function(){return s.removeEventListener(n,r,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),a=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var l=e;e.addListener(n,r),a=function(){return l.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,h=e.length;c<h;c++)t(e[c],n,r,o,i)}o.add(a)}(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}},cBjU:function(t,e,n){"use strict";function r(t,e){return"sc-"+t.t+(e&&e!==s?"-"+e:"")}function o(t,e){return t+(e?"-h":"-s")}function i(t,e){for(var n,r,o=null,i=!1,a=!1,s=arguments.length;s-- >2;)E.push(arguments[s]);for(;E.length>0;){var u=E.pop();if(u&&void 0!==u.pop)for(s=u.length;s--;)E.push(u[s]);else"boolean"==typeof u&&(u=null),(a="function"!=typeof t)&&(null==u?u="":"number"==typeof u?u=String(u):"string"!=typeof u&&(a=!1)),a&&i?o[o.length-1].vtext+=u:null===o?o=[a?{vtext:u}:u]:o.push(a?{vtext:u}:u),i=a}if(null!=e){if(e.className&&(e.class=e.className),"object"==typeof e.class){for(s in e.class)e.class[s]&&E.push(s);e.class=E.join(" "),E.length=0}null!=e.key&&(n=e.key),null!=e.name&&(r=e.name)}return"function"==typeof t?t(e,o||[],O):{vtag:t,vchildren:o,vtext:void 0,vattrs:e,vkey:n,vname:r,i:void 0,o:!1}}function a(t,e,r){void 0===r&&(r={});var o=Array.isArray(e)?e:[e],i=t.document,a=r.hydratedCssClass||"hydrated",s=r.exclude;s&&(o=o.filter(function(t){return-1===s.indexOf(t[0])}));var u=o.map(function(t){return t[0]});if(u.length>0){var l=i.createElement("style");l.innerHTML=u.join()+"{visibility:hidden}."+a+"{visibility:inherit}",l.setAttribute("data-styles",""),i.head.insertBefore(l,i.head.firstChild)}var c=r.namespace||"Ionic";return B||(B=!0,function(t,e,n){(t["s-apps"]=t["s-apps"]||[]).push(e),n.componentOnReady||(n.componentOnReady=function(){function e(e){if(n.nodeName.indexOf("-")>0){for(var r=t["s-apps"],o=0,i=0;i<r.length;i++)if(t[r[i]].componentOnReady){if(t[r[i]].componentOnReady(n,e))return;o++}if(o<r.length)return void(t["s-cr"]=t["s-cr"]||[]).push([n,e])}e(null)}var n=this;return t.Promise?new t.Promise(e):{then:e}})}(t,c,t.HTMLElement.prototype)),function(t){t.k=function(){function e(){var t=setTimeout;return function(){return t(n,1)}}function n(){for(var t=0;t<y;t+=2)(0,x[t])(x[t+1]),x[t]=void 0,x[t+1]=void 0;y=0}function r(t,e){var n=this,r=new this.constructor(i);void 0===r[D]&&g(r);var o=n.A;if(o){var a=arguments[o-1];_(function(){return p(o,r,a,n.C)})}else f(n,r,t,e);return r}function o(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(i);return u(e,t),e}function i(){}function a(t){try{return t.then}catch(t){return M.error=t,M}}function s(t,e,n){e.constructor===t.constructor&&n===r&&e.constructor.resolve===o?function(t,e){e.A===A?c(t,e.C):e.A===N?h(t,e.C):f(e,void 0,function(e){return u(t,e)},function(e){return h(t,e)})}(t,e):n===M?(h(t,M.error),M.error=null):void 0===n?c(t,e):"function"==typeof n?function(t,e,n){_(function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,function(n){r||(r=!0,e!==n?u(t,n):c(t,n))},function(e){r||(r=!0,h(t,e))});!r&&o&&(r=!0,h(t,o))},t)}(t,e,n):c(t,e)}function u(t,e){if(t===e)h(t,new TypeError("cannot resolve promise w/ itself"));else{var n=typeof e;null===e||"object"!==n&&"function"!==n?c(t,e):s(t,e,a(e))}}function l(t){t.S&&t.S(t.C),d(t)}function c(t,e){t.A===P&&(t.C=e,t.A=A,0!==t._.length&&_(d,t))}function h(t,e){t.A===P&&(t.A=N,t.C=e,_(l,t))}function f(t,e,n,r){var o=t._,i=o.length;t.S=null,o[i]=e,o[i+A]=n,o[i+N]=r,0===i&&t.A&&_(d,t)}function d(t){var e=t._,n=t.A;if(0!==e.length){for(var r,o,i=t.C,a=0;a<e.length;a+=3)o=e[a+n],(r=e[a])?p(n,r,o,i):o(i);t._.length=0}}function p(t,e,n,r){var o="function"==typeof n,i=void 0,a=void 0,s=void 0,l=void 0;if(o){try{i=n(r)}catch(t){M.error=t,i=M}if(i===M?(l=!0,a=i.error,i.error=null):s=!0,e===i)return void h(e,new TypeError("Cannot return same promise"))}else i=r,s=!0;e.A===P&&(o&&s?u(e,i):l?h(e,a):t===A?c(e,i):t===N&&h(e,i))}function g(t){t[D]=R++,t.A=void 0,t.C=void 0,t._=[]}var m,v=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},y=0,b=void 0,w=void 0,_=function(t,e){x[y]=t,x[y+1]=e,2===(y+=2)&&(w?w(n):T())},C=(m=void 0!==t?t:void 0)||{},S=C.MutationObserver||C.WebKitMutationObserver;C="undefined"==typeof self;var E,O,I,k="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,x=Array(1e3),T=void 0;T=S?(E=0,O=new S(n),I=document.createTextNode(""),O.observe(I,{characterData:!0}),function(){I.data=E=++E%2}):k?function(){var t=new MessageChannel;return t.port1.onmessage=n,function(){return t.port2.postMessage(0)}}():void 0===m?function(){try{var t=Function("return this")().P("vertx");return void 0!==(b=t.T||t.W)?function(){b(n)}:e()}catch(t){return e()}}():e();var D=Math.random().toString(36).substring(2),P=void 0,A=1,N=2,M={error:null},R=0,j=function(){function t(t,e){this.N=t,this.R=new t(i),this.R[D]||g(this.R),v(e)?(this.L=this.length=e.length,this.C=Array(this.length),0===this.length?c(this.R,this.C):(this.length=this.length||0,this.D(e),0===this.L&&c(this.R,this.C))):h(this.R,Error("Array Methods must be provided an Array"))}return t.prototype.D=function(t){for(var e=0;this.A===P&&e<t.length;e++)this.F(t[e],e)},t.prototype.F=function(t,e){var n=this.N,u=n.resolve;u===o?(u=a(t))===r&&t.A!==P?this.H(t.A,e,t.C):"function"!=typeof u?(this.L--,this.C[e]=t):n===L?(s(n=new n(i),t,u),this.q(n,e)):this.q(new n(function(e){return e(t)}),e):this.q(u(t),e)},t.prototype.H=function(t,e,n){var r=this.R;r.A===P&&(this.L--,t===N?h(r,n):this.C[e]=n),0===this.L&&c(r,this.C)},t.prototype.q=function(t,e){var n=this;f(t,void 0,function(t){return n.H(A,e,t)},function(t){return n.H(N,e,t)})},t}(),L=function(){function t(e){if(this[D]=R++,this.C=this.A=void 0,this._=[],i!==e){if("function"!=typeof e)throw new TypeError("Must pass a resolver fn as 1st arg");if(!(this instanceof t))throw new TypeError("Failed to construct 'Promise': Use the 'new' operator.");!function(t,e){try{e(function(e){u(t,e)},function(e){h(t,e)})}catch(e){h(t,e)}}(this,e)}}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},t}();return L.prototype.then=r,L.all=function(t){return new j(this,t).R},L.race=function(t){var e=this;return v(t)?new e(function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}):new e(function(t,e){return e(new TypeError("Must pass array to race"))})},L.resolve=o,L.reject=function(t){var e=new this(i);return h(e,t),e},L.U=function(t){w=t},L.B=function(t){_=t},L.I=_,L.G=function(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw Error("polyfill failed")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=L},L.Promise=L,L.G(),L}();var e=[];return t.customElements&&(!t.Element||t.Element.prototype.closest&&t.Element.prototype.matches&&t.Element.prototype.remove)||e.push(n.e(172).then(n.bind(null,"POma"))),"function"==typeof Object.assign&&Object.entries||e.push(n.e(174).then(n.bind(null,"9iCY"))),Array.prototype.find&&Array.prototype.includes||e.push(n.e(170).then(n.bind(null,"CAJ8"))),String.prototype.startsWith&&String.prototype.endsWith||e.push(n.e(175).then(n.bind(null,"PBQ9"))),t.fetch||e.push(n.e(173).then(n.bind(null,"RxuH"))),"undefined"!=typeof WeakMap&&t.CSS&&t.CSS.supports&&t.CSS.supports("color","var(--c)")||e.push(n.e(171).then(n.bind(null,"KEMf"))),function(){try{var t=new URL("b","http://a");return t.pathname="c%20d","http://a/c%20d"===t.href&&t.searchParams}catch(t){return!1}}||e.push(n.e(176).then(n.bind(null,"YJhb"))),Promise.all(e).then(function(e){e.forEach(function(e){try{e.applyPolyfill(t,t.document)}catch(t){console.error(t)}})})}(t).then(function(){function e(){o.forEach(function(e){var r;!function(t){return/\{\s*\[native code\]\s*\}/.test(""+t)}(t.customElements.define)?(r=function(e){return t.HTMLElement.call(this,e)}).prototype=Object.create(t.HTMLElement.prototype,{constructor:{value:r,configurable:!0}}):r=new Function("w","return class extends w.HTMLElement{}")(t),V[c].u(function(t){var e=I(t),r=e.s,o=d(t[0]);return e.s=function(t){return function(t,e,r){return n("nFGs")("./"+t+(e?".sc":"")+".entry.js").then(function(t){return t[r]})}("string"==typeof r?r:r[t.mode],t.scoped,o)},e}(e),r)})}if(!V[c]){var s={},u=r.resourcesUrl||"./";(function(t,e){var n=function(t,e){return function(t){return r(t)}(t).includes(e)},r=function(t){t.Ionic=t.Ionic||{};var e=t.Ionic.platforms;return null==e&&(e=t.Ionic.platforms=o(t)).forEach(function(e){return t.document.documentElement.classList.add("plt-"+e)}),e},o=function(t){return Object.keys(d).filter(function(e){return d[e](t)})},i=function(t){return h(t,/iPad/i)},a=function(t){return h(t,/android|sink/i)},s=function(t){return f(t,"(any-pointer:coarse)")},u=function(t){return l(t)||c(t)},l=function(t){return!!(t.cordova||t.phonegap||t.PhoneGap)},c=function(t){var e=t.Capacitor;return!(!e||!e.isNative)},h=function(t,e){return!(!t.navigator||!t.navigator.userAgent)&&e.test(t.navigator.userAgent)},f=function(t,e){return!!t.matchMedia&&t.matchMedia(e).matches},d={ipad:i,iphone:function(t){return h(t,/iPhone/i)},ios:function(t){return h(t,/iPad|iPhone|iPod/i)},android:a,phablet:function(t){var e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),o=Math.max(e,n);return r>390&&r<520&&o>620&&o<800},tablet:function(t){var e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),o=Math.max(e,n);return i(t)||function(t){return a(t)&&!h(t,/mobile/i)}(t)||r>460&&r<820&&o>780&&o<1400},cordova:l,capacitor:c,electron:function(t){return h(t,/electron/)},pwa:function(t){return!!t.matchMedia&&(t.matchMedia("(display-mode: standalone)").matches||t.navigator.standalone)},mobile:s,mobileweb:function(t){return s(t)&&!u(t)},desktop:function(t){return!s(t)},hybrid:u},p=function(){function t(t){this.m=new Map(Object.entries(t))}return t.prototype.get=function(t,e){var n=this.m.get(t);return void 0!==n?n:e},t.prototype.getBoolean=function(t,e){void 0===e&&(e=!1);var n=this.m.get(t);return void 0===n?e:"string"==typeof n?"true"===n:!!n},t.prototype.getNumber=function(t,e){var n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==e?e:NaN:n},t.prototype.set=function(t,e){this.m.set(t,e)},t}(),g="undefined"!=typeof window?window:{},m=g.Ionic=g.Ionic||{};Object.defineProperty(m,"queue",{get:function(){return t.queue}}),r(g),t.isPlatform=n;var v,y=Object.assign({},function(t){try{var e=t.sessionStorage.getItem("ionic-persist-config");return null!==e?JSON.parse(e):{}}catch(t){return{}}}(g),{persistConfig:!1},m.config,(v={},g.location.search.slice(1).split("&").map(function(t){return t.split("=")}).map(function(t){var e=t[1];return[decodeURIComponent(t[0]),decodeURIComponent(e)]}).filter(function(t){return function(t,e){return t.substr(0,e.length)===e}(t[0],"ionic:")}).map(function(t){var e=t[1];return[t[0].slice("ionic:".length),e]}).forEach(function(t){v[t[0]]=t[1]}),v)),b=m.config=t.config=new p(y);b.getBoolean("persistConfig")&&function(t,e){try{t.sessionStorage.setItem("ionic-persist-config",JSON.stringify(e))}catch(t){return}}(g,y);var w=g.document?g.document.documentElement:null,_=b.get("mode",w&&w.getAttribute("mode")||(n(g,"ios")?"ios":"md"));m.mode=t.mode=_,b.set("mode",_),w&&(w.setAttribute("mode",_),w.classList.add(_)),b.getBoolean("_testing")&&b.set("animated",!1)})(s),V[c]=F(c,s,t,i,u,a,o)}if(window.customStyleShim)return V[c].l=window.customStyleShim,V[c].l.initShim().then(e);e()})}n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var s="$",u={},l={enter:13,escape:27,space:32,tab:9,left:37,up:38,right:39,down:40},c=function(t,e,n,o){var i=n.t+o.mode,a=n[i];if((2===n.Y||1===n.Y&&!t.J.Z)&&(o["s-sc"]=a?r(n,o.mode):r(n)),a||(a=n[i=n.t+s]),a){var u=e.K.head;if(e.Z)if(1===n.Y)u=o.shadowRoot;else{var l=o.getRootNode();l.host&&(u=l)}var c=t.V.get(u);if(c||t.V.set(u,c={}),!c[i]){var h=void 0;if(t.l?h=t.l.createHostStyle(o,i,a):((h=e.X("style")).innerHTML=a,c[i]=!0),h){var f=u.querySelectorAll("[data-styles]");e.nn(u,h,f.length&&f[f.length-1].nextSibling||u.firstChild)}}}},h=function(t){return null!=t},f=function(t){return t.toLowerCase()},d=function(t){return f(t).split("-").map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join("")},p=function(){},g=function(t,e,n,r,o){void 0===r&&(r="boolean"==typeof n),o=e!==(e=e.replace(/^xlink\:?/,"")),null==n||r&&(!n||"false"===n)?o?t.removeAttributeNS(m,f(e)):t.removeAttribute(e):"function"!=typeof n&&(n=r?"":n.toString(),o?t.setAttributeNS(m,f(e),n):t.setAttribute(e,n))},m="http://www.w3.org/1999/xlink",v=function(t,e,n,r,o,i,a){if("class"!==n||i)if("style"===n){for(var s in r)o&&null!=o[s]||(/-/.test(s)?e.style.removeProperty(s):e.style[s]="");for(var s in o)r&&o[s]===r[s]||(/-/.test(s)?e.style.setProperty(s,o[s]):e.style[s]=o[s])}else if("o"!==n[0]||"n"!==n[1]||!/[A-Z]/.test(n[2])||n in e)if("list"!==n&&"type"!==n&&!i&&(n in e||-1!==["object","function"].indexOf(typeof o)&&null!==o)){var u=t.tn(e);u&&u.en&&u.en[n]?(b(e,n,o),a&&u.en[n].rn&&g(e,u.en[n].in,o,4===u.en[n].on)):"ref"!==n&&(b(e,n,null==o?"":o),null!=o&&!1!==o||t.J.un(e,n))}else null!=o&&"key"!==n?g(e,n,o):(i||t.J.fn(e,n)&&(null==o||!1===o))&&t.J.un(e,n);else n=f(n)in e?f(n.substring(2)):f(n[2])+n.substring(3),o?o!==r&&t.J.cn(e,n,o,0):t.J.an(e,n,0);else if(r!==o){var l=y(r),c=y(o),h=l.filter(function(t){return!c.includes(t)}),d=y(e.className).filter(function(t){return!h.includes(t)}),p=c.filter(function(t){return!l.includes(t)&&!d.includes(t)});d.push.apply(d,p),e.className=d.join(" ")}},y=function(t){return null==t||""===t?[]:t.trim().split(/\s+/)},b=function(t,e,n){try{t[e]=n}catch(t){}},w=function(t,e,n,r,o){var i=11===n.i.nodeType&&n.i.host?n.i.host:n.i,a=e&&e.vattrs||u,s=n.vattrs||u;for(o in a)s&&null!=s[o]||null==a[o]||v(t,i,o,a[o],void 0,r,n.o);for(o in s)o in a&&s[o]===("value"===o||"checked"===o?i[o]:a[o])||v(t,i,o,a[o],s[o],r,n.o)},_=!1,C=function(t,e){t&&(t.vattrs&&t.vattrs.ref&&t.vattrs.ref(e?null:t.i),t.vchildren&&t.vchildren.forEach(function(t){C(t,e)}))},S=function(t,e){var n=0,r=!1,o=function(){return e.performance.now()},i=!1!==t.asyncQueue,a=Promise.resolve(),s=[],u=[],l=[],c=[],h=function(e){return function(n){e.push(n),r||(r=!0,t.raf(p))}},f=function(t){for(var e=0;e<t.length;e++)try{t[e](o())}catch(t){console.error(t)}t.length=0},d=function(t,e){for(var n,r=0;r<t.length&&(n=o())<e;)try{t[r++](n)}catch(t){console.error(t)}r===t.length?t.length=0:0!==r&&t.splice(0,r)},p=function(){n++,f(u);var e=i?o()+7*Math.ceil(n*(1/22)):1/0;d(l,e),d(c,e),l.length>0&&(c.push.apply(c,l),l.length=0),(r=u.length+l.length+c.length>0)?t.raf(p):n=0};return t.raf||(t.raf=e.requestAnimationFrame.bind(e)),{tick:function(t){s.push(t),1===s.length&&a.then(function(){return f(s)})},read:h(u),write:h(l)}},E=[],O={forEach:function(t,e){return t.forEach(e)},map:function(t,e){return t.map(e)}},I=function(t,e,n){var r=t[0],o=t[1],i=t[3],a=t[4],s=t[5],u={color:{in:"color"}};if(i)for(e=0;e<i.length;e++)u[(n=i[e])[0]]={sn:n[1],rn:!!n[2],in:"string"==typeof n[3]?n[3]:n[3]?n[0]:0,on:n[4]};return{t:r,s:o,en:Object.assign({},u),Y:a,ln:s?s.map(k):void 0}},k=function(t){return{vn:t[0],pn:t[1],dn:!!t[2],hn:!!t[3],yn:!!t[4]}},x=function(t,e){return h(e)&&"object"!=typeof e&&"function"!=typeof e?t===Boolean||4===t?"false"!==e&&(""===e||!!e):t===Number||8===t?parseFloat(e):t===String||2===t?e.toString():e:e},T=function(t,e,n){t.bn.add(e),t.wn.has(e)||(t.wn.set(e,!0),t.mn?t.queue.write(function(){return D(t,e,n)}):t.queue.tick(function(){return D(t,e,n)}))},D=function(t,e,n,r,a,s){return function(t,e,n,r){return new(n||(n=Promise))(function(t,e){function o(t){try{a(r.next(t))}catch(t){e(t)}}function i(t){try{a(r.throw(t))}catch(t){e(t)}}function a(e){e.done?t(e.value):new n(function(t){t(e.value)}).then(o,i)}a((r=r.apply(void 0,[])).next())})}(0,0,void 0,function(){var r,u;return function(t,e){function n(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.g.pop(),s.M.pop();continue;default:if(!(i=(i=s.M).length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){s.label=n[1];break}if(6===n[0]&&s.label<i[1]){s.label=i[1],i=n;break}if(i&&s.label<i[2]){s.label=i[2],s.g.push(n);break}i[2]&&s.g.pop(),s.M.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var r,o,i,a,s={label:0,j:function(){if(1&i[0])throw i[1];return i[1]},M:[],g:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}(this,function(l){switch(l.label){case 0:if(t.wn.delete(e),t.gn.has(e))return[3,12];if(a=t.Mn.get(e))return[3,6];if((s=t.jn.get(e))&&!s["s-rn"])return(s["s-rc"]=s["s-rc"]||[]).push(function(){D(t,e,n)}),[2];if(!(a=R(t,e,t.kn.get(e),n)))return[3,5];l.label=1;case 1:return l.M.push([1,4,,5]),a.componentWillLoad?[4,a.componentWillLoad()]:[3,3];case 2:l.j(),l.label=3;case 3:return[3,5];case 4:return r=l.j(),t.$n(r,3,e),[3,5];case 5:return[3,11];case 6:if(!a)return[3,11];l.label=7;case 7:return l.M.push([7,10,,11]),a.componentWillUpdate?[4,a.componentWillUpdate()]:[3,9];case 8:l.j(),l.label=9;case 9:return[3,11];case 10:return u=l.j(),t.$n(u,5,e),[3,11];case 11:(function(t,e,n,r){try{var a,s=e.An.host,u=e.An.encapsulation,l="shadow"===u&&t.J.Z,c=n;if(a=function(t,e,n){return t&&Object.keys(t).forEach(function(r){t[r].reflectToAttr&&((n=n||{})[r]=e[r])}),n}(e.An.properties,r),l&&(c=n.shadowRoot),!n["s-rn"]){t.En(t,t.J,e,n);var h=n["s-sc"];h&&(t.J.Cn(n,o(h,!0)),"scoped"===u&&t.J.Cn(n,o(h)))}if(r.render||r.hostData||s||a){t.On=!0;var f=r.render&&r.render(),d=void 0;d=r.hostData&&r.hostData(),a&&(d=d?Object.assign(d,a):a),t.On=!1;var p=i(null,d,f),g=t.Sn.get(n)||{};g.i=c,p.o=!0,t.Sn.set(n,t.render(n,g,p,l,u))}t.l&&t.l.updateHost(n),n["s-rn"]=!0,n["s-rc"]&&(n["s-rc"].forEach(function(t){return t()}),n["s-rc"]=null)}catch(m){t.On=!1,t.$n(m,8,n,!0)}})(t,t.tn(e),e,a),e["s-init"](),l.label=12;case 12:return[2]}})})},P=function(t,e,n,r,o,i,a){(a=t._n.get(e))||t._n.set(e,a={});var s=a[n];if(r!==s&&(a[n]=r,i=t.Mn.get(e))){var u=a[M+n];if(u)for(var l=0;l<u.length;l++)try{i[u[l]].call(i,r,s,n)}catch(t){console.error(t)}!t.On&&e["s-rn"]&&T(t,e,o)}},A=function(t,e,n){Object.defineProperty(t,e,{configurable:!0,value:n})},N=function(t,e,n,r){Object.defineProperty(t,e,{configurable:!0,get:n,set:r})},M="wc-",R=function(t,e,n,r,o,i,a,s){try{o=new(i=t.tn(e).An),function(t,e,n,r,o,i){t.Pn.set(r,n),t._n.has(n)||t._n.set(n,{}),Object.entries(Object.assign({color:{type:String}},e.properties,{mode:{type:String}})).forEach(function(e){!function(t,e,n,r,o,i,a,s,u){if(e.type||e.state){var l=t._n.get(n);e.state||(!e.attr||void 0!==l[o]&&""!==l[o]||(s=i&&i.Tn)&&h(u=s[e.attr])&&(l[o]=x(e.type,u)),n.hasOwnProperty(o)&&(void 0===l[o]&&(l[o]=x(e.type,n[o])),"mode"!==o&&delete n[o])),r.hasOwnProperty(o)&&void 0===l[o]&&(l[o]=r[o]),e.watchCallbacks&&(l[M+o]=e.watchCallbacks.slice()),N(r,o,function(e){return(e=t._n.get(t.Pn.get(this)))&&e[o]},function(n,r){(r=t.Pn.get(this))&&(e.state||e.mutable)&&P(t,r,o,n,a)})}else if(e.elementRef)A(r,o,n);else if(e.method)A(n,o,r[o].bind(r));else if(e.context){var c=t.Wn(e.context);void 0!==c&&A(r,o,c.getContext&&c.getContext(n)||c)}else e.connect&&A(r,o,t.xn(e.connect))}(t,e[1],n,r,e[0],o,i)})}(t,i,e,o,n,r),function(t,e,n){if(e){var r=t.Pn.get(n);e.forEach(function(e){n[e.method]={emit:function(n){return t.Nn(r,e.name,{bubbles:e.bubbles,composed:e.composed,cancelable:e.cancelable,detail:n})}}})}}(t,i.events,o);try{if(a=t.Rn.get(e)){for(s=0;s<a.length;s+=2)o[a[s]](a[s+1]);t.Rn.delete(e)}}catch(n){t.$n(n,2,e)}}catch(n){o={},t.$n(n,7,e,!0)}return t.Mn.set(e,o),o},j=function(t,e){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType){if(t.tn(r)&&!t.Ln.has(r))return!1;if(!j(t,r))return!1}}return!0},L=function(t,e,n,r,o,i){if(t.bn.delete(e),(o=t.jn.get(e))&&((r=o["s-ld"])&&((n=r.indexOf(e))>-1&&r.splice(n,1),r.length||o["s-init"]&&o["s-init"]()),t.jn.delete(e)),t.Dn.length&&!t.bn.size)for(;i=t.Dn.shift();)i()},U=function(t,e,n,r){return function(){var o=arguments;return q(t,e,n).then(function(t){return t[r].apply(t,o)})}},q=function(t,e,n,r,o){return r=e[n],(o=t.K.body)?(r||(r=o.querySelector(n)),r||(r=e[n]=t.X(n),t.Fn(o,r)),r.componentOnReady()):Promise.resolve()},F=function(t,e,n,r,o,a){var u=n.performance,d={html:{}},g={},m=n[t]=n[t]||{},v=function(t,e,n){var r=new WeakMap,o={K:n,Z:!!n.documentElement.attachShadow,Hn:!1,qn:function(t){return t.nodeType},X:function(t){return n.createElement(t)},Un:function(t,e){return n.createElementNS(t,e)},Bn:function(t){return n.createTextNode(t)},In:function(t){return n.createComment(t)},nn:function(t,e,n){return t.insertBefore(e,n)},Gn:function(t){return t.remove()},Fn:function(t,e){return t.appendChild(e)},Cn:function(t,e){if(t.classList)t.classList.add(e);else if("svg"===t.nodeName.toLowerCase()){var n=t.getAttribute("class")||"";n.split(" ").includes(e)||(n+=" "+e),t.setAttribute("class",n.trim())}},Qn:function(t){return t.childNodes},Yn:function(t){return t.parentNode},Zn:function(t){return t.nextSibling},zn:function(t){return t.previousSibling},Jn:function(t){return f(t.nodeName)},Kn:function(t){return t.textContent},Vn:function(t,e){return t.textContent=e},Xn:function(t,e){return t.getAttribute(e)},nt:function(t,e,n){return t.setAttribute(e,n)},un:function(t,e){return t.removeAttribute(e)},fn:function(t,e){return t.hasAttribute(e)},tt:function(e){return e.getAttribute("mode")||(t.Context||{}).mode},et:function(t,r){return"child"===r?t.firstElementChild:"parent"===r?o.rt(t):"body"===r?n.body:"document"===r?n:"window"===r?e:t},cn:function(e,n,i,a,s,u,c,h,f,d){var p=e,g=i,m=r.get(e);d=n+a,m&&m[d]&&m[d](),"string"==typeof c?p=o.et(e,c):"object"==typeof c?p=c:(f=n.split(":")).length>1&&(p=o.et(e,f[0]),n=f[1]),p&&((f=n.split(".")).length>1&&(n=f[0],g=function(t){t.keyCode===l[f[1]]&&i(t)}),t.ael(p,n,g,h=o.Hn?{capture:!!s,passive:!!u}:!!s),m||r.set(e,m={}),m[d]=function(){p&&t.rel(p,n,g,h),m[d]=null})},an:function(t,e,n,o){(o=r.get(t))&&(e?o[e+n]&&o[e+n]():Object.keys(o).forEach(function(t){o[t]&&o[t]()}))},it:function(t,n,r,o){return o=new e.CustomEvent(n,r),t&&t.dispatchEvent(o),o},rt:function(t,e){return(e=o.Yn(t))&&11===o.qn(e)?e.host:e},ot:function(t,e,n,r){return t.setAttributeNS(e,n,r)},ut:function(t,e){return t.attachShadow(e)}};"function"!=typeof e.CustomEvent&&(e.CustomEvent=function(t,e,r){return e=e||{},(r=n.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r},e.CustomEvent.prototype=e.Event.prototype),t.ael||(t.ael=function(t,e,n,r){return t.addEventListener(e,n,r)},t.rel=function(t,e,n,r){return t.removeEventListener(e,n,r)});try{e.addEventListener("e",null,Object.defineProperty({},"passive",{get:function(){return o.Hn=!0}}))}catch(t){}return o}(m,n,r),y=v.K.documentElement,b=n["s-defined"]=n["s-defined"]||{},E={J:v,u:function(t,e){n.customElements.get(t.t)||(function(t,e,n,r,o){if(n.connectedCallback=function(){!function(t,e,n){t.ft.has(n)||(t.ft.set(n,!0),function(t,e){var n=t.tn(e);n.ln&&n.ln.forEach(function(n){n.dn||t.J.cn(e,n.vn,function(t,e,n,r){return function(o){(r=t.Mn.get(e))?r[n](o):((r=t.Rn.get(e)||[]).push(n,o),t.Rn.set(e,r))}}(t,e,n.pn),1,n.yn,n.hn)})}(t,n)),t.gn.delete(n),t.Ln.has(n)||(t.ct=!0,t.bn.add(n),t.Ln.set(n,!0),function(t,e,n){for(n=e;n=t.J.rt(n);)if(t.at(n)){t.st.has(e)||(t.jn.set(e,n),(n["s-ld"]=n["s-ld"]||[]).push(e));break}}(t,n),t.queue.tick(function(){t.kn.set(n,function(t,e,n,r,o){if(n.mode||(n.mode=t.tt(n)),n["s-cr"]||t.Xn(n,"ssrv")||t.Z&&1===e.Y||(n["s-cr"]=t.Bn(""),n["s-cr"]["s-cn"]=!0,t.nn(n,n["s-cr"],t.Qn(n)[0])),!t.Z&&1===e.Y)try{!window.HTMLElement||"shadowRoot"in window.HTMLElement.prototype||(n.shadowRoot=n)}catch(t){}return 1===e.Y&&t.Z&&!n.shadowRoot&&t.ut(n,{mode:"open"}),r={Tn:{}},e.en&&Object.keys(e.en).forEach(function(i){(o=e.en[i].in)&&(r.Tn[o]=t.Xn(n,o))}),r}(t.J,e,n)),t.lt(e,n)}))}(t,e,this)},n.disconnectedCallback=function(){!function(t,e){if(!t.vt&&function(t,e){for(;e;){if(!t.Yn(e))return 9!==t.qn(e);e=t.Yn(e)}}(t.J,e)){t.gn.set(e,!0),L(t,e),C(t.Sn.get(e),!0);var n=t.Mn.get(e);n&&n.componentDidUnload&&n.componentDidUnload(),t.J.an(e),t.ft.delete(e),t.l&&t.l.removeHost(e),[t.jn,t.pt,t.kn].forEach(function(t){return t.delete(e)})}}(t,this)},n["s-init"]=function(){!function(t,e,n,r,o,i,a){if(j(t,e)&&(o=t.Mn.get(e))&&!t.gn.has(e)&&(!e["s-ld"]||!e["s-ld"].length)){t.st.set(e,!0),(a=t.dt.has(e))||(t.dt.set(e,!0),e["s-ld"]=void 0,t.J.Cn(e,n));try{C(t.Sn.get(e)),(i=t.pt.get(e))&&(i.forEach(function(t){return t(e)}),t.pt.delete(e)),!a&&o.componentDidLoad?o.componentDidLoad():a&&o.componentDidUpdate&&o.componentDidUpdate()}catch(n){t.$n(n,4,e)}L(t,e)}}(t,this,r)},n.forceUpdate=function(){T(t,this,o)},e.en){var i=Object.entries(e.en),a={};i.forEach(function(t){var e=t[1].in;e&&(a[e]=t[0])}),a=Object.assign({},a),n.attributeChangedCallback=function(t,e,n){!function(t,e,n,r){var o=a[f(n)];o&&(e[o]=(null!==r||"boolean"!=typeof e[o])&&r)}(0,this,t,n)},function(t,e,n,r){i.forEach(function(e){var o=e[0],i=e[1],a=i.sn;3&a?N(n,o,function(){return(t._n.get(this)||{})[o]},function(e){P(t,this,o,x(i.on,e),r)}):32===a&&A(n,o,p)})}(t,0,n,o)}}(E,d[t.t]=t,e.prototype,a,u),e.observedAttributes=Object.values(t.en).map(function(t){return t.in}).filter(function(t){return!!t}),n.customElements.define(t.t,e))},tn:function(t){return d[v.Jn(t)]},Wn:function(t){return e[t]},isClient:!0,at:function(t){return!(!b[v.Jn(t)]&&!E.tn(t))},$n:function(t,e,n){return console.error(t,e,n&&n.tagName)},queue:e.queue=S(m,n),lt:function(t,e){t.s({mode:e.mode,scoped:!v.Z}).then(function(n){try{t.An=n,function(t,e,n,r,o){if(r){var i=e.t+(o||s);e[i]||(e[i]=r)}}(0,t,0,n.style,n.styleMode)}catch(e){console.error(e),t.An=function(){}}T(E,e,u)})},On:!1,mn:!1,vt:!1,En:c,jn:new WeakMap,V:new WeakMap,Ln:new WeakMap,ft:new WeakMap,dt:new WeakMap,st:new WeakMap,Pn:new WeakMap,kn:new WeakMap,Mn:new WeakMap,gn:new WeakMap,wn:new WeakMap,pt:new WeakMap,Rn:new WeakMap,Sn:new WeakMap,_n:new WeakMap,bn:new Set,Dn:[]};return e.isServer=e.isPrerender=!(e.isClient=!0),e.window=n,e.location=n.location,e.document=r,e.resourcesUrl=e.publicPath=o,e.enableListener=function(t,e,n,r,o){return function(t,e,n,r,o,i){if(e){var a=t.Pn.get(e),s=t.tn(a);if(s&&s.ln)if(r){var u=s.ln.find(function(t){return t.vn===n});u&&t.J.cn(a,n,function(t){return e[u.pn](t)},1,u.yn,void 0===i?u.hn:!!i,o)}else t.J.an(a,n,1)}}(E,t,e,n,r,o)},E.Nn=e.emit=function(t,n,r){return v.it(t,e.eventNameFn?e.eventNameFn(n):n,r)},E.xn=function(t){return function(t,e,n){return{create:U(t,e,n,"create"),componentOnReady:U(t,e,n,"componentOnReady")}}(v,g,t)},m.h=i,m.Context=e,m.onReady=function(){return new Promise(function(t){return E.queue.write(function(){return E.bn.size?E.Dn.push(t):t()})})},E.render=function(t,e){var n,r,o,i,a,s,u,l=function(o,f,d,p,g,m,v,y,b){if(y=f.vchildren[d],n||(i=!0,"slot"===y.vtag&&(r&&e.Cn(p,r+"-s"),y.vchildren?y.ht=!0:y.yt=!0)),h(y.vtext))y.i=e.Bn(y.vtext);else if(y.yt)y.i=e.Bn("");else{if(m=y.i=_||"svg"===y.vtag?e.Un("http://www.w3.org/2000/svg",y.vtag):e.X(y.ht?"slot-fb":y.vtag),t.at(m)&&t.st.delete(u),w(t,null,y,_="svg"===y.vtag||"foreignObject"!==y.vtag&&_),h(r)&&m["s-si"]!==r&&e.Cn(m,m["s-si"]=r),y.vchildren)for(g=0;g<y.vchildren.length;++g)(v=l(o,y,g,m))&&e.Fn(m,v);"svg"===y.vtag&&(_=!1)}return y.i["s-hn"]=s,(y.ht||y.yt)&&(y.i["s-sr"]=!0,y.i["s-cr"]=a,y.i["s-sn"]=y.vname||"",(b=o&&o.vchildren&&o.vchildren[d])&&b.vtag===y.vtag&&o.i&&c(o.i)),y.i},c=function(n,r,o,a){t.vt=!0;var u=e.Qn(n);for(o=u.length-1;o>=0;o--)(a=u[o])["s-hn"]!==s&&a["s-ol"]&&(e.Gn(a),e.nn(m(a),a,g(a)),e.Gn(a["s-ol"]),a["s-ol"]=null,i=!0),r&&c(a,r);t.vt=!1},f=function(t,n,r,o,i,a,u,c){var f=t["s-cr"];for((u=f&&e.Yn(f)||t).shadowRoot&&e.Jn(u)===s&&(u=u.shadowRoot);i<=a;++i)o[i]&&(c=h(o[i].vtext)?e.Bn(o[i].vtext):l(null,r,i,t))&&(o[i].i=c,e.nn(u,c,g(n)))},d=function(t,n,r,i){for(;n<=r;++n)h(t[n])&&(o=!0,(i=t[n].i)["s-ol"]?e.Gn(i["s-ol"]):c(i,!0),e.Gn(i))},p=function(t,e){return t.vtag===e.vtag&&t.vkey===e.vkey&&("slot"!==t.vtag||t.vname===e.vname)},g=function(t){return t&&t["s-ol"]?t["s-ol"]:t},m=function(t){return e.Yn(t["s-ol"]?t["s-ol"]:t)},v=function(n,r,o){var i=r.i=n.i,a=n.vchildren,s=r.vchildren;_=r.i&&h(e.rt(r.i))&&void 0!==r.i.ownerSVGElement,_="svg"===r.vtag||"foreignObject"!==r.vtag&&_,h(r.vtext)?(o=i["s-cr"])?e.Vn(e.Yn(o),r.vtext):n.vtext!==r.vtext&&e.Vn(i,r.vtext):("slot"!==r.vtag&&w(t,n,r,_),h(a)&&h(s)?function(t,n,r,o,i,a,s,u){for(var y=0,b=0,w=n.length-1,_=n[0],C=n[w],S=o.length-1,E=o[0],O=o[S];y<=w&&b<=S;)if(null==_)_=n[++y];else if(null==C)C=n[--w];else if(null==E)E=o[++b];else if(null==O)O=o[--S];else if(p(_,E))v(_,E),_=n[++y],E=o[++b];else if(p(C,O))v(C,O),C=n[--w],O=o[--S];else if(p(_,O))"slot"!==_.vtag&&"slot"!==O.vtag||c(e.Yn(_.i)),v(_,O),e.nn(t,_.i,e.Zn(C.i)),_=n[++y],O=o[--S];else if(p(C,E))"slot"!==_.vtag&&"slot"!==O.vtag||c(e.Yn(C.i)),v(C,E),e.nn(t,C.i,_.i),C=n[--w],E=o[++b];else{for(i=null,a=y;a<=w;++a)if(n[a]&&h(n[a].vkey)&&n[a].vkey===E.vkey){i=a;break}h(i)?((u=n[i]).vtag!==E.vtag?s=l(n&&n[b],r,i,t):(v(u,E),n[i]=void 0,s=u.i),E=o[++b]):(s=l(n&&n[b],r,b,t),E=o[++b]),s&&e.nn(m(_.i),s,g(_.i))}y>w?f(t,null==o[S+1]?null:o[S+1].i,r,o,b,S):b>S&&d(n,y,w)}(i,a,r,s):h(s)?(h(n.vtext)&&e.Vn(i,""),f(i,null,r,s,0,s.length-1)):h(a)&&d(a,0,a.length-1)),_&&"svg"===r.vtag&&(_=!1)},y=function(t,n,r,o,i,a,s,u){for(o=0,i=(r=e.Qn(t)).length;o<i;o++)if(1===e.qn(n=r[o])){if(n["s-sr"])for(s=n["s-sn"],n.hidden=!1,a=0;a<i;a++)if(r[a]["s-hn"]!==n["s-hn"])if(u=e.qn(r[a]),""!==s){if(1===u&&s===e.Xn(r[a],"slot")){n.hidden=!0;break}}else if(1===u||3===u&&""!==e.Kn(r[a]).trim()){n.hidden=!0;break}y(n)}},b=[],C=function(t,n,r,i,a,s,u,l,c,h){for(a=0,s=(n=e.Qn(t)).length;a<s;a++){if((r=n[a])["s-sr"]&&(i=r["s-cr"]))for(l=e.Qn(e.Yn(i)),c=r["s-sn"],u=l.length-1;u>=0;u--)(i=l[u])["s-cn"]||i["s-nr"]||i["s-hn"]===r["s-hn"]||((3===(h=e.qn(i))||8===h)&&""===c||1===h&&null===e.Xn(i,"slot")&&""===c||1===h&&e.Xn(i,"slot")===c)&&(b.some(function(t){return t.bt===i})||(o=!0,i["s-sn"]=c,b.push({wt:r,bt:i})));1===e.qn(r)&&C(r)}};return function(l,c,h,f,d,p,g,m,w,_,S,E){if(s=e.Jn(u=l),a=u["s-cr"],n=f,r=u["s-sc"],i=o=!1,v(c,h),i){for(C(h.i),g=0;g<b.length;g++)(m=b[g]).bt["s-ol"]||((w=e.Bn(""))["s-nr"]=m.bt,e.nn(e.Yn(m.bt),m.bt["s-ol"]=w,m.bt));for(t.vt=!0,g=0;g<b.length;g++){for(S=e.Yn((m=b[g]).wt),E=e.Zn(m.wt),w=m.bt["s-ol"];w=e.zn(w);)if((_=w["s-nr"])&&_&&_["s-sn"]===m.bt["s-sn"]&&S===e.Yn(_)&&(_=e.Zn(_))&&_&&!_["s-nr"]){E=_;break}(!E&&S!==e.Yn(m.bt)||e.Zn(m.bt)!==E)&&m.bt!==E&&(e.Gn(m.bt),e.nn(S,m.bt,E))}t.vt=!1}return o&&y(h.i),b.length=0,h}}(E,v),y["s-ld"]=[],y["s-rn"]=!0,y["s-init"]=function(){E.st.set(y,m.loaded=E.mn=!0),v.it(n,"appload",{detail:{namespace:t}})},function(t,e,n,r,o,i){if(e.componentOnReady=function(e,n){if(!e.nodeName.includes("-"))return n(null),!1;var r=t.tn(e);if(r)if(t.st.has(e))n(e);else{var o=t.pt.get(e)||[];o.push(n),t.pt.set(e,o)}return!!r},o){for(i=o.length-1;i>=0;i--)e.componentOnReady(o[i][0],o[i][1])&&o.splice(i,1);for(i=0;i<r.length;i++)if(!n[r[i]].componentOnReady)return;for(i=0;i<o.length;i++)o[i][1](null);o.length=0}}(E,m,n,n["s-apps"],n["s-cr"]),m.initialized=!0,E},V={},B=!1},crnd:function(t,e,n){var r={"./about/about.module.ngfactory":["OlGY",13]};function o(t){var e=r[t];return e?n.e(e[1]).then(function(){return n(e[0])}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}o.keys=function(){return Object.keys(r)},o.id="crnd",t.exports=o},d8cw:function(t,e,n){"use strict";var r=n("vQkR")(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),n("pSMy")({target:"Array",proto:!0,forced:o},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("gJLK")("find")},dC0D:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),o=n("FFOo");function i(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new a(t,e,n))}}var a=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))},t}(),s=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.accumulator=n,i._seed=r,i.hasSeed=o,i.index=0,i}return r.__extends(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(o.a)},dYkh:function(t,e,n){n("q94Q")("search")},dstF:function(t,e,n){n("q94Q")("replace")},"e/Dd":function(t,e){var n,r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return r[t]},e.getBCHDigit=function(t){for(var e=0;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},e.isKanjiModeEnabled=function(){return void 0!==n},e.toSJIS=function(t){return n(t)}},e6BP:function(t,e){function n(){this.buffer=[],this.length=0}n.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=n},eQOe:function(t,e){function n(t,n,r){switch(t){case e.Patterns.PATTERN000:return(n+r)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return r%3==0;case e.Patterns.PATTERN011:return(n+r)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case e.Patterns.PATTERN101:return n*r%2+n*r%3==0;case e.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case e.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},e.getPenaltyN1=function(t){for(var e=t.size,n=0,r=0,o=0,i=null,a=null,s=0;s<e;s++){r=o=0,i=a=null;for(var u=0;u<e;u++){var l=t.get(s,u);l===i?r++:(r>=5&&(n+=r-5+3),i=l,r=1),(l=t.get(u,s))===a?o++:(o>=5&&(n+=o-5+3),a=l,o=1)}r>=5&&(n+=r-5+3),o>=5&&(n+=o-5+3)}return n},e.getPenaltyN2=function(t){for(var e=t.size,n=0,r=0;r<e-1;r++)for(var o=0;o<e-1;o++){var i=t.get(r,o)+t.get(r,o+1)+t.get(r+1,o)+t.get(r+1,o+1);4!==i&&0!==i||n++}return 3*n},e.getPenaltyN3=function(t){for(var e=t.size,n=0,r=0,o=0,i=0;i<e;i++){r=o=0;for(var a=0;a<e;a++)r=r<<1&2047|t.get(i,a),a>=10&&(1488===r||93===r)&&n++,o=o<<1&2047|t.get(a,i),a>=10&&(1488===o||93===o)&&n++}return 40*n},e.getPenaltyN4=function(t){for(var e=0,n=t.data.length,r=0;r<n;r++)e+=t.data[r];return 10*Math.abs(Math.ceil(100*e/n/5)-10)},e.applyMask=function(t,e){for(var r=e.size,o=0;o<r;o++)for(var i=0;i<r;i++)e.isReserved(i,o)||e.xor(i,o,n(t,i,o))},e.getBestMask=function(t,n){for(var r=Object.keys(e.Patterns).length,o=0,i=1/0,a=0;a<r;a++){n(a),e.applyMask(a,t);var s=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(a,t),s<i&&(i=s,o=a)}return o}},ehBJ:function(t,e,n){n("73IE"),t.exports=n("vLVD")("String","startsWith")},ehg7:function(t,e,n){var r=n("kpns");t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},ekOh:function(t,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(r){return n}}},fw2a:function(t,e){e.f=Object.getOwnPropertySymbols},g7Su:function(t,e,n){var r=n("0HDe"),o=n("aXXJ")("species");t.exports=function(t){return!r(function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},gIEr:function(t,e,n){n("q94Q")("species")},gIcY:function(t,e,n){"use strict";var r=n("mrSG"),o=n("CcnG"),i=n("6blF"),a=n("isby"),s=n("G5J1"),u=n("zotm"),l=n("MGBS"),c=n("67Y/"),h=function(t){function e(e,n){var r=t.call(this,e)||this;r.sources=n,r.completed=0,r.haveValues=0;var o=n.length;r.values=new Array(o);for(var i=0;i<o;i++){var a=n[i],s=Object(u.a)(r,a,null,i);s&&r.add(s)}return r}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.values[n]=e,o._hasValue||(o._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.values,o=r.length;t._hasValue?(this.completed++,this.completed===o&&(n===o&&e.next(r),e.complete())):e.complete()},e}(l.a),f=n("0/uQ"),d=n("ZYjt");n.d(e,"f",function(){return rt}),n.d(e,"g",function(){return D}),n.d(e,"b",function(){return C}),n.d(e,"c",function(){return T}),n.d(e,"d",function(){return B}),n.d(e,"e",function(){return nt}),n.d(e,"a",function(){return ot});var p=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(p);function m(t){return null==t||0===t.length}var v=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,y=function(){function t(){}return t.min=function(t){return function(e){if(m(e.value)||m(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(m(e.value)||m(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return m(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return m(t.value)?null:v.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(m(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(m(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(b);return 0==e.length?null:function(t){return _(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(b);return 0==e.length?null:function(t){return function t(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&Object(a.a)(n[0])&&(n=n[0]),0===n.length?s.a:e?t(n).pipe(Object(c.a)(function(t){return e.apply(void 0,t)})):new i.a(function(t){return new h(t,n)})}(function(t,n){return e.map(function(e){return e(t)})}(t).map(w)).pipe(Object(c.a)(_))}},t}();function b(t){return null!=t}function w(t){var e=Object(o.ub)(t)?Object(f.a)(t):t;if(!Object(o.tb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function _(t){var e=t.reduce(function(t,e){return null!=e?Object(r.__assign)({},t,e):t},{});return 0===Object.keys(e).length?null:e}var C=new o.p("NgValueAccessor"),S=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),E=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Object(d.r)()?Object(d.r)().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();function O(t){return t.validate?function(e){return t.validate(e)}:t}function I(t){return t.validate?function(e){return t.validate(e)}:t}var k=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function x(){throw new Error("unimplemented")}var T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return x()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return x()},enumerable:!0,configurable:!0}),e}(p),D=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),P=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(T),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),A='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',N='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function M(t,e){return Object(r.__spread)(e.path,[t])}function R(t,e){t||L(e,"Cannot find control with"),e.valueAccessor||L(e,"No value accessor for form control with"),t.validator=y.compose([t.validator,e.validator]),t.asyncValidator=y.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&j(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&j(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function j(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function L(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function U(t){return null!=t?y.compose(t.map(O)):null}function q(t){return null!=t?y.composeAsync(t.map(I)):null}var F=[S,function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),k,function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=o.vb}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){var e,n;try{for(var o=Object(r.__values)(Array.from(this._optionMap.keys())),i=o.next();!i.done;i=o.next()){var a=i.value;if(this._compareWith(this._optionMap.get(a),t))return a}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=o.vb}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var o=n.selectedOptions,i=0;i<o.length;i++){var a=o.item(i),s=e._getOptionValue(a.value);r.push(s)}else for(o=n.options,i=0;i<o.length;i++)(a=o.item(i)).selected&&(s=e._getOptionValue(a.value),r.push(s));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){var e,n;try{for(var o=Object(r.__values)(Array.from(this._optionMap.keys())),i=o.next();!i.done;i=o.next()){var a=i.value;if(this._compareWith(this._optionMap.get(a)._value,t))return a}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),P],V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return M(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return U(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return q(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(g),B=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),e}(function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}());function z(t){var e=G(t)?t.validators:t;return Array.isArray(e)?U(e):e||null}function H(t,e){var n=G(e)?e.asyncValidators:t;return Array.isArray(n)?q(n):n||null}function G(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var W=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=z(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=H(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object(r.__assign)({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(e){e.enable(Object(r.__assign)({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=w(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof Q?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof J&&t.at(e)||null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new o.m,this.statusChanges=new o.m},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){G(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),K=function(t){function e(e,n,r){void 0===e&&(e=null);var o=t.call(this,z(n),H(r,n))||this;return o._onChange=[],o._applyFormState(e),o._setUpdateStrategy(n),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o._initObservables(),o}return Object(r.__extends)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(W),Q=function(t){function e(e,n,r){var o=t.call(this,z(n),H(r,n))||this;return o.controls=e,o._initObservables(),o._setUpdateStrategy(n),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return Object(r.__extends)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof K?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,o){n=n||e.contains(o)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(r.__values)(Object.keys(this.controls)),o=n.next();!o.done;o=n.next())if(this.controls[o.value].enabled)return!1}catch(i){t={error:i}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(W),J=function(t){function e(e,n,r){var o=t.call(this,z(n),H(r,n))||this;return o.controls=e,o._initObservables(),o._setUpdateStrategy(n),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return Object(r.__extends)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof K?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(r.__values)(this.controls),o=n.next();!o.done;o=n.next())if(o.value.enabled)return!1}catch(i){t={error:i}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(W),X=Promise.resolve(null),Y=function(t){function e(e,n){var r=t.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new o.m,r.form=new Q({},U(e),q(n)),r}return Object(r.__extends)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;X.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),R(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;X.then(function(){var n,r,o=e._findContainer(t.path);o&&o.removeControl(t.name),(r=(n=e._directives).indexOf(t))>-1&&n.splice(r,1)})},e.prototype.addFormGroup=function(t){var e=this;X.then(function(){var n=e._findContainer(t.path),r=new Q({});(function(t,e){null==t&&L(e,"Cannot find control with"),t.validator=y.compose([t.validator,e.validator]),t.asyncValidator=y.composeAsync([t.asyncValidator,e.asyncValidator])})(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;X.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;X.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(g),Z=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+A+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+N)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+A+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+N)},t.ngFormWarning=function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")},t}(),$=new o.p("NgFormSelectorWarning"),tt=function(t){function e(e,n,r){var o=t.call(this)||this;return o._parent=e,o._validators=n,o._asyncValidators=r,o}var n;return Object(r.__extends)(e,t),n=e,e.prototype._checkParentType=function(){this._parent instanceof n||this._parent instanceof Y||Z.modelGroupParentException()},e}(V),et=Promise.resolve(null),nt=function(t){function e(e,n,r,i){var a=t.call(this)||this;return a.control=new K,a._registered=!1,a.update=new o.m,a._parent=e,a._rawValidators=n||[],a._rawAsyncValidators=r||[],a.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||L(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,o=void 0;return e.forEach(function(e){var i;e.constructor===E?n=e:(i=e,F.some(function(t){return i.constructor===t})?(r&&L(t,"More than one built-in value accessor matches form control with"),r=e):(o&&L(t,"More than one custom value accessor matches form control with"),o=e))}),o||r||n||(L(t,"No valid value accessor for form control with"),null)}(a,i),a}return Object(r.__extends)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(o.vb)(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?M(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return U(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return q(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){R(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof tt)&&this._parent instanceof V?Z.formGroupNameException():this._parent instanceof tt||this._parent instanceof Y||Z.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Z.missingNameException()},e.prototype._updateValue=function(t){var e=this;et.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;et.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}(T),rt=function(){return function(){}}(),ot=function(){function t(){}var e;return e=t,t.withConfig=function(t){return{ngModule:e,providers:[{provide:$,useValue:t.warnOnDeprecatedNgFormSelector}]}},t}()},gJLK:function(t,e,n){var r=n("aXXJ")("unscopables"),o=n("tzov"),i=n("wBs/"),a=Array.prototype;null==a[r]&&i(a,r,o(null)),t.exports=function(t){a[r][t]=!0}},hEy5:function(t,e,n){var r=n("FnXw"),o=n("9Nts");t.exports=function(t,e,n){if(r(e))throw TypeError("String.prototype."+n+" doesn't accept regex");return String(o(t))}},hKQe:function(t,e,n){"use strict";n("6blF"),n("KOl+")},hdqJ:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},iCuu:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},iLxQ:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},isby:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},jSPq:function(t,e,n){var r=n("Wogr"),o=n("JzKC");function i(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(t){this.degree=t,this.genPoly=o.generateECPolynomial(this.degree)},i.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var e=new r(this.degree);e.fill(0);var n=r.concat([t,e],t.length+this.degree),i=o.mod(n,this.genPoly),a=this.degree-i.length;if(a>0){var s=new r(this.degree);return s.fill(0),i.copy(s,a),s}return i},t.exports=i},k2qa:function(t,e,n){var r=n("hdqJ");t.exports=Array.isArray||function(t){return"Array"==r(t)}},kL6T:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.ngOnInit=function(){},t}()},"kk9/":function(t,e,n){var r=n("e/Dd").getSymbolSize;e.getPositions=function(t){var e=r(t);return[[0,0],[e-7,0],[0,e-7]]}},kpns:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},lYJp:function(t,e,n){var r=n("e/Dd"),o=r.getBCHDigit(1335);e.getEncodedBits=function(t,e){for(var n=t.bit<<3|e,i=n<<10;r.getBCHDigit(i)-o>=0;)i^=1335<<r.getBCHDigit(i)-o;return 21522^(n<<10|i)}},"lb/b":function(t,e,n){t.exports=!n("0HDe")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},lcbw:function(t,e,n){"use strict";n.r(e),n("Uv6z"),n("pZxE"),n("9r11"),n("KaSA"),n("z5Af"),n("o/0F"),n("AzFY"),n("y2cN"),n("7xuS")},luCB:function(t,e,n){n("q94Q")("split")},mChF:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},mKQw:function(t,e,n){var r=n("0HDe"),o=/#|\.prototype\./,i=function(t,e){var n=s[a(t)];return n==l||n!=u&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},s=i.data={},u=i.NATIVE="N",l=i.POLYFILL="P";t.exports=i},mk1t:function(t,e,n){t.exports=!n("0HDe")(function(){return!String(Symbol())})},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return i}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return l}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return d}),n.d(e,"__read",function(){return p}),n.d(e,"__spread",function(){return g}),n.d(e,"__await",function(){return m}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return y}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return w}),n.d(e,"__importStar",function(){return _}),n.d(e,"__importDefault",function(){return C});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n}function s(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise(function(n,r){i.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=o[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,l):c(i[0][2],n)}catch(r){c(i[0][3],r)}var n}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),i.shift(),i.length&&s(i[0][0],i[0][1])}}function y(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:o?o(e):e}:o}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,o){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,o,(e=t[n](e)).done,e.value)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},nFGs:function(t,e,n){var r={"./0hsmjqf5.entry.js":["ABsE",0,14],"./0hsmjqf5.sc.entry.js":["zvtE",0,15],"./0utrggve.entry.js":["YL3t",0,16],"./0utrggve.sc.entry.js":["cbo4",0,17],"./1kttiagf.entry.js":["4uGr",0,18],"./1kttiagf.sc.entry.js":["Btk/",0,19],"./2g1gy9f9.entry.js":["npqe",0,20],"./2g1gy9f9.sc.entry.js":["x3Fi",0,21],"./4m739wpj.entry.js":["u0PN",0,22],"./4m739wpj.sc.entry.js":["8CwE",0,23],"./5ey3bs99.entry.js":["q1CC",0,24],"./5ey3bs99.sc.entry.js":["5XKE",0,25],"./5u5c8wcw.entry.js":["Dbhp",0,26],"./5u5c8wcw.sc.entry.js":["vIPW",0,27],"./6dsdnxyn.entry.js":["1Oo7",0,28],"./6dsdnxyn.sc.entry.js":["RH0o",0,29],"./6eqoprbr.entry.js":["XdRY",0,30],"./6eqoprbr.sc.entry.js":["EzBG",0,31],"./6g4thfnt.entry.js":["brGM",0,32],"./6g4thfnt.sc.entry.js":["Qun0",0,33],"./8q1e6dus.entry.js":["bAk6",0,34],"./8q1e6dus.sc.entry.js":["TxXI",0,35],"./a7z8hams.entry.js":["ytO+",0,36],"./a7z8hams.sc.entry.js":["EOKm",0,37],"./adaxrxoq.entry.js":["HT4U",0,38],"./adaxrxoq.sc.entry.js":["PV8M",0,39],"./ao2edhxl.entry.js":["Nk0H",0,40],"./ao2edhxl.sc.entry.js":["6lKB",0,41],"./av1nxhcg.entry.js":["NaqX",0,42],"./av1nxhcg.sc.entry.js":["aqqT",0,43],"./b9hbg5md.entry.js":["QDpA",0,44],"./b9hbg5md.sc.entry.js":["kis3",0,45],"./bfxkhdio.entry.js":["9ZEs",0,46],"./bfxkhdio.sc.entry.js":["URe9",0,47],"./bneiwm8s.entry.js":["T3wJ",0,48],"./bneiwm8s.sc.entry.js":["uEo8",0,49],"./bzgyi6uy.entry.js":["0I09",0,50],"./bzgyi6uy.sc.entry.js":["uXfS",0,51],"./c2kiol1t.entry.js":["3NSG",0,52],"./c2kiol1t.sc.entry.js":["GSie",0,53],"./c3xilup3.entry.js":["ZsQ6",0,54],"./c3xilup3.sc.entry.js":["42yg",0,55],"./coytbtgb.entry.js":["hoK1",0,58],"./coytbtgb.sc.entry.js":["jQ3a",0,59],"./cwd9g9my.entry.js":["i6n8",0,60],"./cwd9g9my.sc.entry.js":["FAtK",0,61],"./dlyuptke.entry.js":["yzfR",0,62],"./dlyuptke.sc.entry.js":["T1sq",0,63],"./dznymaqz.entry.js":["NwQl",0,64],"./dznymaqz.sc.entry.js":["6vgi",0,65],"./eljrbuqs.entry.js":["u+cA",0,66],"./eljrbuqs.sc.entry.js":["E917",0,67],"./ffukzwt6.entry.js":["DU2L",0,68],"./ffukzwt6.sc.entry.js":["CwgE",0,69],"./fokfxvfn.entry.js":["bYCh",0,70],"./fokfxvfn.sc.entry.js":["PcDc",0,71],"./gwiqb6zv.entry.js":["ldP5",0,72],"./gwiqb6zv.sc.entry.js":["1esG",0,73],"./hs4xwlox.entry.js":["XJHt",0,74],"./hs4xwlox.sc.entry.js":["PJuV",0,75],"./jdcptvrs.entry.js":["VTC8",0,76],"./jdcptvrs.sc.entry.js":["1MZ3",0,77],"./jpkvsu5y.entry.js":["uZ1V",0,78],"./jpkvsu5y.sc.entry.js":["FGfT",0,79],"./jtkjzkgg.entry.js":["f/cw",0,80],"./jtkjzkgg.sc.entry.js":["wlsL",0,81],"./jwqvpjte.entry.js":["9TuC",0,82],"./jwqvpjte.sc.entry.js":["dfw2",0,83],"./jzvvnvez.entry.js":["tYUT",0,84],"./jzvvnvez.sc.entry.js":["l6vK",0,85],"./l1m0sgjq.entry.js":["gl8U",0,86],"./l1m0sgjq.sc.entry.js":["vw2M",0,87],"./ladxfuum.entry.js":["3SnB",0,88],"./ladxfuum.sc.entry.js":["ED7m",0,89],"./ludl7zh0.entry.js":["L3rE",0,90],"./ludl7zh0.sc.entry.js":["AWnG",0,91],"./lwxjzkgx.entry.js":["mEyU",0,92],"./lwxjzkgx.sc.entry.js":["iqiZ",0,93],"./ly8zbpmk.entry.js":["z8lj",0,94],"./ly8zbpmk.sc.entry.js":["GD4O",0,95],"./n5wnzrch.entry.js":["sXzw",0,96],"./n5wnzrch.sc.entry.js":["LLCS",0,97],"./neixdayp.entry.js":["qp4d",0,98],"./neixdayp.sc.entry.js":["PwRq",0,99],"./nr6wcehx.entry.js":["7gHB",0,100],"./nr6wcehx.sc.entry.js":["g3/z",0,101],"./o2g4txhh.entry.js":["gOx0",0,102],"./o2g4txhh.sc.entry.js":["SeEw",0,103],"./oboc8zd4.entry.js":["0j9i",0,104],"./oboc8zd4.sc.entry.js":["1Suo",0,105],"./odqmlmdd.entry.js":["zbGQ",0,106],"./odqmlmdd.sc.entry.js":["+xu4",0,107],"./okpgrmbb.entry.js":["O4kd",0,108],"./okpgrmbb.sc.entry.js":["xA78",0,109],"./pfpbfexy.entry.js":["PM3w",0,110],"./pfpbfexy.sc.entry.js":["XPZB",0,111],"./pubwd8xa.entry.js":["YHv6",0,112],"./pubwd8xa.sc.entry.js":["teeh",0,113],"./qeoxaimy.entry.js":["K0Uo",0,114],"./qeoxaimy.sc.entry.js":["uI/c",0,115],"./qrxqqhr4.entry.js":["ZmCQ",0,116],"./qrxqqhr4.sc.entry.js":["RMCF",0,117],"./qvwswew4.entry.js":["/lC7",0,118],"./qvwswew4.sc.entry.js":["ngBA",0,119],"./rsatbj4w.entry.js":["BNfL",0,120],"./rsatbj4w.sc.entry.js":["Gjlr",0,121],"./soeaphrm.entry.js":["rvVz",0,122],"./soeaphrm.sc.entry.js":["/4iw",0,123],"./sqd5wawk.entry.js":["qw1Y",0,124],"./sqd5wawk.sc.entry.js":["6wEL",0,125],"./sw2yobif.entry.js":["BONe",0,126],"./sw2yobif.sc.entry.js":["T0TB",0,127],"./t547wlk7.entry.js":["+5OW",0,128],"./t547wlk7.sc.entry.js":["S0wL",0,129],"./tluindqz.entry.js":["OvZZ",0,130],"./tluindqz.sc.entry.js":["jFG7",0,131],"./tpeqvzxx.entry.js":["wRVR",0,132],"./tpeqvzxx.sc.entry.js":["eY1e",0,133],"./tqgphjq7.entry.js":["Xys6",0,134],"./tqgphjq7.sc.entry.js":["bl6z",0,135],"./tylmm2yl.entry.js":["rTNj",0,136],"./tylmm2yl.sc.entry.js":["QzU4",0,137],"./ucdtgfa9.entry.js":["7j1K",0,138],"./ucdtgfa9.sc.entry.js":["PUgH",0,139],"./uegz8gm3.entry.js":["ipY9",0,140],"./uegz8gm3.sc.entry.js":["0GgR",0,141],"./uetn90ud.entry.js":["eFQk",0,142],"./uetn90ud.sc.entry.js":["TUeb",0,143],"./vbsrxypz.entry.js":["RPh5",144],"./vbsrxypz.sc.entry.js":["AmAX",145],"./vtbkki9o.entry.js":["4Vud",0,146],"./vtbkki9o.sc.entry.js":["r2m0",0,147],"./vxxpn0fi.entry.js":["nkWV",0,148],"./vxxpn0fi.sc.entry.js":["afjq",0,149],"./wajpsmly.entry.js":["jPCr",0,150],"./wajpsmly.sc.entry.js":["sGzQ",0,151],"./wsfvc8rr.entry.js":["ScSn",0,152],"./wsfvc8rr.sc.entry.js":["Lzkg",0,153],"./x4ue4dpx.entry.js":["c9Lr",0,154],"./x4ue4dpx.sc.entry.js":["FS8U",0,155],"./xgnma4yj.entry.js":["6yqi",0,156],"./xgnma4yj.sc.entry.js":["9edI",0,157],"./xnfqzgvy.entry.js":["QOMR",0,158],"./xnfqzgvy.sc.entry.js":["7WvJ",0,159],"./ycyyhg01.entry.js":["H/n8",0,160],"./ycyyhg01.sc.entry.js":["d4UZ",0,161],"./ye5age0r.entry.js":["rNE2",162],"./ye5age0r.sc.entry.js":["88Fd",163],"./yxulgzjp.entry.js":["q2xq",0,164],"./yxulgzjp.sc.entry.js":["1dkR",0,165],"./z9nt6ntd.entry.js":["lgyN",0,166],"./z9nt6ntd.sc.entry.js":["nTAs",0,167],"./zdhyxh0f.entry.js":["3Mn5",0,168],"./zdhyxh0f.sc.entry.js":["awSi",0,169]};function o(t){var e=r[t];return e?Promise.all(e.slice(1).map(n.e)).then(function(){return n(e[0])}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}o.keys=function(){return Object.keys(r)},o.id="nFGs",t.exports=o},nJQW:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},nX7E:function(t,e,n){var r=n("ysHE"),o=n("wBs/");t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},nZSm:function(t,e,n){var r=n("u/Db"),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(t){this.mode=r.ALPHANUMERIC,this.data=t}i.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){var e;for(e=0;e+2<=this.data.length;e+=2){var n=45*o.indexOf(this.data[e]);n+=o.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(o.indexOf(this.data[e]),6)},t.exports=i},nkY7:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},"nsc/":function(t,e,n){"use strict";var r=n("JKJi"),o=n("9Nts");t.exports="".repeat||function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},"o/0F":function(t,e,n){t.exports=n("ehBJ")},o9j8:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},oAJy:function(t,e,n){var r;t.exports=function t(e,n,o){function i(s,u){if(!n[s]){if(!e[s]){if(!u&&"function"==typeof r&&r)return r(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){return i(e[s][1][t]||t)},c,c.exports,t,e,n,o)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){(function(t){"use strict";var n,r,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var i=0,a=new o(c),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){c(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(c,0)};else{var u=new t.MessageChannel;u.port1.onmessage=c,n=function(){u.port2.postMessage(0)}}var l=[];function c(){var t,e;r=!0;for(var n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}r=!1}e.exports=function(t){1!==l.push(t)||r||n()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var r=t(1);function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function l(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==o&&d(this,t)}function c(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(t,e,n){r(function(){var r;try{r=e(n)}catch(o){return i.reject(t,o)}r===t?i.reject(t,new TypeError("Cannot resolve promise with itself")):i.resolve(t,r)})}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var n=!1;function r(e){n||(n=!0,i.reject(t,e))}function o(e){n||(n=!0,i.resolve(t,e))}var a=p(function(){e(o,r)});"error"===a.status&&r(a.value)}function p(t,e){var n={};try{n.value=t(e),n.status="success"}catch(r){n.status="error",n.value=r}return n}e.exports=l,l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var n=new this.constructor(o);return this.state!==u?h(n,this.state===s?t:e,this.outcome):this.queue.push(new c(n,t,e)),n},c.prototype.callFulfilled=function(t){i.resolve(this.promise,t)},c.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},c.prototype.callRejected=function(t){i.reject(this.promise,t)},c.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},i.resolve=function(t,e){var n=p(f,e);if("error"===n.status)return i.reject(t,n.value);var r=n.value;if(r)d(t,r);else{t.state=s,t.outcome=e;for(var o=-1,a=t.queue.length;++o<a;)t.queue[o].callFulfilled(e)}return t},i.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},l.resolve=function(t){return t instanceof this?t:i.resolve(new this(o),t)},l.reject=function(t){var e=new this(o);return i.reject(e,t)},l.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,u=-1,l=new this(o);++u<n;)c(t[u],u);return l;function c(t,o){e.resolve(t).then(function(t){a[o]=t,++s!==n||r||(r=!0,i.resolve(l,a))},function(t){r||(r=!0,i.reject(l,t))})}},l.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,n=!1;if(!e)return this.resolve([]);for(var r=-1,a=new this(o);++r<e;)this.resolve(t[r]).then(function(t){n||(n=!0,i.resolve(a,t))},function(t){n||(n=!0,i.reject(a,t))});return a}},{1:1}],3:[function(t,e,n){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function i(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var a=Promise;function s(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function u(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function l(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function c(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",f=void 0,d={},p=Object.prototype.toString;function g(t){var e=d[t.name],n={};n.promise=new a(function(t,e){n.resolve=t,n.reject=e}),e.deferredOperations.push(n),e.dbReady=e.dbReady?e.dbReady.then(function(){return n.promise}):n.promise}function m(t){var e=d[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function v(t,e){var n=d[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function y(t,e){return new a(function(n,r){if(d[t.name]=d[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);g(t),t.db.close()}var i=[t.name];e&&i.push(t.version);var a=o.open.apply(o,i);e&&(a.onupgradeneeded=function(e){var n=a.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(h)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),a.onerror=function(t){t.preventDefault(),r(a.error)},a.onsuccess=function(){n(a.result),m(t)}})}function b(t){return y(t,!1)}function w(t){return y(t,!0)}function _(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version>t.db.version;if(t.version<t.db.version&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),r||n){if(n){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function C(t){return i([function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),o=0;o<e;o++)r[o]=t.charCodeAt(o);return n}(atob(t.data))],{type:t.type})}function S(t){return t&&t.__local_forage_encoded_blob}function E(t){var e=this,n=e._initReady().then(function(){var t=d[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return u(n,t,t),n}function O(t,e,n,r){void 0===r&&(r=1);try{var o=t.db.transaction(t.storeName,e);n(null,o)}catch(i){if(r>0&&(!t.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return a.resolve().then(function(){if(!t.db||"NotFoundError"===i.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),w(t)}).then(function(){return function(t){g(t);for(var e=d[t.name],n=e.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return t.db=null,b(t).then(function(e){return t.db=e,_(t)?w(t):e}).then(function(r){t.db=e.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r}).catch(function(e){throw v(t,e),e})}(t).then(function(){O(t,e,n,r-1)})}).catch(n);n(i)}}var I={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]=t[r];var o=d[n.name];o||(d[n.name]=o={forages:[],db:null,dbReady:null,deferredOperations:[]}),o.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=E);var i=[];function s(){return a.resolve()}for(var u=0;u<o.forages.length;u++){var l=o.forages[u];l!==e&&i.push(l._initReady().catch(s))}var c=o.forages.slice(0);return a.all(i).then(function(){return n.db=o.db,b(n)}).then(function(t){return n.db=t,_(n,e._defaultConfig.version)?w(n):t}).then(function(t){n.db=o.db=t,e._dbInfo=n;for(var r=0;r<c.length;r++){var i=c[r];i!==e&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}})},_support:function(){try{if(!o)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(n){return!1}}(),iterate:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){O(n._dbInfo,"readonly",function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;S(r)&&(r=C(r));var o=t(r,n.key,s++);void 0!==o?e(o):n.continue()}else e()},a.onerror=function(){r(a.error)}}catch(u){r(u)}})}).catch(r)});return s(r,e),r},getItem:function(t,e){var n=this;t=l(t);var r=new a(function(e,r){n.ready().then(function(){O(n._dbInfo,"readonly",function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),S(t)&&(t=C(t)),e(t)},a.onerror=function(){r(a.error)}}catch(s){r(s)}})}).catch(r)});return s(r,e),r},setItem:function(t,e,n){var r=this;t=l(t);var o=new a(function(n,o){var s;r.ready().then(function(){return s=r._dbInfo,"[object Blob]"===p.call(e)?(t=s.db,"boolean"==typeof f?a.resolve(f):function(t){return new a(function(e){var n=t.transaction(h,"readwrite"),r=i([""]);n.objectStore(h).put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})}(t).then(function(t){return f=t})).then(function(t){return t?e:(n=e,new a(function(t,e){var r=new FileReader;r.onerror=e,r.onloadend=function(e){var r=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)}));var n}):e;var t}).then(function(e){O(r._dbInfo,"readwrite",function(i,a){if(i)return o(i);try{var s=a.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var u=s.put(e,t);a.oncomplete=function(){void 0===e&&(e=null),n(e)},a.onabort=a.onerror=function(){o(u.error?u.error:u.transaction.error)}}catch(l){o(l)}})}).catch(o)});return s(o,n),o},removeItem:function(t,e){var n=this;t=l(t);var r=new a(function(e,r){n.ready().then(function(){O(n._dbInfo,"readwrite",function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).delete(t);i.oncomplete=function(){e()},i.onerror=function(){r(a.error)},i.onabort=function(){r(a.error?a.error:a.transaction.error)}}catch(s){r(s)}})}).catch(r)});return s(r,e),r},clear:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){O(e._dbInfo,"readwrite",function(r,o){if(r)return n(r);try{var i=o.objectStore(e._dbInfo.storeName).clear();o.oncomplete=function(){t()},o.onabort=o.onerror=function(){n(i.error?i.error:i.transaction.error)}}catch(a){n(a)}})}).catch(n)});return s(n,t),n},length:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){O(e._dbInfo,"readonly",function(r,o){if(r)return n(r);try{var i=o.objectStore(e._dbInfo.storeName).count();i.onsuccess=function(){t(i.result)},i.onerror=function(){n(i.error)}}catch(a){n(a)}})}).catch(n)});return s(n,t),n},key:function(t,e){var n=this,r=new a(function(e,r){t<0?e(null):n.ready().then(function(){O(n._dbInfo,"readonly",function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),s=!1,u=a.openCursor();u.onsuccess=function(){var n=u.result;n?0===t?e(n.key):s?e(n.key):(s=!0,n.advance(t)):e(null)},u.onerror=function(){r(u.error)}}catch(l){r(l)}})}).catch(r)});return s(r,e),r},keys:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){O(e._dbInfo,"readonly",function(r,o){if(r)return n(r);try{var i=o.objectStore(e._dbInfo.storeName).openCursor(),a=[];i.onsuccess=function(){var e=i.result;e?(a.push(e.key),e.continue()):t(a)},i.onerror=function(){n(i.error)}}catch(s){n(s)}})}).catch(n)});return s(n,t),n},dropInstance:function(t,e){e=c.apply(this,arguments);var n,r=this.config();return(t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName),s(n=t.name?(t.name===r.name&&this._dbInfo.db?a.resolve(this._dbInfo.db):b(t).then(function(e){var n=d[t.name],r=n.forages;n.db=e;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=e;return e})).then(t.storeName?function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;g(t);var r=d[t.name],i=r.forages;e.close();for(var s=0;s<i.length;s++){var u=i[s];u._dbInfo.db=null,u._dbInfo.version=n}return new a(function(e,r){var i=o.open(t.name,n);i.onerror=function(t){i.result.close(),r(t)},i.onupgradeneeded=function(){i.result.deleteObjectStore(t.storeName)},i.onsuccess=function(){var t=i.result;t.close(),e(t)}}).then(function(t){r.db=t;for(var e=0;e<i.length;e++){var n=i[e];n._dbInfo.db=t,m(n._dbInfo)}}).catch(function(e){throw(v(t,e)||a.resolve()).catch(function(){}),e})}}:function(e){g(t);var n=d[t.name],r=n.forages;e.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;return new a(function(e,n){var r=o.deleteDatabase(t.name);r.onerror=r.onblocked=function(t){var e=r.result;e&&e.close(),n(t)},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}}).then(function(t){n.db=t;for(var e=0;e<r.length;e++)m(r[e]._dbInfo)}).catch(function(e){throw(v(t,e)||a.resolve()).catch(function(){}),e})}):a.reject("Invalid arguments"),e),n}},k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=/^~~local_forage_type~([^~]+)~/,T="__lfsc__:".length,D=T+"arbf".length,P=Object.prototype.toString;function A(t){var e,n,r,o,i,a=.75*t.length,s=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var l=new ArrayBuffer(a),c=new Uint8Array(l);for(e=0;e<s;e+=4)n=k.indexOf(t[e]),r=k.indexOf(t[e+1]),o=k.indexOf(t[e+2]),i=k.indexOf(t[e+3]),c[u++]=n<<2|r>>4,c[u++]=(15&r)<<4|o>>2,c[u++]=(3&o)<<6|63&i;return l}function N(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=k[n[e]>>2],r+=k[(3&n[e])<<4|n[e+1]>>4],r+=k[(15&n[e+1])<<2|n[e+2]>>6],r+=k[63&n[e+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var M={serialize:function(t,e){var n="";if(t&&(n=P.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===P.call(t.buffer))){var r,o="__lfsc__:";t instanceof ArrayBuffer?(r=t,o+="arbf"):(r=t.buffer,"[object Int8Array]"===n?o+="si08":"[object Uint8Array]"===n?o+="ui08":"[object Uint8ClampedArray]"===n?o+="uic8":"[object Int16Array]"===n?o+="si16":"[object Uint16Array]"===n?o+="ur16":"[object Int32Array]"===n?o+="si32":"[object Uint32Array]"===n?o+="ui32":"[object Float32Array]"===n?o+="fl32":"[object Float64Array]"===n?o+="fl64":e(new Error("Failed to get type for BinaryArray"))),e(o+N(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n="~~local_forage_type~"+t.type+"~"+N(this.result);e("__lfsc__:blob"+n)},i.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(a){console.error("Couldn't convert value into a JSON string: ",t),e(null,a)}},deserialize:function(t){if("__lfsc__:"!==t.substring(0,T))return JSON.parse(t);var e,n=t.substring(D),r=t.substring(T,D);if("blob"===r&&x.test(n)){var o=n.match(x);e=o[1],n=n.substring(o[0].length)}var a=A(n);switch(r){case"arbf":return a;case"blob":return i([a],{type:e});case"si08":return new Int8Array(a);case"ui08":return new Uint8Array(a);case"uic8":return new Uint8ClampedArray(a);case"si16":return new Int16Array(a);case"ur16":return new Uint16Array(a);case"si32":return new Int32Array(a);case"ui32":return new Uint32Array(a);case"fl32":return new Float32Array(a);case"fl64":return new Float64Array(a);default:throw new Error("Unkown type: "+r)}},stringToBuffer:A,bufferToString:N};function R(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function j(t,e,n,r,o,i){t.executeSql(n,r,o,function(t,a){a.code===a.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[name],function(t,s){s.rows.length?i(t,a):R(t,e,function(){t.executeSql(n,r,o,i)},i)},i):i(t,a)},i)}var L={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var o=new a(function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(o){return r(o)}n.db.transaction(function(o){R(o,n,function(){e._dbInfo=n,t()},function(t,e){r(e)})},r)});return n.serializer=M,o},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){j(n,o,"SELECT * FROM "+o.storeName,[],function(n,r){for(var i=r.rows,a=i.length,s=0;s<a;s++){var u=i.item(s),l=u.value;if(l&&(l=o.serializer.deserialize(l)),void 0!==(l=t(l,u.key,s+1)))return void e(l)}e()},function(t,e){r(e)})})}).catch(r)});return s(r,e),r},getItem:function(t,e){var n=this;t=l(t);var r=new a(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){j(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),e(r)},function(t,e){r(e)})})}).catch(r)});return s(r,e),r},setItem:function(t,e,n){return(function t(e,n,r,o){var i=this;e=l(e);var u=new a(function(a,s){i.ready().then(function(){void 0===n&&(n=null);var u=n,l=i._dbInfo;l.serializer.serialize(n,function(n,c){c?s(c):l.db.transaction(function(t){j(t,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,n],function(){a(u)},function(t,e){s(e)})},function(n){if(n.code===n.QUOTA_ERR){if(o>0)return void a(t.apply(i,[e,u,r,o-1]));s(n)}})})}).catch(s)});return s(u,r),u}).apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=l(t);var r=new a(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){j(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){r(e)})})}).catch(r)});return s(r,e),r},clear:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){j(e,r,"DELETE FROM "+r.storeName,[],function(){t()},function(t,e){n(e)})})}).catch(n)});return s(n,t),n},length:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){j(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(e,n){var r=n.rows.item(0).c;t(r)},function(t,e){n(e)})})}).catch(n)});return s(n,t),n},key:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){j(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)},function(t,e){r(e)})})}).catch(r)});return s(r,e),r},keys:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){j(e,r,"SELECT key FROM "+r.storeName,[],function(e,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);t(r)},function(t,e){n(e)})})}).catch(n)});return s(n,t),n},dropInstance:function(t,e){e=c.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,o=this;return s(r=t.name?new a(function(e){var r;r=t.name===n.name?o._dbInfo.db:openDatabase(t.name,"","",0),e(t.storeName?{db:r,storeNames:[t.storeName]}:function(t){return new a(function(e,n){t.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);e({db:t,storeNames:o})},function(t,e){n(e)})},function(t){n(t)})})}(r))}).then(function(t){return new a(function(e,n){t.db.transaction(function(r){function o(t){return new a(function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(t,e){n(e)})})}for(var i=[],s=0,u=t.storeNames.length;s<u;s++)i.push(o(t.storeNames[s]));a.all(i).then(function(){e()}).catch(function(t){n(t)})},function(t){n(t)})})}):a.reject("Invalid arguments"),e),r}};function U(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}var q={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=U(t,this._defaultConfig),!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(t){return!0}}()||localStorage.length>0?(this._dbInfo=e,e.serializer=M,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo,r=e.keyPrefix,o=r.length,i=localStorage.length,a=1,s=0;s<i;s++){var u=localStorage.key(s);if(0===u.indexOf(r)){var l=localStorage.getItem(u);if(l&&(l=e.serializer.deserialize(l)),void 0!==(l=t(l,u.substring(o),a++)))return l}}});return s(r,e),r},getItem:function(t,e){var n=this;t=l(t);var r=n.ready().then(function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r});return s(r,e),r},setItem:function(t,e,n){var r=this;t=l(t);var o=r.ready().then(function(){void 0===e&&(e=null);var n=e;return new a(function(o,i){var a=r._dbInfo;a.serializer.serialize(e,function(e,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+t,e),o(n)}catch(s){"QuotaExceededError"!==s.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==s.name||i(s),i(s)}})})});return s(o,n),o},removeItem:function(t,e){var n=this;t=l(t);var r=n.ready().then(function(){localStorage.removeItem(n._dbInfo.keyPrefix+t)});return s(r,e),r},clear:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}});return s(n,t),n},length:function(t){var e=this.keys().then(function(t){return t.length});return s(e,t),e},key:function(t,e){var n=this,r=n.ready().then(function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(o){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e});return s(r,e),r},keys:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(t.keyPrefix)&&r.push(i.substring(t.keyPrefix.length))}return r});return s(n,t),n},dropInstance:function(t,e){if(e=c.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,o=this;return s(r=t.name?new a(function(e){e(t.storeName?U(t,o._defaultConfig):t.name+"/")}).then(function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}}):a.reject("Invalid arguments"),e),r}},F=function(t,e){for(var n=t.length,r=0;r<n;){if((o=t[r])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;r++}var o,i;return!1},V=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},B={},z={},H={INDEXEDDB:I,WEBSQL:L,LOCALSTORAGE:q},G=[H.INDEXEDDB._driver,H.WEBSQL._driver,H.LOCALSTORAGE._driver],W=["dropInstance"],K=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(W),Q={description:"",driver:G.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function J(t,e){t[e]=function(){var n=arguments;return t.ready().then(function(){return t[e].apply(t,n)})}}function X(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(arguments[0][n]=V(e[n])?e[n].slice():e[n])}return arguments[0]}var Y=new(function(){function t(e){for(var n in function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),H)if(H.hasOwnProperty(n)){var r=H[n],o=r._driver;this[n]=o,B[o]||this.defineDriver(r)}this._defaultConfig=X({},Q),this._config=X({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":r(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var r=new a(function(e,n){try{var r=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(o);for(var i=K.concat("_initStorage"),u=0,l=i.length;u<l;u++){var c=i[u];if((!F(W,c)||t[c])&&"function"!=typeof t[c])return void n(o)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=a.reject(e);return s(n,arguments[arguments.length-1]),n}},n=0,r=W.length;n<r;n++){var o=W[n];t[o]||(t[o]=e(o))}}();var h=function(n){B[r]&&console.info("Redefining LocalForage driver: "+r),B[r]=t,z[r]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(h,n):h(!!t._support):h(!0)}catch(f){n(f)}});return u(r,e,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=B[t]?a.resolve(B[t]):a.reject(new Error("Driver not found."));return u(r,e,n),r},t.prototype.getSerializer=function(t){var e=a.resolve(M);return u(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return u(n,t,t),n},t.prototype.setDriver=function(t,e,n){var r=this;V(t)||(t=[t]);var o=this._getSupportedDrivers(t);function i(){r._config.driver=r.driver()}function s(t){return r._extend(t),i(),r._ready=r._initStorage(r._config),r._ready}var l=null!==this._driverSet?this._driverSet.catch(function(){return a.resolve()}):a.resolve();return this._driverSet=l.then(function(){var t=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(t).then(function(t){r._driver=t._driver,i(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var o=t[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(o).then(s).catch(n)}i();var u=new Error("No available storage method found.");return r._driverSet=a.reject(u),r._driverSet}()}}(o)})}).catch(function(){i();var t=new Error("No available storage method found.");return r._driverSet=a.reject(t),r._driverSet}),u(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!z[t]},t.prototype._extend=function(t){X(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];this.supports(o)&&e.push(o)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=K.length;t<e;t++)J(this,K[t])},t.prototype.createInstance=function(e){return new t(e)},t}());e.exports=Y},{3:3}]},{},[4])(4)},oBZk:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"w",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"x",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"y",function(){return l}),n.d(e,"d",function(){return c}),n.d(e,"z",function(){return h}),n.d(e,"e",function(){return f}),n.d(e,"A",function(){return d}),n.d(e,"f",function(){return p}),n.d(e,"D",function(){return g}),n.d(e,"g",function(){return m}),n.d(e,"B",function(){return v}),n.d(e,"h",function(){return y}),n.d(e,"C",function(){return b}),n.d(e,"i",function(){return w}),n.d(e,"E",function(){return _}),n.d(e,"j",function(){return C}),n.d(e,"F",function(){return S}),n.d(e,"k",function(){return E}),n.d(e,"G",function(){return O}),n.d(e,"l",function(){return I}),n.d(e,"H",function(){return k}),n.d(e,"m",function(){return x}),n.d(e,"I",function(){return T}),n.d(e,"n",function(){return D}),n.d(e,"J",function(){return P}),n.d(e,"o",function(){return A}),n.d(e,"L",function(){return N}),n.d(e,"p",function(){return M}),n.d(e,"K",function(){return R}),n.d(e,"q",function(){return j}),n.d(e,"M",function(){return L}),n.d(e,"r",function(){return U}),n.d(e,"O",function(){return q}),n.d(e,"s",function(){return F}),n.d(e,"N",function(){return V}),n.d(e,"t",function(){return B}),n.d(e,"P",function(){return z}),n.d(e,"u",function(){return H}),n.d(e,"Q",function(){return G}),n.d(e,"v",function(){return W}),n.d(e,"R",function(){return K});var r=n("CcnG");n("ZZ/e"),n("Ip0R"),n("ZYCi");var o=r.nb({encapsulation:2,styles:[],data:{}});function i(t){return r.Eb(2,[r.yb(null,0)],null,null)}var a=r.nb({encapsulation:2,styles:[],data:{}});function s(t){return r.Eb(2,[r.yb(null,0)],null,null)}var u=r.nb({encapsulation:2,styles:[],data:{}});function l(t){return r.Eb(2,[r.yb(null,0)],null,null)}var c=r.nb({encapsulation:2,styles:[],data:{}});function h(t){return r.Eb(2,[r.yb(null,0)],null,null)}var f=r.nb({encapsulation:2,styles:[],data:{}});function d(t){return r.Eb(2,[r.yb(null,0)],null,null)}var p=r.nb({encapsulation:2,styles:[],data:{}});function g(t){return r.Eb(2,[r.yb(null,0)],null,null)}var m=r.nb({encapsulation:2,styles:[],data:{}});function v(t){return r.Eb(2,[r.yb(null,0)],null,null)}var y=r.nb({encapsulation:2,styles:[],data:{}});function b(t){return r.Eb(2,[r.yb(null,0)],null,null)}var w=r.nb({encapsulation:2,styles:[],data:{}});function _(t){return r.Eb(2,[r.yb(null,0)],null,null)}var C=r.nb({encapsulation:2,styles:[],data:{}});function S(t){return r.Eb(2,[r.yb(null,0)],null,null)}var E=r.nb({encapsulation:2,styles:[],data:{}});function O(t){return r.Eb(2,[r.yb(null,0)],null,null)}var I=r.nb({encapsulation:2,styles:[],data:{}});function k(t){return r.Eb(2,[r.yb(null,0)],null,null)}var x=r.nb({encapsulation:2,styles:[],data:{}});function T(t){return r.Eb(2,[r.yb(null,0)],null,null)}var D=r.nb({encapsulation:2,styles:[],data:{}});function P(t){return r.Eb(2,[r.yb(null,0)],null,null)}var A=r.nb({encapsulation:2,styles:[],data:{}});function N(t){return r.Eb(2,[r.yb(null,0)],null,null)}var M=r.nb({encapsulation:2,styles:[],data:{}});function R(t){return r.Eb(2,[r.yb(null,0)],null,null)}var j=r.nb({encapsulation:2,styles:[],data:{}});function L(t){return r.Eb(2,[r.yb(null,0)],null,null)}var U=r.nb({encapsulation:2,styles:[],data:{}});function q(t){return r.Eb(2,[r.yb(null,0)],null,null)}var F=r.nb({encapsulation:2,styles:[],data:{}});function V(t){return r.Eb(2,[r.yb(null,0)],null,null)}var B=r.nb({encapsulation:2,styles:[],data:{}});function z(t){return r.Eb(2,[r.yb(null,0)],null,null)}var H=r.nb({encapsulation:2,styles:[],data:{}});function G(t){return r.Eb(2,[r.yb(null,0)],null,null)}var W=r.nb({encapsulation:2,styles:[],data:{}});function K(t){return r.Eb(2,[r.yb(null,0)],null,null)}},pMnS:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("CcnG"),o=n("ZYCi"),i=r.nb({encapsulation:2,styles:[],data:{}});function a(t){return r.Eb(0,[(t()(),r.pb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ob(1,212992,null,0,o.o,[o.b,r.O,r.j,[8,null],r.h],null,null)],function(t,e){t(e,1,0)},null)}function s(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"ng-component",[],null,null,null,a,i)),r.ob(1,49152,null,0,o.s,[],null,null)],null,null)}var u=r.lb("ng-component",o.s,s,{},{},[])},pSMy:function(t,e,n){var r=n("ysHE"),o=n("pYsU").f,i=n("wBs/"),a=n("1f/i"),s=n("nX7E"),u=n("a+hM"),l=n("mKQw");t.exports=function(t,e){var n,c,h,f,d,p=t.target,g=t.global,m=t.stat;if(n=g?r:m?r[p]||s(p,{}):(r[p]||{}).prototype)for(c in e){if(f=e[c],h=t.noTargetGet?(d=o(n,c))&&d.value:n[c],!l(g?c:p+(m?".":"#")+c,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;u(f,h)}(t.sham||h&&h.sham)&&i(f,"sham",!0),a(n,c,f,t)}}},pYsU:function(t,e,n){var r=n("lb/b"),o=n("iCuu"),i=n("2Hee"),a=n("IutQ"),s=n("ehg7"),u=n("57wU"),l=n("a0i3"),c=Object.getOwnPropertyDescriptor;e.f=r?c:function(t,e){if(t=a(t),e=s(e,!0),l)try{return c(t,e)}catch(n){}if(u(t,e))return i(!o.f.call(t,e),t[e])}},pZxE:function(t,e,n){"use strict";function r(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}var o=setTimeout;function i(){}function a(t){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function s(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,a._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(o){return void l(e.promise,o)}u(e.promise,r)}else(1===t._state?u:l)(e.promise,t._value)})):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof a)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void f((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(i){l(t,i)}var r,o}function l(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&a._immediateFn(function(){t._handled||a._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function h(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t(function(t){n||(n=!0,u(e,t))},function(t){n||(n=!0,l(e,t))})}catch(r){if(n)return;n=!0,l(e,r)}}a.prototype.catch=function(t){return this.then(null,t)},a.prototype.then=function(t,e){var n=new this.constructor(i);return s(this,new h(t,e,n)),n},a.prototype.finally=r,a.all=function(t){return new a(function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(t,e)},n)}r[t]=a,0==--o&&e(r)}catch(u){n(u)}}for(var a=0;a<r.length;a++)i(a,r[a])})},a.resolve=function(t){return t&&"object"==typeof t&&t.constructor===a?t:new a(function(e){e(t)})},a.reject=function(t){return new a(function(e,n){n(t)})},a.race=function(t){return new a(function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)})},a._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){o(t,0)},a._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var d=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"Promise"in d?d.Promise.prototype.finally||(d.Promise.prototype.finally=r):d.Promise=a},psW0:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("mrSG"),o=n("zotm"),i=n("MGBS"),a=n("rPjj"),s=n("67Y/"),u=n("0/uQ");function l(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(l(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(s.a)(function(t,o){return e(n,t,r,o)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project,this.concurrent))},t}(),h=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.__extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new a.a(this,void 0,void 0);this.destination.add(r),Object(o.a)(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(i.a)},ptKZ:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},pugT:function(t,e,n){"use strict";var r=n("isby"),o=n("McSo"),i=n("2Bdj");function a(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}a.prototype=Object.create(Error.prototype);var s=a;n.d(e,"a",function(){return u});var u=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,a=this._parents,u=this._unsubscribe,c=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,f=a?a.length:0;n;)n.remove(this),n=++h<f&&a[h]||null;if(Object(i.a)(u))try{u.call(this)}catch(p){e=!0,t=p instanceof s?l(p.errors):[p]}if(Object(r.a)(c))for(h=-1,f=c.length;++h<f;){var d=c[h];if(Object(o.a)(d))try{d.unsubscribe()}catch(p){e=!0,t=t||[],p instanceof s?t=t.concat(l(p.errors)):t.push(p)}}if(e)throw new s(t)}},t.prototype.add=function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var o=this._subscriptions;o?o.push(n):this._subscriptions=[n]}return n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))},t.EMPTY=((e=new t).closed=!0,e),t}();function l(t){return t.reduce(function(t,e){return t.concat(e instanceof s?e.errors:e)},[])}},"pxS/":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i});var r=n("KOl+");function o(t,e){return!0===Object(r.a)(t,e)?Object(r.b)(t.constructor.getPluginRef())[e]:null}function i(t,e,n){!0===Object(r.a)(t,e)&&(Object(r.b)(t.constructor.getPluginRef())[e]=n)}},"q/0M":function(t,e,n){"use strict";n.r(e),n.d(e,"LogLevel",function(){return o}),n.d(e,"Logger",function(){return s}),n.d(e,"setLogLevel",function(){return u});var r=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),i=o.INFO,a=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString();switch(e){case o.DEBUG:case o.VERBOSE:console.log.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;case o.INFO:console.info.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;case o.WARN:console.warn.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;case o.ERROR:console.error.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},s=function(){function t(t){this.name=t,this._logLevel=i,this._logHandler=a,r.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,o.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,o.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,o.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,o.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,o.ERROR].concat(t))},t}();function u(t){r.forEach(function(e){e.logLevel=t})}},q0E7:function(t,e,n){n("q94Q")("iterator")},q94Q:function(t,e,n){var r=n("4Ea8"),o=n("57wU"),i=n("ahhG"),a=n("TIpl").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},qBi7:function(t,e,n){var r=n("MfhB")("keys"),o=n("ptKZ");t.exports=function(t){return r[t]||(r[t]=o(t))}},qjh4:function(t,e,n){"use strict";var r=n("lb/b"),o=n("57wU"),i=n("kpns"),a=n("TIpl").f,s=n("a+hM"),u=n("ysHE").Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var l={},c=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof c?new u(t):void 0===t?u():u(t);return""===t&&(l[e]=!0),e};s(c,u);var h=c.prototype=u.prototype;h.constructor=c;var f=h.toString,d="Symbol(test)"==String(u("test")),p=/^Symbol\((.*)\)[^)]+$/;a(h,"description",{configurable:!0,get:function(){var t=i(this)?this.valueOf():this,e=f.call(t);if(o(l,t))return"";var n=d?e.slice(7,-1):e.replace(p,"$1");return""===n?void 0:n}}),n("pSMy")({global:!0,forced:!0},{Symbol:c})}},qmMu:function(t,e,n){var r=n("Wogr"),o=n("e/Dd"),i=n("ekOh"),a=n("e6BP"),s=n("V35J"),u=n("1sBl"),l=n("kk9/"),c=n("eQOe"),h=n("NPxG"),f=n("jSPq"),d=n("yKow"),p=n("lYJp"),g=n("u/Db"),m=n("vvrf"),v=n("7uVY");function y(t,e,n){var r,o,i=t.size,a=p.getEncodedBits(e,n);for(r=0;r<15;r++)t.set(r<6?r:r<8?r+1:i-15+r,8,o=1==(a>>r&1),!0),t.set(8,r<8?i-r-1:r<9?15-r-1+1:15-r-1,o,!0);t.set(i-8,8,1,!0)}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");var n,p=i.M;return void 0!==e&&(p=i.from(e.errorCorrectionLevel,i.M),n=d.from(e.version),e.toSJISFunc&&o.setToSJISFunction(e.toSJISFunc)),function(t,e,n){var i;if(v(t))i=m.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");var p=e;if(!p){var b=m.rawSplit(t);p=d.getBestVersionForData(b,n)}i=m.fromString(t,p)}var w=d.getBestVersionForData(i,n);if(!w)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<w)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+w+".\n")}else e=w;var _=function(t,e,n){var i=new a;n.forEach(function(e){i.put(e.mode.bit,4),i.put(e.getLength(),g.getCharCountIndicator(e.mode,t)),e.write(i)});var s=8*(o.getSymbolTotalCodewords(t)-h.getTotalCodewordsCount(t,e));for(i.getLengthInBits()+4<=s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);for(var u=(s-i.getLengthInBits())/8,l=0;l<u;l++)i.put(l%2?17:236,8);return function(t,e,n){for(var i=o.getSymbolTotalCodewords(e),a=i-h.getTotalCodewordsCount(e,n),s=h.getBlocksCount(e,n),u=s-i%s,l=Math.floor(i/s),c=Math.floor(a/s),d=c+1,p=l-c,g=new f(p),m=0,v=new Array(s),y=new Array(s),b=0,w=new r(t.buffer),_=0;_<s;_++){var C=_<u?c:d;v[_]=w.slice(m,m+C),y[_]=g.encode(v[_]),m+=C,b=Math.max(b,C)}var S,E,O=new r(i),I=0;for(S=0;S<b;S++)for(E=0;E<s;E++)S<v[E].length&&(O[I++]=v[E][S]);for(S=0;S<p;S++)for(E=0;E<s;E++)O[I++]=y[E][S];return O}(i,t,e)}(e,n,i),C=o.getSymbolSize(e),S=new s(C);!function(t,e){for(var n=t.size,r=l.getPositions(e),o=0;o<r.length;o++)for(var i=r[o][0],a=r[o][1],s=-1;s<=7;s++)if(!(i+s<=-1||n<=i+s))for(var u=-1;u<=7;u++)a+u<=-1||n<=a+u||t.set(i+s,a+u,s>=0&&s<=6&&(0===u||6===u)||u>=0&&u<=6&&(0===s||6===s)||s>=2&&s<=4&&u>=2&&u<=4,!0)}(S,e),function(t){for(var e=t.size,n=8;n<e-8;n++){var r=n%2==0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}(S),function(t,e){for(var n=u.getPositions(e),r=0;r<n.length;r++)for(var o=n[r][0],i=n[r][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)t.set(o+a,i+s,-2===a||2===a||-2===s||2===s||0===a&&0===s,!0)}(S,e),y(S,n,0),e>=7&&function(t,e){for(var n,r,o,i=t.size,a=d.getEncodedBits(e),s=0;s<18;s++)n=Math.floor(s/3),t.set(n,r=s%3+i-8-3,o=1==(a>>s&1),!0),t.set(r,n,o,!0)}(S,e),function(t,e){for(var n=t.size,r=-1,o=n-1,i=7,a=0,s=n-1;s>0;s-=2)for(6===s&&s--;;){for(var u=0;u<2;u++)if(!t.isReserved(o,s-u)){var l=!1;a<e.length&&(l=1==(e[a]>>>i&1)),t.set(o,s-u,l),-1==--i&&(a++,i=7)}if((o+=r)<0||n<=o){o-=r,r=-r;break}}}(S,_);var E=c.getBestMask(S,y.bind(null,S,n));return c.applyMask(E,S),y(S,n,E),{modules:S,version:e,errorCorrectionLevel:n,maskPattern:E,segments:i}}(t,n,p)}},rPjj:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),o=function(t){function e(e,n,r){var o=t.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=r,o.index=0,o}return r.__extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("FFOo").a)},rZEa:function(t,e,n){"use strict";var r=n("k2qa"),o=n("kpns"),i=n("SAp2"),a=n("H6ty"),s=n("U4hp"),u=n("rhCS"),l=n("aXXJ")("isConcatSpreadable"),c=!n("0HDe")(function(){var t=[];return t[l]=!1,t.concat()[0]!==t}),h=n("g7Su")("concat"),f=function(t){if(!o(t))return!1;var e=t[l];return void 0!==e?!!e:r(t)},d=!c||!h;n("pSMy")({target:"Array",proto:!0,forced:d},{concat:function(t){var e,n,r,o,l,c=i(this),h=u(c,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(f(l=-1===e?c:arguments[e])){if(d+(o=a(l.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,d++)n in l&&s(h,d,l[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(h,d++,l)}return h.length=d,h}})},rhCS:function(t,e,n){var r=n("kpns"),o=n("k2qa"),i=n("aXXJ")("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},rs5h:function(t,e,n){var r=n("ysHE").document;t.exports=r&&r.documentElement},spD4:function(t,e,n){var r=n("1VRj"),o=n("K8G7"),i=n("ysHE"),a=n("wBs/"),s=n("aXXJ"),u=s("iterator"),l=s("toStringTag"),c=o.values;for(var h in r){var f=i[h],d=f&&f.prototype;if(d){if(d[u]!==c)try{a(d,u,c)}catch(g){d[u]=c}if(d[l]||a(d,l,h),r[h])for(var p in o)if(d[p]!==o[p])try{a(d,p,o[p])}catch(g){d[p]=o[p]}}}},stQs:function(t,e,n){"use strict";var r=n("pSMy"),o=n("A9d8"),i=n("0idE"),a=n("XCog"),s=n("S4gH"),u=n("wBs/"),l=n("1f/i"),c=n("U5J1"),h=n("aXXJ")("iterator"),f=n("0i0S"),d=n("YxH6"),p=d.IteratorPrototype,g=d.BUGGY_SAFARI_ITERATORS,m=function(){return this};t.exports=function(t,e,n,d,v,y,b){o(n,e,d);var w,_,C,S=function(t){if(t===v&&x)return x;if(!g&&t in I)return I[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},E=e+" Iterator",O=!1,I=t.prototype,k=I[h]||I["@@iterator"]||v&&I[v],x=!g&&k||S(v),T="Array"==e&&I.entries||k;if(T&&(w=i(T.call(new t)),p!==Object.prototype&&w.next&&(c||i(w)===p||(a?a(w,p):"function"!=typeof w[h]&&u(w,h,m)),s(w,E,!0,!0),c&&(f[E]=m))),"values"==v&&k&&"values"!==k.name&&(O=!0,x=function(){return k.call(this)}),c&&!b||I[h]===x||u(I,h,x),f[e]=x,v)if(_={values:S("values"),keys:y?x:S("keys"),entries:S("entries")},b)for(C in _)!g&&!O&&C in I||l(I,C,_[C]);else r({target:e,proto:!0,forced:g||O},_);return _}},t5mC:function(t,e,n){var r=n("0HDe"),o=n("hdqJ"),i="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},tuBy:function(t,e,n){n("WBJg"),t.exports=n("vLVD")("String","repeat")},tzov:function(t,e,n){var r=n("bcPd"),o=n("JzIs"),i=n("o9j8"),a=n("rs5h"),s=n("JIMt"),u=n("qBi7")("IE_PROTO"),l=function(){},c=function(){var t,e=s("iframe"),n=i.length;for(e.style.display="none",a.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;n--;)delete c.prototype[i[n]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(l.prototype=r(t),n=new l,l.prototype=null,n[u]=t):n=c(),void 0===e?n:o(n,e)},n("vcTx")[u]=!0},"u/Db":function(t,e,n){var r=n("yKow"),o=n("BCVQ");e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!r.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return o.testNumeric(t)?e.NUMERIC:o.testAlphanumeric(t)?e.ALPHANUMERIC:o.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(r){return n}}},u67D:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("En8+"),o=function(t){return function(e){for(var n=t[r.a]();;){var o=n.next();if(o.done){e.complete();break}if(e.next(o.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},uLJa:function(t,e,n){n("q94Q")("toStringTag")},"uiB+":function(t,e,n){n("q94Q")("isConcatSpreadable")},uzCt:function(t,e,n){t.exports=function(){"use strict";function t(e){return t.result?t.result:e&&"function"==typeof e.getSerializer?t.result=e.getSerializer():Promise.reject(new Error("localforage.getSerializer() was not available! localforage v1.4+ is required!"))}function e(t,n){return(e.result=e.result||{})[n]?e.result[n]:t&&"function"==typeof t.getDriver?e.result[n]=t.getDriver(n):Promise.reject(new Error("localforage.getDriver() was not available! localforage v1.4+ is required!"))}function n(t){return e(t,t.WEBSQL)}var r=new Promise(function(t,e){"undefined"!=typeof sqlitePlugin?t():"undefined"==typeof cordova?e(new Error("cordova is not defined.")):document.addEventListener("deviceready",function(){return t()},!1)}).catch(function(){return Promise.resolve()});function o(){return r.then(function(){if("undefined"!=typeof sqlitePlugin&&"function"==typeof sqlitePlugin.openDatabase)return sqlitePlugin.openDatabase;throw new Error("SQLite plugin is not present.")})}var i={_driver:"cordovaSQLiteDriver",_initStorage:function(e){var r=this,i={db:null};if(e)for(var a in e)i[a]="string"!=typeof e[a]?e[a].toString():e[a];var s=o().then(function(t){return new Promise(function(e,n){try{i.location=i.location||"default",i.db=t({name:i.name,version:String(i.version),description:i.description,size:i.size,key:i.dbKey,location:i.location})}catch(o){n(o)}i.db.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS "+i.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){r._dbInfo=i,e()},function(t,e){n(e)})})})}),u=t(r),l=n(r);return Promise.all([u,l,s]).then(function(t){return i.serializer=t[0],s})},_support:function(){return o().then(function(t){return!!t}).catch(function(){return!1})}};return function(t){var e=["clear","getItem","iterate","key","keys","length","removeItem","setItem"];function r(t,e){t[e]=function(){var t=this,r=arguments;return n(t).then(function(n){return n[e].apply(t,r)})}}for(var o=0,i=e.length;o<i;o++)r(t,e[o])}(i),i}()},uzDk:function(t,e,n){n("4mOR"),t.exports=n("vLVD")("Array","findIndex")},vLVD:function(t,e,n){var r=n("ysHE"),o=n("JpPu"),i=Function.call;t.exports=function(t,e,n){return o(i,r[t].prototype[e],n)}},vQkR:function(t,e,n){var r=n("JpPu"),o=n("t5mC"),i=n("SAp2"),a=n("H6ty"),s=n("rhCS");t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,c=4==t,h=6==t,f=5==t||h,d=e||s;return function(e,s,p){for(var g,m,v=i(e),y=o(v),b=r(s,p,3),w=a(y.length),_=0,C=n?d(e,w):u?d(e,0):void 0;w>_;_++)if((f||_ in y)&&(m=b(g=y[_],_,v),t))if(n)C[_]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return _;case 2:C.push(g)}else if(c)return!1;return h?-1:l||c?c:C}}},"vb+c":function(t,e,n){n("S4gH")(Math,"Math",!0)},vcTx:function(t,e){t.exports={}},vvrf:function(t,e,n){var r=n("u/Db"),o=n("3X7Y"),i=n("nZSm"),a=n("AZa5"),s=n("Lzq4"),u=n("BCVQ"),l=n("e/Dd"),c=n("ELBg");function h(t){return unescape(encodeURIComponent(t)).length}function f(t,e,n){for(var r,o=[];null!==(r=t.exec(n));)o.push({data:r[0],index:r.index,mode:e,length:r[0].length});return o}function d(t){var e,n,o=f(u.NUMERIC,r.NUMERIC,t),i=f(u.ALPHANUMERIC,r.ALPHANUMERIC,t);return l.isKanjiModeEnabled()?(e=f(u.BYTE,r.BYTE,t),n=f(u.KANJI,r.KANJI,t)):(e=f(u.BYTE_KANJI,r.BYTE,t),n=[]),o.concat(i,e,n).sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function p(t,e){switch(e){case r.NUMERIC:return o.getBitsLength(t);case r.ALPHANUMERIC:return i.getBitsLength(t);case r.KANJI:return s.getBitsLength(t);case r.BYTE:return a.getBitsLength(t)}}function g(t,e){var n,u=r.getBestModeForData(t);if((n=r.from(e,u))!==r.BYTE&&n.bit<u.bit)throw new Error('"'+t+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(u));switch(n!==r.KANJI||l.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new o(t);case r.ALPHANUMERIC:return new i(t);case r.KANJI:return new s(t);case r.BYTE:return new a(t)}}e.fromArray=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(g(e,null)):e.data&&t.push(g(e.data,e.mode)),t},[])},e.fromString=function(t,n){for(var o=function(t,e){for(var n={},o={start:{}},i=["start"],a=0;a<t.length;a++){for(var s=t[a],u=[],l=0;l<s.length;l++){var c=s[l],h=""+a+l;u.push(h),n[h]={node:c,lastCount:0},o[h]={};for(var f=0;f<i.length;f++){var d=i[f];n[d]&&n[d].node.mode===c.mode?(o[d][h]=p(n[d].lastCount+c.length,c.mode)-p(n[d].lastCount,c.mode),n[d].lastCount+=c.length):(n[d]&&(n[d].lastCount=c.length),o[d][h]=p(c.length,c.mode)+4+r.getCharCountIndicator(c.mode,e))}}i=u}for(f=0;f<i.length;f++)o[i[f]].end=0;return{map:o,table:n}}(function(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];switch(o.mode){case r.NUMERIC:e.push([o,{data:o.data,mode:r.ALPHANUMERIC,length:o.length},{data:o.data,mode:r.BYTE,length:o.length}]);break;case r.ALPHANUMERIC:e.push([o,{data:o.data,mode:r.BYTE,length:o.length}]);break;case r.KANJI:e.push([o,{data:o.data,mode:r.BYTE,length:h(o.data)}]);break;case r.BYTE:e.push([{data:o.data,mode:r.BYTE,length:h(o.data)}])}}return e}(d(t,l.isKanjiModeEnabled())),n),i=c.find_path(o.map,"start","end"),a=[],s=1;s<i.length-1;s++)a.push(o.table[i[s]].node);return e.fromArray(a.reduce(function(t,e){var n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)},[]))},e.rawSplit=function(t){return e.fromArray(d(t,l.isKanjiModeEnabled()))}},"wBs/":function(t,e,n){var r=n("TIpl"),o=n("2Hee");t.exports=n("lb/b")?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n("zVF4"),i=((r={})["no-app"]="No Firebase App '{$name}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$name}",r["duplicate-app"]="Firebase App named '{$name}' already exists",r["app-deleted"]="Firebase App named '{$name}' already deleted",r["duplicate-service"]="Firebase service named '{$name}' already registered",r["invalid-app-argument"]="firebase.{$name}() takes either no argument or a Firebase App instance.",r),a=new o.ErrorFactory("app","Firebase",i);function s(t,e){throw a.create(t,e)}var u="[DEFAULT]",l=[],c=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){l.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){l=l.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=u),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==u?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;o.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(l.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),l=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&s("app-deleted",{name:this.name_})},t}();c.prototype.name&&c.prototype.options||c.prototype.delete||console.log("dc");var h=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},f=!1;try{f="[object process]"===Object.prototype.toString.call(global.process)}catch(p){}f&&console.warn('\nWarning: This is a browser-targeted Firebase bundle but it appears it is being\nrun in a Node environment.  If running in a Node environment, make sure you\nare using the bundle specified by the "main" field in package.json.\n\nIf you are using Webpack, you can specify "main" as the first item in\n"resolve.mainFields":\nhttps://webpack.js.org/configuration/resolve/#resolvemainfields\n\nIf using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\nto false and "main" to true:\nhttps://github.com/rollup/rollup-plugin-node-resolve\n');var d=function t(){var e={},n={},r={},i={__esModule:!0,initializeApp:function(t,n){void 0===n&&(n={}),("object"!=typeof n||null===n)&&(n={name:n});var r=n;void 0===r.name&&(r.name=u);var o=r.name;"string"==typeof o&&o||s("bad-app-name",{name:o+""}),h(e,o)&&s("duplicate-app",{name:o});var a=new c(t,r,i);return e[o]=a,f(a,"create"),a},app:a,apps:null,Promise:Promise,SDK_VERSION:"5.10.0",INTERNAL:{registerService:function(t,e,u,h,f){n[t]&&s("duplicate-service",{name:t}),n[t]=e,h&&(r[t]=h,l().forEach(function(t){h("create",t)}));var d=function(e){return void 0===e&&(e=a()),"function"!=typeof e[t]&&s("invalid-app-argument",{name:t}),e[t]()};return void 0!==u&&o.deepExtend(d,u),i[t]=d,c.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,f?e:[])},d},createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(i,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,removeApp:function(t){f(e[t],"delete"),delete e[t]},factories:n,useAsService:d,Promise:Promise,deepExtend:o.deepExtend}};function a(t){return h(e,t=t||u)||s("no-app",{name:t}),e[t]}function l(){return Object.keys(e).map(function(t){return e[t]})}function f(t,e){Object.keys(n).forEach(function(n){var o=d(0,n);null!==o&&r[o]&&r[o](e,t)})}function d(t,e){return"serverAuth"===e?null:e}return o.patchProperty(i,"default",i),Object.defineProperty(i,"apps",{get:l}),o.patchProperty(a,"App",c),i}();e.default=d,e.firebase=d},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",function(){return Ke}),n.d(e,"EventType",function(){return Qe}),n.d(e,"WebChannel",function(){return Je}),n.d(e,"XhrIo",function(){return Xe}),n.d(e,"createWebChannelTransport",function(){return We});var r,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i=i||{},a=o;function s(t){return"string"==typeof t}function u(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function l(){}function c(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){return"array"==c(t)}function f(t){var e=c(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var p="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function y(t,e,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:v).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.re=function(t,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return e.prototype[n].apply(t,o)}}function C(){this.i=this.i,this.j=this.j}C.prototype.i=!1,C.prototype.La=function(){!this.i&&(this.i=!0,this.G(),0)&&(this[p]||(this[p]=++g))},C.prototype.G=function(){if(this.j)for(;this.j.length;)this.j.shift()()};var S=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},E=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=s(t)?t.split(""):t,i=0;i<r;i++)i in o&&e.call(n,o[i],i,t)};function O(t){return Array.prototype.concat.apply([],arguments)}function I(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function k(t){return/^[\s\xa0]*$/.test(t)}var x,T=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function D(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var A=a.navigator;if(A){var N=A.userAgent;if(N){x=N;break t}}x=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function R(t){var e,n={};for(e in t)n[e]=t[e];return n}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(t,e){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])t[n]=r[n];for(var i=0;i<j.length;i++)n=j[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function U(t){return U[" "](t),t}U[" "]=l;var q,F,V=D(x,"Opera"),B=D(x,"Trident")||D(x,"MSIE"),z=D(x,"Edge"),H=z||B,G=D(x,"Gecko")&&!(D(x.toLowerCase(),"webkit")&&!D(x,"Edge"))&&!(D(x,"Trident")||D(x,"MSIE"))&&!D(x,"Edge"),W=D(x.toLowerCase(),"webkit")&&!D(x,"Edge");function K(){var t=a.document;return t?t.documentMode:void 0}t:{var Q="",J=(F=x,G?/rv:([^\);]+)(\)|;)/.exec(F):z?/Edge\/([\d\.]+)/.exec(F):B?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(F):W?/WebKit\/(\S+)/.exec(F):V?/(?:Version)[ \/]?(\S+)/.exec(F):void 0);if(J&&(Q=J?J[1]:""),B){var X=K();if(null!=X&&X>parseFloat(Q)){q=String(X);break t}}q=Q}var Y,Z={};function $(t){return function(t,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=T(String(q)).split("."),r=T(String(t)).split("."),o=Math.max(n.length,r.length),i=0;0==e&&i<o;i++){var a=n[i]||"",s=r[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=P(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||P(0==a[2].length,0==s[2].length)||P(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var tt=a.document;Y=tt&&B?K()||("CSS1Compat"==tt.compatMode?parseInt(q,10):5):void 0;var et=!B||9<=Number(Y),nt=B&&!$("9"),rt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",l,e),a.removeEventListener("test",l,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.b=!1,this.hc=!0}function it(t,e){ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.f=null,t&&this.g(t,e)}ot.prototype.c=function(){this.hc=!1},_(it,ot);var at={2:"touch",3:"pen",4:"mouse"};it.prototype.g=function(t,e){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(G){t:{try{U(e.nodeName);var o=!0;break t}catch(i){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.f=t,t.defaultPrevented&&this.c()},it.prototype.c=function(){it.S.c.call(this);var t=this.f;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,nt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var st="closure_listenable_"+(1e6*Math.random()|0),ut=0;function lt(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ya=o,this.key=++ut,this.ja=this.oa=!1}function ct(t){this.src=t,this.a={},this.b=0}function ht(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(!i.ja&&i.listener==e&&i.capture==!!n&&i.ya==r)return o}return-1}lt.prototype.a=function(){this.ja=!0,this.ya=this.src=this.proxy=this.listener=null},(r=ct.prototype).add=function(t,e,n,r,o){var i=t.toString();(t=this.a[i])||(t=this.a[i]=[],this.b++);var a=ht(t,e,r,o);return-1<a?(e=t[a],n||(e.oa=!1)):((e=new lt(e,this.src,i,!!r,o)).oa=n,t.push(e)),e},r.Sc=function(t,e,n,r){if((t=t.toString())in this.a){var o=this.a[t];-1<(e=ht(o,e,n,r))&&(o[e].a(),Array.prototype.splice.call(o,e,1),0==o.length&&(delete this.a[t],this.b--))}},r.fc=function(t){var e=t.type;if(e in this.a){var n,r=this.a[e],o=S(r,t);(n=0<=o)&&Array.prototype.splice.call(r,o,1),n&&(t.a(),0==this.a[e].length&&(delete this.a[e],this.b--))}},r.Tc=function(){var t;for(t in this.a){for(var e=this.a[t],n=0;n<e.length;n++)e[n].a();delete this.a[t],this.b--}},r.Rc=function(t,e,n,r){var o=-1;return(t=this.a[t.toString()])&&(o=ht(t,e,n,r)),-1<o?t[o]:null};var ft="closure_lm_"+(1e6*Math.random()|0),dt={};function pt(t,e,n,r,o){if(r&&r.once)return function t(e,n,r,o,i){if(h(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,o,i);return null}return r=_t(r),e&&e[st]?e.Mb(n,r,d(o)?!!o.capture:!!o,i):gt(e,n,r,!0,o,i)}(t,e,n,r,o);if(h(e)){for(var i=0;i<e.length;i++)pt(t,e[i],n,r,o);return null}return n=_t(n),t&&t[st]?t.Lb(e,n,d(r)?!!r.capture:!!r,o):gt(t,e,n,!1,r,o)}function gt(t,e,n,r,o,i){if(!e)throw Error("Invalid event type");var a=d(o)?!!o.capture:!!o;if(a&&!et)return null;var s=bt(t);if(s||(t[ft]=s=new ct(t)),(n=s.add(e,n,r,a,i)).proxy)return n;if(r=function(){var t=yt,e=et?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)rt||(o=a),void 0===o&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(vt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function mt(t){if("number"!=typeof t&&t&&!t.ja){var e=t.src;if(e&&e[st])e.nc(t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bt(e))?(n.fc(t),0==n.b&&(n.src=null,e[ft]=null)):t.a()}}}function vt(t){return t in dt?dt[t]:dt[t]="on"+t}function yt(t,e){return!!t.ja||function(t,e){var n=t.listener,r=t.ya||t.src;return t.oa&&mt(t),n.call(r,e)}(t,et?new it(e,this):e=new it(e||u("window.event"),this))}function bt(t){return(t=t[ft])instanceof ct?t:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function _t(t){return"function"==c(t)?t:(t[wt]||(t[wt]=function(e){return t.handleEvent(e)}),t[wt])}function Ct(){C.call(this),this.c=new ct(this),this.K=this,this.F=null}_(Ct,C),Ct.prototype[st]=!0,(r=Ct.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,o,i){if(h(n))for(var a=0;a<n.length;a++)t(e,n[a],r,o,i);else o=d(o)?!!o.capture:!!o,r=_t(r),e&&e[st]?e.Qc(n,r,o,i):e&&(e=bt(e))&&(n=e.Rc(n,r,o,i))&&mt(n)}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.F;if(n)for(e=[];n;n=n.F)e.push(n);n=this.K;var r=t.type||t;if(s(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var o=t;L(t=new ot(r,n),o)}if(o=!0,e)for(var i=e.length-1;!t.b&&0<=i;i--){var a=t.a=e[i];o=a.ua(r,!0,t)&&o}if(t.b||(o=(a=t.a=n).ua(r,!0,t)&&o,t.b||(o=a.ua(r,!1,t)&&o)),e)for(i=0;!t.b&&i<e.length;i++)o=(a=t.a=e[i]).ua(r,!1,t)&&o;return o},r.G=function(){Ct.S.G.call(this),this.Id(),this.F=null},r.Lb=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Mb=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)},r.Qc=function(t,e,n,r){this.c.Sc(String(t),e,n,r)},r.nc=function(t){this.c.fc(t)},r.Id=function(){this.c&&this.c.Tc()},r.ua=function(t,e,n){if(!(t=this.c.a[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var i=t[o];if(i&&!i.ja&&i.capture==e){var a=i.listener,s=i.ya||i.src;i.oa&&this.nc(i),r=!1!==a.call(s,n)&&r}}return r&&0!=n.hc};var St=a.JSON.stringify;function Et(t,e){this.g=100,this.c=t,this.h=e,this.b=0,this.a=null}function Ot(){this.b=this.a=null}Et.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t},Et.prototype.f=function(t){this.h(t),this.b<this.g&&(this.b++,t.next=this.a,this.a=t)};var It,kt=new Et(function(){return new xt},function(t){t.reset()});function xt(){this.next=this.b=this.a=null}function Tt(t){a.setTimeout(function(){throw t},0)}Ot.prototype.add=function(t,e){var n=this.c();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ot.prototype.f=function(){var t=null;return this.a&&(t=this.a,this.a=this.a.next,this.a||(this.b=null),t.next=null),t},Ot.prototype.g=function(t){kt.f(t)},Ot.prototype.c=function(){return kt.get()},xt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},xt.prototype.reset=function(){this.next=this.b=this.a=null};var Dt=!1,Pt=new Ot;function At(){for(var t;t=Pt.f();){try{t.a.call(t.b)}catch(e){Tt(e)}Pt.g(t)}Dt=!1}function Nt(t,e){Ct.call(this),this.b=t||1,this.a=e||a,this.f=y(this.$d,this),this.g=w()}function Mt(t,e,n){if("function"==c(t))n&&(t=y(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=y(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Rt(t,e,n){C.call(this),this.f=null!=n?y(t,n):t,this.c=e,this.b=y(this.Cd,this),this.a=[]}function jt(t){C.call(this),this.b=t,this.a={}}_(Nt,Ct),(r=Nt.prototype).wa=!1,r.P=null,r.$d=function(){if(this.wa){var t=w()-this.g;0<t&&t<.8*this.b?this.P=this.a.setTimeout(this.f,this.b-t):(this.P&&(this.a.clearTimeout(this.P),this.P=null),this.Gc(),this.wa&&(this.Na(),this.start()))}},r.Gc=function(){this.dispatchEvent("tick")},r.start=function(){this.wa=!0,this.P||(this.P=this.a.setTimeout(this.f,this.b),this.g=w())},r.Na=function(){this.wa=!1,this.P&&(this.a.clearTimeout(this.P),this.P=null)},r.G=function(){Nt.S.G.call(this),this.Na(),delete this.a},_(Rt,C),(r=Rt.prototype).Ca=!1,r.ec=0,r.ba=null,r.Hc=function(t){this.a=arguments,this.ba||this.ec?this.Ca=!0:this.yb()},r.Pc=function(){this.ba&&(a.clearTimeout(this.ba),this.ba=null,this.Ca=!1,this.a=[])},r.G=function(){Rt.S.G.call(this),this.Pc()},r.Cd=function(){this.ba=null,this.Ca&&!this.ec&&(this.Ca=!1,this.yb())},r.yb=function(){this.ba=Mt(this.b,this.c),this.f.apply(null,this.a)},_(jt,C);var Lt=[];function Ut(){}(r=jt.prototype).Jb=function(t,e,n){this.wd(t,e,n)},r.wd=function(t,e,n){h(e)||(e&&(Lt[0]=e.toString()),e=Lt);for(var r=0;r<e.length;r++){var o=pt(t,e[r],n||this.handleEvent,!1,this.b||this);if(!o)break;this.a[o.key]=o}},r.Kb=function(){M(this.a,function(t,e){this.a.hasOwnProperty(e)&&mt(t)},this),this.a={}},r.G=function(){jt.S.G.call(this),this.Kb()},r.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qt=new Ct;function Ft(t){ot.call(this,"serverreachability",t)}function Vt(t){qt.dispatchEvent(new Ft(qt,t))}function Bt(t){ot.call(this,"statevent",t)}function zt(t){qt.dispatchEvent(new Bt(qt,t))}function Ht(t){ot.call(this,"timingevent",t)}function Gt(t,e){if("function"!=c(t))throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){t()},e)}_(Ft,ot),_(Bt,ot),_(Ht,ot);var Wt={NO_ERROR:0,ae:1,he:2,ge:3,de:4,fe:5,ie:6,qc:7,TIMEOUT:8,le:9},Kt={ce:"complete",pe:"success",rc:"error",qc:"abort",ne:"ready",oe:"readystatechange",TIMEOUT:"timeout",je:"incrementaldata",me:"progress",ee:"downloadprogress",qe:"uploadprogress"};function Qt(){}function Jt(){}Qt.prototype.a=null,Qt.prototype.c=function(){return this.a||(this.a={})};var Xt,Yt={OPEN:"a",be:"b",rc:"c",ke:"d"};function Zt(){ot.call(this,"d")}function $t(){ot.call(this,"c")}function te(){}function ee(t,e,n){this.g=t,this.da=e,this.ca=n||1,this.I=new jt(this),this.L=ne,this.T=new Nt(t=H?125:void 0),this.J=null,this.b=!1,this.i=this.C=this.f=this.F=this.u=this.U=this.h=null,this.j=[],this.a=null,this.A=0,this.c=this.v=null,this.o=-1,this.l=!1,this.K=0,this.B=null,this.s=this.Y=this.H=!1}_(Zt,ot),_($t,ot),_(te,Qt),te.prototype.b=function(){return new XMLHttpRequest},Xt=new te;var ne=45e3,re={},oe={};function ie(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||s(t))E(t,e,void 0);else{if(t.O&&"function"==typeof t.O)var n=t.O();else if(t.D&&"function"==typeof t.D)n=void 0;else if(f(t)||s(t)){n=[];for(var r=t.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,t)n[r++]=o;o=(r=function(t){if(t.D&&"function"==typeof t.D)return t.D();if(s(t))return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var i=0;i<o;i++)e.call(void 0,r[i],n&&n[i],t)}}function ae(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else t&&this.fd(t)}function se(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=ee.prototype).ha=function(t){this.J=t},r.setTimeout=function(t){this.L=t},r.Xc=function(t){this.K=t},r.Qd=function(t){this.j=t},r.cb=function(t,e){this.F=1,this.f=t.N().za(),this.i=e,this.H=!0,this.ic(null)},r.bb=function(t,e,n){this.F=1,this.f=t.N().za(),this.i=null,this.H=e,this.ic(n)},r.ic=function(t){this.u=w(),this.fa(),this.C=this.f.N(),this.C.Aa("t",this.ca),this.A=0,this.a=this.g.sa(this.g.Da()?t:null),0<this.K&&(this.B=new Rt(y(this.oc,this,this.a),this.K)),this.I.Jb(this.a,"readystatechange",this.Hd),t=this.J?R(this.J):{},this.i?(this.v||(this.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",this.a.xa(this.C,this.v,this.i,t)):(this.v="GET",this.a.xa(this.C,this.v,null,t)),Vt(1)},r.Hd=function(t){t=t.target;var e=this.B;e&&3==t.W()?e.Hc():this.oc(t)},r.oc=function(t){try{t==this.a&&this.Ed()}catch(e){}},r.Ed=function(){var t=this.a.W(),e=this.a.Db(),n=this.a.aa();if(!(3>t||3==t&&!H&&!this.a.va()))if(this.l||4!=t||7==e||Vt(8==e||0>=n?3:2),this.pa(),this.o=n=this.a.aa(),e=this.a.va(),this.b=200==n){if(this.Td()){if(!(n=this.Kc()))return this.b=!1,this.c=3,zt(12),this.Z(),void this.ta();this.s=!0,this.Wa(n)}this.H?(this.vb(t,e),H&&this.b&&3==t&&this.Yd()):this.Wa(e),4==t&&this.Z(),this.b&&!this.l&&(4==t?this.g.Va(this):(this.b=!1,this.fa()))}else 400==n&&0<e.indexOf("Unknown SID")?(this.c=3,zt(12)):(this.c=0,zt(13)),this.Z(),this.ta()},r.Td=function(){return this.Y&&!this.s},r.Kc=function(){if(this.a){var t=this.a.ga("X-HTTP-Initial-Response");if(t&&!k(t))return t}return null},r.Md=function(){this.Y=!0},r.vb=function(t,e){for(var n=!0;!this.l&&this.A<e.length;){var r=this.Lc(e);if(r==oe){4==t&&(this.c=4,zt(14),n=!1);break}if(r==re){this.c=4,zt(15),n=!1;break}this.Wa(r)}4==t&&0==e.length&&(this.c=1,zt(16),n=!1),this.b=this.b&&n,n||(this.Z(),this.ta())},r.Gd=function(){if(this.a){var t=this.a.W(),e=this.a.va();this.A<e.length&&(this.pa(),this.vb(t,e),this.b&&4!=t&&this.fa())}},r.Yd=function(){this.I.Jb(this.T,"tick",this.Gd),this.T.start()},r.Lc=function(t){var e=this.A,n=t.indexOf("\n",e);return-1==n?oe:(e=Number(t.substring(e,n)),isNaN(e)?re:(n+=1)+e>t.length?oe:(t=t.substr(n,e),this.A=n+e,t))},r.Ld=function(t){this.F=2,this.f=t.N().za(),t=!1,a.navigator&&a.navigator.sendBeacon&&(t=a.navigator.sendBeacon(this.f.toString(),"")),!t&&a.Image&&((new Image).src=this.f,t=!0),t||(this.a=this.g.sa(null),this.a.xa(this.f)),this.u=w(),this.fa()},r.cancel=function(){this.l=!0,this.Z()},r.Kd=function(t){t&&this.setTimeout(t),this.h&&(this.pa(),this.fa())},r.fa=function(){this.U=w()+this.L,this.mc(this.L)},r.mc=function(t){if(null!=this.h)throw Error("WatchDog timer not null");this.h=Gt(y(this.Dd,this),t)},r.pa=function(){this.h&&(a.clearTimeout(this.h),this.h=null)},r.Dd=function(){this.h=null;var t=w();0<=t-this.U?this.md():this.mc(this.U-t)},r.md=function(){2!=this.F&&(Vt(3),zt(17)),this.Z(),this.c=2,this.ta()},r.ta=function(){this.g.Tb()||this.l||this.g.Va(this)},r.Z=function(){this.pa();var t=this.B;t&&"function"==typeof t.La&&t.La(),this.B=null,this.T.Na(),this.I.Kb(),this.a&&(t=this.a,this.a=null,t.abort(),t.La())},r.Wa=function(t){try{this.g.bc(this,t),Vt(4)}catch(e){}},(r=ae.prototype).D=function(){this.Ka();for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.O=function(){return this.Ka(),this.a.concat()},r.Ra=function(t){return se(this.b,t)},r.hd=function(){return 0==this.c},r.gd=function(){this.b={},this.c=this.a.length=0},r.Qb=function(t){se(this.b,t)&&(delete this.b[t],this.c--,this.a.length>2*this.c&&this.Ka())},r.Ka=function(){if(this.c!=this.a.length){for(var t=0,e=0;t<this.a.length;){var n=this.a[t];se(this.b,n)&&(this.a[e++]=n),t++}this.a.length=e}if(this.c!=this.a.length){var r={};for(e=t=0;t<this.a.length;)se(r,n=this.a[t])||(this.a[e++]=n,r[n]=1),t++;this.a.length=e}},r.get=function(t,e){return se(this.b,t)?this.b[t]:e},r.set=function(t,e){se(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.fd=function(t){if(t instanceof ae)for(var e=t.O(),n=0;n<e.length;n++)this.set(e[n],t.get(e[n]));else for(e in t)this.set(e,t[e])},r.forEach=function(t,e){for(var n=this.O(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);t.call(e,i,o,this)}},r.Pb=function(){return new ae(this)};var ue=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function le(t,e){var n;this.c=this.i=this.b="",this.h=null,this.j=this.g="",this.f=this.l=!1,t instanceof le?(this.f=void 0!==e?e:t.f,this.ma(t.b),this.$a(t.i),this.ka(t.c),this.la(t.h),this.Ba(t.g),this.Za(t.a.Gb()),this.Ya(t.j)):t&&(n=String(t).match(ue))?(this.f=!!e,this.ma(n[1]||"",!0),this.$a(n[2]||"",!0),this.ka(n[3]||"",!0),this.la(n[4]),this.Ba(n[5]||"",!0),this.Za(n[6]||"",!0),this.Ya(n[7]||"",!0)):(this.f=!!e,this.a=new ye(null,this.f))}function ce(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function he(t,e,n){return s(t)?(t=encodeURI(t).replace(e,fe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(r=le.prototype).toString=function(){var t=[],e=this.b;e&&t.push(he(e,de,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(he(e,de,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.Sa()&&"/"!=n.charAt(0)&&t.push("/"),t.push(he(n,"/"==n.charAt(0)?ge:pe,!0))),(n=this.Ic())&&t.push("?",n),(n=this.j)&&t.push("#",he(n,ve)),t.join("")},r.resolve=function(t){var e=this.N(),n=t.qd();n?e.ma(t.b):n=t.rd(),n?e.$a(t.i):n=t.Sa(),n?e.ka(t.c):n=t.od();var r=t.g;if(n)e.la(t.h);else if(n=t.Sb()){if("/"!=r.charAt(0))if(this.Sa()&&!this.Sb())r="/"+r;else{var o=e.g.lastIndexOf("/");-1!=o&&(r=e.g.substr(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(D(o,"./")||D(o,"/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var i=[],a=0;a<o.length;){var s=o[a++];"."==s?r&&a==o.length&&i.push(""):".."==s?((1<i.length||1==i.length&&""!=i[0])&&i.pop(),r&&a==o.length&&i.push("")):(i.push(s),r=!0)}r=i.join("/")}else r=o}return n?e.Ba(r):n=t.pd(),n?e.Za(t.a.Gb()):n=t.nd(),n&&e.Ya(t.j),e},r.N=function(){return new le(this)},r.ma=function(t,e){this.M(),(this.b=e?ce(t,!0):t)&&(this.b=this.b.replace(/:$/,""))},r.qd=function(){return!!this.b},r.$a=function(t,e){this.M(),this.i=e?ce(t):t},r.rd=function(){return!!this.i},r.ka=function(t,e){this.M(),this.c=e?ce(t,!0):t},r.Sa=function(){return!!this.c},r.la=function(t){if(this.M(),t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);this.h=t}else this.h=null},r.od=function(){return null!=this.h},r.Ba=function(t,e){this.M(),this.g=e?ce(t,!0):t},r.Sb=function(){return!!this.g},r.pd=function(){return""!==this.a.toString()},r.Za=function(t,e){this.M(),t instanceof ye?(this.a=t,this.a.Oc(this.f)):(e||(t=he(t,me)),this.a=new ye(t,this.f))},r.Ic=function(){return this.a.toString()},r.m=function(t,e){this.M(),this.a.set(t,e)},r.Aa=function(t,e){this.M(),h(e)||(e=[String(e)]),this.a.lc(t,e)},r.Ya=function(t,e){this.M(),this.j=e?ce(t):t},r.nd=function(){return!!this.j},r.za=function(){return this.M(),this.m("zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),this},r.M=function(){if(this.l)throw Error("Tried to modify a read-only Uri")};var de=/[#\/\?@]/g,pe=/[#\?:]/g,ge=/[#\?]/g,me=/[#\?@]/g,ve=/#/g;function ye(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function be(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function we(){this.a=this.b=null}function _e(){this.a=new ae}function Ce(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[p]||(t[p]=++g)):e.charAt(0)+t}function Se(t,e){this.a=t,this.b=e}function Ee(t){this.g=t||Oe,t=a.PerformanceNavigationTiming?0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(a.Ja&&a.Ja.Vb&&a.Ja.Vb()&&a.Ja.Vb().se),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new _e),this.b=null,this.c=[]}(r=ye.prototype).V=function(){if(!this.a&&(this.a=new ae,this.b=0,this.c)){var t=this;!function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var i=t[n].substring(0,r);o=t[n].substring(r+1)}else i=t[n];e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(this.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})}},r.add=function(t,e){this.V(),this.ia(),t=this.$(t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.Ib=function(t){this.V(),t=this.$(t),this.a.Ra(t)&&(this.ia(),this.b-=this.a.get(t).length,this.a.Qb(t))},r.Hb=function(t){return this.V(),t=this.$(t),this.a.Ra(t)},r.forEach=function(t,e){this.V(),this.a.forEach(function(n,r){E(n,function(n){t.call(e,n,r,this)},this)},this)},r.O=function(){this.V();for(var t=this.a.D(),e=this.a.O(),n=[],r=0;r<e.length;r++)for(var o=t[r],i=0;i<o.length;i++)n.push(e[r]);return n},r.D=function(t){this.V();var e=[];if(s(t))this.Hb(t)&&(e=O(e,this.a.get(this.$(t))));else{t=this.a.D();for(var n=0;n<t.length;n++)e=O(e,t[n])}return e},r.set=function(t,e){return this.V(),this.ia(),t=this.$(t),this.Hb(t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.D(t)).length?String(t[0]):e},r.lc=function(t,e){this.Ib(t),0<e.length&&(this.ia(),this.a.set(this.$(t),I(e)),this.b+=e.length)},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.O(),n=0;n<e.length;n++){var r=e[n],o=encodeURIComponent(String(r));r=this.D(r);for(var i=0;i<r.length;i++){var a=o;""!==r[i]&&(a+="="+encodeURIComponent(String(r[i]))),t.push(a)}}return this.c=t.join("&")},r.ia=function(){this.c=null},r.Gb=function(){var t=new ye;return t.c=this.c,this.a&&(t.a=this.a.Pb(),t.b=this.b),t},r.$=function(t){return t=String(t),this.f&&(t=t.toLowerCase()),t},r.Oc=function(t){t&&!this.f&&(this.V(),this.ia(),this.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(this.Ib(e),this.lc(n,t))},this)),this.f=t},_(function(){},function(){}),(r=be.prototype).R=null,r.Wc=function(t){this.h=t},r.Vc=function(t){this.i=t,t=this.a.Cb(this.i),zt(3);var e=this.a.H.b;null!=e?(this.f=this.a.Oa(e[0]),this.R=1,this.rb()):(t.Aa("MODE","init"),!this.a.o&&this.a.j&&t.Aa("X-HTTP-Session-Id",this.a.j),this.b=new ee(this,void 0,void 0),this.b.ha(this.h),this.b.bb(t,!1,null),this.R=0)},r.rb=function(){var t=this.a.H.a;if(null!=t)zt(4),t?(zt(10),this.a.na(this,!1)):(zt(11),this.a.na(this,!0));else{this.b=new ee(this,void 0,void 0),this.b.ha(this.h),t=this.a.Bb(this.f,this.i),zt(4),t.Aa("TYPE","xmlhttp");var e=this.a.j,n=this.a.Fa;e&&n&&t.m(e,n),this.b.bb(t,!1,this.f)}},r.sa=function(t){return this.a.sa(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Tb=function(){return!1},r.bc=function(t,e){if(this.c=t.o,0==this.R)if(this.Uc(t),e){try{var n=this.a.U.a(e)}catch(r){return void this.a.ab(this)}this.f=this.a.Oa(n[0])}else this.a.ab(this);else 1==this.R&&(this.g?zt(6):"11111"==e?(zt(5),this.g=!0,this.Ac()&&(this.c=200,this.b.cancel(),zt(11),this.a.na(this,!0))):(zt(7),this.g=!1))},r.Va=function(){this.c=this.b.o,this.b.b?0==this.R?(this.R=1,this.rb()):1==this.R&&(this.g?(zt(11),this.a.na(this,!0)):(zt(10),this.a.na(this,!1))):(0==this.R?zt(8):1==this.R&&zt(9),this.a.ab(this))},r.Uc=function(t){if(!this.a.o&&(t=t.a)){var e=t.ga("X-Client-Wire-Protocol");this.l=e||null,this.a.j&&(t=t.ga("X-HTTP-Session-Id"))&&this.a.kc(t)}},r.Da=function(){return this.a.Da()},r.Pa=function(){return this.a.Pa()},r.Ac=function(){return!B||10<=Number(Y)},(r=_e.prototype).add=function(t){this.a.set(Ce(t),t)},r.ed=function(t){this.a.Qb(Ce(t))},r.jd=function(){this.a.gd()},r.Rb=function(){return this.a.hd()},r.Ob=function(t){return this.a.Ra(Ce(t))},r.D=function(){return this.a.D()};var Oe=10;function Ie(){this.b=this.a=void 0}function ke(){this.f=new Ie}function xe(t,e,n,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(i){}}(r=Ee.prototype).kb=function(t){!this.a&&(D(t,"spdy")||D(t,"quic")||D(t,"h2"))&&(this.f=this.g,this.a=new _e,this.b&&(this.Ha(this.b),this.b=null))},r.Ub=function(){return!!this.b||!!this.a&&this.a.a.c>=this.f},r.Mc=function(){return this.b?1:this.a?this.a.a.c:0},r.Ta=function(t){return this.b?this.b==t:!!this.a&&this.a.Ob(t)},r.Ha=function(t){this.a?this.a.add(t):this.b=t},r.gc=function(t){this.b&&this.b==t?this.b=null:this.a&&this.a.Ob(t)&&this.a.ed(t)},r.cancel=function(){this.c=this.Xb(),this.b?(this.b.cancel(),this.b=null):this.a&&!this.a.Rb()&&(E(this.a.D(),function(t){t.cancel()}),this.a.jd())},r.Xb=function(){if(null!=this.b)return this.c.concat(this.b.j);if(null!=this.a&&!this.a.Rb()){var t=this.c;return E(this.a.D(),function(e){t=t.concat(e.j)}),t}return I(this.c)},r.wc=function(t){this.c=this.c.concat(t)},r.Bc=function(){this.c.length=0},Ie.prototype.stringify=function(t){return a.JSON.stringify(t,this.a)},Ie.prototype.parse=function(t){return a.JSON.parse(t,this.b)},ke.prototype.b=function(t,e,n){var r=n||"";try{ie(t,function(t,n){var o=t;d(t)&&(o=St(t)),e.push(r+n+"="+encodeURIComponent(o))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}},ke.prototype.c=function(t,e,n){for(var r=-1;;){var o=["count="+e];-1==r?0<e?o.push("ofs="+(r=t[0].a)):r=0:o.push("ofs="+r);for(var i=!0,a=0;a<e;a++){var s=t[a].a,u=t[a].b;if(0>(s-=r))r=Math.max(0,t[a].a-100),i=!1;else try{this.b(u,o,"req"+s+"_")}catch(l){n&&n(u)}}if(i)return o.join("&")}},ke.prototype.a=function(t){return this.f.parse(t)};var Te=a.JSON.parse;function De(t){Ct.call(this),this.headers=new ae,this.l=t||null,this.b=!1,this.v=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.o=this.A=!1,this.u=0,this.s=null,this.J=Pe,this.H=this.L=this.I=!1}_(De,Ct);var Pe="",Ae=/^https?$/i,Ne=["POST","PUT"];function Me(t){return"content-type"==t.toLowerCase()}function Re(t,e){return{type:e,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}}function je(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return M(n,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(),s(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var o=""}else o=t.substring(r+1,n);n=(t=[t.substr(0,r),o,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return t.m(e,n),t}function Le(t){this.gb=22,this.g=[],this.H=new we,this.da=this.fb=this.C=this.Ea=this.a=this.Fa=this.j=this.ca=this.f=this.J=this.h=null,this.sc=!0,this.zc=this.L=0,this.uc=!!u("internalChannelParams.failFast",t),this.Ga=this.v=this.s=this.l=this.i=this.b=null,this.eb=!0,this.B=this.jb=this.K=-1,this.Y=this.u=this.A=0,this.tc=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Fc=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.pc=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.ib=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.xc=t&&t.te||void 0,this.F=void 0,this.vc=0,this.T=t&&t.supportsCrossDomainXhr||!1,this.I="",this.c=new Ee(t&&t.concurrentRequestLimit),this.U=new ke,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.hb=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.eb=!1)}function Ue(){}function qe(){if(B&&!(10<=Number(Y)))throw Error("Environmental error: no available transport.")}function Fe(t,e){Ct.call(this),this.a=new Le(e),this.g=t,this.o=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,o=arguments[n];0==o.lastIndexOf("/",0)?e=o:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?o:"/"+o)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.cd(t),t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.tb&&(t?t["X-WebChannel-Client-Profile"]=e.tb:t={"X-WebChannel-Client-Profile":e.tb}),this.a.Pd(t),(t=e&&e.httpHeadersOverwriteParam)&&!k(t)&&this.a.Nd(t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!k(e)&&(this.a.Od(e),null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ze(this)}function Ve(t){Zt.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.f=t)?(t=this.f,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Be(){$t.call(this),this.status=1}function ze(t){this.a=t}(r=De.prototype).Sd=function(t){this.I=t},r.xa=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.Ec(),this.v=this.l?this.l.c():Xt.c(),this.a.onreadystatechange=y(this.ac,this),this.L&&"onprogress"in this.a&&(this.a.onprogress=y(function(t){this.Zb(t,!0)},this),this.a.upload&&(this.a.upload.onprogress=y(this.Zb,this)));try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(i){return void this.Ab(i)}t=n||"";var o=this.headers.Pb();r&&ie(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=Me,n=t.length,r=s(t)?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t)){e=o;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(o.O()),n=a.FormData&&t instanceof a.FormData,!(0<=S(Ne,e))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.J&&(this.a.responseType=this.J),"withCredentials"in this.a&&this.a.withCredentials!==this.I&&(this.a.withCredentials=this.I);try{this.sb(),0<this.u&&((this.H=function(t){return B&&$(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.u,this.a.ontimeout=y(this.Nb,this)):this.s=Mt(this.Nb,this.u,this)),this.o=!0,this.a.send(t),this.o=!1}catch(i){this.Ab(i)}},r.Ec=function(){return this.l?this.l.b():Xt.b()},r.Nb=function(){void 0!==i&&this.a&&(this.f="Timed out after "+this.u+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.Ab=function(t){this.b=!1,this.a&&(this.g=!0,this.a.abort(),this.g=!1),this.f=t,this.h=5,this.xb(),this.qa()},r.xb=function(){this.A||(this.A=!0,this.dispatchEvent("complete"),this.dispatchEvent("error"))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),this.qa())},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),this.qa(!0)),De.S.G.call(this)},r.ac=function(){this.i||(this.B||this.o||this.g?this.$b():this.Bd())},r.Bd=function(){this.$b()},r.$b=function(){if(this.b&&void 0!==i&&(!this.v[1]||4!=this.W()||2!=this.aa()))if(this.o&&4==this.W())Mt(this.ac,0,this);else if(this.dispatchEvent("readystatechange"),this.td()){this.b=!1;try{this.vd()?(this.dispatchEvent("complete"),this.dispatchEvent("success")):(this.h=6,this.f=this.Fb()+" ["+this.aa()+"]",this.xb())}finally{this.qa()}}},r.Zb=function(t,e){this.dispatchEvent(Re(t,"progress")),this.dispatchEvent(Re(t,e?"downloadprogress":"uploadprogress"))},r.qa=function(t){if(this.a){this.sb();var e=this.a,n=this.v[0]?l:null;this.v=this.a=null,t||this.dispatchEvent("ready");try{e.onreadystatechange=n}catch(r){}}},r.sb=function(){this.a&&this.H&&(this.a.ontimeout=null),this.s&&(a.clearTimeout(this.s),this.s=null)},r.td=function(){return 4==this.W()},r.vd=function(){var t=this.aa();t:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}return e||0===t&&!this.ud()},r.ud=function(){var t=String(this.C).match(ue)[1]||null;return!t&&a.self&&a.self.location&&(t=(t=a.self.location.protocol).substr(0,t.length-1)),Ae.test(t?t.toLowerCase():"")},r.W=function(){return this.a?this.a.readyState:0},r.aa=function(){try{return 2<this.W()?this.a.status:-1}catch(F){return-1}},r.Fb=function(){try{return 2<this.W()?this.a.statusText:""}catch(F){return""}},r.va=function(){try{return this.a?this.a.responseText:""}catch(F){return""}},r.Nc=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Te(e)}},r.ga=function(t){return this.a?this.a.getResponseHeader(t):null},r.Db=function(){return this.h},r.dd=function(){return s(this.f)?this.f:String(this.f)},(r=Le.prototype).qb=8,r.w=1,r.bd=function(t,e,n){zt(0),this.Ea=e,this.ca=n||{},this.o&&(this.H.b=[],this.H.a=!1),this.Dc(t)},r.Qa=function(){if(this.lb(),3==this.w){var t=this.L++,e=this.C.N();e.m("SID",this.I),e.m("RID",t),e.m("TYPE","terminate"),this.ea(e),new ee(this,t,void 0).Ld(e)}this.Yb()},r.Dc=function(t){this.v=new be(this),null===this.f&&this.v.Wc(this.h);var e=t;this.f&&this.h&&(e=je(t,this.f,this.h)),this.v.Vc(e)},r.Cc=function(){this.C=this.Cb(this.Ea),this.Ma()},r.lb=function(){this.v&&(this.v.abort(),this.v=null),this.a&&(this.a.cancel(),this.a=null),this.l&&(a.clearTimeout(this.l),this.l=null),this.ra(),this.c.cancel(),this.i&&(a.clearTimeout(this.i),this.i=null)},r.cd=function(t){this.h=t},r.Pd=function(t){this.J=t},r.Nd=function(t){this.f=t},r.Od=function(t){this.j=t},r.kc=function(t){this.Fa=t},r.Rd=function(){this.T=!0},r.jc=function(t){this.b=t},r.sd=function(){return!this.Ga},r.Xa=function(t){this.g.push(new Se(this.zc++,t)),3==this.w&&this.Ma()},r.Jc=function(){return this.uc?0:this.pc},r.Tb=function(){return 0==this.w},r.Ma=function(){this.c.Ub()||this.i||(this.i=Gt(y(this.dc,this),0),this.A=0)},r.xd=function(t){return!(this.c.Mc()>=this.c.f-(this.i?1:0)||(this.i?(this.g=t.j.concat(this.g),0):1==this.w||2==this.w||this.A>=this.Jc()||(this.i=Gt(y(this.dc,this,t),this.Eb(this.A)),this.A++,0)))},r.dc=function(t){this.i=null,this.Xd(t)},r.Xd=function(t){1==this.w?t||(this.Fd(),this.w=2):3==this.w&&(t?this.Wb(t):0==this.g.length||this.c.Ub()||this.Wb())},r.Fd=function(){this.L=Math.floor(1e5*Math.random());var t=this.L++,e=new ee(this,t,void 0),n=this.h;this.J&&(n?L(n=R(n),this.J):n=this.J),null===this.f&&e.ha(n);var r=this.wb(e),o=this.C.N();o.m("RID",t),0<this.gb&&o.m("CVER",this.gb),this.o&&this.j&&o.m("X-HTTP-Session-Id",this.j),this.ea(o),this.f&&n&&je(o,this.f,n),this.c.Ha(e),this.hb?(o.m("$req",r),o.m("SID","null"),e.Md(),e.cb(o,null)):e.cb(o,r)},r.Wb=function(t){var e;e=t?t.da:this.L++;var n=this.C.N();n.m("SID",this.I),n.m("RID",e),n.m("AID",this.K),this.ea(n),this.f&&this.h&&je(n,this.f,this.h),e=new ee(this,e,this.A+1),null===this.f&&e.ha(this.h),t&&this.Jd(t),t=this.wb(e),e.setTimeout(Math.round(.5*this.ib)+Math.round(.5*this.ib*Math.random())),this.c.Ha(e),e.cb(n,t)},r.ea=function(t){this.b&&ie({},function(e,n){t.m(n,e)})},r.wb=function(t){var e=Math.min(this.g.length,1e3),n=this.b?y(this.b.yc,this.b,this):null;return n=this.U.c(this.g,e,n),t.Qd(this.g.splice(0,e)),n},r.Jd=function(t){this.g=t.j.concat(this.g)},r.zb=function(){if(!this.a&&!this.l){this.Y=1;var t=this.cc;It||function(){var t=a.Promise.resolve(void 0);It=function(){t.then(At)}}(),Dt||(It(),Dt=!0),Pt.add(t,this),this.u=0}},r.Ua=function(){return!(this.a||this.l||3<=this.u||(this.Y++,this.l=Gt(y(this.cc,this),this.Eb(this.u)),this.u++,0))},r.cc=function(){this.l=null,this.Vd()},r.Vd=function(){this.a=new ee(this,"rpc",this.Y),null===this.f&&this.a.ha(this.h),this.a.Xc(this.vc);var t=this.fb.N();t.m("RID","rpc"),t.m("SID",this.I),t.m("CI",this.Ga?"0":"1"),t.m("AID",this.K),this.ea(t),t.m("TYPE","xmlhttp"),this.f&&this.h&&je(t,this.f,this.h),this.F&&this.a.setTimeout(this.F),this.a.bb(t,!0,this.da)},r.na=function(t,e){var n=t.l;n&&this.c.kb(n),this.Ga=this.eb&&e,this.B=t.c,this.Cc()},r.ab=function(t){this.B=t.c,this.X(2)},r.bc=function(t,e){if(0!=this.w&&(this.a==t||this.c.Ta(t)))if(this.B=t.o,!t.s&&this.c.Ta(t)&&3==this.w){try{var n=this.U.a(e)}catch(r){n=null}h(n)&&3==n.length?this.ld(n,t):this.X(11)}else(t.s||this.a==t)&&this.ra(),k(e)||(n=this.U.a(e),this.Ad(n,t))},r.ld=function(t,e){0==t[0]?this.kd(e):(this.jb=t[1],0<this.jb-this.K&&this.Ud(t[2])&&!this.s&&(this.s=Gt(y(this.yd,this),6e3)))},r.kd=function(t){if(!this.l){if(this.a){if(!(this.a.u+3e3<t.u))return;this.ra(),this.a.cancel(),this.a=null}this.Ua(),zt(18)}},r.Ud=function(t){return 37500>t&&!this.sd()&&0==this.u},r.Oa=function(t){return this.sc?this.b?this.b.$c(t):t:null},r.yd=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,this.Ua(),zt(19))},r.ra=function(){null!=this.s&&(a.clearTimeout(this.s),this.s=null)},r.Va=function(t){var e=null;if(this.a==t){this.ra(),this.a=null;var n=2}else{if(!this.c.Ta(t))return;e=t.j,this.c.gc(t),n=1}if(this.B=t.o,0!=this.w)if(t.b)1==n?(n=w()-t.u,qt.dispatchEvent(new Ht(qt,t.i?t.i.length:0,n,this.A)),this.Ma()):this.zb();else{var r=t.c;if(3==r||0==r&&0<this.B||!(1==n&&this.xd(t)||2==n&&this.Ua()))switch(e&&0<e.length&&this.c.wc(e),r){case 1:this.X(5);break;case 4:this.X(10);break;case 3:this.X(6);break;default:this.X(2)}}},r.Eb=function(t){var e=this.tc+Math.floor(Math.random()*this.Fc);return this.Pa()||(e*=2),e*t},r.ad=function(t){if(this.o&&(t=t.a)){var e=t.ga("X-Client-Wire-Protocol");e&&this.c.kb(e),this.j&&(t=t.ga("X-HTTP-Session-Id"))&&(this.kc(t),this.C.m(this.j,t))}},r.Ad=function(t,e){for(var n=this.b&&this.b.Ia?[]:null,r=0;r<t.length;r++){var o=t[r];if(this.K=o[0],o=o[1],2==this.w)if("c"==o[0]){this.I=o[1],this.da=this.Oa(o[2]);var i=o[3];null!=i&&(this.qb=i),null!=(o=o[5])&&"number"==typeof o&&0<o&&(this.F=1.5*o),this.ad(e),this.w=3,this.b&&this.b.pb(),this.Wd(e)}else"stop"!=o[0]&&"close"!=o[0]||this.X(7);else 3==this.w&&("stop"==o[0]||"close"==o[0]?(n&&0!=n.length&&(this.b.Ia(this,n),n.length=0),"stop"==o[0]?this.X(7):this.Qa()):"noop"!=o[0]&&(n?n.push(o):this.b&&this.b.ob(o)),this.u=0)}n&&0!=n.length&&this.b.Ia(this,n)},r.Wd=function(t){this.fb=this.Bb(this.da,this.Ea),t.s?(this.c.gc(t),t.Kd(this.F),this.a=t):this.zb()},r.X=function(t){if(2==t){var e=null;this.b&&(e=null);var n=y(this.Zd,this);e||(e=new le("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||e.ma("https"),e.za()),function(t,e){var n=new Ut;if(a.Image){var r=new Image;r.onload=b(xe,n,r,"TestLoadImage: loaded",!0,e),r.onerror=b(xe,n,r,"TestLoadImage: error",!1,e),r.onabort=b(xe,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=b(xe,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(e.toString(),n)}else zt(2);this.zd(t)},r.Zd=function(t){zt(t?2:1)},r.zd=function(t){this.w=0,this.b&&this.b.nb(t),this.Yb(),this.lb()},r.Yb=function(){this.w=0,this.B=-1,this.b&&(0==this.c.Xb().length&&0==this.g.length||(this.c.Bc(),I(this.g),this.g.length=0),this.b.mb())},r.Cb=function(t){return this.ub(null,t)},r.Bb=function(t,e){return this.ub(this.Da()?t:null,e)},r.ub=function(t,e){var n=function(t){return t instanceof le?t.N():new le(t,void 0)}(e);if(""!=n.c)t&&n.ka(t+"."+n.c),n.la(n.h);else{var r=a.location;n=function(t,e,n,r){var o=new le(null,void 0);return t&&o.ma(t),e&&o.ka(e),n&&o.la(n),r&&o.Ba(r),o}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return this.ca&&M(this.ca,function(t,e){n.m(e,t)}),e=this.Fa,(t=this.j)&&e&&n.m(t,e),n.m("VER",this.qb),this.ea(n),n},r.sa=function(t){if(t&&!this.T)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new De(this.xc)).Sd(this.T),t},r.Pa=function(){return!!this.b&&!0},r.Da=function(){return this.T},(r=Ue.prototype).Ia=null,r.pb=function(){},r.ob=function(){},r.nb=function(){},r.mb=function(){},r.yc=function(){},r.$c=function(t){return t},qe.prototype.a=function(t,e){return new Fe(t,e)},_(Fe,Ct),(r=Fe.prototype).addEventListener=function(t,e,n,r){Fe.S.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){Fe.S.removeEventListener.call(this,t,e,n,r)},r.Yc=function(){this.a.jc(this.f),this.l&&this.a.Rd(),this.a.bd(this.o,this.g,this.b||void 0)},r.close=function(){this.a.Qa()},r.Zc=function(t){if(s(t)){var e={};e.__data__=t,this.a.Xa(e)}else this.h?((e={}).__data__=St(t),this.a.Xa(e)):this.a.Xa(t)},r.G=function(){this.a.jc(null),delete this.f,this.a.Qa(),delete this.a,Fe.S.G.call(this)},_(Ve,Zt),_(Be,$t),_(ze,Ue),ze.prototype.pb=function(){this.a.dispatchEvent("a")},ze.prototype.ob=function(t){this.a.dispatchEvent(new Ve(t))},ze.prototype.nb=function(t){this.a.dispatchEvent(new Be(t))},ze.prototype.mb=function(){this.a.dispatchEvent("b")};var He=b(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},qe);qe.prototype.createWebChannel=qe.prototype.a,Fe.prototype.send=Fe.prototype.Zc,Fe.prototype.open=Fe.prototype.Yc,Fe.prototype.close=Fe.prototype.close,Wt.NO_ERROR=0,Wt.TIMEOUT=8,Wt.HTTP_ERROR=6,Kt.COMPLETE="complete",Jt.EventType=Yt,Yt.OPEN="a",Yt.CLOSE="b",Yt.ERROR="c",Yt.MESSAGE="d",Ct.prototype.listen=Ct.prototype.Lb,De.prototype.listenOnce=De.prototype.Mb,De.prototype.getLastError=De.prototype.dd,De.prototype.getLastErrorCode=De.prototype.Db,De.prototype.getStatus=De.prototype.aa,De.prototype.getStatusText=De.prototype.Fb,De.prototype.getResponseJson=De.prototype.Nc,De.prototype.getResponseText=De.prototype.va,De.prototype.send=De.prototype.xa;var Ge={createWebChannelTransport:He,ErrorCode:Wt,EventType:Kt,WebChannel:Jt,XhrIo:De},We=Ge.createWebChannelTransport,Ke=Ge.ErrorCode,Qe=Ge.EventType,Je=Ge.WebChannel,Xe=Ge.XhrIo;e.default=Ge},xMyE:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("mrSG"),o=n("FFOo"),i=n("+umK"),a=n("2Bdj");function s(t,e,n){return function(r){return r.lift(new u(t,e,n))}}var u=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.nextOrObserver,this.error,this.complete))},t}(),l=function(t){function e(e,n,r,o){var s=t.call(this,e)||this;return s._tapNext=i.a,s._tapError=i.a,s._tapComplete=i.a,s._tapError=r||i.a,s._tapComplete=o||i.a,Object(a.a)(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||i.a,s._tapError=n.error||i.a,s._tapComplete=n.complete||i.a),s}return r.__extends(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(o.a)},xSm1:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("KOl+");function o(t,e,n,o){return Object(r.e)(t,e,n).apply(this,o)}},xTla:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},xk4V:function(t,e,n){var r=n("4fRq"),o=n("I2ZF");t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[i+s]=a[s];return e||o(a)}},y2cN:function(t,e,n){t.exports=n("HefZ"),n("9UdO"),n("FoKB"),n("QURa")},y3By:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i});var r=n("+umK");function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)}function i(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r.a}},yC6l:function(t,e,n){n("Ksdp"),t.exports=n("4Ea8").Object.assign},yKow:function(t,e,n){var r=n("e/Dd"),o=n("NPxG"),i=n("ekOh"),a=n("u/Db"),s=n("7uVY"),u=r.getBCHDigit(7973);function l(t,e){return a.getCharCountIndicator(t,e)+4}function c(t,e){var n=0;return t.forEach(function(t){var r=l(t.mode,e);n+=r+t.getBitsLength()}),n}e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40},e.from=function(t,n){return e.isValid(t)?parseInt(t,10):n},e.getCapacity=function(t,n,i){if(!e.isValid(t))throw new Error("Invalid QR Code version");void 0===i&&(i=a.BYTE);var s=8*(r.getSymbolTotalCodewords(t)-o.getTotalCodewordsCount(t,n));if(i===a.MIXED)return s;var u=s-l(i,t);switch(i){case a.NUMERIC:return Math.floor(u/10*3);case a.ALPHANUMERIC:return Math.floor(u/11*2);case a.KANJI:return Math.floor(u/13);case a.BYTE:default:return Math.floor(u/8)}},e.getBestVersionForData=function(t,n){var r,o=i.from(n,i.M);if(s(t)){if(t.length>1)return function(t,n){for(var r=1;r<=40;r++)if(c(t,r)<=e.getCapacity(r,n,a.MIXED))return r}(t,o);if(0===t.length)return 1;r=t[0]}else r=t;return function(t,n,r){for(var o=1;o<=40;o++)if(n<=e.getCapacity(o,r,t))return o}(r.mode,r.getLength(),o)},e.getEncodedBits=function(t){if(!e.isValid(t)||t<7)throw new Error("Invalid QR Code version");for(var n=t<<12;r.getBCHDigit(n)-u>=0;)n^=7973<<r.getBCHDigit(n)-u;return t<<12|n}},ySdl:function(t,e,n){var r=n("3Gxb"),o=n("fw2a"),i=n("bcPd"),a=n("ysHE").Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(i(t)),n=o.f;return n?e.concat(n(t)):e}},ysHE:function(t,e){t.exports="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()},z5Af:function(t,e,n){t.exports=n("yC6l")},z5ME:function(t,e,n){var r=n("aXXJ")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(o){}}return!1}},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("CcnG"),o=function(){return function(){}}(),i=n("ZZ/e"),a=n("mrSG"),s=n("a3Cf"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.show=function(){return Object(s.cordova)(this,"show",{sync:!0},arguments)},e.prototype.hide=function(){return Object(s.cordova)(this,"hide",{sync:!0},arguments)},e.pluginName="SplashScreen",e.plugin="cordova-plugin-splashscreen",e.pluginRef="navigator.splashscreen",e.repo="https://github.com/apache/cordova-plugin-splashscreen",e.platforms=["Amazon Fire OS","Android","iOS","Windows"],e}(s.IonicNativePlugin),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.overlaysWebView=function(t){return Object(s.cordova)(this,"overlaysWebView",{sync:!0},arguments)},e.prototype.styleDefault=function(){return Object(s.cordova)(this,"styleDefault",{sync:!0},arguments)},e.prototype.styleLightContent=function(){return Object(s.cordova)(this,"styleLightContent",{sync:!0},arguments)},e.prototype.styleBlackTranslucent=function(){return Object(s.cordova)(this,"styleBlackTranslucent",{sync:!0},arguments)},e.prototype.styleBlackOpaque=function(){return Object(s.cordova)(this,"styleBlackOpaque",{sync:!0},arguments)},e.prototype.backgroundColorByName=function(t){return Object(s.cordova)(this,"backgroundColorByName",{sync:!0},arguments)},e.prototype.backgroundColorByHexString=function(t){return Object(s.cordova)(this,"backgroundColorByHexString",{sync:!0},arguments)},e.prototype.hide=function(){return Object(s.cordova)(this,"hide",{sync:!0},arguments)},e.prototype.show=function(){return Object(s.cordova)(this,"show",{sync:!0},arguments)},Object.defineProperty(e.prototype,"isVisible",{get:function(){return Object(s.cordovaPropertyGet)(this,"isVisible")},set:function(t){Object(s.cordovaPropertySet)(this,"isVisible",t)},enumerable:!0,configurable:!0}),e.pluginName="StatusBar",e.plugin="cordova-plugin-statusbar",e.pluginRef="StatusBar",e.repo="https://github.com/apache/cordova-plugin-statusbar",e.platforms=["Android","iOS","Windows"],e}(s.IonicNativePlugin),c=function(){function t(t,e,n){this.platform=t,this.splashScreen=e,this.statusBar=n,this.appPages=[{title:"Main",url:"/main",icon:"home"},{title:"Other main",url:"/loading",icon:"home"}],this.initializeApp()}return t.prototype.initializeApp=function(){var t=this;this.platform.ready().then(function(){t.statusBar.styleDefault(),t.splashScreen.hide()})},t}(),h=n("pMnS"),f=n("oBZk"),d=function(){function t(){this.name="",this.faction=!1,this.icon_class=""}return t.mangle=function(e){return Object.entries(t.name_map).forEach(function(t){e=e.replace(t[0],t[1])}),e=(e=e.replace(/\s+/g,"")).toLowerCase()},t.getClass=function(e){return t.icon_class_template.replace("TEMPLATE",t.mangle(e))},t.prototype.ngOnInit=function(){this.icon_class=t.getClass(this.name),this.faction&&(this.icon_class+=" "+this.name)},t.factions=["rebelalliance","galacticempire","scumandvillainy","galacticrepublic","separatistalliance","resistance","firstorder"],t.name_map={charges:"charge","Base All":"base-all","Base Small":"base-small","Base Medium":"base-medium","Base Large":"base-large","Critical Hit":"crit","Condition Outline":"condition-outline","Dalan Bank Left":"dalan-bankleft","Dalan Bank Right":"dalan-bankright","Helmet Imperial":"helmet-imperial","Helmet Rebel":"helmet-rebel","Helmet Scum":"helmet-scum","Koiogran Turn":"kturn","IG88D Sloop Left":"ig88d-sloopleft","IG88D Sloop Right":"ig88d-sloopright","Rebel Outline":"rebel-outline","Talon Roll Left":"trollleft","Talon Roll Right":"trollright","Unique Outline":"unique-outline",rebelalliance:"rebel",galacticempire:"empire",scumandvillainy:"scum",configuration:"config","force-power":"forcepower",galacticrepublic:"republic",separatistalliance:"separatists",resistance:"rebel"},t.icon_class_template="xwing-miniatures-font xwing-miniatures-font-TEMPLATE",t}(),p=r.nb({encapsulation:0,styles:[[".faction[_ngcontent-%COMP%], .firstorder[_ngcontent-%COMP%], .galacticempire[_ngcontent-%COMP%], .galacticrepublic[_ngcontent-%COMP%], .rebelalliance[_ngcontent-%COMP%], .resistance[_ngcontent-%COMP%], .scumandvillainy[_ngcontent-%COMP%], .separatistalliance[_ngcontent-%COMP%]{padding:.1em}.rebelalliance[_ngcontent-%COMP%]{color:red;background-color:#d3d3d3}.galacticempire[_ngcontent-%COMP%]{color:#fff;background-color:#00f}.scumandvillainy[_ngcontent-%COMP%]{color:#fff;background-color:brown}.resistance[_ngcontent-%COMP%]{color:orange;background-color:#2f4f4f}.firstorder[_ngcontent-%COMP%]{color:red;background-color:#2f4f4f}.galacticrepublic[_ngcontent-%COMP%]{color:#8b0000;background-color:#fafad2}.separatistalliance[_ngcontent-%COMP%]{color:#00008b;background-color:#d3d3d3}"]],data:{}});function g(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(t,e){t(e,0,0,e.component.icon_class)})}var m=n("Ip0R"),v=function(){function t(){this.color="#488aff"}return t.prototype.whichColor=function(t){var e,n,r=Object.keys(this.degraded);r.forEach(function(t,e){return r[e]=+t});var o=+t,i=(r=r.sort(function(t,e){return t-e}))[0];try{for(var s=Object(a.__values)(r),u=s.next();!u.done;u=s.next()){var l=u.value;if(l<o)i=l;else if(l>=o-1)return this.degraded[i]}}catch(c){e={error:c}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return this.degraded[i]},t.prototype.whichProgress=function(t){try{return Math.round(100*+t)/100}catch(e){return t}},t}(),y=function(){return function(){}}(),b=r.nb({encapsulation:0,styles:[".progress-outer[_ngcontent-%COMP%] {\n          width: 96%;\n          margin: 10px 2%;\n          padding: 3px;\n          background-color: #f4f4f4;\n          border: 1px solid #dcdcdc;\n          color: #fff;\n          border-radius: 20px;\n          text-align: center;\n        }\n        .progress-inner[_ngcontent-%COMP%] {\n          min-width: 15%;\n          white-space: nowrap;\n          overflow: hidden;\n          padding: 0px;\n          border-radius: 20px;"],data:{}});function w(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","progress-outer"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"div",[["class","progress-inner"]],[[4,"width",null],[4,"background-color",null]],null,null,null,null)),(t()(),r.Db(2,null,[" ","% "]))],null,function(t,e){var n=e.component;t(e,1,0,n.whichProgress(n.progress)+"%",null==n.degraded?n.color:n.whichColor(n.progress)),t(e,2,0,n.whichProgress(n.progress))})}var _=function(){function t(){this.orientation="horizontal",this.bonus=!1}return t.prototype.ngOnInit=function(){"attack"==this.stat.type&&(this.stat.icon=this.stat.arc)},t.prototype.recoverIcons=function(){return this.stat.recovers?new Array(this.stat.recovers):new Array},t}(),C=r.nb({encapsulation:0,styles:[[".agility[_ngcontent-%COMP%], .attack[_ngcontent-%COMP%], .charge[_ngcontent-%COMP%], .charges[_ngcontent-%COMP%], .force[_ngcontent-%COMP%], .hull[_ngcontent-%COMP%], .shields[_ngcontent-%COMP%], .stats[_ngcontent-%COMP%]{padding-left:.1vh;padding-right:.1vh;display:inline-block}.vertical[_ngcontent-%COMP%]{display:block;width:1.5em;text-align:center}.horizontal[_ngcontent-%COMP%]{display:inline-block;padding-left:.1vw;padding-right:.1vw}.underline[_ngcontent-%COMP%]{text-decoration:underline}.agility[_ngcontent-%COMP%]{color:green}.attack[_ngcontent-%COMP%]{color:red}.charge[_ngcontent-%COMP%], .charges[_ngcontent-%COMP%], .hull[_ngcontent-%COMP%]{color:#ff0}.force[_ngcontent-%COMP%]{color:#c0f}.shields[_ngcontent-%COMP%]{color:#add8e6}.attack-range[_ngcontent-%COMP%]{color:#fff}xwing-icon[_ngcontent-%COMP%]{font-size:.9em;position:relative;top:-.1em}"]],data:{}});function S(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Db(1,null,["+",""]))],null,function(t,e){t(e,1,0,e.component.stat.value)})}function E(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Db(1,null,[" "," "]))],null,function(t,e){t(e,1,0,e.component.stat.value)})}function O(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(t()(),r.Db(2,null,["",""]))],null,function(t,e){var n=e.component;t(e,1,0,n.stat.remaining!=n.stat.value?"underline":""),t(e,2,0,n.stat.remaining)})}function I(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xwing-icon",[],null,null,null,g,p)),r.ob(1,114688,null,0,d,[],{name:[0,"name"]},null)],function(t,e){t(e,1,0,"recurring")},null)}function k(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xwing-icon",[],null,null,null,g,p)),r.ob(1,114688,null,0,d,[],{name:[0,"name"]},null)],function(t,e){t(e,1,0,"rangebonusindicator")},null)}function x(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,k)),r.ob(2,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(3,0,null,null,1,"span",[["class","attack-range"]],null,null,null,null,null)),(t()(),r.Db(4,null,["","-",""]))],function(t,e){t(e,2,0,e.component.stat.ordnance)},function(t,e){var n=e.component;t(e,0,0,n.orientation),t(e,4,0,n.stat.minrange,n.stat.maxrange)})}function T(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,14,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.pb(1,0,null,null,2,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.pb(2,0,null,null,1,"xwing-icon",[],null,null,null,g,p)),r.ob(3,114688,null,0,d,[],{name:[0,"name"]},null),(t()(),r.pb(4,0,null,null,8,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,S)),r.ob(6,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,E)),r.ob(8,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,O)),r.ob(10,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,I)),r.ob(12,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.gb(16777216,null,null,1,null,x)),r.ob(14,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.stat.icon?n.stat.icon:n.stat.type),t(e,6,0,n.bonus),t(e,8,0,"attack"==n.stat.type),t(e,10,0,!n.bonus&&"attack"!=n.stat.type),t(e,12,0,n.recoverIcons()),t(e,14,0,n.stat.minrange)},function(t,e){var n=e.component;t(e,0,0,n.stat.type),t(e,1,0,n.orientation),t(e,4,0,n.orientation)})}var D=function(){function t(){}return t.prototype.getActionClass=function(){return"action "+(this.action.linked?"action-linked":"")},t.prototype.getDifficultyClass=function(){return"difficulty-"+this.action.difficulty.toLowerCase()},t.prototype.ngOnInit=function(){},t}(),P=r.nb({encapsulation:0,styles:[[".action[_ngcontent-%COMP%]{display:inline-block}.difficulty-white[_ngcontent-%COMP%]{color:#fff}.difficulty-red[_ngcontent-%COMP%]{color:red}.difficulty-purple[_ngcontent-%COMP%]{color:purple}.link-icon[_ngcontent-%COMP%]{font-size:.6em;padding-right:.2em;position:relative;bottom:.2em}"]],data:{}});function A(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,5,"span",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["\xa0"])),(t()(),r.pb(2,0,null,null,1,"xwing-icon",[["class","link-icon"]],null,null,null,g,p)),r.ob(3,114688,null,0,d,[],{name:[0,"name"]},null),(t()(),r.pb(4,0,null,null,1,"xws-action",[],null,null,null,N,P)),r.ob(5,114688,null,0,D,[],{action:[0,"action"]},null)],function(t,e){var n=e.component;t(e,3,0,"linked"),t(e,5,0,n.action.linked)},null)}function N(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"xwing-icon",[],[[8,"className",0]],null,null,g,p)),r.ob(2,114688,null,0,d,[],{name:[0,"name"]},null),(t()(),r.gb(16777216,null,null,1,null,A)),r.ob(4,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.action.type),t(e,4,0,n.action.linked)},function(t,e){var n=e.component;t(e,0,0,n.getActionClass()),t(e,1,0,n.getDifficultyClass())})}var M=function(){function t(){this.grant={}}return t.prototype.ngOnInit=function(){},t}(),R=r.nb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw;overflow-y:scroll}.item-box[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#400,#000,#000,#400);transition:border-top .5s ease,border-bottom .2s ease;border-top:.1em solid #800;border-bottom:.1em solid #800;margin-bottom:.25em;margin-left:.15em;padding-top:.15em;padding-bottom:.15em;position:relative;cursor:pointer}.item-box[_ngcontent-%COMP%]:hover{border-top:.1em solid red;border-bottom:.1em solid red}.bonus-text[_ngcontent-%COMP%]{padding-left:.2vw}.grant[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .grant-agility[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .grant-attack[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .grant-hull[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .grant-shields[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.grant-shields[_ngcontent-%COMP%]{color:#add8e6}.grant-hull[_ngcontent-%COMP%]{color:#ff0}.grant-agility[_ngcontent-%COMP%]{color:green}.grant-attack[_ngcontent-%COMP%]{color:red}.grant-icon[_ngcontent-%COMP%]{font-weight:100}xwing-icon[_ngcontent-%COMP%]{position:relative;font-size:.9em;top:-.1em}"]],data:{}});function j(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["+"]))],null,null)}function L(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,6,"span",[],[[8,"className",0]],null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"xwing-icon",[["class","grant-icon"]],null,null,null,g,p)),r.ob(2,114688,null,0,d,[],{name:[0,"name"]},null),(t()(),r.pb(3,0,null,null,3,"span",[["class","bonus-text"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,j)),r.ob(5,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.Db(6,null,[""," "]))],function(t,e){var n=e.component;t(e,2,0,n.grant.value),t(e,5,0,n.grant.amount>0)},function(t,e){var n=e.component;t(e,0,0,"grant-"+n.grant.value),t(e,6,0,n.grant.amount)})}function U(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-action",[],null,null,null,N,P)),r.ob(1,114688,null,0,D,[],{action:[0,"action"]},null)],function(t,e){t(e,1,0,e.component.grant.value)},null)}function q(t){return r.Eb(0,[(t()(),r.gb(16777216,null,null,1,null,L)),r.ob(1,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,U)),r.ob(3,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,"stat"==n.grant.type),t(e,3,0,"action"==n.grant.type)},null)}var F=function(){function t(t){this.http=t}return t.prototype.get=function(t,e,n){return void 0===n&&(n={}),n.params=e,this.http.get(t,n)},t}(),V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.getBasicAuthHeader=function(t,e){return Object(s.cordova)(this,"getBasicAuthHeader",{sync:!0},arguments)},e.prototype.useBasicAuth=function(t,e){return Object(s.cordova)(this,"useBasicAuth",{sync:!0},arguments)},e.prototype.getHeaders=function(t){return Object(s.cordova)(this,"getHeaders",{sync:!0},arguments)},e.prototype.setHeader=function(t,e,n){return Object(s.cordova)(this,"setHeader",{sync:!0},arguments)},e.prototype.getDataSerializer=function(){return Object(s.cordova)(this,"getDataSerializer",{sync:!0},arguments)},e.prototype.setDataSerializer=function(t){return Object(s.cordova)(this,"setDataSerializer",{sync:!0},arguments)},e.prototype.setCookie=function(t,e){return Object(s.cordova)(this,"setCookie",{sync:!0},arguments)},e.prototype.clearCookies=function(){return Object(s.cordova)(this,"clearCookies",{sync:!0},arguments)},e.prototype.removeCookies=function(t,e){return Object(s.cordova)(this,"removeCookies",{sync:!0},arguments)},e.prototype.getCookieString=function(t){return Object(s.cordova)(this,"getCookieString",{sync:!0},arguments)},e.prototype.getRequestTimeout=function(){return Object(s.cordova)(this,"getRequestTimeout",{sync:!0},arguments)},e.prototype.setRequestTimeout=function(t){return Object(s.cordova)(this,"setRequestTimeout",{sync:!0},arguments)},e.prototype.setSSLCertMode=function(t){return Object(s.cordova)(this,"setSSLCertMode",{},arguments)},e.prototype.disableRedirect=function(t){return Object(s.cordova)(this,"disableRedirect",{},arguments)},e.prototype.post=function(t,e,n){return Object(s.cordova)(this,"post",{},arguments)},e.prototype.get=function(t,e,n){return Object(s.cordova)(this,"get",{},arguments)},e.prototype.put=function(t,e,n){return Object(s.cordova)(this,"put",{},arguments)},e.prototype.patch=function(t,e,n){return Object(s.cordova)(this,"patch",{},arguments)},e.prototype.delete=function(t,e,n){return Object(s.cordova)(this,"delete",{},arguments)},e.prototype.head=function(t,e,n){return Object(s.cordova)(this,"head",{},arguments)},e.prototype.uploadFile=function(t,e,n,r,o){return Object(s.cordova)(this,"uploadFile",{},arguments)},e.prototype.downloadFile=function(t,e,n,r){return Object(s.cordova)(this,"downloadFile",{},arguments)},e.prototype.sendRequest=function(t,e){return Object(s.cordova)(this,"sendRequest",{},arguments)},e.pluginName="HTTP",e.plugin="cordova-plugin-advanced-http",e.pluginRef="cordova.plugin.http",e.repo="https://github.com/silkimen/cordova-plugin-advanced-http",e.platforms=["Android","iOS"],e}(s.IonicNativePlugin),B=n("0/uQ"),z=function(){function t(t){this.http=t}return t.prototype.get=function(t,e,n){void 0===n&&(n={});var r=this.http.get(t,e,{}).then(function(t){return n.responseType?t.data:JSON.parse(t.data)});return Object(B.a)(r)},t.prototype.downloadFile=function(t,e){return this.http.downloadFile(t,{},{},e)},t}(),H=function(){function t(t,e,n){this.platform=t,this.angularHttp=e,this.nativeHttp=n;var r=this.platform.is("cordova");r?console.log("HttpProvider using nativeHttp"):console.log("HttpProvider using angularHttp"),this.http=r?this.nativeHttp:this.angularHttp}return t.prototype.get=function(t,e,n){return void 0===n&&(n={}),this.http.get(t,e,n)},t.prototype.downloadFile=function(t,e){return this.nativeHttp.downloadFile(t,e)},t}(),G=n("IUTb"),W=n("isby"),K=n("FFOo"),Q=n("MGBS"),J=n("zotm"),X=n("En8+"),Y=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Z(t,this.resultSelector))},t}(),Z=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null));var o=t.call(this,e)||this;return o.iterators=[],o.active=0,o.resultSelector="function"==typeof n?n:null,o.values=r,o}return a.__extends(e,t),e.prototype._next=function(t){var e=this.iterators;Object(W.a)(t)?e.push(new tt(t)):e.push("function"==typeof t[X.a]?new $(t[X.a]()):new et(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.destination.add(r.subscribe(r,n)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++)if("function"==typeof(a=t[r]).hasValue&&!a.hasValue())return;var o=!1,i=[];for(r=0;r<e;r++){var a,s=(a=t[r]).next();if(a.hasCompleted()&&(o=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),o&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(K.a),$=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),tt=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[X.a]=function(){return this},t.prototype.next=function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),et=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.parent=n,o.observable=r,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return a.__extends(e,t),e.prototype[X.a]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return Object(J.a)(this,this.observable,this,e)},e}(Q.a),nt=n("F/XL"),rt=n("Phjn"),ot=n("xMyE"),it=n("9Z1F"),at=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.FileTransferErrorCode={FILE_NOT_FOUND_ERR:1,INVALID_URL_ERR:2,CONNECTION_ERR:3,ABORT_ERR:4,NOT_MODIFIED_ERR:5},e}return Object(a.__extends)(e,t),e.prototype.create=function(){return new st},e.pluginName="FileTransfer",e.plugin="cordova-plugin-file-transfer",e.pluginRef="FileTransfer",e.repo="https://github.com/apache/cordova-plugin-file-transfer",e.platforms=["Amazon Fire OS","Android","Browser","iOS","Ubuntu","Windows","Windows Phone"],e}(s.IonicNativePlugin),st=function(){function t(){!0===Object(s.checkAvailability)(at.getPluginRef(),null,at.getPluginName())&&(this._objectInstance=new(at.getPlugin()))}return t.prototype.upload=function(t,e,n,r){return Object(s.cordovaInstance)(this,"upload",{successIndex:2,errorIndex:3},arguments)},t.prototype.download=function(t,e,n,r){return Object(s.cordovaInstance)(this,"download",{successIndex:2,errorIndex:3},arguments)},t.prototype.onProgress=function(t){!0===Object(s.instanceAvailability)(this)&&(this._objectInstance.onprogress=t)},t.prototype.abort=function(){return Object(s.cordovaInstance)(this,"abort",{sync:!0},arguments)},t.plugin="cordova-plugin-file-transfer",t.pluginName="FileTransfer",t}(),ut=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cordovaFileError={1:"NOT_FOUND_ERR",2:"SECURITY_ERR",3:"ABORT_ERR",4:"NOT_READABLE_ERR",5:"ENCODING_ERR",6:"NO_MODIFICATION_ALLOWED_ERR",7:"INVALID_STATE_ERR",8:"SYNTAX_ERR",9:"INVALID_MODIFICATION_ERR",10:"QUOTA_EXCEEDED_ERR",11:"TYPE_MISMATCH_ERR",12:"PATH_EXISTS_ERR",13:"WRONG_ENTRY_TYPE",14:"DIR_READ_ERR"},e}return Object(a.__extends)(e,t),e.prototype.getFreeDiskSpace=function(){var t=this;return function(){if(!0===Object(s.checkAvailability)(t))return Object(s.getPromise)(function(t,e){cordova.exec(t,e,"File","getFreeDiskSpace",[])})}()},e.prototype.checkDir=function(t,e){var n=this;return function(){if(!0===Object(s.checkAvailability)(n)){if(/^\//.test(e)){var r=new FileError(5);return r.message="directory cannot start with /",Promise.reject(r)}return n.resolveDirectoryUrl(t+e).then(function(){return!0})}}()},e.prototype.createDir=function(t,e,n){var r=this;return function(){if(!0===Object(s.checkAvailability)(r)){if(/^\//.test(e)){var o=new FileError(5);return o.message="directory cannot start with /",Promise.reject(o)}var i={create:!0};return n||(i.exclusive=!0),r.resolveDirectoryUrl(t).then(function(t){return r.getDirectory(t,e,i)})}}()},e.prototype.removeDir=function(t,e){var n=this;return function(){if(!0===Object(s.checkAvailability)(n)){if(/^\//.test(e)){var r=new FileError(5);return r.message="directory cannot start with /",Promise.reject(r)}return n.resolveDirectoryUrl(t).then(function(t){return n.getDirectory(t,e,{create:!1})}).then(function(t){return n.remove(t)})}}()},e.prototype.moveDir=function(t,e,n,r){var o=this;return function(){if(!0===Object(s.checkAvailability)(o)){if(/^\//.test(r=r||e)){var i=new FileError(5);return i.message="directory cannot start with /",Promise.reject(i)}return o.resolveDirectoryUrl(t).then(function(t){return o.getDirectory(t,e,{create:!1})}).then(function(t){return o.resolveDirectoryUrl(n).then(function(e){return o.move(t,e,r)})})}}()},e.prototype.copyDir=function(t,e,n,r){var o=this;return function(){if(!0===Object(s.checkAvailability)(o)){if(/^\//.test(r)){var i=new FileError(5);return i.message="directory cannot start with /",Promise.reject(i)}return o.resolveDirectoryUrl(t).then(function(t){return o.getDirectory(t,e,{create:!1})}).then(function(t){return o.resolveDirectoryUrl(n).then(function(e){return o.copy(t,e,r)})})}}()},e.prototype.listDir=function(t,e){var n=this;return function(){if(!0===Object(s.checkAvailability)(n)){if(/^\//.test(e)){var r=new FileError(5);return r.message="directory cannot start with /",Promise.reject(r)}return n.resolveDirectoryUrl(t).then(function(t){return n.getDirectory(t,e,{create:!1,exclusive:!1})}).then(function(t){var e=t.createReader();return n.readEntries(e)})}}()},e.prototype.removeRecursively=function(t,e){var n=this;return function(){if(!0===Object(s.checkAvailability)(n)){if(/^\//.test(e)){var r=new FileError(5);return r.message="directory cannot start with /",Promise.reject(r)}return n.resolveDirectoryUrl(t).then(function(t){return n.getDirectory(t,e,{create:!1})}).then(function(t){return n.rimraf(t)})}}()},e.prototype.checkFile=function(t,e){var n=this;return function(){if(!0===Object(s.checkAvailability)(n)){if(/^\//.test(e)){var r=new FileError(5);return r.message="file cannot start with /",Promise.reject(r)}return n.resolveLocalFilesystemUrl(t+e).then(function(t){if(t.isFile)return!0;var e=new FileError(13);return e.message="input is not a file",Promise.reject(e)})}}()},e.prototype.createFile=function(t,e,n){var r=this;return function(){if(!0===Object(s.checkAvailability)(r)){if(/^\//.test(e)){var o=new FileError(5);return o.message="file-name cannot start with /",Promise.reject(o)}var i={create:!0};return n||(i.exclusive=!0),r.resolveDirectoryUrl(t).then(function(t){return r.getFile(t,e,i)})}}()},e.prototype.removeFile=function(t,e){var n=this;return function(){if(!0===Object(s.checkAvailability)(n)){if(/^\//.test(e)){var r=new FileError(5);return r.message="file-name cannot start with /",Promise.reject(r)}return n.resolveDirectoryUrl(t).then(function(t){return n.getFile(t,e,{create:!1})}).then(function(t){return n.remove(t)})}}()},e.prototype.writeFile=function(t,e,n,r){var o=this;return void 0===r&&(r={}),function(){if(!0===Object(s.checkAvailability)(o)){if(/^\//.test(e)){var i=new FileError(5);return i.message="file-name cannot start with /",Promise.reject(i)}var a={create:!r.append,exclusive:!r.replace};return o.resolveDirectoryUrl(t).then(function(t){return o.getFile(t,e,a)}).then(function(t){return o.writeFileEntry(t,n,r)})}}()},e.prototype.writeFileEntry=function(t,e,n){var r=this;return this.createWriter(t).then(function(t){return n.append&&t.seek(t.length),n.truncate&&t.truncate(n.truncate),r.write(t,e)}).then(function(){return t})},e.prototype.writeExistingFile=function(t,e,n){var r=this;return function(){if(!0===Object(s.checkAvailability)(r))return r.writeFile(t,e,n,{replace:!0})}()},e.prototype.readAsText=function(t,e){var n=this;return function(){if(!0===Object(s.checkAvailability)(n))return n.readFile(t,e,"Text")}()},e.prototype.readAsDataURL=function(t,e){var n=this;return function(){if(!0===Object(s.checkAvailability)(n))return n.readFile(t,e,"DataURL")}()},e.prototype.readAsBinaryString=function(t,e){var n=this;return function(){if(!0===Object(s.checkAvailability)(n))return n.readFile(t,e,"BinaryString")}()},e.prototype.readAsArrayBuffer=function(t,e){var n=this;return function(){if(!0===Object(s.checkAvailability)(n))return n.readFile(t,e,"ArrayBuffer")}()},e.prototype.moveFile=function(t,e,n,r){var o=this;return function(){if(!0===Object(s.checkAvailability)(o)){if(/^\//.test(r=r||e)){var i=new FileError(5);return i.message="file name cannot start with /",Promise.reject(i)}return o.resolveDirectoryUrl(t).then(function(t){return o.getFile(t,e,{create:!1})}).then(function(t){return o.resolveDirectoryUrl(n).then(function(e){return o.move(t,e,r)})})}}()},e.prototype.copyFile=function(t,e,n,r){var o=this;return function(){if(!0===Object(s.checkAvailability)(o)){if(/^\//.test(r=r||e)){var i=new FileError(5);return i.message="file name cannot start with /",Promise.reject(i)}return o.resolveDirectoryUrl(t).then(function(t){return o.getFile(t,e,{create:!1})}).then(function(t){return o.resolveDirectoryUrl(n).then(function(e){return o.copy(t,e,r)})})}}()},e.prototype.fillErrorMessage=function(t){try{t.message=this.cordovaFileError[t.code]}catch(e){}},e.prototype.resolveLocalFilesystemUrl=function(t){var e=this;return function(){if(!0===Object(s.checkAvailability)(e))return Object(s.getPromise)(function(n,r){try{window.resolveLocalFileSystemURL(t,function(t){n(t)},function(t){e.fillErrorMessage(t),r(t)})}catch(o){e.fillErrorMessage(o),r(o)}})}()},e.prototype.resolveDirectoryUrl=function(t){var e=this;return function(){if(!0===Object(s.checkAvailability)(e))return e.resolveLocalFilesystemUrl(t).then(function(t){if(t.isDirectory)return t;var e=new FileError(13);return e.message="input is not a directory",Promise.reject(e)})}()},e.prototype.getDirectory=function(t,e,n){var r=this;return function(){if(!0===Object(s.checkAvailability)(r))return new Promise(function(o,i){try{t.getDirectory(e,n,function(t){o(t)},function(t){r.fillErrorMessage(t),i(t)})}catch(a){r.fillErrorMessage(a),i(a)}})}()},e.prototype.getFile=function(t,e,n){var r=this;return function(){if(!0===Object(s.checkAvailability)(r))return new Promise(function(o,i){try{t.getFile(e,n,o,function(t){r.fillErrorMessage(t),i(t)})}catch(a){r.fillErrorMessage(a),i(a)}})}()},e.prototype.readFile=function(t,e,n){var r=this;if(/^\//.test(e)){var o=new FileError(5);return o.message="file-name cannot start with /",Promise.reject(o)}return this.resolveDirectoryUrl(t).then(function(t){return r.getFile(t,e,{create:!1})}).then(function(t){var e=new FileReader;return Object(s.getPromise)(function(r,o){e.onloadend=function(){void 0!==e.result||null!==e.result?r(e.result):o(void 0!==e.error||null!==e.error?e.error:{code:null,message:"READER_ONLOADEND_ERR"})},t.file(function(t){e["readAs"+n].call(e,t)},function(t){o(t)})})})},e.prototype.remove=function(t){var e=this;return new Promise(function(n,r){t.remove(function(){n({success:!0,fileRemoved:t})},function(t){e.fillErrorMessage(t),r(t)})})},e.prototype.move=function(t,e,n){var r=this;return new Promise(function(o,i){t.moveTo(e,n,function(t){o(t)},function(t){r.fillErrorMessage(t),i(t)})})},e.prototype.copy=function(t,e,n){var r=this;return new Promise(function(o,i){t.copyTo(e,n,function(t){o(t)},function(t){r.fillErrorMessage(t),i(t)})})},e.prototype.readEntries=function(t){var e=this;return new Promise(function(n,r){t.readEntries(function(t){n(t)},function(t){e.fillErrorMessage(t),r(t)})})},e.prototype.rimraf=function(t){var e=this;return new Promise(function(n,r){t.removeRecursively(function(){n({success:!0,fileRemoved:t})},function(t){e.fillErrorMessage(t),r(t)})})},e.prototype.createWriter=function(t){var e=this;return new Promise(function(n,r){t.createWriter(function(t){n(t)},function(t){e.fillErrorMessage(t),r(t)})})},e.prototype.write=function(t,e){return e instanceof Blob?this.writeFileInChunks(t,e):new Promise(function(n,r){t.onwriteend=function(e){t.error?r(t.error):n(e)},t.write(e)})},e.prototype.writeFileInChunks=function(t,e){var n=1048576,r=0;function o(){var o=Math.min(n,e.size-r),i=e.slice(r,r+o);r+=o,t.write(i)}return Object(s.getPromise)(function(n,i){t.onerror=i,t.onwrite=function(){r<e.size?o():n()},o()})},Object.defineProperty(e.prototype,"applicationDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"applicationDirectory")},set:function(t){Object(s.cordovaPropertySet)(this,"applicationDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applicationStorageDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"applicationStorageDirectory")},set:function(t){Object(s.cordovaPropertySet)(this,"applicationStorageDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"dataDirectory")},set:function(t){Object(s.cordovaPropertySet)(this,"dataDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cacheDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"cacheDirectory")},set:function(t){Object(s.cordovaPropertySet)(this,"cacheDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"externalApplicationStorageDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"externalApplicationStorageDirectory")},set:function(t){Object(s.cordovaPropertySet)(this,"externalApplicationStorageDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"externalDataDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"externalDataDirectory")},set:function(t){Object(s.cordovaPropertySet)(this,"externalDataDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"externalCacheDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"externalCacheDirectory")},set:function(t){Object(s.cordovaPropertySet)(this,"externalCacheDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"externalRootDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"externalRootDirectory")},set:function(t){Object(s.cordovaPropertySet)(this,"externalRootDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tempDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"tempDirectory")},set:function(t){Object(s.cordovaPropertySet)(this,"tempDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"syncedDataDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"syncedDataDirectory")},set:function(t){Object(s.cordovaPropertySet)(this,"syncedDataDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"documentsDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"documentsDirectory")},set:function(t){Object(s.cordovaPropertySet)(this,"documentsDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sharedDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"sharedDirectory")},set:function(t){Object(s.cordovaPropertySet)(this,"sharedDirectory",t)},enumerable:!0,configurable:!0}),e.pluginName="File",e.plugin="cordova-plugin-file",e.pluginRef="cordova.file",e.repo="https://github.com/apache/cordova-plugin-file",e.platforms=["Android","Browser","iOS","macOS","Windows"],e}(s.IonicNativePlugin),lt=n("oAJy"),ct=n("uzCt"),ht=function(){function t(t){var e=this;this._driver=null,this._dbPromise=new Promise(function(n,r){var o,i=Object.assign({name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:["sqlite","indexeddb","websql","localstorage"]},t||{});Object(lt.defineDriver)(ct).then(function(){o=Object(lt.createInstance)(i)}).then(function(){return o.setDriver(e._getDriverOrder(i.driverOrder))}).then(function(){e._driver=o.driver(),n(o)}).catch(function(t){return r(t)})})}return Object.defineProperty(t.prototype,"driver",{get:function(){return this._driver},enumerable:!0,configurable:!0}),t.prototype.ready=function(){return this._dbPromise},t.prototype._getDriverOrder=function(t){return t.map(function(t){switch(t){case"sqlite":return ct._driver;case"indexeddb":return lt.INDEXEDDB;case"websql":return lt.WEBSQL;case"localstorage":return lt.LOCALSTORAGE}})},t.prototype.get=function(t){return this._dbPromise.then(function(e){return e.getItem(t)})},t.prototype.set=function(t,e){return this._dbPromise.then(function(n){return n.setItem(t,e)})},t.prototype.remove=function(t){return this._dbPromise.then(function(e){return e.removeItem(t)})},t.prototype.clear=function(){return this._dbPromise.then(function(t){return t.clear()})},t.prototype.length=function(){return this._dbPromise.then(function(t){return t.length()})},t.prototype.keys=function(){return this._dbPromise.then(function(t){return t.keys()})},t.prototype.forEach=function(t){return this._dbPromise.then(function(e){return e.iterate(t)})},t}(),ft=new r.p("STORAGE_CONFIG_TOKEN");function dt(t){return new ht(t||{name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:["sqlite","indexeddb","websql","localstorage"]})}var pt=function(){function t(){}return t.forRoot=function(e){return void 0===e&&(e=null),{ngModule:t,providers:[{provide:ft,useValue:e},{provide:ht,useFactory:dt,deps:[ft]}]}},t}(),gt=n("ZYjt"),mt=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},vt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},yt=function(){function t(t,e,n,r,o,i,a){var s=this;this.storage=t,this.http=e,this.events=n,this.platform=r,this.file=o,this.fileTransfer=i,this.sanitizer=a,this.topic="XwingDataService",this.last_message="",this.downloading=!1,this.progress=0,this.initialized=!1,this.hotlink=!0,this.image_urls={},this.manifest_url="https://raw.githubusercontent.com/xwingtabled/XwingTabled/master/scripts/manifest.json",this.unavailable=["https://sb-cdn.fantasyflightgames.com/card_art/Card_art_XW_U_158b.jpg"],this.data={},this.ffg_data=[],this.stored_filenames=[],this.hotlink=!r.is("cordova"),this.transfer=i.create(),this.storage.ready().then(function(){s.status("service_ready","X-Wing Data Service Ready"),s.check_manifest()})}return t.prototype.status=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=this.progress),this.events.publish(this.topic,{status:t,message:e,progress:n}),this.last_message=e,console.log(t,e)},t.prototype.reset=function(){return mt(this,void 0,void 0,function(){return vt(this,function(t){switch(t.label){case 0:return this.initialized=!1,this.image_urls={},this.data={},this.ffg_data=[],[4,this.storage.clear()];case 1:return t.sent(),this.check_manifest(),[2]}})})},t.prototype.check_manifest=function(){var t=this;this.status("manifest_loading","Loading cached manifest... "),this.storage.get("manifest").then(function(e){t.status("manifest_loading","Loading cached manifest... found!"),t.data=e},function(e){t.status("manifest_loading","Loading cached manifest... none found")}).then(function(e){return t.status("manifest_loading","Loading cached FFG Data..."),t.storage.get("ffg_data").then(function(e){t.status("manifest_loading","Loading cached FFG Data... found!"),t.ffg_data=e},function(e){t.status("manifest_loading","Loading cached FFG Data... none found")})}).then(function(e){t.download_manifest()})},t.prototype.store_ffg_data=function(t){var e=this,n=[],r=0;t.cards.forEach(function(t){t.id>r&&(r=t.id)}),n=new Array(r),t.cards.forEach(function(t){t.name=t.name.replace(/\<\/?[a-z]+\>/gi,""),t.metadata=e.getMetadataByFFG(t.id),t.statistics&&t.statistics.forEach(function(t){var n=e.data.stats[0].find(function(e){return e.ffg==t.statistic_id});n?t.xws=n.xws:console.log("Could not find stat",t)}),n[t.id]=t}),this.ffg_data=n,this.storage.set("ffg_data",this.ffg_data)},t.prototype.download_ffg_data=function(){var t=this;this.http.get("https://squadbuilder.fantasyflightgames.com/api/cards").subscribe(function(e){e&&(t.status("ffg_downloading","Downloading FFG Squadbuilder Data... received!"),t.store_ffg_data(e),console.log("FFG Squadbuilder Data",t.ffg_data),t.load_images())},function(e){t.ffg_data?t.load_images():t.status("no_data_no_connection","Unable to load or download FFG Squadbuilder data")})},t.prototype.download_manifest=function(){var t=this;this.status("manifest_downloading","Downloading current manifest..."),this.http.get(this.manifest_url).subscribe(function(e){if(e){t.status("manifest_downloading","Downloading current manifest... received!");var n=e;if(!t.data||t.data.version!=n.version||!t.ffg_data)return t.storage.set("manifest",n),t.data=n,void t.download_ffg_data();t.status("manifest_current","Manifest is current."),t.load_images()}},function(e){t.data&&t.ffg_data?(t.status("manifest_download_failed","Using cached manfiest"),t.load_images()):t.status("no_data_no_connection","Unable to load or download manifest.json")})},t.prototype.load_from_storage=function(t){var e=this,n=0;return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),Object(G.a)(t,void 0).lift(new Y(n))}(Object(B.a)(t),Object(B.a)(t).pipe(Object(rt.a)(function(t){return e.storage.get(t)})),function(t,e){return{key:t,value:e}}).pipe(Object(ot.a)(function(r){e.progress=(n+=1)/t.length*100}))},t.prototype.create_file_list=function(t,e){var n=[],r=[];if(t){n.push(t);for(var o=function(){var o=n.shift();try{"string"==typeof o?e.forEach(function(t){o.endsWith(t)&&r.push(o)}):o instanceof Array?o.forEach(function(t){null==t?console.log("Empty array element in ",o):n.push(t)}):Object.entries(o).forEach(function(t){var e=t[1];null==e||n.push(e)})}catch(i){console.log("Error creating file list from manifest",t),console.log("Could not unpack",o)}};n.length>0;)o()}return r},t.prototype.url_to_filename=function(t){var e=t.split("/");return e[e.length-1]},t.prototype.mangle_name=function(t){return t.replace(/\s/g,"").replace(/\-/g,"").toLowerCase()},t.prototype.getDamageCardData=function(t){return JSON.parse(JSON.stringify(this.data.damagedecks[0].cards.find(function(e){return e.title==t})))},t.prototype.getConditionCardData=function(t){return JSON.parse(JSON.stringify(this.data.conditions.find(function(e){return e.xws==t})))},t.prototype.getConditionArtwork=function(t){var e=this.data.conditions.find(function(e){return e.xws==t});return this.ffg_data[e.ffg].image},t.prototype.getDamageDeck=function(){var t=[],e={};for(this.data.damagedecks[0].cards.forEach(function(t){for(var n=0;n<t.amount;n++)e[t.title]||(e[t.title]=[]),e[t.title].push({title:t.title,exposed:!1})});Object.keys(e).length>0;)Object.keys(e).forEach(function(n){e[n].length>0?t.push(e[n].pop()):delete e[n]});return console.log("Generating damage deck",t),t},t.prototype.getPilot=function(t,e,n){var r=this.getShip(t,e),o=null;return this.data.shims.xwsPilot[n]&&(n=this.data.shims.xwsPilot[n]),r.pilots.forEach(function(t){t.xws==n&&(o=t)}),JSON.parse(JSON.stringify(o))},t.prototype.getXwsFromFFG=function(t){var e=null;if(this.data.pilots.forEach(function(n){Object.entries(n.ships).forEach(function(r){var o=r[0],i=r[1].pilots.find(function(e){return e.ffg==t});i&&(e={card_type:1,faction:n.faction,xws:i.xws,name:i.xws,ship:o})})}),e)return e;var n=null;return Object.entries(this.data.upgrades).forEach(function(e){var r=e[0],o=e[1].find(function(e){return e.sides[0].ffg==t||!(!e.sides[1]||e.sides[1].ffg!=t)});o&&(n={card_type:2,type:r,xws:o.xws})}),n},t.prototype.getPilotPoints=function(t){var e=this,n=this.getCardByFFG(t.ffg),r=parseInt(n.cost),o=n.initiative,i=parseInt(n.statistics.find(function(t){return"agility"==t.xws}).value);return t.upgrades.forEach(function(t){var n=e.getCardByFFG(t.sides[t.side].ffg);if("*"==n.cost){var a=n.metadata.cost.variable,s=void 0;"initiative"==a?s=n.metadata.cost.values[o]:"agility"==a&&(s=n.metadata.cost.values[i]),r+=s}else r+=parseInt(n.cost)}),r},t.prototype.isDestroyed=function(t){return this.getStatTotal(t,"hull")-t.damagecards.length<=0},t.prototype.getPointsDestroyed=function(t){var e=this.getPilotPoints(t);if(this.isDestroyed(t))return e;var n=this.getStatTotal(t,"hull"),r=this.getStatTotal(t,"shields"),o=n-t.damagecards.length;return t.shields&&(o+=t.shields),o<(n+r)/2?Math.ceil(e/2):0},t.prototype.getYasbUpgrade=function(t){var e=this.data.yasb.upgrades[t];return e?JSON.parse(JSON.stringify(e)):null},t.prototype.getYasbPilot=function(t){var e=this.data.yasb.pilots[t];return e?JSON.parse(JSON.stringify(e)):null},t.prototype.getShip=function(t,e){this.data.shims.xwsShip[e]&&(e=this.data.shims.xwsShip[e]);try{var n=this.data.pilots.find(function(e){return e.faction==t}).ships[e];return n.keyname=e,JSON.parse(JSON.stringify(n))}catch(Error){return null}},t.prototype.getUpgrade=function(t,e){this.data.shims.xwsUpgrade[e]&&(e=this.data.shims.xwsUpgrade[e]);try{var n=null;return this.data.upgrades[t].forEach(function(t){t.xws==e&&(n=t)}),JSON.parse(JSON.stringify(n))}catch(Error){return null}},t.prototype.getMetadataByFFG=function(t){var e=this.getXwsFromFFG(t);if(!e)return console.log("Could not find",t),null;if(1==e.card_type){var n=this.data.pilots.find(function(t){return t.faction==e.faction}),r=n.ships[e.ship].pilots.find(function(t){return t.xws==e.xws}),o=JSON.parse(JSON.stringify(n.ships[e.ship]));return delete o.pilots,{shipIcon:o.icon,dial:o.dial,size:o.size}}if(2==e.card_type){r=this.data.upgrades[e.type].find(function(t){return t.xws==e.xws});for(var i=0,a={},s=0;s<r.sides.length;s++)r.sides[s].ffg==t&&(i=s,a=r.sides[s]);var u={cost:0==i?r.cost:0};return a.grants&&(u.grants=a.grants),u}return null},t.prototype.getCardByFFG=function(t){return this.ffg_data[t]},t.prototype.getFFGCardStat=function(t,e){return this.getCardByFFG(t).statistics.find(function(t){return t.xws==e})},t.prototype.getCardStatObject=function(t,e,n){var r=this.getFFGCardStat(t,e);return r?{type:e,value:r.value,remaining:-1==n?r.value:n,recovers:r.recurring?1:0}:null},t.prototype.getXwsUpgradeType=function(t){return this.data["upgrade-types"].find(function(e){return e.ffg==t}).xws},t.prototype.getStatTotal=function(t,e){var n=this,r=0,o=this.getFFGCardStat(t.ffg,e);return o&&(r=parseInt(o.value)),t.upgrades.forEach(function(t){var o=n.getFFGCardStat(t.sides[t.side].ffg,e);o&&(r+=parseInt(o.value))}),r},t.prototype.load_images=function(){console.log("FFG Data",this.ffg_data),console.log("xwing-data2 Data",this.data);var t={ffg:this.ffg_data,manifest:this.data};this.hotlink?this.hotlink_images(t):this.await_mainpage_loading_notification(t)},t.prototype.await_mainpage_loading_notification=function(t){var e=this;this.events.subscribe("mainpage",function(n){"loading_controller_present"==n.message&&e.load_images_from_storage(t)}),this.status("loading_images","Loading artwork.")},t.prototype.load_images_from_storage=function(t){var e=this,n=[];this.create_file_list(t,[".png",".jpg"]).forEach(function(t){var r=e.url_to_filename(t);n.includes(r)||n.push(r)}),this.file.resolveDirectoryUrl(this.file.cacheDirectory).then(function(t){e.load_files_from_directory(t,n)},function(t){console.log("can't resolve directory url",t)})},t.prototype.get_image_by_url=function(t){return mt(this,void 0,void 0,function(){var e,n;return vt(this,function(r){switch(r.label){case 0:return this.image_urls[t]||!this.platform.is("cordova")?[3,2]:(e=this.url_to_filename(t),[4,this.file.readAsDataURL(this.file.cacheDirectory,e)]);case 1:n=r.sent(),this.image_urls[t]=this.sanitizer.bypassSecurityTrustUrl(n),r.label=2;case 2:return[2,this.image_urls[t]]}})})},t.prototype.load_files_from_directory=function(t,e){var n=this;this.stored_filenames=[],this.unavailable.forEach(function(t){var r=e.indexOf(n.url_to_filename(t));r>-1&&e.splice(r,1)}),this.file.listDir(this.file.cacheDirectory,"").then(function(t){var r=0;t.forEach(function(t){e.includes(t.name)&&(n.stored_filenames.push(t.name),r+=1)}),n.status("loading_images_complete","Loading images complete"),r<e.length?n.status("images_missing","Some X-Wing artwork is missing and must be downloaded"):(n.initialized=!0,n.status("images_complete","All X-Wing artwork loaded"))})},t.prototype.missing_file_list=function(t){var e=this,n=[];return this.create_file_list(t,[".png",".jpg"]).forEach(function(t){e.stored_filenames.includes(e.url_to_filename(t))||n.push(t)}),console.log("Missing files",n),n},t.prototype.hotlink_images=function(t){var e=this;this.create_file_list(t,[".png",".jpg"]).forEach(function(t){e.image_urls[t]=t}),this.status("loading_images_complete","Loading images complete"),this.status("images_complete","X-Wing artwork hotlinked"),this.initialized=!0},t.prototype.download_missing_images=function(){var t=this,e=this.missing_file_list({ffg:this.ffg_data,manifest:this.data});this.unavailable.forEach(function(n){var r=e.indexOf(t.url_to_filename(n));r>-1&&e.splice(r,1)});var n=Object(B.a)(e).pipe(Object(rt.a)(function(e){return Object(B.a)(t.http.downloadFile(e,t.file.cacheDirectory+t.url_to_filename(e))).pipe(Object(it.a)(function(t){return Object(nt.a)(void 0)}))})),r=0,o=0;n.subscribe(function(n){if(t.progress=(r+=1)/e.length*100,n){var i=t.url_to_filename(n.name);t.status("image_download","Downloaded "+i),t.stored_filenames.push(i)}else o+=1,t.status("image_download","Unable to download a file")},function(t){},function(){o>0?t.status("image_download_incomplete","Unable to download one or more images"):(t.status("image_download_complete","X-Wing artwork has been downloaded"),t.initialized=!0)})},t.ngInjectableDef=r.S({factory:function(){return new t(r.W(ht),r.W(H),r.W(i.d),r.W(i.Ib),r.W(ut),r.W(at),r.W(gt.b))},token:t,providedIn:"root"}),t}(),bt=function(){function t(t){var e=this;this.platform=t,this.platforms=[],this.platforms=["android","capacitor","cordova","desktop","ipod","iphone","ipad","ios","phablet","tablet","electron","mobile","pwa","hybrid"].filter(function(t){return e.platform.is(t)}),console.log("Platforms",this.platforms)}return t.prototype.getClass=function(){return this.platforms.indexOf("desktop")>=0?"-tablet":this.platforms.indexOf("tablet")>=0&&this.platform.isLandscape()?"-tablet":this.platforms.indexOf("tablet")>=0&&this.platform.isPortrait()?"-tablet-portrait":this.isPhone()&&this.platform.isPortrait()?"-phone-portrait":this.isPhone()&&this.platform.isLandscape()?"-phone-landscape":(console.log("Layout class can't be determined!",this.platforms),"-tablet")},t.prototype.isPhone=function(){return!this.platforms.includes("tablet")&&!this.platforms.includes("desktop")},t.ngInjectableDef=r.S({factory:function(){return new t(r.W(i.Ib))},token:t,providedIn:"root"}),t}(),wt=n("xk4V"),_t=n("6blF"),Ct=n("15JJ"),St=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return a.__extends(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return a.__extends(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(o){n=!0,r=!!o&&o||new Error(o)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return a.__extends(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n("pugT").a))),Et=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),Ot=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e}(function(t){function e(n,r){void 0===r&&(r=Et.now);var o=t.call(this,n,function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return a.__extends(e,t),e.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,o):t.prototype.schedule.call(this,n,r,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(Et)))(St),It=(new r.p("angularfire2.realtimeDatabaseURL"),function(){function t(t,e){this.zone=t,this.platformId=e}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.runGuarded(function(){return Ot.schedule.apply(Ot,t)})},t.prototype.keepUnstableUntilFirst=function(t){return Object(m.p)(this.platformId)?new _t.a(function(e){var n=function(){},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe(function(t){"scheduled"===r.state&&r.invoke(),e.next(t)},function(t){"scheduled"===r.state&&r.invoke(),e.error(t)},function(){"scheduled"===r.state&&r.invoke(),e.complete()})}):t},t.prototype.runOutsideAngular=function(t){var e=this;return new _t.a(function(n){return e.zone.runOutsideAngular(function(){return t.subscribe(function(t){return e.zone.run(function(){return n.next(t)})},function(t){return e.zone.run(function(){return n.error(t)})},function(){return e.zone.run(function(){return n.complete()})})})})},t}()),kt=function(t){return function(e){return new _t.a(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}},xt=n("Wcq6"),Tt=n.n(xt),Dt=new r.p("angularfire2.app.options"),Pt=new r.p("angularfire2.app.nameOrConfig"),At=function(){return function(){}}();function Nt(t,e){var n="object"==typeof e&&e||{};return n.name=n.name||"string"==typeof e&&e||"[DEFAULT]",Tt.a.apps.filter(function(t){return t&&t.name===n.name})[0]||Tt.a.initializeApp(t,n)}new r.A;var Mt=function(){function t(){}var e;return e=t,t.initializeApp=function(t,n){return{ngModule:e,providers:[{provide:Dt,useValue:t},{provide:Pt,useValue:n}]}},t}(),Rt=function(){return function(t,e,n,r){var o=this;this.zone=r;var i=new It(r,n);this.auth=r.runOutsideAngular(function(){return Nt(t,e).auth()}),this.authState=i.keepUnstableUntilFirst(i.runOutsideAngular(new _t.a(function(t){return{unsubscribe:o.auth.onAuthStateChanged(t)}}))),this.user=i.keepUnstableUntilFirst(i.runOutsideAngular(new _t.a(function(t){return{unsubscribe:o.auth.onIdTokenChanged(t)}}))),this.idToken=this.user.pipe(Object(Ct.a)(function(t){return t?Object(B.a)(t.getIdToken()):Object(nt.a)(null)})),this.idTokenResult=this.user.pipe(Object(Ct.a)(function(t){return t?Object(B.a)(t.getIdTokenResult()):Object(nt.a)(null)}))}}(),jt=n("wj3C"),Lt=n.n(jt);(function(){var t,e=e||{},n=this;function r(t){return"string"==typeof t}function o(t){return"boolean"==typeof t}var i=/^[\w+\/_-]+[=]{0,2}$/,a=null;function s(){}function u(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function l(t){return null===t}function c(t){return"array"==u(t)}function h(t){var e=u(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==u(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var p="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function y(t,e,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:v).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.pb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.gd=function(t,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return e.prototype[n].apply(t,o)}}function C(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function S(t){if(Error.captureStackTrace)Error.captureStackTrace(this,S);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function E(t,e){for(var n="",r=(t=t.split("%s")).length-1,o=0;o<r;o++)n+=t[o]+(o<e.length?e[o]:"%s");S.call(this,n+t[r])}function O(t,e){throw new E("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function I(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function k(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function x(){this.b=this.a=null}_(S,Error),S.prototype.name="CustomError",_(E,S),E.prototype.name="AssertionError",I.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var T=new I(function(){return new P},function(t){t.reset()});function D(){var t=dt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function P(){this.next=this.b=this.a=null}x.prototype.add=function(t,e){var n=T.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},P.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},P.prototype.reset=function(){this.next=this.b=this.a=null};var A=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(r(t))return r(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},N=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var o=t.length,i=r(t)?t.split(""):t,a=0;a<o;a++)a in i&&e.call(n,i[a],a,t)},M=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,o=Array(n),i=r(t)?t.split(""):t,a=0;a<n;a++)a in i&&(o[a]=e.call(void 0,i[a],a,t));return o},R=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,o=r(t)?t.split(""):t,i=0;i<n;i++)if(i in o&&e.call(void 0,o[i],i,t))return!0;return!1};function j(t,e){return 0<=A(t,e)}function L(t,e){var n;return(n=0<=(e=A(t,e)))&&Array.prototype.splice.call(t,e,1),n}function U(t,e){!function(t,e){var n=t.length,o=r(t)?t.split(""):t;for(--n;0<=n;--n)n in o&&e.call(void 0,o[n],n,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function q(t){return Array.prototype.concat.apply([],arguments)}function F(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var V,B=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},z=/&/g,H=/</g,G=/>/g,W=/"/g,K=/'/g,Q=/\x00/g,J=/[\x00&<>"']/;function X(t,e){return-1!=t.indexOf(e)}function Y(t,e){return t<e?-1:t>e?1:0}t:{var Z=n.navigator;if(Z){var $=Z.userAgent;if($){V=$;break t}}V=""}function tt(t){return X(V,t)}function et(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function nt(t){for(var e in t)return!1;return!0}function rt(t){var e,n={};for(e in t)n[e]=t[e];return n}var ot,it,at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(t,e){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])t[n]=r[n];for(var i=0;i<at.length;i++)n=at[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ut(t,e){for(var n=t.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")}function lt(t){return J.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(z,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(H,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(G,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(W,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(K,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(Q,"&#0;"))),t}function ct(t){n.setTimeout(function(){throw t},0)}function ht(t,e){it||function(){if(n.Promise&&n.Promise.resolve){var t=n.Promise.resolve(void 0);it=function(){t.then(pt)}}else it=function(){var t=pt;!f(n.setImmediate)||n.Window&&n.Window.prototype&&!tt("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(ot||(ot=function(){var t=n.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!tt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=y(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!tt("Trident")&&!tt("MSIE")){var e=new t,r={},o=r;return e.port1.onmessage=function(){if(void 0!==r.next){var t=(r=r.next).xb;r.xb=null,t()}},function(t){o.next={xb:t},o=o.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}()),ot(t)):n.setImmediate(t)}}(),ft||(it(),ft=!0),dt.add(t,e)}var ft=!1,dt=new x;function pt(){for(var t;t=D();){try{t.a.call(t.b)}catch(e){ct(e)}k(T,t)}ft=!1}function gt(t,e){if(this.a=mt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=s)try{var n=this;t.call(e,function(t){xt(n,vt,t)},function(t){if(!(t instanceof Rt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}xt(n,yt,t)})}catch(r){xt(this,yt,r)}}var mt=0,vt=2,yt=3;function bt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}bt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var wt=new I(function(){return new bt},function(t){t.reset()});function _t(t,e,n){var r=wt.get();return r.g=t,r.b=e,r.f=n,r}function Ct(t){if(t instanceof gt)return t;var e=new gt(s);return xt(e,vt,t),e}function St(t){return new gt(function(e,n){n(t)})}function Et(t,e,n){Tt(t,e,n,null)||ht(b(e,t))}function Ot(t){return new gt(function(e){var n=t.length,r=[];if(n)for(var o=function(t,o,i){n--,r[t]=o?{Eb:!0,value:i}:{Eb:!1,reason:i},0==n&&e(r)},i=0;i<t.length;i++)Et(t[i],b(o,i,!0),b(o,i,!1));else e(r)})}function It(t,e){t.b||t.a!=vt&&t.a!=yt||Dt(t),t.f?t.f.next=e:t.b=e,t.f=e}function kt(t,e,n,r){var o=_t(null,null,null);return o.a=new gt(function(t,i){o.g=e?function(n){try{var o=e.call(r,n);t(o)}catch(a){i(a)}}:t,o.b=n?function(e){try{var o=n.call(r,e);void 0===o&&e instanceof Rt?i(e):t(o)}catch(a){i(a)}}:i}),o.a.c=t,It(t,o),o.a}function xt(t,e,n){t.a==mt&&(t===n&&(e=yt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Tt(n,t.Pc,t.Qc,t)||(t.i=n,t.a=e,t.c=null,Dt(t),e!=yt||n instanceof Rt||function(t,e){t.g=!0,ht(function(){t.g&&Mt.call(null,e)})}(t,n)))}function Tt(t,e,n,r){if(t instanceof gt)return It(t,_t(e||s,n||null,r)),!0;if(C(t))return t.then(e,n,r),!0;if(d(t))try{var o=t.then;if(f(o))return function(t,e,n,r,o){function i(t){a||(a=!0,r.call(o,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(o,t))},i)}catch(s){i(s)}}(t,o,e,n,r),!0}catch(i){return n.call(r,i),!0}return!1}function Dt(t){t.h||(t.h=!0,ht(t.Yb,t))}function Pt(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function At(t,e,n,r){if(n==yt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Nt(e,n,r);else try{e.c?e.g.call(e.f):Nt(e,n,r)}catch(o){Mt.call(null,o)}k(wt,e)}function Nt(t,e,n){e==vt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}gt.prototype.then=function(t,e,n){return kt(this,f(t)?t:null,f(e)?e:null,n)},gt.prototype.$goog_Thenable=!0,(t=gt.prototype).ia=function(t,e){return(t=_t(t,t,e)).c=!0,It(this,t),this},t.s=function(t,e){return kt(this,null,t,e)},t.cancel=function(t){this.a==mt&&ht(function(){!function t(e,n){if(e.a==mt)if(e.c){var r=e.c;if(r.b){for(var o=0,i=null,a=null,s=r.b;s&&(s.c||(o++,s.a==e&&(i=s),!(i&&1<o)));s=s.next)i||(a=s);i&&(r.a==mt&&1==o?t(r,n):(a?((o=a).next==r.f&&(r.f=o),o.next=o.next.next):Pt(r),At(r,i,yt,n)))}e.c=null}else xt(e,yt,n)}(this,new Rt(t))},this)},t.Pc=function(t){this.a=mt,xt(this,vt,t)},t.Qc=function(t){this.a=mt,xt(this,yt,t)},t.Yb=function(){for(var t;t=Pt(this);)At(this,t,this.a,this.i);this.h=!1};var Mt=ct;function Rt(t){S.call(this,t)}function jt(){0!=Ut&&(qt[this[p]||(this[p]=++g)]=this),this.qa=this.qa,this.ja=this.ja}_(Rt,S),Rt.prototype.name="cancel";var Ut=0,qt={};function Ft(t){if(!t.qa&&(t.qa=!0,t.va(),0!=Ut)){var e=t[p]||(t[p]=++g);if(0!=Ut&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete qt[e]}}function Vt(t){return Vt[" "](t),t}jt.prototype.qa=!1,jt.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},Vt[" "]=s;var Bt,zt,Ht=tt("Opera"),Gt=tt("Trident")||tt("MSIE"),Wt=tt("Edge"),Kt=Wt||Gt,Qt=tt("Gecko")&&!(X(V.toLowerCase(),"webkit")&&!tt("Edge"))&&!(tt("Trident")||tt("MSIE"))&&!tt("Edge"),Jt=X(V.toLowerCase(),"webkit")&&!tt("Edge");function Xt(){var t=n.document;return t?t.documentMode:void 0}t:{var Yt="",Zt=(zt=V,Qt?/rv:([^\);]+)(\)|;)/.exec(zt):Wt?/Edge\/([\d\.]+)/.exec(zt):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zt):Jt?/WebKit\/(\S+)/.exec(zt):Ht?/(?:Version)[ \/]?(\S+)/.exec(zt):void 0);if(Zt&&(Yt=Zt?Zt[1]:""),Gt){var $t=Xt();if(null!=$t&&$t>parseFloat(Yt)){Bt=String($t);break t}}Bt=Yt}var te,ee={};function ne(t){return function(t,e){var n=ee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=B(String(Bt)).split("."),r=B(String(t)).split("."),o=Math.max(n.length,r.length),i=0;0==e&&i<o;i++){var a=n[i]||"",s=r[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Y(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Y(0==a[2].length,0==s[2].length)||Y(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var re=n.document;te=re&&Gt?Xt()||("CSS1Compat"==re.compatMode?parseInt(Bt,10):5):void 0;var oe=Object.freeze||function(t){return t},ie=!Gt||9<=Number(te),ae=Gt&&!ne("9"),se=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{n.addEventListener("test",s,e),n.removeEventListener("test",s,e)}catch(r){}return t}();function ue(t,e){this.type=t,this.b=this.target=e,this.Kb=!0}function le(t,e){if(ue.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,o=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{Vt(e.nodeName);var i=!0;break t}catch(a){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=r(t.pointerType)?t.pointerType:ce[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}ue.prototype.preventDefault=function(){this.Kb=!1},_(le,ue);var ce=oe({2:"touch",3:"pen",4:"mouse"});le.prototype.preventDefault=function(){le.pb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ae)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},le.prototype.f=function(){return this.a};var he="closure_listenable_"+(1e6*Math.random()|0),fe=0;function de(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ma=o,this.key=++fe,this.oa=this.Ia=!1}function pe(t){t.oa=!0,t.listener=null,t.proxy=null,t.src=null,t.Ma=null}function ge(t){this.src=t,this.a={},this.b=0}function me(t,e){var n=e.type;n in t.a&&L(t.a[n],e)&&(pe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function ve(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(!i.oa&&i.listener==e&&i.capture==!!n&&i.Ma==r)return o}return-1}ge.prototype.add=function(t,e,n,r,o){var i=t.toString();(t=this.a[i])||(t=this.a[i]=[],this.b++);var a=ve(t,e,r,o);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new de(e,this.src,i,!!r,o)).Ia=n,t.push(e)),e};var ye="closure_lm_"+(1e6*Math.random()|0),be={};function we(t,e,n,r,o){if(r&&r.once)Ce(t,e,n,r,o);else if(c(e))for(var i=0;i<e.length;i++)we(t,e[i],n,r,o);else n=Pe(n),t&&t[he]?Ne(t,e,n,d(r)?!!r.capture:!!r,o):_e(t,e,n,!1,r,o)}function _e(t,e,n,r,o,i){if(!e)throw Error("Invalid event type");var a=d(o)?!!o.capture:!!o,s=Te(t);if(s||(t[ye]=s=new ge(t)),!(n=s.add(e,n,r,a,i)).proxy)if(r=function(){var t=xe,e=ie?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)se||(o=a),void 0===o&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(Oe(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function Ce(t,e,n,r,o){if(c(e))for(var i=0;i<e.length;i++)Ce(t,e[i],n,r,o);else n=Pe(n),t&&t[he]?Me(t,e,n,d(r)?!!r.capture:!!r,o):_e(t,e,n,!0,r,o)}function Se(t,e,n,r,o){if(c(e))for(var i=0;i<e.length;i++)Se(t,e[i],n,r,o);else r=d(r)?!!r.capture:!!r,n=Pe(n),t&&t[he]?(t=t.o,(e=String(e).toString())in t.a&&-1<(n=ve(i=t.a[e],n,r,o))&&(pe(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete t.a[e],t.b--))):t&&(t=Te(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ve(e,n,r,o)),(n=-1<t?e[t]:null)&&Ee(n))}function Ee(t){if("number"!=typeof t&&t&&!t.oa){var e=t.src;if(e&&e[he])me(e.o,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Oe(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Te(e))?(me(n,t),0==n.b&&(n.src=null,e[ye]=null)):pe(t)}}}function Oe(t){return t in be?be[t]:be[t]="on"+t}function Ie(t,e,n,r){var o=!0;if((t=Te(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var i=e[t];i&&i.capture==n&&!i.oa&&(i=ke(i,r),o=o&&!1!==i)}return o}function ke(t,e){var n=t.listener,r=t.Ma||t.src;return t.Ia&&Ee(t),n.call(r,e)}function xe(t,e){if(t.oa)return!0;if(!ie){if(!e)t:{e=["window","event"];for(var r=n,o=0;o<e.length;o++)if(null==(r=r[e[o]])){e=null;break t}e=r}if(e=new le(o=e,this),r=!0,!(0>o.keyCode||null!=o.returnValue)){t:{var i=!1;if(0==o.keyCode)try{o.keyCode=-1;break t}catch(s){i=!0}(i||null==o.returnValue)&&(o.returnValue=!0)}for(o=[],i=e.b;i;i=i.parentNode)o.push(i);for(t=t.type,i=o.length-1;0<=i;i--){e.b=o[i];var a=Ie(o[i],t,!0,e);r=r&&a}for(i=0;i<o.length;i++)e.b=o[i],a=Ie(o[i],t,!1,e),r=r&&a}return r}return ke(t,new le(e,this))}function Te(t){return(t=t[ye])instanceof ge?t:null}var De="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pe(t){return f(t)?t:(t[De]||(t[De]=function(e){return t.handleEvent(e)}),t[De])}function Ae(){jt.call(this),this.o=new ge(this),this.Rb=this,this.Wa=null}function Ne(t,e,n,r,o){t.o.add(String(e),n,!1,r,o)}function Me(t,e,n,r,o){t.o.add(String(e),n,!0,r,o)}function Re(t,e,n,r){if(!(e=t.o.a[String(e)]))return!0;e=e.concat();for(var o=!0,i=0;i<e.length;++i){var a=e[i];if(a&&!a.oa&&a.capture==n){var s=a.listener,u=a.Ma||a.src;a.Ia&&me(t.o,a),o=!1!==s.call(u,r)&&o}}return o&&0!=r.Kb}function je(t,e,r){if(f(t))r&&(t=y(t,r));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=y(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)}function Le(t){var e=null;return new gt(function(n,r){-1==(e=je(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw n.clearTimeout(e),t})}function Ue(t){if(t.S&&"function"==typeof t.S)return t.S();if(r(t))return t.split("");if(h(t)){for(var e=[],n=t.length,o=0;o<n;o++)e.push(t[o]);return e}for(o in e=[],n=0,t)e[n++]=t[o];return e}function qe(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(h(t)||r(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var o in e=[],n=0,t)e[n++]=o;return e}}function Fe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Fe)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ve(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Be(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var o={};for(n=e=0;e<t.a.length;)Be(o,r=t.a[e])||(t.a[n++]=r,o[r]=1),e++;t.a.length=n}}function Be(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(Ae,jt),Ae.prototype[he]=!0,Ae.prototype.addEventListener=function(t,e,n,r){we(this,t,e,n,r)},Ae.prototype.removeEventListener=function(t,e,n,r){Se(this,t,e,n,r)},Ae.prototype.dispatchEvent=function(t){var e,n=this.Wa;if(n)for(e=[];n;n=n.Wa)e.push(n);n=this.Rb;var o=t.type||t;if(r(t))t=new ue(t,n);else if(t instanceof ue)t.target=t.target||n;else{var i=t;st(t=new ue(o,n),i)}if(i=!0,e)for(var a=e.length-1;0<=a;a--){var s=t.b=e[a];i=Re(s,o,!0,t)&&i}if(i=Re(s=t.b=n,o,!0,t)&&i,i=Re(s,o,!1,t)&&i,e)for(a=0;a<e.length;a++)i=Re(s=t.b=e[a],o,!1,t)&&i;return i},Ae.prototype.va=function(){if(Ae.pb.va.call(this),this.o){var t,e=this.o;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)pe(n[r]);delete e.a[t],e.b--}}this.Wa=null},(t=Fe.prototype).S=function(){Ve(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return Ve(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Be(this.b,t)?this.b[t]:e},t.set=function(t,e){Be(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);t.call(e,i,o,this)}};var ze=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function He(t,e){if(this.b=this.o=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof He){this.f=void 0!==e?e:t.f,Ge(this,t.c),this.o=t.o,this.b=t.b,We(this,t.i),this.g=t.g,e=t.a;var n=new sn;n.c=e.c,e.a&&(n.a=new Fe(e.a),n.b=e.b),Ke(this,n),this.h=t.h}else t&&(n=String(t).match(ze))?(this.f=!!e,Ge(this,n[1]||"",!0),this.o=Ze(n[2]||""),this.b=Ze(n[3]||"",!0),We(this,n[4]),this.g=Ze(n[5]||"",!0),Ke(this,n[6]||"",!0),this.h=Ze(n[7]||"")):(this.f=!!e,this.a=new sn(null,this.f))}function Ge(t,e,n){t.c=n?Ze(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function We(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Ke(t,e,n){e instanceof sn?(t.a=e,function(t,e){e&&!t.f&&(un(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(cn(this,e),fn(this,n,t))},t)),t.f=e}(t.a,t.f)):(n||(e=$e(e,on)),t.a=new sn(e,t.f))}function Qe(t,e,n){t.a.set(e,n)}function Je(t,e){return t.a.get(e)}function Xe(t){return t instanceof He?new He(t):new He(t,void 0)}function Ye(t,e){var n=new He(null,void 0);return Ge(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function Ze(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $e(t,e,n){return r(t)?(t=encodeURI(t).replace(e,tn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}He.prototype.toString=function(){var t=[],e=this.c;e&&t.push($e(e,en,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push($e(e,en,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push($e(n,"/"==n.charAt(0)?rn:nn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",$e(n,an)),t.join("")};var en=/[#\/\?@]/g,nn=/[#\?:]/g,rn=/[#\?]/g,on=/[#\?@]/g,an=/#/g;function sn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function un(t){t.a||(t.a=new Fe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var i=t[n].substring(0,r);o=t[n].substring(r+1)}else i=t[n];e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ln(t){var e=qe(t);if(void 0===e)throw Error("Keys are undefined");var n=new sn(null,void 0);t=Ue(t);for(var r=0;r<e.length;r++){var o=e[r],i=t[r];c(i)?fn(n,o,i):n.add(o,i)}return n}function cn(t,e){un(t),e=dn(t,e),Be(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Be((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ve(t)))}function hn(t,e){return un(t),e=dn(t,e),Be(t.a.b,e)}function fn(t,e,n){cn(t,e),0<n.length&&(t.c=null,t.a.set(dn(t,e),F(n)),t.b+=n.length)}function dn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=sn.prototype).add=function(t,e){un(this),this.c=null,t=dn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){un(this),this.a.forEach(function(n,r){N(n,function(n){t.call(e,n,r,this)},this)},this)},t.U=function(){un(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var o=t[r],i=0;i<o.length;i++)n.push(e[r]);return n},t.S=function(t){un(this);var e=[];if(r(t))hn(this,t)&&(e=q(e,this.a.get(dn(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=q(e,t[n])}return e},t.set=function(t,e){return un(this),this.c=null,hn(this,t=dn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.S(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],o=encodeURIComponent(String(r));r=this.S(r);for(var i=0;i<r.length;i++){var a=o;""!==r[i]&&(a+="="+encodeURIComponent(String(r[i]))),t.push(a)}}return this.c=t.join("&")};var pn=!Gt||9<=Number(te);function gn(t,e){this.a=t===yn&&e||"",this.b=vn}function mn(t){return t instanceof gn&&t.constructor===gn&&t.b===vn?t.a:(O("expected object of type Const, got '"+t+"'"),"type_error:Const")}gn.prototype.na=!0,gn.prototype.ma=function(){return this.a},gn.prototype.toString=function(){return"Const{"+this.a+"}"};var vn={},yn={};function bn(){this.a="",this.b=En}function wn(t){return t instanceof bn&&t.constructor===bn&&t.b===En?t.a:(O("expected object of type TrustedResourceUrl, got '"+t+"' of type "+u(t)),"type_error:TrustedResourceUrl")}function _n(t,e){var n=mn(t);if(!Sn.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=new bn;return e.a=t,e}(t=n.replace(Cn,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof gn?mn(t):encodeURIComponent(String(t))}))}bn.prototype.na=!0,bn.prototype.ma=function(){return this.a.toString()},bn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Cn=/%{(\w+)}/g,Sn=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^\/\\]|[^:\/\\%]+\/|[^:\/\\%]*[?#]|about:blank#)/i,En={};function On(){this.a="",this.b=Tn}function In(t){return t instanceof On&&t.constructor===On&&t.b===Tn?t.a:(O("expected object of type SafeUrl, got '"+t+"' of type "+u(t)),"type_error:SafeUrl")}On.prototype.na=!0,On.prototype.ma=function(){return this.a.toString()},On.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var kn=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function xn(t){return t instanceof On?t:(t="object"==typeof t&&t.na?t.ma():String(t),kn.test(t)||(t="about:invalid#zClosurez"),Dn(t))}var Tn={};function Dn(t){var e=new On;return e.a=t,e}function Pn(){this.a="",this.b=An}Dn("about:blank"),Pn.prototype.na=!0,Pn.prototype.ma=function(){return this.a.toString()},Pn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var An={};function Nn(t){var e=new Pn;return e.a=t,e}function Mn(t){var e=document;return r(t)?e.getElementById(t):t}function Rn(t,e){et(e,function(e,n){e&&"object"==typeof e&&e.na&&(e=e.ma()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:jn.hasOwnProperty(n)?t.setAttribute(jn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}Nn("<!DOCTYPE html>"),Nn(""),Nn("<br>");var jn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ln(t){if(t&&"number"==typeof t.length){if(d(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}function Un(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(c(n)){var o=n;n=o.length,r.push("[");for(var i="",a=0;a<n;a++)r.push(i),t(e,o[a],r),i=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(o in r.push("{"),i="",n)Object.prototype.hasOwnProperty.call(n,o)&&"function"!=typeof(a=n[o])&&(r.push(i),Bn(o,r),r.push(":"),t(e,a,r),i=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Bn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new qn,t,e),e.join("")}function qn(){}var Fn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Vn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Bn(t,e){e.push('"',t.replace(Vn,function(t){var e=Fn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Fn[t]=e),e}),'"')}function zn(){var t=ur();return Gt&&!!te&&11==te||/Edge\/\d+/.test(t)}function Hn(){return n.window&&n.window.location.href||self&&self.location&&self.location.href||""}function Gn(t,e){e=e||n.window;var r="about:blank";t&&(r=In(xn(t)).toString()),e.location.href=r}function Wn(t){return!!((t=(t||ur()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Kn(t){t=t||n.window;try{t.close()}catch(e){}}function Qn(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var o=(window.screen.availHeight-n)/2,i=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<o?o:0,left:0<i?i:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=ur().toLowerCase(),r&&(e.target=r,X(n,"crios/")&&(e.target="_blank")),ir(ur())==rr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof On?n:xn(void 0!==n.href?n.href:String(n)),n=t.target||n.target,o=[],t)switch(a){case"width":case"height":case"top":case"left":o.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:o.push(a+"="+(t[a]?1:0))}var a=o.join(",");if((tt("iPhone")&&!tt("iPod")&&!tt("iPad")||tt("iPad")||tt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),e instanceof On||e instanceof On||(e="object"==typeof e&&e.na?e.ma():String(e),kn.test(e)||(e="about:invalid#zClosurez"),e=Dn(e)),a.href=In(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=In(e).toString(),a&&(Kt&&X(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Nn('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+lt(t)+'">'),a.document.write(function(t){return t instanceof Pn&&t.constructor===Pn&&t.b===An?t.a:(O("expected object of type SafeHtml, got '"+t+"' of type "+u(t)),"type_error:SafeHtml")}(t)),a.document.close())):(a=r.open(In(e).toString(),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var Jn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xn=/^[^@]+@[^@]+$/;function Yn(){var t=null;return new gt(function(e){"complete"==n.document.readyState?e():(t=function(){e()},Ce(window,"load",t))}).s(function(e){throw Se(window,"load",t),e})}function Zn(t){return t=t||ur(),!("file:"!==dr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function $n(){var t=n.window;try{return!(!t||t==t.top)}catch(e){return!1}}function tr(){return void 0!==n.WorkerGlobalScope&&"function"==typeof n.importScripts}function er(){return Lt.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Lt.a.INTERNAL.hasOwnProperty("node")?"Node":tr()?"Worker":"Browser"}function nr(){var t=er();return"ReactNative"===t||"Node"===t}var rr="Firefox",or="Chrome";function ir(t){var e=t.toLowerCase();return X(e,"opera/")||X(e,"opr/")||X(e,"opios/")?"Opera":X(e,"iemobile")?"IEMobile":X(e,"msie")||X(e,"trident/")?"IE":X(e,"edge/")?"Edge":X(e,"firefox/")?rr:X(e,"silk/")?"Silk":X(e,"blackberry")?"Blackberry":X(e,"webos")?"Webos":!X(e,"safari/")||X(e,"chrome/")||X(e,"crios/")||X(e,"android")?!X(e,"chrome/")&&!X(e,"crios/")||X(e,"edge/")?X(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":or:"Safari"}var ar={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function sr(t,e){e=e||[];var n,r=[],o={};for(n in ar)o[ar[n]]=!0;for(n=0;n<e.length;n++)void 0!==o[e[n]]&&(delete o[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=er())?r=ir(o=ur()):"Worker"===r&&(r=ir(o=ur())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function ur(){return n.navigator&&n.navigator.userAgent||""}function lr(t,e){t=t.split("."),e=e||n;for(var r=0;r<t.length&&"object"==typeof e&&null!=e;r++)e=e[t[r]];return r!=t.length&&(e=void 0),e}function cr(){try{var t=n.localStorage,e=yr();if(t)return t.setItem(e,"1"),t.removeItem(e),!zn()||!!n.indexedDB}catch(r){return tr()&&!!n.indexedDB}return!1}function hr(){return(fr()||"chrome-extension:"===dr()||Zn())&&!nr()&&cr()&&!tr()}function fr(){return"http:"===dr()||"https:"===dr()}function dr(){return n.location&&n.location.protocol||null}function pr(t){return!Wn(t=t||ur())&&ir(t)!=rr}function gr(t){return void 0===t?null:Un(t)}function mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function vr(t){if(null!==t)return JSON.parse(t)}function yr(t){return t||Math.floor(1e9*Math.random()).toString()}function br(t){return"Safari"!=ir(t=t||ur())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function wr(){var t=n.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var r=0;r<t.CP.length;r++)t.CP[r]=null}function _r(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=ur(),e=er(),this.b=Wn(t)||"ReactNative"===e}function Cr(){var t=n.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Sr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Er(){return!(!lr("fireauth.oauthhelper",n)&&!lr("fireauth.iframe",n))}_r.prototype.get=function(){var t=n.navigator;return!t||"boolean"!=typeof t.onLine||!fr()&&"chrome-extension:"!==dr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Or,Ir={};function kr(t){Ir[t]||(Ir[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var xr={};Object.defineProperty(xr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(xr,"abcd",{configurable:!0,enumerable:!0,value:2}),Or=2==xr.abcd}catch(zt){Or=!1}function Tr(t,e,n){Or?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Dr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Tr(t,n,e[n])}function Pr(t){var e={};return Dr(e,t),e}function Ar(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Tr(e,n,Ar(t[n]));return e}function Nr(t){var e={},n=t[Rr],r=t[jr];if(!(t=t[Lr])||t!=Mr&&!n)throw Error("Invalid provider user info!");e[qr]=r||null,e[Ur]=n||null,Tr(this,Vr,t),Tr(this,Fr,Ar(e))}var Mr="EMAIL_SIGNIN",Rr="email",jr="newEmail",Lr="requestType",Ur="email",qr="fromEmail",Fr="data",Vr="operation";function Br(t,e){this.code=Hr+t,this.message=e||Gr[t]||""}function zr(t){var e=t&&t.code;return e?new Br(e.substring(Hr.length),t.message):null}_(Br,Error),Br.prototype.w=function(){return{code:this.code,message:this.message}},Br.prototype.toJSON=function(){return this.w()};var Hr="auth/",Gr={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Wr(t){var e=t[Yr];if(void 0===e)throw new Br("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Br("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Kr];if(n&&"object"==typeof n){e=n[to];var r=n[Zr];if(n=n[$r],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Br("argument-error",Zr+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Br("argument-error",$r+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Br("argument-error",to+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Br("missing-android-pkg-name")}}else if(void 0!==n)throw new Br("argument-error",Kr+" property must be a non null object when specified.");if(this.f=null,(e=t[Xr])&&"object"==typeof e){if("string"==typeof(e=e[eo])&&e.length)this.f=e;else if(void 0!==e)throw new Br("argument-error",eo+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Br("argument-error",Xr+" property must be a non null object when specified.");if(void 0!==(e=t[Jr])&&"boolean"!=typeof e)throw new Br("argument-error",Jr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Qr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Br("argument-error",Qr+" property must be a non empty string when specified.");this.i=t||null}var Kr="android",Qr="dynamicLinkDomain",Jr="handleCodeInApp",Xr="iOS",Yr="url",Zr="installApp",$r="minimumVersion",to="packageName",eo="bundleId";function no(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var ro=null,oo=null;function io(t){this.c=t.sub,w(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function ao(t){return(t=so(t))&&t.sub&&t.iss&&t.aud&&t.exp?new io(t):null}function so(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),o=oo[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!ro){ro={},oo={};for(var t=0;65>t;t++)ro[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),oo[ro[t]]=t,62<=t&&(oo["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var o=n(-1),i=n(0),a=n(64),s=n(64);if(64===s&&-1===o)break;e(o<<2|i>>4),64!=a&&(e(i<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(r){}return null}io.prototype.f=function(){return this.b};var uo,lo={bd:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",jb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function co(t){for(var e in lo)if(lo[e].id===t)return{firebaseEndpoint:(t=lo[e]).bb,secureTokenEndpoint:t.jb};return null}uo=co("__EID__")?"__EID__":void 0;var ho="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),fo=["client_id","response_type","scope","redirect_uri","state"],po={Xc:{Na:"locale",Ba:500,Aa:600,Oa:"facebook.com",ib:fo},Zc:{Na:null,Ba:500,Aa:620,Oa:"github.com",ib:fo},$c:{Na:"hl",Ba:515,Aa:680,Oa:"google.com",ib:fo},fd:{Na:"lang",Ba:485,Aa:705,Oa:"twitter.com",ib:ho}};function go(t){for(var e in po)if(po[e].Oa==t)return po[e];return null}function mo(t){var e={};e["facebook.com"]=_o,e["google.com"]=So,e["github.com"]=Co,e["twitter.com"]=Eo;var n=t&&t[yo];try{if(n)return e[n]?new e[n](t):new wo(t);if(void 0!==t[vo])return new bo(t)}catch(r){}return null}var vo="idToken",yo="providerId";function bo(t){var e=t[yo];if(!e&&t[vo]){var n=ao(t[vo]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Tr(this,"providerId",e),Tr(this,"isNewUser",n)}function wo(t){bo.call(this,t),Tr(this,"profile",Ar((t=vr(t.rawUserInfo||"{}"))||{}))}function _o(t){if(wo.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Co(t){if(wo.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Tr(this,"username",this.profile&&this.profile.login||null)}function So(t){if(wo.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Eo(t){if(wo.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Tr(this,"username",t.screenName||null)}function Oo(t){this.a=Xe(t)}function Io(t){var e=Xe(t),n=Je(e,"link"),r=Je(Xe(n),"link");return e=Je(e,"deep_link_id"),Je(Xe(e),"link")||e||r||n||t}function ko(){}function xo(t,e){return t.then(function(t){if(t[da]){var n=ao(t[da]);if(!n||e!=n.c)throw new Br("user-mismatch");return t}throw new Br("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==Hr+"user-not-found"?new Br("user-mismatch"):t})}function To(t,e){if(!e)throw new Br("internal-error","failed to construct a credential");this.a=e,Tr(this,"providerId",t),Tr(this,"signInMethod",t)}function Do(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Po(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new To(t.providerId,t.pendingToken)}catch(e){}return null}function Ao(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Tr(this,"idToken",e.idToken),e.accessToken&&Tr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Tr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Br("internal-error","failed to construct a credential");Tr(this,"accessToken",e.oauthToken),Tr(this,"secret",e.oauthTokenSecret)}Tr(this,"providerId",t),Tr(this,"signInMethod",n)}function No(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:ln(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Mo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Ao(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Ro(t,e){this.Fc=e||[],Dr(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.eb=(go(t)||{}).Na||null,this.ab=null}function jo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Br("argument-error",'SAML provider IDs must be prefixed with "saml."');Ro.call(this,t,[])}function Lo(t){Ro.call(this,t,fo),this.a=[]}function Uo(){Lo.call(this,"facebook.com")}function qo(t){if(!t)throw new Br("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new Uo).credential({accessToken:e})}function Fo(){Lo.call(this,"github.com")}function Vo(t){if(!t)throw new Br("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new Fo).credential({accessToken:e})}function Bo(){Lo.call(this,"google.com"),this.ua("profile")}function zo(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new Bo).credential({idToken:n,accessToken:e})}function Ho(){Ro.call(this,"twitter.com",ho)}function Go(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Br("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ao("twitter.com",n,"twitter.com")}function Wo(t,e,n){this.a=t,this.c=e,Tr(this,"providerId","password"),Tr(this,"signInMethod",n===Qo.EMAIL_LINK_SIGN_IN_METHOD?Qo.EMAIL_LINK_SIGN_IN_METHOD:Qo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ko(t){return t&&t.email&&t.password?new Wo(t.email,t.password,t.signInMethod):null}function Qo(){Dr(this,{providerId:"password",isOAuthProvider:!1})}function Jo(t,e){if(!(e=Xo(e)))throw new Br("argument-error","Invalid email link!");return new Wo(t,e,Qo.EMAIL_LINK_SIGN_IN_METHOD)}function Xo(t){var e=Je((t=new Oo(t=Io(t))).a,"oobCode")||null;return"signIn"===(Je(t.a,"mode")||null)&&e?e:null}function Yo(t){if(!(t.Ua&&t.Ta||t.Fa&&t.$))throw new Br("internal-error");this.a=t,Tr(this,"providerId","phone"),Tr(this,"signInMethod","phone")}function Zo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return N(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Yo(e)}return null}function $o(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Ua,code:t.a.Ta}}function ti(t){try{this.a=t||Lt.a.auth()}catch(e){throw new Br("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Dr(this,{providerId:"phone",isOAuthProvider:!1})}function ei(t,e){if(!t)throw new Br("missing-verification-id");if(!e)throw new Br("missing-verification-code");return new Yo({Ua:t,Ta:e})}function ni(t){if(t.temporaryProof&&t.phoneNumber)return new Yo({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,o=t&&t.nonce,i=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return zo(i,n);case"facebook.com":return qo(n);case"github.com":return Vo(n);case"twitter.com":return Go(n,r);default:return n||r||i||a?a?0==e.indexOf("saml.")?new To(e,a):new Ao(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Lo(e).credential({idToken:i,accessToken:n,rawNonce:o}):null}}catch(s){return null}}function ri(t){if(!t.isOAuthProvider)throw new Br("invalid-oauth-provider")}function oi(t,e,n,r,o,i){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.h=i||null,this.a=o||null,!this.g&&!this.a)throw new Br("invalid-auth-event");if(this.g&&this.a)throw new Br("invalid-auth-event");if(this.g&&!this.f)throw new Br("invalid-auth-event")}function ii(t){return(t=t||{}).type?new oi(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&zr(t.error),t.postBody):null}function ai(){this.b=null,this.a=[]}_(wo,bo),_(_o,wo),_(Co,wo),_(So,wo),_(Eo,wo),To.prototype.la=function(t){return Pa(t,Do(this))},To.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,Aa(t,n)},To.prototype.f=function(t,e){return xo(Na(t,Do(this)),e)},To.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Ao.prototype.la=function(t){return Pa(t,No(this))},Ao.prototype.b=function(t,e){var n=No(this);return n.idToken=e,Aa(t,n)},Ao.prototype.f=function(t,e){return xo(Na(t,No(this)),e)},Ao.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Ro.prototype.Da=function(t){return this.zb=rt(t),this},_(jo,Ro),_(Lo,Ro),Lo.prototype.ua=function(t){return j(this.a,t)||this.a.push(t),this},Lo.prototype.Fb=function(){return F(this.a)},Lo.prototype.credential=function(t,e){var n;if(!(n=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new Br("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ao(this.providerId,n,this.providerId)},_(Uo,Lo),Tr(Uo,"PROVIDER_ID","facebook.com"),Tr(Uo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(Fo,Lo),Tr(Fo,"PROVIDER_ID","github.com"),Tr(Fo,"GITHUB_SIGN_IN_METHOD","github.com"),_(Bo,Lo),Tr(Bo,"PROVIDER_ID","google.com"),Tr(Bo,"GOOGLE_SIGN_IN_METHOD","google.com"),_(Ho,Ro),Tr(Ho,"PROVIDER_ID","twitter.com"),Tr(Ho,"TWITTER_SIGN_IN_METHOD","twitter.com"),Wo.prototype.la=function(t){return this.signInMethod==Qo.EMAIL_LINK_SIGN_IN_METHOD?us(t,Va,{email:this.a,oobCode:this.c}):us(t,os,{email:this.a,password:this.c})},Wo.prototype.b=function(t,e){return this.signInMethod==Qo.EMAIL_LINK_SIGN_IN_METHOD?us(t,Ba,{idToken:e,email:this.a,oobCode:this.c}):us(t,Za,{idToken:e,email:this.a,password:this.c})},Wo.prototype.f=function(t,e){return xo(this.la(t),e)},Wo.prototype.w=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Dr(Qo,{PROVIDER_ID:"password"}),Dr(Qo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Dr(Qo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Yo.prototype.la=function(t){return t.Va($o(this))},Yo.prototype.b=function(t,e){var n=$o(this);return n.idToken=e,us(t,as,n)},Yo.prototype.f=function(t,e){var n=$o(this);return n.operation="REAUTH",xo(t=us(t,ss,n),e)},Yo.prototype.w=function(){var t={providerId:"phone"};return this.a.Ua&&(t.verificationId=this.a.Ua),this.a.Ta&&(t.verificationCode=this.a.Ta),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},ti.prototype.Va=function(t,e){var n=this.a.b;return Ct(e.verify()).then(function(o){if(!r(o))throw new Br("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return us(n,Xa,e)}(0,{phoneNumber:t,recaptchaToken:o}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new Br("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Dr(ti,{PROVIDER_ID:"phone"}),Dr(ti,{PHONE_SIGN_IN_METHOD:"phone"}),oi.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.i&&t.push(this.i),t.join("-")},oi.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,error:this.a&&this.a.w()}};var si,ui=null;function li(t){var e="unauthorized-domain",n=void 0,r=Xe(t);t=r.b,"chrome-extension"==(r=r.c)?n=ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Br.call(this,e,n)}function ci(t,e,n){Br.call(this,t,n),(t=e||{}).Ab&&Tr(this,"email",t.Ab),t.$&&Tr(this,"phoneNumber",t.$),t.credential&&Tr(this,"credential",t.credential)}function hi(t){if(t.code){var e=t.code||"";0==e.indexOf(Hr)&&(e=e.substring(Hr.length));var n={credential:ni(t)};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.$=t.phoneNumber;else if(!n.credential)return new Br(e,t.message||void 0);return new ci(e,n,t.message)}return null}function fi(){}function di(){}function pi(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(o){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function gi(){}function mi(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=y(this.fc,this),this.a.onerror=y(this.Gb,this),this.a.onprogress=y(this.gc,this),this.a.ontimeout=y(this.kc,this)}function vi(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function yi(t,e,n){this.reset(t,e,n,void 0,void 0)}function bi(t){this.f=t,this.b=this.c=this.a=null}function wi(t,e){this.name=t,this.value=e}ai.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=lr("universalLinks.subscribe",n))&&t(null,this.b))},ai.prototype.unsubscribe=function(t){U(this.a,function(e){return e==t})},_(li,Br),_(ci,Br),ci.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.w();return e&&st(t,e),t},ci.prototype.toJSON=function(){return this.w()},fi.prototype.c=null,_(di,fi),di.prototype.a=function(){var t=pi(this);return t?new ActiveXObject(t):new XMLHttpRequest},di.prototype.b=function(){var t={};return pi(this)&&(t[0]=!0,t[1]=!0),t},si=new di,_(gi,fi),gi.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new mi;throw Error("Unsupported browser")},gi.prototype.b=function(){return{}},(t=mi.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,vi(this,4)},t.Gb=function(){this.status=500,this.response=this.responseText="",vi(this,4)},t.kc=function(){this.Gb()},t.gc=function(){this.status=200,vi(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},yi.prototype.a=null,yi.prototype.reset=function(t,e,n,r,o){r||w(),delete this.a},wi.prototype.toString=function(){return this.name};var _i=new wi("SEVERE",1e3),Ci=new wi("WARNING",900),Si=new wi("CONFIG",700),Ei=new wi("FINE",500);bi.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(O("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new yi(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Oi={},Ii=null;function ki(t){var e;if(Ii||(Ii=new bi(""),Oi[""]=Ii,Ii.c=Si),!(e=Oi[t])){e=new bi(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ki(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,Oi[t]=e}return e}function xi(t,e){t&&t.log(Ei,e,void 0)}function Ti(t){this.f=t}function Di(t){Ae.call(this),this.u=t,this.readyState=Pi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ki("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}_(Ti,fi),Ti.prototype.a=function(){return new Di(this.f)},Ti.prototype.b=function(t){return function(){return t}}({}),_(Di,Ae);var Pi=0;function Ai(t){t.c.read().then(t.ec.bind(t)).catch(t.La.bind(t))}function Ni(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Mi(t)}function Mi(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ri(t){Ae.call(this),this.headers=new Fe,this.D=t||null,this.c=!1,this.A=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.m=ji,this.v=this.O=!1}(t=Di.prototype).open=function(t,e){if(this.readyState!=Pi)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,Mi(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.g,e)).then(this.jc.bind(this),this.La.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ni(this,!1)),this.readyState=Pi},t.jc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Mi(this)),this.a&&(this.readyState=3,Mi(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.hc.bind(this),this.La.bind(this)):void 0!==n.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,Ai(this)):t.text().then(this.ic.bind(this),this.La.bind(this)))))},t.ec=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Ni(this,!0):Mi(this),3==this.readyState&&Ai(this)}},t.ic=function(t){this.a&&(this.response=this.responseText=t,Ni(this,!0))},t.hc=function(t){this.a&&(this.response=t,Ni(this,!0))},t.La=function(t){var e=this.h;e&&e.log(Ci,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&Ni(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Ci,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Ci,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},_(Ri,Ae);var ji="";Ri.prototype.b=ki("goog.net.XhrIo");var Li=/^https?$/i,Ui=["POST","PUT"];function qi(t){return"content-type"==t.toLowerCase()}function Fi(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Vi(t),zi(t)}function Vi(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Bi(t){if(t.c&&void 0!==e)if(t.A[1]&&4==Gi(t)&&2==Wi(t))xi(t.b,Ki(t,"Local request error detected and ignored"));else if(t.i&&4==Gi(t))je(t.Jb,0,t);else if(t.dispatchEvent("readystatechange"),4==Gi(t)){xi(t.b,Ki(t,"Request complete")),t.c=!1;try{var r,o=Wi(t);t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(r=i)){var a;if(a=0===o){var s=String(t.l).match(ze)[1]||null;if(!s&&n.self&&n.self.location){var u=n.self.location.protocol;s=u.substr(0,u.length-1)}a=!Li.test(s?s.toLowerCase():"")}r=a}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<Gi(t)?t.a.statusText:""}catch(c){xi(t.b,"Can not get status: "+c.message),l=""}t.h=l+" ["+Wi(t)+"]",Vi(t)}}finally{zi(t)}}}function zi(t,e){if(t.a){Hi(t);var n=t.a,r=t.A[0]?s:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(o){(t=t.b)&&t.log(_i,"Problem encountered resetting onreadystatechange: "+o.message,void 0)}}}function Hi(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(n.clearTimeout(t.u),t.u=null)}function Gi(t){return t.a?t.a.readyState:0}function Wi(t){try{return 2<Gi(t)?t.a.status:-1}catch(e){return-1}}function Ki(t,e){return e+" ["+t.N+" "+t.l+" "+Wi(t)+"]"}function Qi(t){var e=ia;this.g=[],this.v=e,this.u=t||null,this.f=this.a=!1,this.c=void 0,this.l=this.A=this.i=!1,this.h=0,this.b=null,this.o=0}function Ji(t,e,n){t.a=!0,t.c=n,t.f=!e,$i(t)}function Xi(t){if(t.a){if(!t.l)throw new ta(t);t.l=!1}}function Yi(t,e,n,r){t.g.push([e,n,r]),t.a&&$i(t)}function Zi(t){return R(t.g,function(t){return f(t[1])})}function $i(t){if(t.h&&t.a&&Zi(t)){var e=t.h,r=ra[e];r&&(n.clearTimeout(r.a),delete ra[e]),t.h=0}t.b&&(t.b.o--,delete t.b),e=t.c;for(var o=r=!1;t.g.length&&!t.i;){var i=t.g.shift(),a=i[0],s=i[1];if(i=i[2],a=t.f?s:a)try{var u=a.call(i||t.u,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(C(e)||"function"==typeof n.Promise&&e instanceof n.Promise)&&(o=!0,t.i=!0)}catch(l){e=l,t.f=!0,Zi(t)||(r=!0)}}t.c=e,o&&(u=y(t.m,t,!0),o=y(t.m,t,!1),e instanceof Qi?(Yi(e,u,o),e.A=!0):e.then(u,o)),r&&(e=new na(e),ra[e.a]=e,t.h=e.a)}function ta(){S.call(this)}function ea(){S.call(this)}function na(t){this.a=n.setTimeout(y(this.c,this),0),this.b=t}(t=Ri.prototype).Ga=function(){void 0!==e&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",xi(this.b,Ki(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(xi(this.b,Ki(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),zi(this))},t.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),zi(this,!0)),Ri.pb.va.call(this)},t.Jb=function(){this.qa||(this.I||this.i||this.f?Bi(this):this.yc())},t.yc=function(){Bi(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ji:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(_i,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return xi(this.b,"Can not get response: "+e.message),null}},Qi.prototype.cancel=function(t){if(this.a)this.c instanceof Qi&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.o--,0>=e.o&&e.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(t=new ea(this),Xi(this),Ji(this,!1,t))}},Qi.prototype.m=function(t,e){this.i=!1,Ji(this,t,e)},Qi.prototype.then=function(t,e,n){var r,o,i=new gt(function(t,e){r=t,o=e});return Yi(this,r,function(t){t instanceof ea?i.cancel():o(t)}),i.then(t,e,n)},Qi.prototype.$goog_Thenable=!0,_(ta,S),ta.prototype.message="Deferred has already fired",ta.prototype.name="AlreadyCalledError",_(ea,S),ea.prototype.message="Deferred was canceled",ea.prototype.name="CanceledError",na.prototype.c=function(){throw delete ra[this.a],this.b};var ra={};function oa(t){var e={},r=e.document||document,o=wn(t).toString(),s=document.createElement("SCRIPT"),u={Lb:s,Ga:void 0},l=new Qi(u),c=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(c=window.setTimeout(function(){aa(s,!0);var t=new la(ua,"Timeout reached for loading script "+o);Xi(l),Ji(l,!1,t)},h),u.Ga=c),s.onload=s.onreadystatechange=function(){s.readyState&&"loaded"!=s.readyState&&"complete"!=s.readyState||(aa(s,e.hd||!1,c),Xi(l),Ji(l,!0,null))},s.onerror=function(){aa(s,!0,c);var t=new la(sa,"Error while loading script "+o);Xi(l),Ji(l,!1,t)},st(u=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Rn(s,u),function(t,e){t.src=wn(e),null===a&&(a=(e=(e=n.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&i.test(e)?e:""),(e=a)&&t.setAttribute("nonce",e)}(s,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(r).appendChild(s),l}function ia(){if(this&&this.Lb){var t=this.Lb;t&&"SCRIPT"==t.tagName&&aa(t,!0,this.Ga)}}function aa(t,e,r){null!=r&&n.clearTimeout(r),t.onload=s,t.onerror=s,t.onreadystatechange=s,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var sa=0,ua=1;function la(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),S.call(this,n),this.code=t}function ca(t){this.f=t}function ha(t,e,r){if(this.b=t,this.i=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.o=t.secureTokenTimeout||pa,this.f=rt(t.secureTokenHeaders||ga),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||ma,this.a=rt(t.firebaseHeaders||va),r&&(this.a["X-Client-Version"]=r,this.f["X-Client-Version"]=r),r="Node"==er(),!(r=n.XMLHttpRequest||r&&Lt.a.INTERNAL.node&&Lt.a.INTERNAL.node.XMLHttpRequest)&&!tr())throw new Br("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,this.c=tr()?new Ti(self):nr()?new ca(r):new gi}_(la,S),_(ca,fi),ca.prototype.a=function(){return new this.f},ca.prototype.b=function(){return{}};var fa,da="idToken",pa=new _r(3e4,6e4),ga={"Content-Type":"application/x-www-form-urlencoded"},ma=new _r(3e4,6e4),va={"Content-Type":"application/json"};function ya(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ba(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function wa(t,e,r,o,i,a,s){(function(){var t=ur();return!((t=ir(t)!=or?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Gt&&te&&!(9<te))})()||tr()?t=y(t.m,t):(fa||(fa=new gt(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{n[Ca]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var r=_n(_a,{onload:Ca});!function(t,e){Yi(oa(r),null,e,void 0)}(0,function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=y(t.l,t)),t(e,r,o,i,a,s)}ha.prototype.m=function(t,e,o,i,a,s){if(tr()&&(void 0===n.fetch||void 0===n.Headers||void 0===n.Request))throw new Br("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var u=new Ri(this.c);if(s){u.g=Math.max(0,s);var l=setTimeout(function(){u.dispatchEvent("timeout")},s)}Ne(u,"complete",function(){l&&clearTimeout(l);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return xi(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),Me(u,"ready",function(){l&&clearTimeout(l),Ft(this)}),Me(u,"timeout",function(){l&&clearTimeout(l),Ft(this),e&&e(null)}),function(t,e,o,i,a){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);o=o?o.toUpperCase():"GET",t.l=e,t.h="",t.N=o,t.G=!1,t.c=!0,t.a=t.D?t.D.a():si.a(),t.A=function(t){return t.c||(t.c=t.b())}(t.D?t.D:si),t.a.onreadystatechange=y(t.Jb,t);try{xi(t.b,Ki(t,"Opening Xhr")),t.I=!0,t.a.open(o,String(e),!0),t.I=!1}catch(u){return xi(t.b,Ki(t,"Error opening Xhr: "+u.message)),void Fi(t,u)}e=i||"";var s=new Fe(t.headers);a&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||r(t))N(t,e,void 0);else for(var n=qe(t),o=Ue(t),i=o.length,a=0;a<i;a++)e.call(void 0,o[a],n&&n[a],t)}(a,function(t,e){s.set(e,t)}),a=function(t){t:{for(var e=qi,n=t.length,o=r(t)?t.split(""):t,i=0;i<n;i++)if(i in o&&e.call(void 0,o[i],i,t)){e=i;break t}e=-1}return 0>e?null:r(t)?t.charAt(e):t[e]}(s.U()),i=n.FormData&&e instanceof n.FormData,!j(Ui,o)||a||i||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{Hi(t),0<t.g&&(t.v=function(t){return Gt&&ne(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),xi(t.b,Ki(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=y(t.Ga,t)):t.u=je(t.Ga,t.g,t)),xi(t.b,Ki(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(u){xi(t.b,Ki(t,"Send error: "+u.message)),Fi(t,u)}}(u,t,o,i,a)};var _a=new gn(yn,"https://apis.google.com/js/client.js?onload=%{onload}"),Ca="__fcb"+Math.floor(1e6*Math.random()).toString();function Sa(t){if(!r(t=t.email)||!Xn.test(t))throw new Br("invalid-email")}function Ea(t){"email"in t&&Sa(t)}function Oa(t){if(!t[da])throw new Br("internal-error")}function Ia(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Br("internal-error")}else{if(!t.sessionInfo)throw new Br("missing-verification-id");if(!t.code)throw new Br("missing-verification-code")}}ha.prototype.l=function(t,e,n,r,o){var i=this;fa.then(function(){window.gapi.client.setApiKey(i.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:o,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},ha.prototype.Ra=function(){return us(this,$a,{})},ha.prototype.qb=function(t,e){return us(this,Ya,{idToken:t,email:e})},ha.prototype.rb=function(t,e){return us(this,Za,{idToken:t,password:e})};var ka={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function xa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Br("internal-error")}function Ta(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&hn(t=new sn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function Da(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=hi(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=hi(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=hi(t)):t.errorMessage&&(e=ls(t.errorMessage)),e)throw e;if(!t[da])throw new Br("internal-error")}function Pa(t,e){return e.returnIdpCredential=!0,us(t,ts,e)}function Aa(t,e){return e.returnIdpCredential=!0,us(t,ns,e)}function Na(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,us(t,es,e)}function Ma(t){if(!t.oobCode)throw new Br("invalid-action-code")}(t=ha.prototype).sb=function(t,e){var n={idToken:t},r=[];return et(ka,function(t,o){var i=e[o];null===i?r.push(t):o in e&&(n[o]=i)}),r.length&&(n.deleteAttribute=r),us(this,Ya,n)},t.lb=function(t,e){return st(t={requestType:"PASSWORD_RESET",email:t},e),us(this,Wa,t)},t.mb=function(t,e){return st(t={requestType:"EMAIL_SIGNIN",email:t},e),us(this,Ha,t)},t.kb=function(t,e){return st(t={requestType:"VERIFY_EMAIL",idToken:t},e),us(this,Ga,t)},t.Va=function(t){return us(this,is,t)},t.$a=function(t,e){return us(this,Ja,{oobCode:t,newPassword:e})},t.Ja=function(t){return us(this,ja,{oobCode:t})},t.Xa=function(t){return us(this,Ra,{oobCode:t})};var Ra={endpoint:"setAccountInfo",C:Ma,da:"email"},ja={endpoint:"resetPassword",C:Ma,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Br("internal-error")}},La={endpoint:"signupNewUser",C:function(t){if(Sa(t),!t.password)throw new Br("weak-password")},J:Oa,R:!0},Ua={endpoint:"createAuthUri"},qa={endpoint:"deleteAccount",T:["idToken"]},Fa={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],C:function(t){if(!c(t.deleteProvider))throw new Br("internal-error")}},Va={endpoint:"emailLinkSignin",T:["email","oobCode"],C:Sa,J:Oa,R:!0},Ba={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],C:Sa,J:Oa,R:!0},za={endpoint:"getAccountInfo"},Ha={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Br("internal-error");Sa(t)},da:"email"},Ga={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],C:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Br("internal-error")},da:"email"},Wa={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Br("internal-error");Sa(t)},da:"email"},Ka={vb:!0,endpoint:"getProjectConfig",Ib:"GET"},Qa={vb:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new Br("internal-error")}},Ja={endpoint:"resetPassword",C:Ma,da:"email"},Xa={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Ya={endpoint:"setAccountInfo",T:["idToken"],C:Ea,R:!0},Za={endpoint:"setAccountInfo",T:["idToken"],C:function(t){if(Ea(t),!t.password)throw new Br("weak-password")},J:Oa,R:!0},$a={endpoint:"signupNewUser",J:Oa,R:!0},ts={endpoint:"verifyAssertion",C:xa,Pa:Ta,J:Da,R:!0},es={endpoint:"verifyAssertion",C:xa,Pa:Ta,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Br("user-not-found");if(t.errorMessage)throw ls(t.errorMessage);if(!t[da])throw new Br("internal-error")},R:!0},ns={endpoint:"verifyAssertion",C:function(t){if(xa(t),!t.idToken)throw new Br("internal-error")},Pa:Ta,J:Da,R:!0},rs={endpoint:"verifyCustomToken",C:function(t){if(!t.token)throw new Br("invalid-custom-token")},J:Oa,R:!0},os={endpoint:"verifyPassword",C:function(t){if(Sa(t),!t.password)throw new Br("wrong-password")},J:Oa,R:!0},is={endpoint:"verifyPhoneNumber",C:Ia,J:Oa},as={endpoint:"verifyPhoneNumber",C:function(t){if(!t.idToken)throw new Br("internal-error");Ia(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",hi(t);Oa(t)}},ss={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",C:Ia,J:Oa};function us(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.T))return St(new Br("internal-error"));var r,o=e.Ib||"POST";return Ct(n).then(e.C).then(function(){return e.R&&(n.returnSecureToken=!0),function(t,e,n,r,o,i){var a=Xe(t.g+e);Qe(a,"key",t.b),i&&Qe(a,"cb",w().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&Qe(a,u,r[u]);return new gt(function(e,i){wa(t,a.toString(),function(t){t?t.error?i(cs(t,o||{})):e(t):i(new Br("network-request-failed"))},n,s?void 0:Un(mr(r)),t.a,t.h.get())})}(t,e.endpoint,o,n,e.Xb,e.vb||!1)}).then(function(t){return r=t,e.Pa?e.Pa(n,r):r}).then(e.J).then(function(){if(!e.da)return r;if(!(e.da in r))throw new Br("internal-error");return r[e.da]})}function ls(t){return cs({error:{errors:[{message:t}],code:400,message:t}})}function cs(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Br(r[n]):null)return n;for(var o in n=t.error&&t.error.message||"",st(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(o))return new Br(r[o],e);return!e&&t&&(e=gr(t)),new Br("internal-error",e)}function hs(t){this.b=t,this.a=null,this.gb=function(t){return(gs||(gs=new gt(function(t,e){function r(){wr(),lr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){wr(),e(Error("Network Error"))},timeout:ds.get()})}if(lr("gapi.iframes.Iframe"))t();else if(lr("gapi.load"))r();else{var o="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[o]=function(){lr("gapi.load")?r():e(Error("Network Error"))},Ct(oa(o=_n(fs,{onload:o}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw gs=null,t}))).then(function(){return new gt(function(e,n){lr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:lr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function o(){clearTimeout(i),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var i=setTimeout(function(){n(Error("Network Error"))},ps.get());r.ping(o).then(o,function(){n(Error("Network Error"))})})})})}(this)}var fs=new gn(yn,"https://apis.google.com/js/api.js?onload=%{onload}"),ds=new _r(3e4,6e4),ps=new _r(5e3,15e3),gs=null;function ms(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Ye(this.i,"/__/auth/iframe"),Qe(this.a,"apiKey",this.g),Qe(this.a,"appName",this.h),this.b=null,this.c=[]}function vs(t,e,n,r,o){this.m=t,this.l=e,this.c=n,this.o=r,this.h=this.g=this.i=null,this.a=o,this.f=null}function ys(t){try{return Lt.a.app(t).auth().ya()}catch(e){return[]}}function bs(t,e,n,r,o){this.l=t,this.f=e,this.b=n,this.c=r||null,this.h=o||null,this.m=this.u=this.v=null,this.g=[],this.o=this.a=null}function ws(t){var e=Hn();return function(t){return us(t,Ka,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Xe(e),r=n.c;n=n.b;for(var o=0;o<t.length;o++){var i=t[o],a=n,s=r;if(0==i.indexOf("chrome-extension://")?a=Xe(i).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Jn.test(i)?a=a==i:(i=i.split(".").join("\\."),a=new RegExp("^(.+\\."+i+"|"+i+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new li(Hn())})}function _s(t){return t.o?t.o:(t.o=Yn().then(function(){if(!t.u){var e=t.c,n=t.h,r=ys(t.b),o=new ms(t.l,t.f,t.b);o.f=e,o.b=n,o.c=F(r||[]),t.u=o.toString()}t.i=new hs(t.u),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.gb.then(function(){t.a.register("authEvent",e,lr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=ii(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ct(n)}return n.status="ERROR",Ct(n)})}(t)}),t.o)}function Cs(t){return t.m||(t.v=t.c?sr(t.c,ys(t.b)):null,t.m=new ha(t.f,co(t.h),t.v)),t.m}function Ss(t,e,n,r,o,i,a,s,u,l){return(t=new vs(t,e,n,r,o)).i=i,t.g=a,t.h=s,t.b=rt(u||null),t.f=l,t.toString()}function Es(t){if(this.a=t||Lt.a.INTERNAL.reactNative&&Lt.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Br("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Os(t){this.b=t,this.a={},this.c=y(this.f,this)}ms.prototype.toString=function(){return this.f?Qe(this.a,"v",this.f):cn(this.a.a,"v"),this.b?Qe(this.a,"eid",this.b):cn(this.a.a,"eid"),this.c.length?Qe(this.a,"fw",this.c.join(",")):cn(this.a.a,"fw"),this.a.toString()},vs.prototype.toString=function(){var t=Ye(this.m,"/__/auth/handler");if(Qe(t,"apiKey",this.l),Qe(t,"appName",this.c),Qe(t,"authType",this.o),this.a.isOAuthProvider){var e=this.a;try{var n=Lt.a.app(this.c).auth().ea()}catch(s){n=null}for(var r in e.ab=n,Qe(t,"providerId",this.a.providerId),n=mr((e=this.a).zb))n[r]=n[r].toString();r=e.Fc,n=rt(n);for(var o=0;o<r.length;o++){var i=r[o];i in n&&delete n[i]}e.eb&&e.ab&&!n[e.eb]&&(n[e.eb]=e.ab),nt(n)||Qe(t,"customParameters",gr(n))}if("function"==typeof this.a.Fb&&(e=this.a.Fb()).length&&Qe(t,"scopes",e.join(",")),this.i?Qe(t,"redirectUrl",this.i):cn(t.a,"redirectUrl"),this.g?Qe(t,"eventId",this.g):cn(t.a,"eventId"),this.h?Qe(t,"v",this.h):cn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Je(t,a)&&Qe(t,a,this.b[a]);return this.f?Qe(t,"eid",this.f):cn(t.a,"eid"),(a=ys(this.c)).length&&Qe(t,"fw",a.join(",")),t.toString()},(t=bs.prototype).Ea=function(t,e,n){var r=new Br("popup-closed-by-user"),o=new Br("web-storage-unsupported"),i=this,a=!1;return this.ga().then(function(){(function(t){var e={type:"webStorageSupport"};return _s(t).then(function(){return function(t,e){return t.gb.then(function(){return new gt(function(n){t.a.send(e.type,e,n,lr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(i).then(function(n){n||(t&&Kn(t),e(o),a=!0)})}).s(function(){}).then(function(){if(!a)return function(t){return new gt(function(e){return function n(){Le(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return Le(n).then(function(){e(r)})})},t.Mb=function(){var t=ur();return!pr(t)&&!br(t)},t.Hb=function(){return!1},t.Db=function(t,e,n,r,o,i,a){if(!t)return St(new Br("popup-blocked"));if(a&&!pr())return this.ga().s(function(e){Kn(t),o(e)}),r(),Ct();this.a||(this.a=ws(Cs(this)));var s=this;return this.a.then(function(){var e=s.ga().s(function(e){throw Kn(t),o(e),e});return r(),e}).then(function(){ri(n),a||Gn(Ss(s.l,s.f,s.b,e,n,null,i,s.c,void 0,s.h),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},t.Ca=function(t,e,n){this.a||(this.a=ws(Cs(this)));var r=this;return this.a.then(function(){ri(e),Gn(Ss(r.l,r.f,r.b,t,e,Hn(),n,r.c,void 0,r.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ga=function(){var t=this;return _s(this).then(function(){return t.i.gb}).s(function(){throw t.a=null,new Br("network-request-failed")})},t.Qb=function(){return!0},t.wa=function(t){this.g.push(t)},t.Ka=function(t){U(this.g,function(e){return e==t})},(t=Es.prototype).get=function(t){return Ct(this.a.getItem(t)).then(function(t){return t&&vr(t)})},t.set=function(t,e){return Ct(this.a.setItem(t,gr(e)))},t.P=function(t){return Ct(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){};var Is,ks=[];function xs(t){this.a=t}function Ts(t){this.c=t,this.b=!1,this.a=[]}function Ds(t,e,n,r){var o,i,a,s,u=n||{},l=null;if(t.b)return St(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new gt(function(n,r){h?(o=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},c),t.a.push(l={messageChannel:h,onMessage:i=function(t){t.data.eventId===o&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",i),t.c.postMessage({eventType:e,eventId:o,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Ps(t,l),e}).s(function(e){throw Ps(t,l),e})}function Ps(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),U(t.a,function(t){return t==e})}}function As(){if(!Ms())throw new Br("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.l=n.indexedDB,this.type="indexedDB",this.g=this.o=this.f=this.i=null,this.u=!1,this.h=null;var t=this;tr()&&self?(this.o=function(){var t=tr()?self:null;if(N(ks,function(n){n.b==t&&(e=n)}),!e){var e=new Os(t);ks.push(e)}return e}(),this.o.subscribe("keyChanged",function(e,n){return qs(t).then(function(e){return 0<e.length&&N(t.a,function(t){t(e)}),{keyProcessed:j(e,n.key)}})}),this.o.subscribe("ping",function(){return Ct(["keyChanged"])})):function(){var t=n.navigator;return t&&t.serviceWorker?Ct().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):Ct(null)}().then(function(e){(t.h=e)&&(t.g=new Ts(new xs(e)),Ds(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&j(e[0].value,"keyChanged")&&(t.u=!0)}).s(function(){}))})}function Ns(t){return t.m||(t.m=function t(e){return new gt(function(n,r){var o=e.l.open("firebaseLocalStorageDb",1);o.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},o.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},o.onsuccess=function(o){(o=o.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(o):function(t){return new gt(function(e,n){var r=t.l.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(e).then(function(){return t(e)}).then(function(t){n(t)}).s(function(t){r(t)})}})}(t)),t.m}function Ms(){try{return!!n.indexedDB}catch(zt){return!1}}function Rs(t){return t.objectStore("firebaseLocalStorage")}function js(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ls(t){return new gt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Us(t,e){return t.g&&t.h&&function(){var t=n.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Ds(t.g,"keyChanged",{key:e},t.u).then(function(){}).s(function(){}):Ct()}function qs(t){return Ns(t).then(function(t){var e=Rs(js(t,!1));return e.getAll?Ls(e.getAll()):new gt(function(t,n){var r=[],o=e.openCursor();o.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},o.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,o=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?o.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&o.push(r):e[r]!==n[r]&&o.push(r):o.push(r);for(r in n)r in e||o.push(r);return o}(t.c,n),t.c=n}return r})}function Fs(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Vs(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ct().then(function(){if(Ms()){var t=yr(),r="__sak"+t;return Is||(Is=new As),(n=Is).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.Y(function(t){N(e.a,function(e){e(t)})}),t})}function Bs(){this.a={},this.type="inMemory"}function zs(){if(!function(){var t="Node"==er();if(!(t=Hs()||t&&Lt.a.INTERNAL.node&&Lt.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==er())throw new Br("internal-error","The LocalStorage compatibility library was not found.");throw new Br("web-storage-unsupported")}this.a=Hs()||Lt.a.INTERNAL.node.localStorage,this.type="localStorage"}function Hs(){try{var t=n.localStorage,e=yr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(r){return null}}function Gs(){this.type="nullStorage"}function Ws(){if(!function(){var t="Node"==er();if(!(t=Ks()||t&&Lt.a.INTERNAL.node&&Lt.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==er())throw new Br("internal-error","The SessionStorage compatibility library was not found.");throw new Br("web-storage-unsupported")}this.a=Ks()||Lt.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ks(){try{var t=n.sessionStorage,e=yr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(r){return null}}function Qs(){var t={};t.Browser=Ys,t.Node=Zs,t.ReactNative=$s,t.Worker=tu,this.a=t[er()]}Os.prototype.f=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var o=[];N(r,function(e){o.push(Ct().then(function(){return e(t.origin,t.data.data)}))}),Ot(o).then(function(r){var o=[];N(r,function(t){o.push({fulfilled:t.Eb,value:t.value,reason:t.reason?t.reason.message:void 0})}),N(o,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:o})})}},Os.prototype.subscribe=function(t,e){nt(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[t]&&(this.a[t]=[]),this.a[t].push(e)},Os.prototype.unsubscribe=function(t,e){void 0!==this.a[t]&&e?(U(this.a[t],function(t){return t==e}),0==this.a[t].length&&delete this.a[t]):e||delete this.a[t],nt(this.a)&&this.b.removeEventListener("message",this.c)},xs.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ts.prototype.close=function(){for(;0<this.a.length;)Ps(this,this.a[0]);this.b=!0},(t=As.prototype).set=function(t,e){var n,r=!1,o=this;return Ns(this).then(function(e){return Ls((e=Rs(js(n=e,!0))).get(t))}).then(function(i){var a=Rs(js(n,!0));return i?(i.value=e,Ls(a.put(i))):(o.b++,r=!0,(i={}).fbase_key=t,i.value=e,Ls(a.add(i)))}).then(function(){return o.c[t]=e,Us(o,t)}).ia(function(){r&&o.b--})},t.get=function(t){return Ns(this).then(function(e){return Ls(Rs(js(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.P=function(t){var e=!1,n=this;return Ns(this).then(function(r){return e=!0,n.b++,Ls(Rs(js(r,!0)).delete(t))}).then(function(){return delete n.c[t],Us(n,t)}).ia(function(){e&&n.b--})},t.Y=function(t){0==this.a.length&&function(t){Fs(t),function e(){t.f=setTimeout(function(){t.i=qs(t).then(function(e){0<e.length&&N(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ca=function(t){U(this.a,function(e){return e==t}),0==this.a.length&&Fs(this)},(t=Vs.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.P=function(t){return this.b.then(function(e){return e.P(t)})},t.Y=function(t){this.a.push(t)},t.ca=function(t){U(this.a,function(e){return e==t})},(t=Bs.prototype).get=function(t){return Ct(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ct()},t.P=function(t){return delete this.a[t],Ct()},t.Y=function(){},t.ca=function(){},(t=zs.prototype).get=function(t){var e=this;return Ct().then(function(){return vr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ct().then(function(){var r=gr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return Ct().then(function(){e.a.removeItem(t)})},t.Y=function(t){n.window&&we(n.window,"storage",t)},t.ca=function(t){n.window&&Se(n.window,"storage",t)},(t=Gs.prototype).get=function(){return Ct(null)},t.set=function(){return Ct()},t.P=function(){return Ct()},t.Y=function(){},t.ca=function(){},(t=Ws.prototype).get=function(t){var e=this;return Ct().then(function(){return vr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ct().then(function(){var r=gr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return Ct().then(function(){e.a.removeItem(t)})},t.Y=function(){},t.ca=function(){};var Js,Xs,Ys={B:zs,Sa:Ws},Zs={B:zs,Sa:Ws},$s={B:Es,Sa:Gs},tu={B:zs,Sa:Gs},eu={ad:"local",NONE:"none",cd:"session"};function nu(){var t=!(br(ur())||!$n()),e=pr(),r=cr();this.m=t,this.h=e,this.o=r,this.a={},Js||(Js=new Qs),t=Js;try{this.g=!zn()&&Er()||!n.indexedDB?new t.a.B:new Vs(tr()?new Bs:new t.a.B)}catch(o){this.g=new Bs,this.h=!0}try{this.i=new t.a.Sa}catch(o){this.i=new Bs}this.l=new Bs,this.f=y(this.Pb,this),this.b={}}function ru(){return Xs||(Xs=new nu),Xs}function ou(t,e){switch(e){case"session":return t.i;case"none":return t.l;default:return t.g}}function iu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function au(t,e,n){return n=iu(e,n),"local"==e.B&&(t.b[n]=null),ou(t,e.B).P(n)}function su(t){t.c&&(clearInterval(t.c),t.c=null)}function uu(t){this.a=t,this.b=ru()}(t=nu.prototype).get=function(t,e){return ou(this,t.B).get(iu(t,e))},t.set=function(t,e,n){var r=iu(t,n),o=this,i=ou(this,t.B);return i.set(r,e).then(function(){return i.get(r)}).then(function(e){"local"==t.B&&(o.b[r]=e)})},t.addListener=function(t,e,r){t=iu(t,e),this.o&&(this.b[t]=n.localStorage.getItem(t)),nt(this.a)&&(ou(this,"local").Y(this.f),this.h||(zn()||!Er())&&n.indexedDB||!this.o||function(t){su(t),t.c=setInterval(function(){for(var e in t.a){var r=n.localStorage.getItem(e),o=t.b[e];r!=o&&(t.b[e]=r,r=new le({type:"storage",key:e,target:window,oldValue:o,newValue:r,a:!0}),t.Pb(r))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(r)},t.removeListener=function(t,e,n){t=iu(t,e),this.a[t]&&(U(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),nt(this.a)&&(ou(this,"local").ca(this.f),su(this))},t.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var r in this.a){var o=this.b[r];void 0===o&&(o=null);var i=n.localStorage.getItem(r);i!==o&&(this.b[r]=i,this.Ya(r))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?ou(this,"local").ca(this.f):su(this),this.m)if(r=n.localStorage.getItem(e),(o=t.a.newValue)!==r)null!==o?n.localStorage.setItem(e,o):n.localStorage.removeItem(e);else if(this.b[e]===o&&void 0===t.a.a)return;var a=this;r=function(){void 0===t.a.a&&a.b[e]===n.localStorage.getItem(e)||(a.b[e]=n.localStorage.getItem(e),a.Ya(e))},Gt&&te&&10==te&&n.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(r,10):r()}}else N(t,y(this.Ya,this))},t.Ya=function(t){this.a[t]&&N(this.a[t],function(t){t()})};var lu,cu={name:"authEvent",B:"local"};function hu(){this.a=ru()}function fu(t,e){this.b=du,this.f=n.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.o=n.Int32Array?new Int32Array(64):Array(64),void 0!==lu||(lu=n.Int32Array?new Int32Array(wu):wu),this.reset()}_(fu,function(){this.b=-1});for(var du=64,pu=du-1,gu=[],mu=0;mu<pu;mu++)gu[mu]=0;var vu=q(128,gu);function yu(t){for(var e=t.f,n=t.o,r=0,o=0;o<e.length;)n[r++]=e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3],o=4*r;for(e=16;64>e;e++){var i=(0|n[e-16])+(((o=0|n[e-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=i+a|0}r=0|t.a[0],o=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],l=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(i=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&s^o&s)|0;a=(i=i+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&h)+(0|lu[e])|0)+(0|n[e])|0)|0,i=h,h=c,c=l,l=u+a|0,u=s,s=o,o=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+o|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+i|0}function bu(t,e,n){void 0===n&&(n=e.length);var o=0,i=t.c;if(r(e))for(;o<n;)t.f[i++]=e.charCodeAt(o++),i==t.b&&(yu(t),i=0);else{if(!h(e))throw Error("message must be string or array");for(;o<n;){var a=e[o++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");t.f[i++]=a,i==t.b&&(yu(t),i=0)}}t.c=i,t.g+=n}fu.prototype.reset=function(){this.g=this.c=0,this.a=n.Int32Array?new Int32Array(this.h):F(this.h)};var wu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _u(){fu.call(this,8,Cu)}_(_u,fu);var Cu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Su(t,e,n,r,o){this.l=t,this.i=e,this.o=n,this.m=r||null,this.u=o||null,this.h=e+":"+n,this.v=new hu,this.g=new uu(this.h),this.f=null,this.b=[],this.a=this.c=null}function Eu(t){return new Br("invalid-cordova-configuration",t)}function Ou(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Iu(t){return t.f||(t.f=t.ga().then(function(){return new gt(function(e){t.wa(function n(r){return e(r),t.Ka(n),!1}),function(t){function e(e){o=!0,i&&i.cancel(),ku(t).then(function(n){var o=r;if(n&&e&&e.url){var i=null;-1!=(o=Io(e.url)).indexOf("/__/auth/callback")&&(i=(i="object"==typeof(i=vr(Je(i=Xe(o),"firebaseError")||null))?zr(i):null)?new oi(n.c,n.b,null,null,i):new oi(n.c,n.b,o,n.f)),o=i||r}Ou(t,o)})}var r=new oi("unknown",null,null,null,new Br("no-auth-event")),o=!1,i=Le(500).then(function(){return ku(t).then(function(){o||Ou(t,r)})}),a=n.handleOpenURL;n.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(lr("BuildInfo.packageName",n).toLowerCase()+"://")&&e({url:t}),"function"==typeof a)try{a(t)}catch(r){console.error(r)}},ui||(ui=new ai),ui.subscribe(e)}(t)})})),t.f}function ku(t){var e=null;return function(t){return t.b.get(cu,t.a).then(function(t){return ii(t)})}(t.g).then(function(n){return e=n,au((n=t.g).b,cu,n.a)}).then(function(){return e})}function xu(t){this.a=t,this.b=ru()}(t=Su.prototype).ga=function(){return this.za?this.za:this.za=(Zn(void 0)?Yn().then(function(){return new gt(function(t,e){var r=n.document,o=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);r.addEventListener("deviceready",function(){clearTimeout(o),t()},!1)})}):St(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof lr("universalLinks.subscribe",n))throw Eu("cordova-universal-links-plugin-fix is not installed");if(void 0===lr("BuildInfo.packageName",n))throw Eu("cordova-plugin-buildinfo is not installed");if("function"!=typeof lr("cordova.plugins.browsertab.openUrl",n))throw Eu("cordova-plugin-browsertab is not installed");if("function"!=typeof lr("cordova.InAppBrowser.open",n))throw Eu("cordova-plugin-inappbrowser is not installed")},function(){throw new Br("cordova-not-ready")})},t.Ea=function(t,e){return e(new Br("operation-not-supported-in-this-environment")),Ct()},t.Db=function(){return St(new Br("operation-not-supported-in-this-environment"))},t.Qb=function(){return!1},t.Mb=function(){return!0},t.Hb=function(){return!0},t.Ca=function(t,e,r){if(this.c)return St(new Br("redirect-operation-pending"));var o=this,i=n.document,a=null,s=null,u=null,l=null;return this.c=Ct().then(function(){return ri(e),Iu(o)}).then(function(){return function(t,e,r,o){var i=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new oi(e,o,null,i,new Br("no-auth-event")),s=lr("BuildInfo.packageName",n);if("string"!=typeof s)throw new Br("invalid-cordova-configuration");var u=lr("BuildInfo.displayName",n),l={};if(ur().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!ur().toLowerCase().match(/android/))return St(new Br("operation-not-supported-in-this-environment"));l.apn=s}u&&(l.appDisplayName=u),i=function(t){var e=new _u;bu(e,t),t=[];var n=8*e.g;bu(e,vu,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(yu(e),r=n=0;r<e.i;r++)for(var o=24;0<=o;o-=8)t[n++]=e.a[r]>>o&255;return function(t){return M(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(i),l.sessionId=i;var c=Ss(t.l,t.i,t.o,e,r,null,o,t.m,l,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(cu,a.w(),e)}).then(function(){var e=lr("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof e)throw new Br("invalid-cordova-configuration");var r=null;e(function(e){if(e){if("function"!=typeof(r=lr("cordova.plugins.browsertab.openUrl",n)))throw new Br("invalid-cordova-configuration");r(c)}else{if("function"!=typeof(r=lr("cordova.InAppBrowser.open",n)))throw new Br("invalid-cordova-configuration");e=!(!(e=ur()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=r(c,e?"_blank":"_system","location=yes")}})})}(o,t,e,r)}).then(function(){return new gt(function(t,e){s=function(){var e=lr("cordova.plugins.browsertab.close",n);return t(),"function"==typeof e&&e(),o.a&&"function"==typeof o.a.close&&(o.a.close(),o.a=null),!1},o.wa(s),l=function(){Cr()&&u()},i.addEventListener("resume",u=function(){a||(a=Le(2e3).then(function(){e(new Br("redirect-cancelled-by-user"))}))},!1),ur().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",l,!1)}).s(function(t){return ku(o).then(function(){throw t})})}).ia(function(){u&&i.removeEventListener("resume",u,!1),l&&i.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&o.Ka(s),o.c=null})},t.wa=function(t){this.b.push(t),Iu(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new oi("unknown",null,null,null,new Br("no-auth-event")),t(e))})},t.Ka=function(t){U(this.b,function(e){return e==t})};var Tu={name:"pendingRedirect",B:"session"};function Du(t){return au(t.b,Tu,t.a)}function Pu(t,e,n){this.i={},this.u=0,this.A=t,this.l=e,this.m=n,this.h=[],this.f=!1,this.o=y(this.cb,this),this.b=new Vu,this.v=new Gu,this.g=new xu(this.l+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.v,this.c.linkViaPopup=this.v,this.c.reauthViaPopup=this.v,this.a=Au(this.A,this.l,this.m,uo)}function Au(t,e,n,r){var o=Lt.a.SDK_VERSION||null;return Zn()?new Su(t,e,n,o,r):new bs(t,e,n,o,r)}function Nu(t){t.f||(t.f=!0,t.a.wa(t.o));var e=t.a;return t.a.ga().s(function(n){throw t.a==e&&t.reset(),n})}function Mu(t){t.a.Mb()&&Nu(t).s(function(e){var n=new oi("unknown",null,null,null,new Br("operation-not-supported-in-this-environment"));Uu(e)&&t.cb(n)}),t.a.Hb()||Bu(t.b)}(t=Pu.prototype).reset=function(){this.f=!1,this.a.Ka(this.o),this.a=Au(this.A,this.l,this.m),this.i={}},t.Za=function(){this.b.Za()},t.subscribe=function(t){if(j(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(Tu,t.a).then(function(t){return"pending"==t})})(this.g).then(function(t){t?Du(e.g).then(function(){Nu(e).s(function(t){var n=new oi("unknown",null,null,null,new Br("operation-not-supported-in-this-environment"));Uu(t)&&e.cb(n)})}):Mu(e)}).s(function(){Mu(e)})}},t.unsubscribe=function(t){U(this.h,function(e){return e==t})},t.cb=function(t){if(!t)throw new Br("invalid-auth-event");if(6e5<=w()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.wb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=w())),e=!0;break}}return Bu(this.b),e};var Ru=new _r(2e3,1e4),ju=new _r(3e4,6e4);function Lu(t,e,n,r,o,i){return t.a.Db(e,n,r,function(){t.f||(t.f=!0,t.a.wa(t.o))},function(){t.reset()},o,i)}function Uu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}Pu.prototype.fa=function(){return this.b.fa()},Pu.prototype.Ca=function(t,e,n){var r,o=this;return function(t){return t.b.set(Tu,"pending",t.a)}(this.g).then(function(){return o.a.Ca(t,e,n).s(function(t){if(Uu(t))throw new Br("operation-not-supported-in-this-environment");return r=t,Du(o.g).then(function(){throw r})}).then(function(){return o.a.Qb()?new gt(function(){}):Du(o.g).then(function(){return o.fa()}).then(function(){}).s(function(){})})})},Pu.prototype.Ea=function(t,e,n,r){return this.a.Ea(n,function(n){t.ha(e,null,n,r)},Ru.get())};var qu={};function Fu(t,e,n){var r=e+":"+n;return qu[r]||(qu[r]=new Pu(t,e,n)),qu[r]}function Vu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Bu(t){t.g||(t.g=!0,Hu(t,!1,null,null))}function zu(t,e){if(t.b=function(){return Ct(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Hu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return St(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):zu(t,n):zu(t,{user:null}),t.f=[],t.c=[]}function Gu(){}function Wu(){this.tb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.tb},set:function(t){this.tb=t},enumerable:!1})}function Ku(t,e){this.a=e,Tr(this,"verificationId",t)}function Qu(t,e,n,r){return new ti(t).Va(e,n).then(function(t){return new Ku(t,r)})}function Ju(t){var e=so(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Br("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Dr(this,{token:t,expirationTime:Sr(1e3*e.exp),authTime:Sr(1e3*e.auth_time),issuedAtTime:Sr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function Xu(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Yu(t){this.f=t,this.b=this.a=null,this.c=0}function Zu(t,e){var n=e[da],r=e.refreshToken;e=$u(e.expiresIn),t.b=n,t.c=e,t.a=r}function $u(t){return w()+1e3*parseInt(t,10)}function tl(t,e){this.a=t||null,this.b=e||null,Dr(this,{lastSignInTime:Sr(e||null),creationTime:Sr(t||null)})}function el(t,e,n,r,o,i){Dr(this,{uid:t,displayName:r||null,photoURL:o||null,email:n||null,phoneNumber:i||null,providerId:e})}function nl(t,e){for(var n in ue.call(this,t),e)this[n]=e[n]}function rl(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.u=t.authDomain||null,t=Lt.a.SDK_VERSION?sr(Lt.a.SDK_VERSION):null,this.b=new ha(this.l,co(uo),t),this.h=new Yu(this.b),cl(this,e[da]),Zu(this.h,e),Tr(this,"refreshToken",this.h.a),dl(this,n||{}),Ae.call(this),this.I=!1,this.u&&hr()&&(this.a=Fu(this.u,this.l,this.m)),this.N=[],this.i=null,this.A=function(t){return new Xu(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-w()-3e5;return 0<e?e:0})}(this),this.V=y(this.Ha,this);var r=this;this.ka=null,this.ta=function(t){r.pa(t.g)},this.X=null,this.O=[],this.sa=function(t){il(r,t.c)},this.W=null}function ol(t,e){t.X&&Se(t.X,"languageCodeChanged",t.ta),(t.X=e)&&we(e,"languageCodeChanged",t.ta)}function il(t,e){t.O=e,ba(t.b,Lt.a.SDK_VERSION?sr(Lt.a.SDK_VERSION,t.O):null)}function al(t,e){t.W&&Se(t.W,"frameworkChanged",t.sa),(t.W=e)&&we(e,"frameworkChanged",t.sa)}function sl(t){try{return Lt.a.app(t.m).auth()}catch(e){throw new Br("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function ul(t){t.D||t.A.b||(t.A.start(),Se(t,"tokenChanged",t.V),we(t,"tokenChanged",t.V))}function ll(t){Se(t,"tokenChanged",t.V),t.A.stop()}function cl(t,e){t.ra=e,Tr(t,"_lat",e)}function hl(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return Ot(e).then(function(){return t})}function fl(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function dl(t,e){Dr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new tl(e.createdAt,e.lastLoginAt),providerData:[]})}function pl(){}function gl(t){return Ct().then(function(){if(t.D)throw new Br("app-deleted")})}function ml(t){return M(t.providerData,function(t){return t.providerId})}function vl(t,e){e&&(yl(t,e.providerId),t.providerData.push(e))}function yl(t,e){U(t.providerData,function(t){return t.providerId==e})}function bl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Tr(t,e,n)}function wl(t,e){t!=e&&(Dr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),Tr(t,"metadata",e.metadata?function(t){return new tl(t.a,t.b)}(e.metadata):new tl),N(e.providerData,function(e){vl(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Tr(t,"refreshToken",t.h.a))}function _l(t){return t.F().then(function(e){var n=t.isAnonymous;return function(t,e){return us(t.b,za,{idToken:e}).then(y(t.zc,t))}(t,e).then(function(){return n||bl(t,"isAnonymous",!1),e})})}function Cl(t,e){e[da]&&t.ra!=e[da]&&(Zu(t.h,e),t.dispatchEvent(new nl("tokenChanged")),cl(t,e[da]),bl(t,"refreshToken",t.h.a))}function Sl(t,e){return _l(t).then(function(){if(j(ml(t),e))return hl(t).then(function(){throw new Br("provider-already-linked")})})}function El(t,e,n){return Pr({user:t,credential:ni(e),additionalUserInfo:e=mo(e),operationType:n})}function Ol(t,e){return Cl(t,e),t.reload().then(function(){return t})}function Il(t,e,n,r,o){if(!hr())return St(new Br("operation-not-supported-in-this-environment"));if(t.i&&!o)return St(t.i);var i=go(n.providerId),a=yr(t.uid+":::"),s=null;(!pr()||$n())&&t.u&&n.isOAuthProvider&&(s=Ss(t.u,t.l,t.m,e,n,null,a,Lt.a.SDK_VERSION||null));var u=Qn(s,i&&i.Ba,i&&i.Aa);return r=r().then(function(){if(xl(t),!o)return t.F().then(function(){})}).then(function(){return Lu(t.a,u,e,n,a,!!s)}).then(function(){return new gt(function(n,r){t.ha(e,null,new Br("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=a,t.c=t.a.Ea(t,e,u,a)})}).then(function(t){return u&&Kn(u),t?Pr(t):null}).s(function(t){throw u&&Kn(u),t}),Tl(t,r,o)}function kl(t,e,n,r,o){if(!hr())return St(new Br("operation-not-supported-in-this-environment"));if(t.i&&!o)return St(t.i);var i=null,a=yr(t.uid+":::");return r=r().then(function(){if(xl(t),!o)return t.F().then(function(){})}).then(function(){return t.aa=a,hl(t)}).then(function(e){return t.ba&&(e=(e=t.ba).b.set(Al,t.w(),e.a)),e}).then(function(){return t.a.Ca(e,n,a)}).s(function(e){if(i=e,t.ba)return Nl(t.ba);throw i}).then(function(){if(i)throw i}),Tl(t,r,o)}function xl(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Br("internal-error");throw new Br("auth-domain-config-required")}}function Tl(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),St(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new nl("userInvalidated")),t.i=e),e})}(t,e,n);return t.G.push(r),r.ia(function(){L(t.G,r)}),r}function Dl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[da]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-w())/1e3;var r=new rl(e,n,t);return t.providerData&&N(t.providerData,function(t){t&&vl(r,Pr(t))}),t.redirectEventId&&(r.aa=t.redirectEventId),r}function Pl(t){this.a=t,this.b=ru()}Vu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Vu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,o=t.a&&"auth/web-storage-unsupported"==t.a.code,i=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!o&&!i),"unknown"!=n||o||i?t.a?(Hu(this,!0,null,t.a),Ct()):e.xa(n,r)?function(t,e,n){n=n.xa(e.c,e.b);var r=e.g,o=e.f,i=e.h,a=!!e.c.match(/Redirect$/);n(r,o,i).then(function(e){Hu(t,a,e,null)}).s(function(e){Hu(t,a,null,e)})}(this,t,e):St(new Br("invalid-auth-event")):(Hu(this,!1,null,null),Ct())}else St(new Br("invalid-auth-event"))},Vu.prototype.Za=function(){this.g&&!this.i&&Hu(this,!1,null,null)},Vu.prototype.fa=function(){var t=this;return new gt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Br("timeout");t.a&&t.a.cancel(),t.a=Le(ju.get()).then(function(){t.b||(t.g=!0,Hu(t,!0,null,e))})}(t))})},Gu.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ha(t.c,null,t.a,t.b),Ct()):e.xa(n,r)?function(t,e){var n=t.b,r=t.c;e.xa(r,n)(t.g,t.f,t.h).then(function(t){e.ha(r,t,null,n)}).s(function(t){e.ha(r,null,t,n)})}(t,e):St(new Br("invalid-auth-event"))}else St(new Br("invalid-auth-event"))},Ku.prototype.confirm=function(t){return t=ei(this.verificationId,t),this.a(t)},Xu.prototype.start=function(){this.a=this.c,function t(e,r){e.stop(),e.b=Le(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,r)).then(function(){return t=n.document,e=null,Cr()||!t?Ct():new gt(function(n){e=function(){Cr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n});var t,e}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},Xu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Yu.prototype.w=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Yu.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?St(new Br("user-token-expired")):t||!this.b||w()>this.c-3e4?this.a?function(t,e){return function(t,e){return new gt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?wa(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(cs(t)):t.access_token&&t.refresh_token?n(t):r(new Br("internal-error")):r(new Br("network-request-failed"))},"POST",ln(e).toString(),t.f,t.o.get()):r(new Br("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=$u(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ct(null):Ct({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},tl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(nl,ue),_(rl,Ae),rl.prototype.pa=function(t){this.ka=t,ya(this.b,t)},rl.prototype.ea=function(){return this.ka},rl.prototype.ya=function(){return F(this.O)},rl.prototype.Ha=function(){this.A.b&&(this.A.stop(),this.A.start())},Tr(rl.prototype,"providerId","firebase"),(t=rl.prototype).reload=function(){var t=this;return Tl(this,gl(this).then(function(){return _l(t).then(function(){return hl(t)}).then(pl)}))},t.dc=function(t){return this.F(t).then(function(t){return new Ju(t)})},t.F=function(t){var e=this;return Tl(this,gl(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new Br("internal-error");return t.accessToken!=e.ra&&(cl(e,t.accessToken),e.dispatchEvent(new nl("tokenChanged"))),bl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.zc=function(t){if(!(t=t.users)||!t.length)throw new Br("internal-error");dl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?M(t,function(t){return new el(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)vl(this,e[n]);bl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.hb=function(t){var e=this,n=null;return Tl(this,t.f(this.b,this.uid).then(function(t){return Cl(e,t),n=El(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.Ac=function(t){return kr("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.hb(t).then(function(){})},t.fb=function(t){var e=this,n=null;return Tl(this,Sl(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.b(e.b,n)}).then(function(t){return n=El(e,t,"link"),Ol(e,t)}).then(function(){return n}))},t.rc=function(t){return kr("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.fb(t).then(function(t){return t.user})},t.sc=function(t,e){var n=this;return Tl(this,Sl(this,"phone").then(function(){return Qu(sl(n),t,e,y(n.fb,n))}))},t.Bc=function(t,e){var n=this;return Tl(this,Ct().then(function(){return Qu(sl(n),t,e,y(n.hb,n))}),!0)},t.qb=function(t){var e=this;return Tl(this,this.F().then(function(n){return e.b.qb(n,t)}).then(function(t){return Cl(e,t),e.reload()}))},t.Tc=function(t){var e=this;return Tl(this,this.F().then(function(n){return t.b(e.b,n)}).then(function(t){return Cl(e,t),e.reload()}))},t.rb=function(t){var e=this;return Tl(this,this.F().then(function(n){return e.b.rb(n,t)}).then(function(t){return Cl(e,t),e.reload()}))},t.sb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return gl(this);var e=this;return Tl(this,this.F().then(function(n){return e.b.sb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Cl(e,t),bl(e,"displayName",t.displayName||null),bl(e,"photoURL",t.photoUrl||null),N(e.providerData,function(t){"password"===t.providerId&&(Tr(t,"displayName",e.displayName),Tr(t,"photoURL",e.photoURL))}),hl(e)}).then(pl))},t.Rc=function(t){var e=this;return Tl(this,_l(this).then(function(n){return j(ml(e),t)?function(t,e,n){return us(t,Fa,{idToken:e,deleteProvider:n})}(e.b,n,[t]).then(function(t){var n={};return N(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),N(ml(e),function(t){n[t]||yl(e,t)}),n[ti.PROVIDER_ID]||Tr(e,"phoneNumber",null),hl(e)}):hl(e).then(function(){throw new Br("no-such-provider")})}))},t.delete=function(){var t=this;return Tl(this,this.F().then(function(e){return us(t.b,qa,{idToken:e})}).then(function(){t.dispatchEvent(new nl("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");ol(t,null),al(t,null),t.G=[],t.D=!0,ll(t),Tr(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},t.wb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},t.ha=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.xa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?y(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?y(this.Cb,this):"linkViaRedirect"==t&&(this.aa||null)==e?y(this.Bb,this):"reauthViaRedirect"==t&&(this.aa||null)==e?y(this.Cb,this):null},t.tc=function(t){var e=this;return Il(this,"linkViaPopup",t,function(){return Sl(e,t.providerId).then(function(){return hl(e)})},!1)},t.Cc=function(t){return Il(this,"reauthViaPopup",t,function(){return Ct()},!0)},t.uc=function(t){var e=this;return kl(this,"linkViaRedirect",t,function(){return Sl(e,t.providerId)},!1)},t.Dc=function(t){return kl(this,"reauthViaRedirect",t,function(){return Ct()},!0)},t.Bb=function(t,e,n){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Tl(this,this.F().then(function(o){return Aa(r.b,{requestUri:t,postBody:n,sessionId:e,idToken:o})}).then(function(t){return o=El(r,t,"link"),Ol(r,t)}).then(function(){return o}))},t.Cb=function(t,e,n){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Tl(this,Ct().then(function(){return xo(Na(r.b,{requestUri:t,sessionId:e,postBody:n}),r.uid)}).then(function(t){return o=El(r,t,"reauthenticate"),Cl(r,t),r.i=null,r.reload()}).then(function(){return o}),!0)},t.kb=function(t){var e=this,n=null;return Tl(this,this.F().then(function(e){return n=e,void 0===t||nt(t)?{}:no(new Wr(t))}).then(function(t){return e.b.kb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.u,stsTokenManager:this.h.w(),redirectEventId:this.aa||null};return this.metadata&&st(t,this.metadata.w()),N(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var Al={name:"redirectUser",B:"session"};function Nl(t){return au(t.b,Al,t.a)}function Ml(t){this.a=t,this.b=ru(),this.c=null,this.f=function(t){var e=Ll("local"),r=Ll("session"),o=Ll("none");return function(t,e,r){var o=iu(e,r),i=ou(t,e.B);return t.get(e,r).then(function(a){var s=null;try{s=vr(n.localStorage.getItem(o))}catch(u){}if(s&&!a)return n.localStorage.removeItem(o),t.set(e,s,r);s&&a&&"localStorage"!=i.type&&n.localStorage.removeItem(o)})}(t.b,e,t.a).then(function(){return t.b.get(r,t.a)}).then(function(n){return n?r:t.b.get(o,t.a).then(function(n){return n?o:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(jl,t.a).then(function(t){return t?Ll(t):e})})})}).then(function(e){return t.c=e,Rl(t,e.B)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(Ll("local"),this.a,y(this.g,this))}function Rl(t,e){var n,r=[];for(n in eu)eu[n]!==e&&r.push(au(t.b,Ll(eu[n]),t.a));return r.push(au(t.b,jl,t.a)),function(t){return new gt(function(e,n){var r=t.length,o=[];if(r)for(var i=function(t,n){r--,o[t]=n,0==r&&e(o)},a=function(t){n(t)},s=0;s<t.length;s++)Et(t[s],b(i,s),a);else e(o)})}(r)}Ml.prototype.g=function(){var t=this,e=Ll("local");Vl(this,function(){return Ct().then(function(){return t.c&&"local"!=t.c.B?t.b.get(e,t.a):null}).then(function(n){if(n)return Rl(t,"local").then(function(){t.c=e})})})};var jl={name:"persistence",B:"session"};function Ll(t){return{name:"authUser",B:t}}function Ul(t,e){return Vl(t,function(){return t.b.set(t.c,e.w(),t.a)})}function ql(t){return Vl(t,function(){return au(t.b,t.c,t.a)})}function Fl(t,e){return Vl(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Dl(t||{})})})}function Vl(t,e){return t.f=t.f.then(e,e),t.f}function Bl(t){if(this.l=!1,Tr(this,"settings",new Wu),Tr(this,"app",t),!Jl(this).options||!Jl(this).options.apiKey)throw new Br("invalid-api-key");t=Lt.a.SDK_VERSION?sr(Lt.a.SDK_VERSION):null,this.b=new ha(Jl(this).options&&Jl(this).options.apiKey,co(uo),t),this.N=[],this.m=[],this.I=[],this.Tb=Lt.a.INTERNAL.createSubscribe(y(this.oc,this)),this.O=void 0,this.Ub=Lt.a.INTERNAL.createSubscribe(y(this.pc,this)),Kl(this,null),this.h=new Ml(Jl(this).options.apiKey+":"+Jl(this).name),this.A=new Pl(Jl(this).options.apiKey+":"+Jl(this).name),this.V=$l(this,function(t){var e=Jl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Al,t.a).then(function(t){return t&&e&&(t.authDomain=e),Dl(t||{})})}(t.A,Jl(t).options.authDomain).then(function(e){return(t.D=e)&&(e.ba=t.A),Nl(t.A)});return $l(t,e)}(t).then(function(){return Fl(t.h,e)}).then(function(e){return e?(e.ba=t.A,t.D&&(t.D.aa||null)==(e.aa||null)?e:e.reload().then(function(){return Ul(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:ql(t.h)})):null}).then(function(e){Kl(t,e||null)});return $l(t,n)}(this)),this.i=$l(this,function(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.l)return t.ka()}).s(function(){}).then(function(){if(!t.l){t.X=!0;var e=t.h;e.b.addListener(Ll("local"),e.a,t.ka)}})}(this)),this.X=!1,this.ka=y(this.Oc,this),this.Ha=y(this.Z,this),this.ra=y(this.bc,this),this.sa=y(this.mc,this),this.ta=y(this.nc,this),function(t){var e=Jl(t).options.authDomain,n=Jl(t).options.apiKey;e&&hr()&&(t.Sb=t.V.then(function(){if(!t.l){if(t.a=Fu(e,n,Jl(t).name),t.a.subscribe(t),Xl(t)&&fl(Xl(t)),t.D){fl(t.D);var r=t.D;r.pa(t.ea()),ol(r,t),il(r=t.D,t.G),al(r,t),t.D=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=y(this.delete,this),this.INTERNAL.logFramework=y(this.vc,this),this.u=0,Ae.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.pa(t)},enumerable:!1}),t.W=null}(this),this.G=[]}function zl(t){ue.call(this,"languageCodeChanged"),this.g=t}function Hl(t){ue.call(this,"frameworkChanged"),this.c=t}function Gl(t){return t.Sb||St(new Br("auth-domain-config-required"))}function Wl(t,e){var n={};return n.apiKey=Jl(t).options.apiKey,n.authDomain=Jl(t).options.authDomain,n.appName=Jl(t).name,t.V.then(function(){return function(t,e,n,r){var o=new rl(t,e);return n&&(o.ba=n),r&&il(o,r),o.reload().then(function(){return o})}(n,e,t.A,t.ya())}).then(function(e){return Xl(t)&&e.uid==Xl(t).uid?(wl(Xl(t),e),t.Z(e)):(Kl(t,e),fl(e),t.Z(e))}).then(function(){Zl(t)})}function Kl(t,e){Xl(t)&&(function(t,e){U(t.N,function(t){return t==e})}(Xl(t),t.Ha),Se(Xl(t),"tokenChanged",t.ra),Se(Xl(t),"userDeleted",t.sa),Se(Xl(t),"userInvalidated",t.ta),ll(Xl(t))),e&&(e.N.push(t.Ha),we(e,"tokenChanged",t.ra),we(e,"userDeleted",t.sa),we(e,"userInvalidated",t.ta),0<t.u&&ul(e)),Tr(t,"currentUser",e),e&&(e.pa(t.ea()),ol(e,t),il(e,t.G),al(e,t))}function Ql(t,e){var n=null,r=null;return $l(t,e.then(function(e){return n=ni(e),r=mo(e),Wl(t,e)}).then(function(){return Pr({user:Xl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Jl(t){return t.app}function Xl(t){return t.currentUser}function Yl(t){return Xl(t)&&Xl(t)._lat||null}function Zl(t){if(t.X){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Yl(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](Yl(t))}}function $l(t,e){return t.N.push(e),e.ia(function(){L(t.N,e)}),e}function tc(){}function ec(){this.a={},this.b=1e12}Ml.prototype.nb=function(t){var e=null,n=this;return function(t){var e=new Br("invalid-persistence-type"),n=new Br("unsupported-persistence-type");t:{for(r in eu)if(eu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(er()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!cr()&&"none"!==t)throw n}}(t),Vl(this,function(){return t!=n.c.B?n.b.get(n.c,n.a).then(function(r){return e=r,Rl(n,t)}).then(function(){if(n.c=Ll(t),e)return n.b.set(n.c,e,n.a)}):Ct()})},_(Bl,Ae),_(zl,ue),_(Hl,ue),(t=Bl.prototype).nb=function(t){return $l(this,t=this.h.nb(t))},t.pa=function(t){this.W===t||this.l||(this.W=t,ya(this.b,this.W),this.dispatchEvent(new zl(this.ea())))},t.ea=function(){return this.W},t.Uc=function(){var t=n.navigator;this.pa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.vc=function(t){this.G.push(t),ba(this.b,Lt.a.SDK_VERSION?sr(Lt.a.SDK_VERSION,this.G):null),this.dispatchEvent(new Hl(this.G))},t.ya=function(){return F(this.G)},t.toJSON=function(){return{apiKey:Jl(this).options.apiKey,authDomain:Jl(this).options.authDomain,appName:Jl(this).name,currentUser:Xl(this)&&Xl(this).w()}},t.wb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.xa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?y(this.ac,this):null},t.ac=function(t,e,n){var r=this;t={requestUri:t,postBody:n,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var o=null,i=null,a=Pa(r.b,t).then(function(t){return o=ni(t),i=mo(t),t});return $l(this,t=r.V.then(function(){return a}).then(function(t){return Wl(r,t)}).then(function(){return Pr({user:Xl(r),credential:o,additionalUserInfo:i,operationType:"signIn"})}))},t.Mc=function(t){if(!hr())return St(new Br("operation-not-supported-in-this-environment"));var e=this,n=go(t.providerId),r=yr(),o=null;(!pr()||$n())&&Jl(this).options.authDomain&&t.isOAuthProvider&&(o=Ss(Jl(this).options.authDomain,Jl(this).options.apiKey,Jl(this).name,"signInViaPopup",t,null,r,Lt.a.SDK_VERSION||null));var i=Qn(o,n&&n.Ba,n&&n.Aa);return $l(this,n=Gl(this).then(function(e){return Lu(e,i,"signInViaPopup",t,r,!!o)}).then(function(){return new gt(function(t,n){e.ha("signInViaPopup",null,new Br("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.c=e.a.Ea(e,"signInViaPopup",i,r)})}).then(function(t){return i&&Kn(i),t?Pr(t):null}).s(function(t){throw i&&Kn(i),t}))},t.Nc=function(t){if(!hr())return St(new Br("operation-not-supported-in-this-environment"));var e=this;return $l(this,Gl(this).then(function(){return Vl(t=e.h,function(){return t.b.set(jl,t.c.B,t.a)});var t}).then(function(){return e.a.Ca("signInViaRedirect",t)}))},t.fa=function(){if(!hr())return St(new Br("operation-not-supported-in-this-environment"));var t=this;return $l(this,Gl(this).then(function(){return t.a.fa()}).then(function(t){return t?Pr(t):null}))},t.Sc=function(t){if(!t)return St(new Br("null-user"));var e=this,n={};n.apiKey=Jl(this).options.apiKey,n.authDomain=Jl(this).options.authDomain,n.appName=Jl(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.u,appName:t.m};var o=t.h,i={};return i[da]=o.b,i.refreshToken=o.a,i.expiresIn=(o.c-w())/1e3,e=new rl(e,i),n&&(e.ba=n),r&&il(e,r),wl(e,t),e}(t,n,e.A,e.ya());return $l(this,this.i.then(function(){if(Jl(e).options.apiKey!=t.l)return r.reload()}).then(function(){return Xl(e)&&t.uid==Xl(e).uid?(wl(Xl(e),t),e.Z(t)):(Kl(e,r),fl(r),e.Z(r))}).then(function(){Zl(e)}))},t.ob=function(){var t=this;return $l(this,this.i.then(function(){return Xl(t)?(Kl(t,null),ql(t.h).then(function(){Zl(t)})):Ct()}))},t.Oc=function(){var t=this;return Fl(this.h,Jl(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=Xl(t)&&e){n=Xl(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return wl(Xl(t),e),Xl(t).F();(Xl(t)||e)&&(Kl(t,e),e&&(fl(e),e.ba=t.A),t.a&&t.a.subscribe(t),Zl(t))}})},t.Z=function(t){return Ul(this.h,t)},t.bc=function(){Zl(this),this.Z(Xl(this))},t.mc=function(){this.ob()},t.nc=function(){this.ob()},t.oc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Xl(e))})},t.pc=function(t){var e=this;!function(t,e){t.I.push(e),$l(t,t.i.then(function(){!t.l&&j(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(Yl(t)))}))}(this,function(){t.next(Xl(e))})},t.xc=function(t,e,n){var r=this;return this.X&&Lt.a.Promise.resolve().then(function(){f(t)?t(Xl(r)):f(t.next)&&t.next(Xl(r))}),this.Tb(t,e,n)},t.wc=function(t,e,n){var r=this;return this.X&&Lt.a.Promise.resolve().then(function(){r.O=r.getUid(),f(t)?t(Xl(r)):f(t.next)&&t.next(Xl(r))}),this.Ub(t,e,n)},t.cc=function(t){var e=this;return $l(this,this.i.then(function(){return Xl(e)?Xl(e).F(t).then(function(t){return{accessToken:t}}):null}))},t.Nb=function(t){var e=this;return this.i.then(function(){return Ql(e,us(e.b,rs,{token:t}))}).then(function(t){var n=t.user;return bl(n,"isAnonymous",!1),e.Z(n),t})},t.Gc=function(t){return kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Nb(t)},t.Hc=function(t,e){return kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Ob(t,e)},t.Ob=function(t,e){var n=this;return this.i.then(function(){return Ql(n,us(n.b,os,{email:t,password:e}))})},t.yb=function(t,e){var n=this;return this.i.then(function(){return Ql(n,us(n.b,La,{email:t,password:e}))})},t.Wb=function(t,e){return kr("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.yb(t,e)},t.Jc=function(t){return kr("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Qa(t).then(function(t){return t.user})},t.Qa=function(t){var e=this;return this.i.then(function(){return Ql(e,t.la(e.b))})},t.Ra=function(){var t=this;return this.i.then(function(){var e=Xl(t);if(e&&e.isAnonymous){var n=Pr({providerId:null,isNewUser:!1});return Pr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Ql(t,t.b.Ra()).then(function(e){var n=e.user;return bl(n,"isAnonymous",!0),t.Z(n),e})})},t.Ic=function(){return kr("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Ra()},t.getUid=function(){return Xl(this)&&Xl(this).uid||null},t.Vb=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&Xl(this)&&ul(Xl(this))},t.Ec=function(t){var e=this;N(this.m,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&Xl(this)&&ll(Xl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),$l(this,this.i.then(function(){e.l||j(e.m,t)&&t(Yl(e))}))},t.removeAuthTokenListener=function(t){U(this.m,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h).b.removeListener(Ll("local"),t.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Za()),Lt.a.Promise.resolve()},t.Zb=function(t){return kr("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),$l(this,function(t,e){return us(t,Ua,{identifier:e,continueUri:fr()?Hn():"http://localhost"}).then(function(t){return t.allProviders||[]})}(this.b,t))},t.$b=function(t){return $l(this,function(t,e){return us(t,Ua,{identifier:e,continueUri:fr()?Hn():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.qc=function(t){return!!Xo(t)},t.mb=function(t,e){var n=this;return $l(this,Ct().then(function(){var t=new Wr(e);if(!t.c)throw new Br("argument-error",Jr+" must be true when sending sign in link to email");return no(t)}).then(function(e){return n.b.mb(t,e)}).then(function(){}))},t.Vc=function(t){return this.Ja(t).then(function(t){return t.data.email})},t.$a=function(t,e){return $l(this,this.b.$a(t,e).then(function(){}))},t.Ja=function(t){return $l(this,this.b.Ja(t).then(function(t){return new Nr(t)}))},t.Xa=function(t){return $l(this,this.b.Xa(t).then(function(){}))},t.lb=function(t,e){var n=this;return $l(this,Ct().then(function(){return void 0===e||nt(e)?{}:no(new Wr(e))}).then(function(e){return n.b.lb(t,e)}).then(function(){}))},t.Lc=function(t,e){return $l(this,Qu(this,t,e,y(this.Qa,this)))},t.Kc=function(t,e){var n=this;return $l(this,Ct().then(function(){var r=Jo(t,e||Hn());return n.Qa(r)}))},tc.prototype.render=function(){},tc.prototype.reset=function(){},tc.prototype.getResponse=function(){},tc.prototype.execute=function(){};var nc=null;function rc(t,e){return(e=oc(e))&&t.a[e]||null}function oc(t){return(t=void 0===t?1e12:t)?t.toString():null}function ic(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Mn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():we(this.f,"click",this.i)}function ac(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function sc(){}ec.prototype.render=function(t,e){return this.a[this.b.toString()]=new ic(t,e),this.b++},ec.prototype.reset=function(t){var e=rc(this,t);t=oc(t),e&&t&&(e.delete(),delete this.a[t])},ec.prototype.getResponse=function(t){return(t=rc(this,t))?t.getResponse():null},ec.prototype.execute=function(t){(t=rc(this,t))&&t.execute()},ic.prototype.getResponse=function(){return ac(this),this.b},ic.prototype.execute=function(){ac(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},ic.prototype.delete=function(){ac(this),this.g=!0,clearTimeout(this.a),this.a=null,Se(this.f,"click",this.i)},sc.prototype.g=function(){return nc||(nc=new ec),Ct(nc)},sc.prototype.c=function(){};var uc=null;function lc(){this.b=n.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var cc=new gn(yn,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),hc=new _r(3e4,6e4);lc.prototype.g=function(t){var e=this;return new gt(function(r,o){var i=setTimeout(function(){o(new Br("network-request-failed"))},hc.get());!n.grecaptcha||t!==e.f&&!e.b?(n[e.a]=function(){if(n.grecaptcha){e.f=t;var a=n.grecaptcha.render;n.grecaptcha.render=function(t,n){return t=a(t,n),e.b++,t},clearTimeout(i),r(n.grecaptcha)}else clearTimeout(i),o(new Br("internal-error"));delete n[e.a]},Ct(oa(_n(cc,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(i),o(new Br("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),r(n.grecaptcha))})},lc.prototype.c=function(){this.b--};var fc=null;function dc(t,e,r,o,i,a,s){if(Tr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.l=e,this.g=null,s?(uc||(uc=new sc),s=uc):(fc||(fc=new lc),s=fc),this.m=s,this.a=r||{theme:"light",type:"image"},this.h=[],this.a[mc])throw new Br("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[vc],!n.document)throw new Br("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Mn(e)||!this.i&&Mn(e).hasChildNodes())throw new Br("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new ha(t,a||null,i||null),this.v=o||function(){return null};var u=this;this.o=[];var l=this.a[pc];this.a[pc]=function(t){if(yc(u,t),"function"==typeof l)l(t);else if("string"==typeof l){var e=lr(l,n);"function"==typeof e&&e(t)}};var c=this.a[gc];this.a[gc]=function(){if(yc(u,null),"function"==typeof c)c();else if("string"==typeof c){var t=lr(c,n);"function"==typeof t&&t()}}}var pc="callback",gc="expired-callback",mc="sitekey",vc="size";function yc(t,e){for(var n=0;n<t.o.length;n++)try{t.o[n](e)}catch(r){}}function bc(t,e){return t.h.push(e),e.ia(function(){L(t.h,e)}),e}function wc(t){if(t.D)throw new Br("internal-error","RecaptchaVerifier instance has been destroyed.")}function _c(t,e,n){var r=!1;try{this.b=n||Lt.a.app()}catch(a){throw new Br("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Br("invalid-api-key");n=this.b.options.apiKey;var o=this,i=null;try{i=this.b.auth().ya()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}i=Lt.a.SDK_VERSION?sr(Lt.a.SDK_VERSION,i):null,dc.call(this,n,t,e,function(){try{var t=o.b.auth().ea()}catch(e){t=null}return t},i,co(uo),r)}function Cc(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var o=0,i=!1,a=0;a<e.length;a++)if(e[a].optional)i=!0;else{if(i)throw new Br("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(i=e.length,n.length<o||i<n.length)r="Expected "+(o==i?1==o?"1 argument":o+" arguments":o+"-"+i+" arguments")+" but got "+n.length+".";else{for(o=0;o<n.length;o++)if(i=e[o].optional&&void 0===n[o],!e[o].M(n[o])&&!i){if(e=e[o],0>o||o>=Sc.length)throw new Br("internal-error","Argument validator received an unsupported number of arguments.");n=Sc[o],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new Br("argument-error",t+" failed: "+r)}(t=dc.prototype).za=function(){var t=this;return this.f?this.f:this.f=bc(this,Ct().then(function(){if(fr()&&!tr())return Yn();throw new Br("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.v())}).then(function(e){return t.g=e,us(t.u,Qa,{})}).then(function(e){t.a[mc]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){wc(this);var t=this;return bc(this,this.za().then(function(){if(null===t.c){var e=t.l;if(!t.i){var n=Mn(e);e=function(t,e,n){var o=arguments,i=document,a=String(o[0]),s=o[1];if(!pn&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',lt(s.name),'"'),s.type){a.push(' type="',lt(s.type),'"');var u={};st(u,s),delete u.type,s=u}a.push(">"),a=a.join("")}return a=i.createElement(a),s&&(r(s)?a.className=s:c(s)?a.className=s.join(" "):Rn(a,s)),2<o.length&&function(t,e,n){function o(n){n&&e.appendChild(r(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var a=n[i];!h(a)||d(a)&&0<a.nodeType?o(a):N(Ln(a)?F(a):a,o)}}(i,a,o),a}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){wc(this);var t=this;return bc(this,this.render().then(function(e){return new gt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var o=function(e){e&&(function(t,e){U(t.o,function(t){return t==e})}(t,o),n(e))};t.o.push(o),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){wc(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){wc(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Mn(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}},_(_c,dc);var Sc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ec(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:r}}function Oc(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:o}}function Ic(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:d}}function kc(t,e){return{name:t||"",K:"a function",optional:!!e,M:f}}function xc(t,e){return{name:t||"",K:"null",optional:!!e,M:l}}function Tc(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.la||t&&e.providerId!==t)}}}function Dc(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&r(t.type)&&f(t.verify))}}}function Pc(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Ac(t,e){for(var n in e){var r=e[n].name;t[r]=Rc(r,t[n],e[n].j)}}function Nc(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b(function(t){return this[t]},n),set:b(function(t,e,n,r){Cc(t,[n],[r],!0),this[e]=r},r,n,e[n].ub),enumerable:!0})}}function Mc(t,e,n,r){t[e]=Rc(e,n,r)}function Rc(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Cc(i,n,t),e.apply(this,t)}if(!n)return e;var o,i=function(t){return(t=t.split("."))[t.length-1]}(t);for(o in e)r[o]=e[o];for(o in e.prototype)r.prototype[o]=e.prototype[o];return r}Ac(Bl.prototype,{Xa:{name:"applyActionCode",j:[Ec("code")]},Ja:{name:"checkActionCode",j:[Ec("code")]},$a:{name:"confirmPasswordReset",j:[Ec("code"),Ec("newPassword")]},yb:{name:"createUserWithEmailAndPassword",j:[Ec("email"),Ec("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[Ec("email"),Ec("password")]},Zb:{name:"fetchProvidersForEmail",j:[Ec("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[Ec("email")]},fa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Ec("emailLink")]},wc:{name:"onAuthStateChanged",j:[Pc(Ic(),kc(),"nextOrObserver"),kc("opt_error",!0),kc("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[Pc(Ic(),kc(),"nextOrObserver"),kc("opt_error",!0),kc("opt_completed",!0)]},lb:{name:"sendPasswordResetEmail",j:[Ec("email"),Pc(Ic("opt_actionCodeSettings",!0),xc(null,!0),"opt_actionCodeSettings",!0)]},mb:{name:"sendSignInLinkToEmail",j:[Ec("email"),Ic("actionCodeSettings")]},nb:{name:"setPersistence",j:[Ec("persistence")]},Qa:{name:"signInAndRetrieveDataWithCredential",j:[Tc()]},Ra:{name:"signInAnonymously",j:[]},Ic:{name:"signInAnonymouslyAndRetrieveData",j:[]},Jc:{name:"signInWithCredential",j:[Tc()]},Nb:{name:"signInWithCustomToken",j:[Ec("token")]},Gc:{name:"signInAndRetrieveDataWithCustomToken",j:[Ec("token")]},Ob:{name:"signInWithEmailAndPassword",j:[Ec("email"),Ec("password")]},Kc:{name:"signInWithEmailLink",j:[Ec("email"),Ec("emailLink",!0)]},Hc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[Ec("email"),Ec("password")]},Lc:{name:"signInWithPhoneNumber",j:[Ec("phoneNumber"),Dc()]},Mc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Sc:{name:"updateCurrentUser",j:[Pc({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof rl)}},xc(),"user")]},ob:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ec(null,!0)]},Uc:{name:"useDeviceLanguage",j:[]},Vc:{name:"verifyPasswordResetCode",j:[Ec("code")]}}),Nc(Bl.prototype,{lc:{name:"languageCode",ub:Pc(Ec(),xc(),"languageCode")}}),(Bl.Persistence=eu).LOCAL="local",Bl.Persistence.SESSION="session",Bl.Persistence.NONE="none",Ac(rl.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Oc("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[Oc("opt_forceRefresh",!0)]},fb:{name:"linkAndRetrieveDataWithCredential",j:[Tc()]},rc:{name:"linkWithCredential",j:[Tc()]},sc:{name:"linkWithPhoneNumber",j:[Ec("phoneNumber"),Dc()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},hb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Tc()]},Ac:{name:"reauthenticateWithCredential",j:[Tc()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Ec("phoneNumber"),Dc()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},kb:{name:"sendEmailVerification",j:[Pc(Ic("opt_actionCodeSettings",!0),xc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ec(null,!0)]},Rc:{name:"unlink",j:[Ec("provider")]},qb:{name:"updateEmail",j:[Ec("email")]},rb:{name:"updatePassword",j:[Ec("password")]},Tc:{name:"updatePhoneNumber",j:[Tc("phone")]},sb:{name:"updateProfile",j:[Ic("profile")]}}),Ac(ec.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ac(tc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ac(gt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Nc(Wu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",ub:Oc("appVerificationDisabledForTesting")}}),Ac(Ku.prototype,{confirm:{name:"confirm",j:[Ec("verificationCode")]}}),Mc(ko,"fromJSON",function(t){t=r(t)?JSON.parse(t):t;for(var e,n=[Mo,Ko,Zo,Po],o=0;o<n.length;o++)if(e=n[o](t))return e;return null},[Pc(Ec(),Ic(),"json")]),Mc(Qo,"credential",function(t,e){return new Wo(t,e)},[Ec("email"),Ec("password")]),Ac(Wo.prototype,{w:{name:"toJSON",j:[Ec(null,!0)]}}),Ac(Uo.prototype,{ua:{name:"addScope",j:[Ec("scope")]},Da:{name:"setCustomParameters",j:[Ic("customOAuthParameters")]}}),Mc(Uo,"credential",qo,[Pc(Ec(),Ic(),"token")]),Mc(Qo,"credentialWithLink",Jo,[Ec("email"),Ec("emailLink")]),Ac(Fo.prototype,{ua:{name:"addScope",j:[Ec("scope")]},Da:{name:"setCustomParameters",j:[Ic("customOAuthParameters")]}}),Mc(Fo,"credential",Vo,[Pc(Ec(),Ic(),"token")]),Ac(Bo.prototype,{ua:{name:"addScope",j:[Ec("scope")]},Da:{name:"setCustomParameters",j:[Ic("customOAuthParameters")]}}),Mc(Bo,"credential",zo,[Pc(Ec(),Pc(Ic(),xc()),"idToken"),Pc(Ec(),xc(),"accessToken",!0)]),Ac(Ho.prototype,{Da:{name:"setCustomParameters",j:[Ic("customOAuthParameters")]}}),Mc(Ho,"credential",Go,[Pc(Ec(),Ic(),"token"),Ec("secret",!0)]),Ac(Lo.prototype,{ua:{name:"addScope",j:[Ec("scope")]},credential:{name:"credential",j:[Pc(Ec(),Pc(Ic(),xc()),"optionsOrIdToken"),Pc(Ec(),xc(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[Ic("customOAuthParameters")]}}),Ac(Ao.prototype,{w:{name:"toJSON",j:[Ec(null,!0)]}}),Ac(To.prototype,{w:{name:"toJSON",j:[Ec(null,!0)]}}),Mc(ti,"credential",ei,[Ec("verificationId"),Ec("verificationCode")]),Ac(ti.prototype,{Va:{name:"verifyPhoneNumber",j:[Ec("phoneNumber"),Dc()]}}),Ac(Yo.prototype,{w:{name:"toJSON",j:[Ec(null,!0)]}}),Ac(Br.prototype,{toJSON:{name:"toJSON",j:[Ec(null,!0)]}}),Ac(ci.prototype,{toJSON:{name:"toJSON",j:[Ec(null,!0)]}}),Ac(li.prototype,{toJSON:{name:"toJSON",j:[Ec(null,!0)]}}),Ac(_c.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===Lt.a||!Lt.a.INTERNAL||!Lt.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:Bl,AuthCredential:ko,Error:Br};Mc(t,"EmailAuthProvider",Qo,[]),Mc(t,"FacebookAuthProvider",Uo,[]),Mc(t,"GithubAuthProvider",Fo,[]),Mc(t,"GoogleAuthProvider",Bo,[]),Mc(t,"TwitterAuthProvider",Ho,[]),Mc(t,"OAuthProvider",Lo,[Ec("providerId")]),Mc(t,"SAMLAuthProvider",jo,[Ec("providerId")]),Mc(t,"PhoneAuthProvider",ti,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Bl)}}]),Mc(t,"RecaptchaVerifier",_c,[Pc(Ec(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Ic("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Lt.a.app.App)}}]),Lt.a.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:y((t=new Bl(t)).getUid,t),getToken:y(t.cc,t),addAuthTokenListener:y(t.Vb,t),removeAuthTokenListener:y(t.Ec,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(n){}}),Lt.a.INTERNAL.extendNamespace({User:rl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ut=function(){return function(){}}(),qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.login=function(t){return Object(s.cordova)(this,"login",{successIndex:1,errorIndex:2},arguments)},e.prototype.trySilentLogin=function(t){return Object(s.cordova)(this,"trySilentLogin",{},arguments)},e.prototype.logout=function(){return Object(s.cordova)(this,"logout",{},arguments)},e.prototype.disconnect=function(){return Object(s.cordova)(this,"disconnect",{},arguments)},e.prototype.getSigningCertificateFingerprint=function(){return Object(s.cordova)(this,"getSigningCertificateFingerprint",{},arguments)},e.pluginName="GooglePlus",e.plugin="cordova-plugin-googleplus",e.pluginRef="window.plugins.googleplus",e.repo="https://github.com/EddyVerbruggen/cordova-plugin-googleplus",e.install="ionic cordova plugin add cordova-plugin-googleplus --variable REVERSED_CLIENT_ID=myreversedclientid",e.installVariables=["REVERSED_CLIENT_ID"],e.platforms=["Android","iOS"],e}(s.IonicNativePlugin),Ft=n("S1nX"),Vt=n("67Y/");function Bt(t){return function(t){return new _t.a(function(e){return{unsubscribe:t.onSnapshot(e)}})}(t).pipe(Object(Ft.a)())}function zt(t){return Bt(t).pipe(Object(Vt.a)(function(t){return{payload:t,type:"query"}}))}var Ht=n("VnD/"),Gt=n("dC0D");function Wt(t){return zt(t).pipe(Object(Vt.a)(function(t){return t.payload.docChanges().map(function(t){return{type:t.type,payload:t}})}))}var Kt=function(){function t(t,e,n){this.ref=t,this.query=e,this.afs=n}return t.prototype.stateChanges=function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Wt(this.query))).pipe(Object(Vt.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Object(Ht.a)(function(t){return t.length>0})):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Wt(this.query)))},t.prototype.auditTrail=function(t){return this.stateChanges(t).pipe(Object(Gt.a)(function(t,e){return t.concat(e)},[]))},t.prototype.snapshotChanges=function(t){var e=function(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(t),n=function(t,e){return zt(t).pipe(Object(Vt.a)(function(t){return t.payload.docChanges()}),Object(Gt.a)(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.id==e.doc.id||t.splice(e.newIndex,0,e);break;case"modified":null!=t[e.oldIndex]&&t[e.oldIndex].doc.id!=e.doc.id||(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.id==e.doc.id&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e)},[]),Object(Vt.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)},t.prototype.valueChanges=function(){var t=zt(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(Object(Vt.a)(function(t){return t.payload.docs.map(function(t){return t.data()})}))},t.prototype.get=function(t){return Object(B.a)(this.query.get(t)).pipe(kt(this.afs.scheduler.zone))},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new Qt(this.ref.doc(t),this.afs)},t}(),Qt=function(){function t(t,e){this.ref=t,this.afs=e}return t.prototype.set=function(t,e){return this.ref.set(t,e)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=$t(this.ref.collection(t),e);return new Kt(n.ref,n.query,this.afs)},t.prototype.snapshotChanges=function(){var t=Bt(this.ref).pipe(Object(Vt.a)(function(t){return{payload:t,type:"value"}})),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)},t.prototype.valueChanges=function(){return this.snapshotChanges().pipe(Object(Vt.a)(function(t){return t.payload.data()}))},t.prototype.get=function(t){return Object(B.a)(this.ref.get(t)).pipe(kt(this.afs.scheduler.zone))},t}(),Jt=new r.p("angularfire2.enableFirestorePersistence"),Xt=new r.p("angularfire2.firestore.persistenceSettings"),Yt=new r.p("angularfire2.firestore.settings"),Zt=parseFloat(xt.SDK_VERSION)<5.8?{timestampsInSnapshots:!0}:{};function $t(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}var te=function(){function t(t,e,n,r,o,i,a){var s=this;this.scheduler=new It(i,o),this.firestore=i.runOutsideAngular(function(){var n=Nt(t,e).firestore();return n.settings(r||Zt),n}),this.persistenceEnabled$=n&&Object(m.o)(o)?i.runOutsideAngular(function(){try{return Object(B.a)(s.firestore.enablePersistence(a||void 0).then(function(){return!0},function(){return!1}))}catch(t){return Object(nt.a)(!1)}}):Object(nt.a)(!1)}return t.prototype.collection=function(t,e){var n=$t("string"==typeof t?this.firestore.collection(t):t,e);return new Kt(n.ref,n.query,this)},t.prototype.doc=function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new Qt(e,this)},t.prototype.createId=function(){return this.firestore.collection("_").doc().id},t}(),ee=(n("6Joi"),function(){function t(){}var e;return e=t,t.enablePersistence=function(t){return{ngModule:e,providers:[{provide:Jt,useValue:!0},{provide:Xt,useValue:t}]}},t}()),ne=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},re=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},oe=function(){function t(t,e,n,r,o){var i=this;this.platform=t,this.afAuth=e,this.gplus=n,this.afStore=r,this.loadingCtrl=o,this.user=null,this.pushes={},this.afAuth.authState.subscribe(function(t){i.user=t})}return t.prototype.timestamp=function(){return Math.floor(Date.now()/1e3)},t.prototype.pushSquadron=function(t,e){return ne(this,void 0,void 0,function(){var n,r;return re(this,function(o){switch(o.label){case 0:return this.loggedIn()?(e.uid||(e.uid=this.user.uid),e.uid!=this.user.uid?[2]:(delete(n=JSON.parse(JSON.stringify(e))).timestamp,r=JSON.stringify(n),JSON.stringify(r)==this.pushes[t]?[2]:(e.timestamp=this.timestamp(),this.pushes[t]=r,[4,this.afStore.doc("squadrons/"+t).set(e)]))):[2];case 1:return[2,o.sent()]}})})},t.prototype.mysquadrons=function(){return ne(this,void 0,void 0,function(){var t=this;return re(this,function(e){return[2,this.afStore.collection("squadrons",function(e){return e.where("uid","==",t.user.uid)}).get().toPromise()]})})},t.prototype.deleteSquadron=function(t){return ne(this,void 0,void 0,function(){return re(this,function(e){switch(e.label){case 0:return[4,this.afStore.doc("squadrons/"+t).delete()];case 1:return[2,e.sent()]}})})},t.prototype.snapshotToSquadron=function(t){if(!t.exists)return null;var e=t.data();return{name:e.name,faction:e.faction,damagedeck:e.damagedeck,damagediscard:e.damagediscard,pilots:e.pilots,timestamp:e.timestamp,uid:e.uid}},t.prototype.retrieveSquadron=function(t){return ne(this,void 0,void 0,function(){var e=this;return re(this,function(n){switch(n.label){case 0:return[4,this.afStore.doc("squadrons/"+t).get().pipe(Object(Vt.a)(function(t){return e.snapshotToSquadron(t)})).toPromise()];case 1:return[2,n.sent()]}})})},t.prototype.getSquadronSubscription=function(t){var e=this;return this.afStore.doc("squadrons/"+t).snapshotChanges().pipe(Object(Vt.a)(function(t){return e.snapshotToSquadron(t.payload)}))},t.prototype.nativeGoogleLogin=function(){return ne(this,void 0,void 0,function(){var t,e;return re(this,function(n){switch(n.label){case 0:return[4,this.gplus.login({webClientId:"709154274494-m1m5u7fbcpbmk65h9l5segon0tvjdo0u.apps.googleusercontent.com",offline:!0,scopes:"profile email"})];case 1:return t=n.sent(),[4,xt.auth.GoogleAuthProvider.credential(t.idToken)];case 2:return e=n.sent(),[4,this.afAuth.auth.signInWithCredential(e)];case 3:return[2,n.sent()]}})})},t.prototype.webGoogleLogin=function(){return ne(this,void 0,void 0,function(){var t;return re(this,function(e){switch(e.label){case 0:return t=new xt.auth.GoogleAuthProvider,[4,this.afAuth.auth.signInWithPopup(t)];case 1:return[2,e.sent()]}})})},t.prototype.loggedIn=function(){return!!this.user&&!!this.user.uid&&0!=this.user.uid.length},t.prototype.login=function(){return ne(this,void 0,void 0,function(){var t=this;return re(this,function(e){switch(e.label){case 0:return this.platform.is("cordova")?[4,this.nativeGoogleLogin().then(function(e){console.log("Native Login Success",t.afAuth.auth.currentUser)},function(t){console.log("Native Login Error",t)})]:[3,2];case 1:return e.sent(),[3,4];case 2:return[4,this.webGoogleLogin().then(function(e){console.log("Web Login Success",t.afAuth.auth.currentUser)},function(t){console.log("Web Login Error",t)})];case 3:e.sent(),e.label=4;case 4:return[2]}})})},t.prototype.logout=function(){this.afAuth.auth.signOut(),console.log("Logged out",this.afAuth.auth.currentUser)},t.ngInjectableDef=r.S({factory:function(){return new t(r.W(i.Ib),r.W(Rt),r.W(qt),r.W(te),r.W(i.Eb))},token:t,providedIn:"root"}),t}(),ie=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},ae=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},se=function(){function t(t,e,n,r,o,i,a){this.dataService=t,this.events=e,this.storage=n,this.toastController=r,this.zone=o,this.loadingCtrl=i,this.firebase=a,this.initialized=!1,this.squadrons={},this.snapshots={},this.subscriptions={},this.topic="state:update",this.currentSquadronUUID=null}return t.prototype.reset=function(){this.squadrons={},this.snapshots={},this.initialized=!1,this.notify()},t.prototype.restoreFromDisk=function(){return ie(this,void 0,void 0,function(){var t,e=this;return ae(this,function(n){switch(n.label){case 0:return[4,this.storage.ready()];case 1:return n.sent(),t=this,[4,this.storage.get("squadrons")];case 2:return t.squadrons=n.sent(),this.squadrons?(Object.keys(this.squadrons).forEach(function(t){e.snapshots[t]=[JSON.parse(JSON.stringify(e.squadrons[t]))]}),console.log("Squadrons restored",this.squadrons),this.initialized=!0,this.notify(),[2]):(this.squadrons={},console.log("No local squadrons found"),this.initialized=!1,this.notify(),[2])}})})},t.prototype.nextSquadron=function(t){if(!this.squadrons[t])return null;var e=Object.keys(this.squadrons),n=e.indexOf(t)+1;return n>e.length?null:e[n]},t.prototype.previousSquadron=function(t){if(!this.squadrons[t])return null;var e=Object.keys(this.squadrons),n=e.indexOf(t)-1;return n>e.length?null:e[n]},t.prototype.readonly=function(t){return!this.squadrons[t]||!this.squadrons[t].uid||!this.firebase.loggedIn()||this.squadrons[t].uid!=this.firebase.user.uid},t.prototype.getTimestamp=function(){return Math.ceil(Date.now()/1e3)},t.prototype.getLastSnapshotTime=function(t){var e=this.snapshots[t];return e[e.length-1].timestamp},t.prototype.resetSquadron=function(t){var e=this,n=this.getSquadron(t);n.damagediscard=[],n.damagedeck=this.dataService.getDamageDeck(),this.shuffleDamageDeck(t),n.pilots.forEach(function(t){if(t.damagecards=[],t.conditions=[],"shields"in t&&(t.shields=e.dataService.getStatTotal(t,"shields")),"force"in t&&(t.force=e.dataService.getStatTotal(t,"force")),"charges"in t){var n=e.dataService.getFFGCardStat(t.ffg,"charge");t.charges=n.value}t.upgrades.forEach(function(t){if(t.side=0,"charges"in t){var n=e.dataService.getFFGCardStat(t.sides[0].ffg,"charge");t.charges=n.value}})}),this.snapshot(t),this.notify([t])},t.prototype.updateSquadron=function(t,e){var n=this.getSquadron(t);e?n&&(n.timestamp+2>e.timestamp||(this.squadrons[t]=e,this.notify([t]))):this.closeSquadron(t)},t.prototype.closeSquadron=function(t){delete this.squadrons[t],delete this.snapshots[t],delete this.subscriptions[t],this.storage.set("squadrons",this.squadrons),this.notify([t])},t.prototype.notify=function(t){void 0===t&&(t=[]),0==t.length&&this.squadrons&&Object.keys(this.squadrons).forEach(function(e){t.push(e)}),this.events.publish(this.topic,t)},t.prototype.getDamageCard=function(t,e,n){return this.getPilot(t,e).damagecards[n]},t.prototype.getCondition=function(t,e,n){return this.getPilot(t,e).conditions[n]},t.prototype.getPilot=function(t,e){var n=this.getSquadron(t);return n?n.pilots.find(function(t){return t.uuid==e}):null},t.prototype.getUpgrade=function(t,e,n){return this.getPilot(t,e).upgrades.find(function(t){var e=!1;return t.sides.forEach(function(t){t.ffg==n&&(e=!0)}),e})},t.prototype.getSquadronPointsDestroyed=function(t){var e=this,n=this.getSquadron(t),r=0;return n.pilots.forEach(function(t){r+=e.dataService.getPointsDestroyed(t)}),r},t.prototype.getSquadronPointTotal=function(t){var e=this,n=this.getSquadron(t),r=0;return n.pilots.forEach(function(t){r+=e.dataService.getPilotPoints(t)}),r},t.prototype.rechargeAllRecurring=function(t){var e=this,n=this.getSquadron(t),r=function(t){if("charges"in t){var n=t.ffg;"side"in t&&(n=t.sides[t.side].ffg);var r=e.dataService.getFFGCardStat(n,"charge");if(r.recurring){var o=r.value;t.charges+=1,t.charges>o&&(t.charges=o)}}};n.pilots.forEach(function(t){if("force"in t){var n=e.dataService.getStatTotal(t,"force");t.force+=1,t.force>n&&(t.force=n)}r(t),t.upgrades.forEach(function(t){r(t)}),t.upgrades=JSON.parse(JSON.stringify(t.upgrades))}),this.snapshot(t)},t.prototype.subscribe=function(t){return ie(this,void 0,void 0,function(){var e,n,r=this;return ae(this,function(o){switch(o.label){case 0:return e=this.subscriptions,n=t,[4,this.firebase.getSquadronSubscription(t)];case 1:return e[n]=o.sent(),this.subscriptions[t].subscribe(function(e){r.updateSquadron(t,e)}),[2]}})})},t.prototype.synchronize=function(){return ie(this,void 0,void 0,function(){var t=this;return ae(this,function(e){switch(e.label){case 0:return[4,this.loadingCtrl.create({message:"Looking for squadron online"})];case 1:return[4,e.sent().present()];case 2:return e.sent(),Object.keys(this.squadrons).forEach(function(e){return ie(t,void 0,void 0,function(){var t,n;return ae(this,function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),[4,this.firebase.retrieveSquadron(e)];case 1:return(t=r.sent())?(this.updateSquadron(e,t),[3,4]):[3,2];case 2:return[4,this.firebase.pushSquadron(e,t)];case 3:r.sent(),r.label=4;case 4:return[4,this.subscribe(e)];case 5:return r.sent(),[3,7];case 6:return n=r.sent(),console.log("Unable to sync squadron",e,n),[3,7];case 7:return[2]}})})}),[4,this.loadingCtrl.dismiss()];case 3:return[2,e.sent()]}})})},t.prototype.snapshot=function(t){return ie(this,void 0,void 0,function(){var e;return ae(this,function(n){switch(n.label){case 0:return this.snapshots[t].push(JSON.parse(JSON.stringify(this.squadrons[t]))),this.storage.set("squadrons",this.squadrons),[4,this.firebase.pushSquadron(t,this.squadrons[t])];case 1:return n.sent(),e=new Date(1e3*this.squadrons[t].timestamp).toString(),[4,this.toastController.create({message:"Snapshot created "+e,duration:2e3,position:"bottom"})];case 2:return[2,n.sent().present()]}})})},t.prototype.undo=function(t){this.snapshots[t].pop();var e=this.snapshots[t].pop(),n=e.timestamp;return e.timestamp=this.getTimestamp(),this.squadrons[t]=JSON.parse(JSON.stringify(e)),this.snapshot(t),this.notify([t]),n},t.prototype.getSquadronId=function(){return wt()},t.prototype.getSquadron=function(t){return this.squadrons[t]},t.prototype.importSquadron=function(t,e){return ie(this,void 0,void 0,function(){return ae(this,function(n){switch(n.label){case 0:return this.squadrons[t]=e,this.snapshots[t]=[JSON.parse(JSON.stringify(e))],this.initialized=!0,[4,this.snapshot(t)];case 1:return n.sent(),[4,this.subscribe(t)];case 2:return[2,n.sent()]}})})},t.prototype.addSquadron=function(t,e){return ie(this,void 0,void 0,function(){return ae(this,function(n){switch(n.label){case 0:return e.damagedeck=this.dataService.getDamageDeck(),e.damagediscard=[],e.timestamp=this.getTimestamp(),[4,this.importSquadron(t,e)];case 1:return n.sent(),this.shuffleDamageDeck(t),this.initialized=!0,this.notify([t]),console.log("Squadron added",e),[2,e]}})})},t.prototype.shuffleDamageDeck=function(t){return ie(this,void 0,void 0,function(){var e,n,r,o;return ae(this,function(i){switch(i.label){case 0:for(e=this.getSquadron(t),n=[];e.damagedeck.length>0;)r=Math.floor(Math.random()*e.damagedeck.length),o=e.damagedeck[r],e.damagedeck.splice(r,1),n.push(o);return e.damagedeck=n,this.snapshot(t),[4,this.toastController.create({message:"Damage Deck shuffled",duration:2e3,position:"bottom"})];case 1:return[2,i.sent().present()]}})})},t.prototype.shuffleDamageDiscard=function(t){var e=this.getSquadron(t);e.damagediscard.forEach(function(t){e.damagedeck.push(t)}),e.damagediscard=[],this.shuffleDamageDeck(t)},t.prototype.discard=function(t,e){this.getSquadron(t).damagediscard.push(e)},t.prototype.draw=function(t){return this.getSquadron(t).damagedeck.shift()},t.prototype.drawHit=function(t,e){var n=this.getSquadron(t),r=this.getPilot(t,e),o=n.damagedeck.shift();return o?(o.exposed=!1,r.damagecards.push(o),o):null},t.prototype.drawCrit=function(t,e){var n=this.getSquadron(t),r=this.getPilot(t,e),o=n.damagedeck.shift();return o?(o.exposed=!0,r.damagecards.push(o),o):null},t.ngInjectableDef=r.S({factory:function(){return new t(r.W(yt),r.W(i.d),r.W(ht),r.W(i.Mb),r.W(r.z),r.W(i.Eb),r.W(oe))},token:t,providedIn:"root"}),t}(),ue=function(){function t(t,e,n,r,o,i,a,s){this.dataService=t,this.modalController=e,this.layout=n,this.route=r,this.state=o,this.router=i,this.location=a,this.events=s,this.sides=[],this.img_urls=[null,null],this.useAngularRouter=!1,this.chargeMax=0}return t.prototype.ngOnInit=function(){var t=this,e=this.route.snapshot.paramMap.get("squadronUUID"),n=this.route.snapshot.paramMap.get("pilotUUID"),r=this.route.snapshot.paramMap.get("ffg");e&&n&&r&&(this.useAngularRouter=!0,this.squadronUUID=e,this.pilotUUID=n,this.ffg=parseInt(r)),this.initialize(),this.events.subscribe(this.state.topic,function(e){t.initialize()})},t.prototype.initialize=function(){var t=this;this.upgrade=this.state.getUpgrade(this.squadronUUID,this.pilotUUID,this.ffg);for(var e=0;e<this.upgrade.sides.length;e++)this.sides[e]=this.dataService.getCardByFFG(this.upgrade.sides[e].ffg);var n=function(e){r.dataService.get_image_by_url(r.sides[e].card_image).then(function(n){t.img_urls[e]=n})},r=this;for(e=0;e<this.sides.length;e++)n(e);var o=this.sides[0].statistics.find(function(t){return"charge"==t.xws});o&&(this.chargeMax=parseInt(o.value))},t.prototype.push=function(){this.state.snapshot(this.squadronUUID)},t.prototype.chargeChange=function(t){this.upgrade.charges=t,this.push()},t.prototype.flipCard=function(){this.upgrade.side=0==this.upgrade.side?1:0,this.push()},t.prototype.dismiss=function(){this.useAngularRouter?this.location.back():this.modalController.dismiss()},t}(),le=function(){function t(t,e,n,r,o){this.dataService=t,this.modalController=e,this.events=n,this.layout=r,this.state=o,this.img_class="img-alt",this.img_urls=["",""],this.artwork=!0,this.sides=[{}],this.chargeStat=null,this.forceStat=null,this.isConfiguration=!1}return t.prototype.presentUpgradeModal=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(e){switch(e.label){case 0:return JSON.stringify(this.upgrade),[4,this.modalController.create({component:ue,componentProps:{squadronUUID:this.squadronUUID,pilotUUID:this.pilotUUID,ffg:this.upgrade.sides[this.upgrade.side].ffg}})];case 1:return[4,(t=e.sent()).present()];case 2:return e.sent(),[4,t.onWillDismiss()];case 3:return e.sent(),[2]}})},new((e=void 0)||(e=Promise))(function(r,o){function i(t){try{s(n.next(t))}catch(e){o(e)}}function a(t){try{s(n.throw(t))}catch(e){o(e)}}function s(t){t.done?r(t.value):new e(function(e){e(t.value)}).then(i,a)}s((n=n.apply(t,[])).next())});var t,e,n},t.prototype.getIsConfiguration=function(){var t=this.dataService.data["upgrade-types"].find(function(t){return"configuration"==t.xws}).ffg;return this.sides[this.upgrade.side].upgrade_types.includes(t)},t.prototype.ngOnInit=function(){var t=this;this.ffg=this.upgrade.sides[this.upgrade.side].ffg;for(var e=function(e){n.sides[e]=n.dataService.getCardByFFG(n.upgrade.sides[e].ffg),n.dataService.get_image_by_url(n.sides[e].image).then(function(n){t.img_urls[e]=n})},n=this,r=0;r<this.upgrade.sides.length;r++)e(r)},t.prototype.getStatValue=function(t){var e=this.dataService.getFFGCardStat(this.upgrade.sides[0].ffg,t);return e?e.value:0},t.prototype.isRecurring=function(t){var e=this.dataService.getFFGCardStat(this.upgrade.sides[0].ffg,t);return!!e&&e.recurring},t.prototype.getChargeStat=function(){return this.dataService.getCardStatObject(this.upgrade.sides[0].ffg,"charge",this.upgrade.charges)},t.prototype.getForceStat=function(){return this.dataService.getCardStatObject(this.upgrade.sides[0].ffg,"force",this.upgrade.force)},t.prototype.showOverlay=function(){return"charges"in this.upgrade&&(this.chargeStat=this.dataService.getCardStatObject(this.upgrade.sides[0].ffg,"charge",this.upgrade.charges)),this.forceStat=this.dataService.getCardStatObject(this.upgrade.sides[this.upgrade.side].ffg,"force",-1),this.isConfiguration=this.getIsConfiguration(),"charges"in this.upgrade||"force"in this.upgrade||this.isConfiguration||this.sides[this.upgrade.side].metadata.grants},t.prototype.statClass=function(t){return"action"==t.type&&t.value.linked?"stat-small":"stat"==t.type?"stat-small":"stat"},t.prototype.showUpgrade=function(){this.presentUpgradeModal()},t}(),ce=r.nb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw;overflow-y:scroll}.item-box[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#400,#000,#000,#400);transition:border-top .5s ease,border-bottom .2s ease;border-top:.1em solid #800;border-bottom:.1em solid #800;margin-bottom:.25em;margin-left:.15em;padding-top:.15em;padding-bottom:.15em;position:relative;cursor:pointer}.item-box[_ngcontent-%COMP%]:hover{border-top:.1em solid red;border-bottom:.1em solid red}.upgrade[_ngcontent-%COMP%], .upgrade-tablet[_ngcontent-%COMP%], .upgrade-tablet-portrait[_ngcontent-%COMP%]{font-size:2vh;background:#212020;color:#fff;margin-right:.2vh;margin-bottom:.2vh;position:relative}.upgrade-tablet-portrait[_ngcontent-%COMP%]{font-size:2vw}.upgrade-img-container[_ngcontent-%COMP%]{position:relative;display:block}.upgrade-alt-container[_ngcontent-%COMP%]{display:block;overflow:hidden;height:10vh;width:40vh;margin-right:-24vh}.img-alt[_ngcontent-%COMP%]{margin-left:-24vh}.img-alt-config[_ngcontent-%COMP%]{margin-left:-2vh}.upgrade-img[_ngcontent-%COMP%], .upgrade-img-tablet[_ngcontent-%COMP%], .upgrade-img-tablet-portrait[_ngcontent-%COMP%]{display:block}.upgrade-img-tablet[_ngcontent-%COMP%]{height:12.5vh}.upgrade-img-tablet-portrait[_ngcontent-%COMP%]{width:26vw}.upgrade-name[_ngcontent-%COMP%]{width:100%;text-align:center;vertical-align:center;padding-top:.25vh;padding-bottom:.25vh}.upgrade-info-block[_ngcontent-%COMP%]{position:relative;bottom:0;box-sizing:border-box;height:3vh;padding-top:.5vh;padding-bottom:.5vh;padding-right:.5vw;width:100%;display:flex;flex-direction:row;justify-content:flex-end;font-size:2vh}.upgrade-info-block-left[_ngcontent-%COMP%], .upgrade-info-block-right[_ngcontent-%COMP%]{display:inline-block}.upgrade-filler[_ngcontent-%COMP%]{font-size:1.5em}.action-box[_ngcontent-%COMP%]{border-left:1px solid #d3d3d3;padding-left:.4em;padding-right:.2em}.stat[_ngcontent-%COMP%], .stat-small[_ngcontent-%COMP%]{margin-left:.1em;display:block}.stat-small[_ngcontent-%COMP%]{font-size:.6em}.stat-overlay[_ngcontent-%COMP%]{position:absolute;right:0;top:0;background-color:rgba(0,0,0,.4);height:100%;width:30%;text-align:center;display:flex;flex-direction:column;font-size:1.7em}"]],data:{}});function he(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-stat",[["class","stat"]],null,null,null,T,C)),r.ob(1,114688,null,0,_,[],{stat:[0,"stat"]},null)],function(t,e){t(e,1,0,e.component.getChargeStat())},null)}function fe(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-stat",[["class","stat"]],null,null,null,T,C)),r.ob(1,114688,null,0,_,[],{stat:[0,"stat"]},null)],function(t,e){t(e,1,0,e.component.getForceStat())},null)}function de(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xwing-icon",[["class","stat"]],null,null,null,g,p)),r.ob(1,114688,null,0,d,[],{name:[0,"name"]},null)],function(t,e){t(e,1,0,"config")},null)}function pe(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-bonus-stats",[],[[8,"className",0]],null,null,q,R)),r.ob(1,114688,null,0,M,[],{grant:[0,"grant"]},null)],function(t,e){t(e,1,0,e.context.$implicit)},function(t,e){t(e,0,0,e.component.statClass(e.context.$implicit))})}function ge(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,8,"div",[["class","stat-overlay"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,he)),r.ob(2,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,fe)),r.ob(4,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,de)),r.ob(6,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,pe)),r.ob(8,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.getChargeStat()),t(e,4,0,n.getForceStat()),t(e,6,0,n.isConfiguration),t(e,8,0,n.sides[n.upgrade.side].metadata.grants)},null)}function me(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,3,"div",[["class","upgrade-img-container"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,0,"img",[],[[8,"src",4],[8,"className",0]],null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,ge)),r.ob(3,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,3,0,e.component.showOverlay())},function(t,e){var n=e.component;t(e,1,0,n.img_urls[n.upgrade.side],"upgrade-img"+n.layout.getClass())})}function ve(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,4,"div",[],[[8,"className",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showUpgrade()&&r),r},null,null)),(t()(),r.gb(16777216,null,null,1,null,me)),r.ob(2,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(3,0,null,null,1,"div",[["class","upgrade-name"]],null,null,null,null,null)),(t()(),r.Db(4,null,[" "," "]))],function(t,e){t(e,2,0,e.component.artwork)},function(t,e){var n=e.component;t(e,0,0,"upgrade"+n.layout.getClass()),t(e,4,0,n.sides[n.upgrade.side].name)})}var ye=function(){function t(t,e,n,r,o){this.dataService=t,this.modalController=e,this.events=n,this.state=r,this.router=o,this.upgrade={},this.sides=[]}return t.prototype.ngOnInit=function(){this.upgrade=this.state.getUpgrade(this.squadronUUID,this.pilotUUID,this.ffg);for(var t=0;t<this.upgrade.sides.length;t++)this.sides[t]=this.dataService.getCardByFFG(this.upgrade.sides[t].ffg)},t.prototype.getChargeStat=function(){return"charges"in this.upgrade?this.dataService.getCardStatObject(this.upgrade.sides[0].ffg,"charge",this.upgrade.charges):null},t.prototype.avatar=function(){return this.dataService.getXwsUpgradeType(this.sides[this.upgrade.side].upgrade_types[0])},t.prototype.isConfiguration=function(){var t=this.dataService.data["upgrade-types"].find(function(t){return"configuration"==t.xws}).ffg;return this.sides[this.upgrade.side].upgrade_types.includes(t)},t.prototype.showUpgrade=function(){this.router.navigateByUrl("/squadron/"+this.squadronUUID+"/pilot/"+this.pilotUUID+"/upgrade/"+this.upgrade.sides[this.upgrade.side].ffg)},t}(),be=n("ZYCi"),we=r.nb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw;overflow-y:scroll}.item-box[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#400,#000,#000,#400);transition:border-top .5s ease,border-bottom .2s ease;border-top:.1em solid #800;border-bottom:.1em solid #800;margin-bottom:.25em;margin-left:.15em;padding-top:.15em;padding-bottom:.15em;position:relative;cursor:pointer}.item-box[_ngcontent-%COMP%]:hover{border-top:.1em solid red;border-bottom:.1em solid red}ion-item[_ngcontent-%COMP%]{--ion-item-background:#282828!important;--ion-item-color:white!important;--ion-text-color:white!important;--border-color:#666666!important}.stat-avatar[_ngcontent-%COMP%]{font-size:1.5em}.upgrade-avatar[_ngcontent-%COMP%]{font-size:2em}.stat[_ngcontent-%COMP%]{margin-left:.2em}"]],data:{}});function _e(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-stat",[["class","stat"]],null,null,null,T,C)),r.ob(1,114688,null,0,_,[],{stat:[0,"stat"]},null)],function(t,e){t(e,1,0,e.component.getChargeStat())},null)}function Ce(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-bonus-stats",[["class","stat"]],null,null,null,q,R)),r.ob(1,114688,null,0,M,[],{grant:[0,"grant"]},null)],function(t,e){t(e,1,0,e.context.$implicit)},null)}function Se(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,12,"ion-item",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showUpgrade()&&r),r},f.I,f.m)),r.ob(1,49152,null,0,i.G,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,3,"ion-avatar",[["slot","start"]],null,null,null,f.x,f.b)),r.ob(3,49152,null,0,i.f,[r.h,r.k],null,null),(t()(),r.pb(4,0,null,0,1,"xwing-icon",[["class","upgrade-avatar"]],null,null,null,g,p)),r.ob(5,114688,null,0,d,[],{name:[0,"name"]},null),(t()(),r.Db(6,0,[" "," "])),(t()(),r.pb(7,0,null,0,5,"ion-note",[["class","stat-avatar"],["slot","end"]],null,null,null,f.M,f.q)),r.ob(8,49152,null,0,i.W,[r.h,r.k],null,null),(t()(),r.gb(16777216,null,0,1,null,_e)),r.ob(10,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,0,1,null,Ce)),r.ob(12,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,5,0,n.avatar()),t(e,10,0,n.getChargeStat()),t(e,12,0,n.sides[n.upgrade.side].grants)},function(t,e){var n=e.component;t(e,6,0,n.sides[n.upgrade.side].name)})}var Ee=function(){function t(t,e,n,r){this.dataService=t,this.state=e,this.popoverController=n,this.toastController=r,this.conditions=[],this.img_urls={},this.pilotDamageCards=[],this.darksideXws="illshowyouthedarkside"}return t.prototype.assignCondition=function(){return t=this,void 0,n=function(){var t,e,n=this;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(r){switch(r.label){case 0:return this.pilot.conditions.find(function(t){return t.xws==n.selected_condition.xws})?[3,1]:(t={name:this.selected_condition.name,xws:this.selected_condition.xws},this.selected_condition.xws==this.darksideXws&&this.selected_condition.pilotDamageCard&&(this.selected_condition.pilotDamageCard.exposed=!0,t.pilotDamageCard=JSON.parse(JSON.stringify(this.selected_condition.pilotDamageCard)),e=this.squadron.damagedeck.indexOf(this.selected_condition.pilotDamageCard),this.squadron.damagedeck.splice(e,1)),this.pilot.conditions.push(t),this.state.snapshot(this.squadronUUID),[2,this.popoverController.dismiss()]);case 1:return[4,this.toastController.create({message:"This pilot already has "+this.selected_condition.name,duration:2e3,position:"middle"})];case 2:return[2,r.sent().present()]}})},new((e=void 0)||(e=Promise))(function(r,o){function i(t){try{s(n.next(t))}catch(e){o(e)}}function a(t){try{s(n.throw(t))}catch(e){o(e)}}function s(t){t.done?r(t.value):new e(function(e){e(t.value)}).then(i,a)}s((n=n.apply(t,[])).next())});var t,e,n},t.prototype.getPilotDamageCards=function(){var t=this;this.pilotDamageCards=[],this.squadron.damagedeck.filter(function(e){return"Pilot"==t.dataService.getDamageCardData(e.title).type}).forEach(function(e){t.pilotDamageCards.find(function(t){return t.title==e.title})||t.pilotDamageCards.push(e)})},t.prototype.changeEvent=function(t){this.selected_condition=this.conditions.find(function(e){return e.xws==t.detail.value}),this.selected_condition.xws==this.darksideXws&&this.getPilotDamageCards()},t.prototype.changeDamageCard=function(t){this.selected_condition.pilotDamageCard=t.detail.value},t.prototype.ngOnInit=function(){var t=this;this.squadron=this.state.getSquadron(this.squadronUUID),this.pilot=this.state.getPilot(this.squadronUUID,this.pilotUUID),this.dataService.data.conditions.forEach(function(e){var n=JSON.parse(JSON.stringify(e));t.conditions.push(n),t.dataService.get_image_by_url(t.dataService.getConditionArtwork(n.xws)).then(function(e){t.img_urls[n.xws]=e})})},t}(),Oe=function(){function t(t,e,n,r){this.popoverController=t,this.ngZone=e,this.state=n,this.dataService=r,this.card={},this.cardData={}}return t.prototype.ngOnInit=function(){this.squadron=this.state.getSquadron(this.squadronUUID),this.card=this.state.getDamageCard(this.squadronUUID,this.pilotUUID,this.cardIndex),this.cardData=this.dataService.getDamageCardData(this.card.title)},t.prototype.repair=function(){var t=this;this.ngZone.run(function(){t.card.exposed?t.card.exposed=!1:(t.popoverController.dismiss(),t.squadron.pilots.forEach(function(e){var n=e.damagecards.indexOf(t.card);n>-1&&e.damagecards.splice(n,1)}),t.state.discard(t.squadronUUID,t.card)),t.state.snapshot(t.squadronUUID)})},t.prototype.expose=function(){var t=this;this.ngZone.run(function(){t.card.exposed=!0,t.state.snapshot(t.squadronUUID)})},t}(),Ie=function(){function t(t){this.popoverController=t,this.selected_card=null}return t.prototype.changeEvent=function(t){this.selected_card=t.detail.value},t.prototype.selectCard=function(){return t=this,void 0,n=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(t){switch(t.label){case 0:return this.callback(this.selected_card),[4,this.popoverController.dismiss()];case 1:return t.sent(),[2]}})},new((e=void 0)||(e=Promise))(function(r,o){function i(t){try{s(n.next(t))}catch(e){o(e)}}function a(t){try{s(n.throw(t))}catch(e){o(e)}}function s(t){t.done?r(t.value):new e(function(e){e(t.value)}).then(i,a)}s((n=n.apply(t,[])).next())});var t,e,n},t.prototype.ngOnInit=function(){},t}(),ke=function(){function t(t){this.popoverController=t,this.id=""}return t.prototype.assignId=function(){return t=this,void 0,n=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(t){return[2,this.popoverController.dismiss("numbers"==this.idType?this.numericId:this.alphabeticId.toLocaleUpperCase())]})},new((e=void 0)||(e=Promise))(function(r,o){function i(t){try{s(n.next(t))}catch(e){o(e)}}function a(t){try{s(n.throw(t))}catch(e){o(e)}}function s(t){t.done?r(t.value):new e(function(e){e(t.value)}).then(i,a)}s((n=n.apply(t,[])).next())});var t,e,n},t.prototype.ngOnInit=function(){"string"!=typeof this.id?(this.numericId=this.id,this.idType="numbers"):(this.alphabeticId=this.id,this.idType="letters")},t}(),xe={prefix:"fas",iconName:"bars",icon:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"]},Te={prefix:"fas",iconName:"chevron-circle-down",icon:[512,512,[],"f13a","M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM273 369.9l135.5-135.5c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L256 285.1 154.4 183.5c-9.4-9.4-24.6-9.4-33.9 0l-17 17c-9.4 9.4-9.4 24.6 0 33.9L239 369.9c9.4 9.4 24.6 9.4 34 0z"]},De={prefix:"fas",iconName:"chevron-circle-up",icon:[512,512,[],"f139","M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm231-113.9L103.5 277.6c-9.4 9.4-9.4 24.6 0 33.9l17 17c9.4 9.4 24.6 9.4 33.9 0L256 226.9l101.6 101.6c9.4 9.4 24.6 9.4 33.9 0l17-17c9.4-9.4 9.4-24.6 0-33.9L273 142.1c-9.4-9.4-24.6-9.4-34 0z"]},Pe=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},Ae=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ne=function(){function t(t,e,n,r,o,i,a,s,u,l,c){this.toastController=t,this.popoverController=e,this.dataService=n,this.state=r,this.events=o,this.ngZone=i,this.modalController=a,this.layout=s,this.route=u,this.location=l,this.firebase=c,this.img_url=null,this.data=null,this.faBars=xe,this.faChevronCircleUp=De,this.faChevronCircleDown=Te,this.expanded=!1,this.useAngularRouter=!1,this.tab="tokens",this.expandCard=!1,this.expandDial=!1,this.shieldTotal=0,this.chargeTotal=0,this.forceTotal=0,this.maneuverChart=[]}return t.prototype.ngOnInit=function(){var t=this.route.snapshot.paramMap.get("squadronUUID"),e=this.route.snapshot.paramMap.get("pilotUUID");t&&e&&(this.squadronUUID=t,this.pilotUUID=e,this.useAngularRouter=!0),this.initialize()},t.prototype.ionViewWillEnter=function(){var t=this;this.events.subscribe(this.state.topic,function(e){t.initialize()})},t.prototype.ionViewWillLeave=function(){this.events.unsubscribe(this.state.topic)},t.prototype.push=function(){this.state.snapshot(this.squadronUUID)},t.prototype.initialize=function(){var t=this;this.squadron=this.state.getSquadron(this.squadronUUID),this.pilot=this.state.getPilot(this.squadronUUID,this.pilotUUID),this.data=this.dataService.getCardByFFG(this.pilot.ffg),this.shieldTotal=this.dataService.getStatTotal(this.pilot,"shields"),this.forceTotal=this.dataService.getStatTotal(this.pilot,"force");var e=this.dataService.getFFGCardStat(this.pilot.ffg,"charge");e&&(this.chargeTotal=parseInt(e.value)),this.fillManeuverChart(this.data.metadata.dial),this.data.card_image&&this.dataService.get_image_by_url(this.data.card_image).then(function(e){t.img_url=e},function(t){})},t.prototype.toggleDial=function(){this.expandDial=!this.expandDial},t.prototype.toggleCard=function(){this.expandCard=!this.expandCard},t.prototype.cardExpandClass=function(){return this.expandCard?"expand":this.expandDial?"hidden":""},t.prototype.dialExpandClass=function(){return this.expandDial?"expand":this.expandCard?"hidden":""},t.prototype.leftExpandClass=function(){return this.expandCard||this.expandDial?"expand":""},t.prototype.showRightColumn=function(){return!this.expandDial&&!this.expandCard},t.prototype.showCard=function(){return!this.expandDial},t.prototype.showDial=function(){return!this.expandCard},t.prototype.showFooter=function(){return!this.expandCard&&!this.expandDial},t.prototype.changeShields=function(t){this.pilot.shields=t,this.push()},t.prototype.changeCharges=function(t){this.pilot.charges=t,this.push()},t.prototype.changeForce=function(t){this.pilot.force=t,this.push()},t.prototype.fillManeuverChart=function(t){for(var e=this,n={O:{name:"stop",index:2},F:{name:"straight",index:2},B:{name:"bankleft",index:1},N:{name:"bankright",index:3},T:{name:"turnleft",index:0},Y:{name:"turnright",index:4},K:{name:"kturn",index:5},S:{name:"reversestraight",index:2},E:{name:"trollleft",index:5},R:{name:"trollright",index:6},L:{name:"sloopleft",index:5},P:{name:"sloopright",index:6},A:{name:"reversebankleft",index:1},D:{name:"reversebankright",index:3}},r=new Array(7),o=0;o<8;o++)r[o]={speed:7-o-2,maneuvers:new Array(7)};t.forEach(function(t){var e="white";"R"==t[2]&&(e="red"),"B"==t[2]&&(e="blue");var o=n[t[1]].index,i=n[t[1]].name,a=parseInt(t[0]);r.find(function(t){return t.speed==a}).maneuvers[o]={name:i,difficulty:e}}),r.forEach(function(t){e.hasManeuvers(t)&&e.maneuverChart.push(t)}),this.maneuverChart.sort(function(t,e){return e.speed-t.speed})},t.prototype.hasManeuvers=function(t){for(var e=0,n=t.maneuvers;e<n.length;e++)if(n[e])return!0;return!1},t.prototype.drawHit=function(){this.state.drawHit(this.squadronUUID,this.pilotUUID)||this.presentDamageDeckEmpty(),this.push()},t.prototype.drawCrit=function(){this.state.drawCrit(this.squadronUUID,this.pilotUUID)||this.presentDamageDeckEmpty(),this.push()},t.prototype.presentDamageDeckEmpty=function(){return Pe(this,void 0,void 0,function(){return Ae(this,function(t){switch(t.label){case 0:return[4,this.toastController.create({message:"Your Damage Deck is empty.",duration:2e3,position:"middle"})];case 1:return t.sent().present(),[2]}})})},t.prototype.recycleAvailable=function(){return this.dataService.isDestroyed(this.pilot)},t.prototype.recycleDamageCards=function(){return Pe(this,void 0,void 0,function(){var t=this;return Ae(this,function(e){return this.pilot.damagecards.forEach(function(e){e.exposed=!1,t.state.discard(t.squadronUUID,e)}),this.pilot.damagecards=[],this.push(),[2]})})},t.prototype.assignIdNumber=function(){return Pe(this,void 0,void 0,function(){var t,e=this;return Ae(this,function(n){switch(n.label){case 0:return[4,this.popoverController.create({component:ke,componentProps:{id:this.pilot.idNumber}})];case 1:return(t=n.sent()).onDidDismiss().then(function(t){e.pilot.idNumber=t.data,e.push()}),[4,t.present()];case 2:return n.sent(),[2]}})})},t.prototype.thaneKyrell=function(){return Pe(this,void 0,void 0,function(){var t=this;return Ae(this,function(e){switch(e.label){case 0:return[4,this.popoverController.create({component:Ie,componentProps:{title:"Thane Kyrell",cards:this.pilot.damagecards.filter(function(t){return!t.exposed}),callback:function(e){e.exposed=!0,t.push()}}})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})},t.prototype.maarekStele=function(){return Pe(this,void 0,void 0,function(){var t,e,n=this;return Ae(this,function(r){switch(r.label){case 0:for(t=[],e=0;e<3&&this.squadron.damagedeck.length;e++)t.push(this.state.draw(this.squadronUUID));return[4,this.popoverController.create({component:Ie,componentProps:{title:"Maarek Stele",cards:t,callback:function(e){e.exposed=!0,n.pilot.damagecards.push(e),t.forEach(function(t){t!=e&&n.state.discard(n.squadronUUID,t)}),n.push()}}})];case 1:return[4,r.sent().present()];case 2:return r.sent(),[2]}})})},t.prototype.assignCrit=function(){return Pe(this,void 0,void 0,function(){var t,e=this;return Ae(this,function(n){switch(n.label){case 0:return t=[],this.squadron.damagedeck.forEach(function(e){t.find(function(t){return e.title==t.title})||t.push(e)}),t.sort(function(t,e){return t.title.localeCompare(e.title)}),[4,this.popoverController.create({component:Ie,componentProps:{title:"Assign Crit",cards:t,callback:function(t){t.exposed=!0,e.pilot.damagecards.push(t);var n=e.squadron.damagedeck.indexOf(t);e.squadron.damagedeck.splice(n,1),e.push()}}})];case 1:return[4,n.sent().present()];case 2:return n.sent(),[2]}})})},t.prototype.showConditionMenu=function(){return Pe(this,void 0,void 0,function(){return Ae(this,function(t){switch(t.label){case 0:return[4,this.popoverController.create({component:Ee,componentProps:{pilotUUID:this.pilotUUID,squadronUUID:this.squadronUUID}})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}})})},t.prototype.expandToggle=function(){this.expanded=!this.expanded},t.prototype.fleeShip=function(){},t.prototype.hitCardAvailable=function(){var t=!1;return this.pilot.damagecards.forEach(function(e){e.exposed||(t=!0)}),t},t.prototype.mutateCard=function(t){var e=JSON.parse(JSON.stringify(t)),n=this.pilot.damagecards.indexOf(t);n>-1&&(this.pilot.damagecards.splice(n,1),this.pilot.damagecards.splice(n,0,e))},t.prototype.exposeRandomHit=function(){var t=this;this.ngZone.run(function(){return Pe(t,void 0,void 0,function(){var t,e,n,r;return Ae(this,function(o){switch(o.label){case 0:for(t=[],e=0;e<this.pilot.damagecards.length;e++)this.pilot.damagecards[e].exposed||t.push(e);return n=t[Math.floor(Math.random()*Math.floor(t.length))],(r=this.pilot.damagecards[n]).exposed=!0,this.mutateCard(r),this.push(),[4,this.popoverController.create({component:Oe,componentProps:{cardIndex:n,pilotUUID:this.pilotUUID,squadronUUID:this.squadronUUID}})];case 1:return[4,o.sent().present()];case 2:return o.sent(),[2]}})})})},t.prototype.dismiss=function(){this.useAngularRouter?this.location.back():this.modalController.dismiss()},t}(),Me=function(){function t(t,e,n,r,o,i,a,s){this.dataService=t,this.modalController=e,this.platform=n,this.events=r,this.layout=o,this.state=i,this.router=a,this.ngZone=s,this.groups=[],this.img_url=null,this.icon_url=null,this.bigStat=null,this.smallStat=null,this.chargeStat=null,this.forceStat=null}return t.prototype.getStatString=function(t){return this.pilot.ship.stats.forEach(function(e){if(e.type==t)return e.value!=e.remaining?"("+e.remaining+")":e.value}),""},t.prototype.getPoints=function(){return this.dataService.getPointsDestroyed(this.pilot)+" / "+this.dataService.getPilotPoints(this.pilot)},t.prototype.ngOnInit=function(){this.initialize()},t.prototype.initialize=function(){var t=this;this.data=this.dataService.getCardByFFG(this.pilot.ffg);var e=this.pilot.upgrades.length>=9?3:2,n=Math.ceil(this.pilot.upgrades.length/e);this.groups=[];for(var r=0;r<e;r++){for(var o=[],i=0;i<n;i++){var a=r*n+i;this.pilot.upgrades[a]&&o.push(this.pilot.upgrades[a])}this.groups.push(o)}var s=this.data.image;s&&this.dataService.get_image_by_url(s).then(function(e){t.img_url=e});var u=this.data.metadata.shipIcon;u&&this.dataService.get_image_by_url(u).then(function(e){t.icon_url=e})},t.prototype.numFacedown=function(){if(this.pilot.damagecards){var t=this.pilot.damagecards.filter(function(t){return!t.exposed});if(t)return t.length}return 0},t.prototype.generateStat=function(t){return t in this.pilot?{type:t,value:this.dataService.getStatTotal(this.pilot,t),remaining:this.pilot[t]}:null},t.prototype.showOverlay=function(){var t=this.dataService.getStatTotal(this.pilot,"hull"),e={type:"hull",value:t,remaining:t-this.pilot.damagecards.length},n=this.generateStat("shields");return e.remaining<e.value||!n?(this.bigStat=e,this.smallStat=n):(this.bigStat=n,this.smallStat=e),"charges"in this.pilot&&(this.chargeStat=this.dataService.getCardStatObject(this.pilot.ffg,"charge",this.pilot.charges)),this.forceStat=this.generateStat("force"),this.forceStat&&(this.forceStat.recovers=1),!0},t.prototype.presentPilotModal=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(e){switch(e.label){case 0:return JSON.stringify(this.pilot),[4,this.modalController.create({component:Ne,componentProps:{squadronUUID:this.squadronUUID,pilotUUID:this.pilot.uuid}})];case 1:return[4,(t=e.sent()).present()];case 2:return e.sent(),[4,t.onWillDismiss()];case 3:return e.sent(),JSON.stringify(this.pilot),[2]}})},new((e=void 0)||(e=Promise))(function(r,o){function i(t){try{s(n.next(t))}catch(e){o(e)}}function a(t){try{s(n.throw(t))}catch(e){o(e)}}function s(t){t.done?r(t.value):new e(function(e){e(t.value)}).then(i,a)}s((n=n.apply(t,[])).next())});var t,e,n},t.prototype.showPilot=function(){this.layout.isPhone()?this.router.navigateByUrl("/squadron/"+this.squadronUUID+"/pilot/"+this.pilot.uuid):this.presentPilotModal()},t}(),Re=r.nb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw;overflow-y:scroll}.item-box[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#400,#000,#000,#400);transition:border-top .5s ease,border-bottom .2s ease;border-top:.1em solid #800;border-bottom:.1em solid #800;margin-bottom:.25em;margin-left:.15em;padding-top:.15em;padding-bottom:.15em;position:relative;cursor:pointer}.item-box[_ngcontent-%COMP%]:hover{border-top:.1em solid red;border-bottom:.1em solid red}.pilot[_ngcontent-%COMP%], .pilot-phone[_ngcontent-%COMP%], .pilot-phone-landscape[_ngcontent-%COMP%], .pilot-phone-portrait[_ngcontent-%COMP%], .pilot-tablet[_ngcontent-%COMP%], .pilot-tablet-portrait[_ngcontent-%COMP%]{margin-top:.2vh;margin-right:.2vw;background:#282828;color:#fff;position:relative}.pilot-tablet[_ngcontent-%COMP%]{font-size:2.25vh;display:inline-block}.pilot-tablet-portrait[_ngcontent-%COMP%]{padding-left:1vw}.pilot-phone[_ngcontent-%COMP%], .pilot-phone-landscape[_ngcontent-%COMP%], .pilot-phone-portrait[_ngcontent-%COMP%]{margin-bottom:.25em}.pilot-header[_ngcontent-%COMP%], .pilot-header-phone-landscape[_ngcontent-%COMP%], .pilot-header-phone-portrait[_ngcontent-%COMP%], .pilot-header-tablet[_ngcontent-%COMP%], .pilot-header-tablet-portrait[_ngcontent-%COMP%]{padding-left:.5vh;padding-top:.5vh;padding-bottom:.5vh;font-size:2vh;height:4vh;vertical-align:text-bottom}.pilot-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .pilot-header-phone-landscape[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .pilot-header-phone-portrait[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .pilot-header-tablet[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .pilot-header-tablet-portrait[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:90%;vertical-align:text-bottom;display:inline-block;padding-right:.5vh}.pilot-header-text[_ngcontent-%COMP%]{display:inline-block;vertical-align:text-bottom}.pilot-header-phone-landscape[_ngcontent-%COMP%]{font-size:2.5vw;height:3vw}.pilot-header-phone-landscape[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:125%}.pilot-initiative[_ngcontent-%COMP%]{color:orange;font-weight:900;margin-right:.5em}.pilot-destroyed-overlay[_ngcontent-%COMP%]{width:100%;height:44vh;position:absolute;background-color:#ff000044;left:0;top:0;right:0;bottom:0;z-index:10}.card-text[_ngcontent-%COMP%]{font-size:1.5vh;color:#fff;padding-left:.5vh}.upgrade-container[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.upgrade-group-tablet[_ngcontent-%COMP%]{display:block}.upgrade-group-tablet-portrait[_ngcontent-%COMP%], .upgrade-tablet[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.upgrade-portrait[_ngcontent-%COMP%], .upgrade-tablet-portrait[_ngcontent-%COMP%]{display:block}.pilot-image[_ngcontent-%COMP%]{position:relative}.pilot-card[_ngcontent-%COMP%], .pilot-card-phone-landscape[_ngcontent-%COMP%], .pilot-card-phone-portrait[_ngcontent-%COMP%], .pilot-card-tablet[_ngcontent-%COMP%], .pilot-card-tablet-portrait[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;overflow-y:scroll}.pilot-card[_ngcontent-%COMP%]   .item-box[_ngcontent-%COMP%], .pilot-card-phone-landscape[_ngcontent-%COMP%]   .item-box[_ngcontent-%COMP%], .pilot-card-phone-portrait[_ngcontent-%COMP%]   .item-box[_ngcontent-%COMP%], .pilot-card-tablet[_ngcontent-%COMP%]   .item-box[_ngcontent-%COMP%], .pilot-card-tablet-portrait[_ngcontent-%COMP%]   .item-box[_ngcontent-%COMP%]{height:98%}.pilot-card-tablet[_ngcontent-%COMP%]{width:27vh;height:35vh}.pilot-card-tablet-portrait[_ngcontent-%COMP%]{font-size:3vw;width:40vw}.pilot-card-phone-portrait[_ngcontent-%COMP%]{font-size:3.5vh;padding-left:1vw}.pilot-card-phone-landscape[_ngcontent-%COMP%]{display:inline-block;font-size:3.5vw;width:50%}.pilot-card-phone-landscape[_ngcontent-%COMP%]::-webkit-scrollbar-track, .pilot-card-phone-portrait[_ngcontent-%COMP%]::-webkit-scrollbar-track, .pilot-card-tablet-portrait[_ngcontent-%COMP%]::-webkit-scrollbar-track, .pilot-card-tablet[_ngcontent-%COMP%]::-webkit-scrollbar-track, .pilot-card[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 .2vh #282828;border-radius:.2vh;background-color:#282828}.pilot-card-phone-landscape[_ngcontent-%COMP%]::-webkit-scrollbar, .pilot-card-phone-portrait[_ngcontent-%COMP%]::-webkit-scrollbar, .pilot-card-tablet-portrait[_ngcontent-%COMP%]::-webkit-scrollbar, .pilot-card-tablet[_ngcontent-%COMP%]::-webkit-scrollbar, .pilot-card[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5vh;background-color:#282828}.pilot-card-phone-landscape[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .pilot-card-phone-portrait[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .pilot-card-tablet-portrait[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .pilot-card-tablet[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .pilot-card[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:.2vh;-webkit-box-shadow:inset 0 0 .2vh rgba(0,0,0,.3);background-color:#888}.action[_ngcontent-%COMP%]{padding-left:.3em;padding-right:.3em}.action-bar[_ngcontent-%COMP%], .action-bar-phone-landscape[_ngcontent-%COMP%], .action-bar-phone-portrait[_ngcontent-%COMP%], .action-bar-tablet[_ngcontent-%COMP%], .action-bar-tablet-portrait[_ngcontent-%COMP%]{text-align:center;font-size:1em;max-width:100%;overflow:wrap;padding:.5vh .5em}.action-bar-tablet-portrait[_ngcontent-%COMP%]{font-size:3vw;padding-top:1vw;padding-bottom:1vw}.action-bar-phone-portrait[_ngcontent-%COMP%]{font-size:5vw}.stat[_ngcontent-%COMP%]{display:inline-block}.stat-block[_ngcontent-%COMP%], .stat-block-phone-landscape[_ngcontent-%COMP%], .stat-block-phone-portrait[_ngcontent-%COMP%], .stat-block-tablet[_ngcontent-%COMP%], .stat-block-tablet-portrait[_ngcontent-%COMP%]{display:block;width:100%;text-align:center;margin-bottom:.5vh;font-size:1.25em}.stat-block-tablet-portrait[_ngcontent-%COMP%]{font-size:3vw}.stat-block-phone-portrait[_ngcontent-%COMP%]{font-size:5vw}.ship-fw[_ngcontent-%COMP%]{display:inline-block;text-align:center;width:2em;font-size:1em}.ship-status[_ngcontent-%COMP%], .ship-status-portrait[_ngcontent-%COMP%]{background:#212020;font-size:2vw;min-height:2.25vw;height:2.25vw;padding-left:.5vw}.ship-status-portrait[_ngcontent-%COMP%]{font-size:4vw}.image-container[_ngcontent-%COMP%]{display:inline-block;max-width:24vh;max-height:10vh;overflow:hidden}.image-constrained[_ngcontent-%COMP%]{-webkit-clip-path:polygon(0 0,100% 0,100% 30%,0 30%);clip-path:polygon(0 0,100% 0,100% 30%,0 30%)}.item-pilotart[_ngcontent-%COMP%], .item-pilotart-tablet[_ngcontent-%COMP%], .item-pilotart-tablet-portrait[_ngcontent-%COMP%]{vertical-align:top}.item-pilotart-tablet[_ngcontent-%COMP%]{height:12.5vh}.item-pilotart-tablet-portrait[_ngcontent-%COMP%]{width:100%}.item-status[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.cards[_ngcontent-%COMP%]{font-size:1em}.damage-facedown[_ngcontent-%COMP%]{color:red}.conditions[_ngcontent-%COMP%]{font-size:2vh;padding-left:.5em}.phone-upgrades[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%], .phone-upgrades-phone-landscape[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%], .phone-upgrades-phone-portrait[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0}.phone-upgrades-phone-portrait[_ngcontent-%COMP%]{display:block}.phone-upgrades-phone-landscape[_ngcontent-%COMP%]{display:inline-block;width:50%}.token-box[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#000,#700,#000);padding:.15em;vertical-align:text-top}.token-box[_ngcontent-%COMP%]   .token-header[_ngcontent-%COMP%]{font-size:.75em;text-align:center}.token-box[_ngcontent-%COMP%]   .token-set[_ngcontent-%COMP%]{font-size:1.5em}.token-box[_ngcontent-%COMP%]   .none[_ngcontent-%COMP%]{font-style:italic}.charge[_ngcontent-%COMP%], .force[_ngcontent-%COMP%], .shield[_ngcontent-%COMP%], .spent[_ngcontent-%COMP%], .tokens[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.force[_ngcontent-%COMP%]{color:#8a2be2}.charge[_ngcontent-%COMP%]{color:#ff0}.shield[_ngcontent-%COMP%]{color:#add8e6}.spent[_ngcontent-%COMP%]{color:red}.card-title[_ngcontent-%COMP%]   xwing-icon[_ngcontent-%COMP%]{display:inline-block;width:10%;vertical-align:top}.card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:90%;vertical-align:top}.id-overlay[_ngcontent-%COMP%]{position:absolute;left:.1em;top:.1em;color:#fff;text-shadow:-.05em -.05em #000000AA,-.05em .05em #000000AA,.05em .05em #000000AA,.05em -.05em #000000AA;-webkit-text-stroke-color:#000000AA;-webkit-text-fill-color:#fff;-webkit-text-stroke-width:.01em}.id-overlay[_ngcontent-%COMP%]   div.pilot-num[_ngcontent-%COMP%]{margin-left:1vh;font-size:9vh;vertical-align:top;text-transform:uppercase}.status-overlay[_ngcontent-%COMP%]{position:absolute;right:0;top:0;background-color:rgba(0,0,0,.4);width:30%;height:100%;text-align:right}.status-overlay[_ngcontent-%COMP%]   .big-stat[_ngcontent-%COMP%]{display:block;font-size:1.75em}.status-overlay[_ngcontent-%COMP%]   .small-stat[_ngcontent-%COMP%]{display:block}"]],data:{}});function je(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-stat",[["class","small-stat"]],null,null,null,T,C)),r.ob(1,114688,null,0,_,[],{stat:[0,"stat"]},null)],function(t,e){t(e,1,0,e.component.smallStat)},null)}function Le(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-stat",[["class","small-stat"]],null,null,null,T,C)),r.ob(1,114688,null,0,_,[],{stat:[0,"stat"]},null)],function(t,e){t(e,1,0,e.component.chargeStat)},null)}function Ue(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-stat",[["class","small-stat"]],null,null,null,T,C)),r.ob(1,114688,null,0,_,[],{stat:[0,"stat"]},null)],function(t,e){t(e,1,0,e.component.forceStat)},null)}function qe(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,8,"div",[["class","status-overlay"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"xws-stat",[["class","big-stat"]],null,null,null,T,C)),r.ob(2,114688,null,0,_,[],{stat:[0,"stat"]},null),(t()(),r.gb(16777216,null,null,1,null,je)),r.ob(4,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Le)),r.ob(6,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Ue)),r.ob(8,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.bigStat),t(e,4,0,n.smallStat),t(e,6,0,n.chargeStat),t(e,8,0,n.forceStat)},null)}function Fe(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","id-overlay"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"div",[["class","pilot-num"]],null,null,null,null,null)),(t()(),r.Db(2,null,["",""]))],null,function(t,e){t(e,2,0,e.component.pilot.idNumber)})}function Ve(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,4,"div",[["class","card-title"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"xwing-icon",[],null,null,null,g,p)),r.ob(2,114688,null,0,d,[],{name:[0,"name"]},null),(t()(),r.pb(3,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Db(4,null,["",""]))],function(t,e){t(e,2,0,"condition")},function(t,e){t(e,4,0,e.context.$implicit.name)})}function Be(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,4,"div",[["class","card-title"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"xwing-icon",[],null,null,null,g,p)),r.ob(2,114688,null,0,d,[],{name:[0,"name"]},null),(t()(),r.pb(3,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Db(4,null,["",""]))],function(t,e){t(e,2,0,"crit")},function(t,e){t(e,4,0,e.parent.context.$implicit.title)})}function ze(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,Be)),r.ob(2,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,e.context.$implicit.exposed)},null)}function He(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,4,"div",[["class","card-title damage-facedown"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"xwing-icon",[],null,null,null,g,p)),r.ob(2,114688,null,0,d,[],{name:[0,"name"]},null),(t()(),r.pb(3,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Db(4,null,["Damage Cards x",""]))],function(t,e){t(e,2,0,"hit")},function(t,e){t(e,4,0,e.component.numFacedown())})}function Ge(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-upgrade",[],[[8,"className",0]],null,null,ve,ce)),r.ob(1,114688,null,0,le,[yt,i.Fb,i.d,bt,se],{squadronUUID:[0,"squadronUUID"],pilotUUID:[1,"pilotUUID"],upgrade:[2,"upgrade"]},null)],function(t,e){var n=e.component;t(e,1,0,n.squadronUUID,n.pilot.uuid,e.context.$implicit)},function(t,e){t(e,0,0,"item-box upgrade"+e.component.layout.getClass())})}function We(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,Ge)),r.ob(2,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.context.$implicit)},function(t,e){t(e,0,0,"upgrade-group"+e.component.layout.getClass())})}function Ke(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","upgrade-container"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,We)),r.ob(2,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.groups)},null)}function Qe(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-phone-upgrade",[],null,null,null,Se,we)),r.ob(1,114688,null,0,ye,[yt,i.Fb,i.d,se,be.m],{squadronUUID:[0,"squadronUUID"],pilotUUID:[1,"pilotUUID"],ffg:[2,"ffg"]},null)],function(t,e){var n=e.component;t(e,1,0,n.squadronUUID,n.pilot.uuid,e.context.$implicit.sides[e.context.$implicit.side].ffg)},null)}function Je(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.pb(1,0,null,null,3,"ion-list",[],null,null,null,f.L,f.o)),r.ob(2,49152,null,0,i.N,[r.h,r.k],null,null),(t()(),r.gb(16777216,null,0,1,null,Qe)),r.ob(4,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,4,0,e.component.pilot.upgrades)},function(t,e){t(e,0,0,"phone-upgrades"+e.component.layout.getClass())})}function Xe(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,26,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.pb(1,0,null,null,5,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.pb(2,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(t()(),r.pb(3,0,null,null,3,"div",[["class","pilot-header-text"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,1,"span",[["class","pilot-initiative"]],null,null,null,null,null)),(t()(),r.Db(5,null,["",""])),(t()(),r.Db(6,null,[" ","\xa0 ( "," ) "])),(t()(),r.pb(7,0,null,null,15,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.pb(8,0,null,null,14,"div",[["class","item-box"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showPilot()&&r),r},null,null)),(t()(),r.pb(9,0,null,null,3,"div",[["class","pilot-image"]],null,null,null,null,null)),(t()(),r.pb(10,0,null,null,0,"img",[],[[8,"src",4],[8,"className",0]],null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,qe)),r.ob(12,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Fe)),r.ob(14,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(15,0,null,null,2,"div",[["class","cards"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,Ve)),r.ob(17,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(18,0,null,null,4,"div",[["class","cards"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,ze)),r.ob(20,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.gb(16777216,null,null,1,null,He)),r.ob(22,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Ke)),r.ob(24,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Je)),r.ob(26,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,12,0,n.showOverlay()),t(e,14,0,n.pilot.idNumber),t(e,17,0,n.pilot.conditions),t(e,20,0,n.pilot.damagecards),t(e,22,0,n.numFacedown()>0),t(e,24,0,!n.layout.isPhone()),t(e,26,0,n.layout.isPhone())},function(t,e){var n=e.component;t(e,0,0,"pilot"+n.layout.getClass()),t(e,1,0,"pilot-header"+n.layout.getClass()),t(e,2,0,n.icon_url),t(e,5,0,n.data.initiative),t(e,6,0,n.data.name,n.getPoints()),t(e,7,0,"pilot-card"+n.layout.getClass()),t(e,10,0,n.img_url,"item-pilotart"+n.layout.getClass())})}var Ye=function(){function t(t,e,n,r,o,i,a,s){this.dataService=t,this.modalController=e,this.platform=n,this.events=r,this.layout=o,this.state=i,this.router=a,this.ngZone=s}return t.prototype.ngOnInit=function(){},t}(),Ze=r.nb({encapsulation:0,styles:[[""]],data:{}});function $e(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-pilot",[["class","pilot-minwidth"]],null,null,null,Xe,Re)),r.ob(1,114688,null,0,Me,[yt,i.Fb,i.Ib,i.d,bt,se,be.m,r.z],{squadronUUID:[0,"squadronUUID"],pilot:[1,"pilot"]},null)],function(t,e){t(e,1,0,e.component.uuid,e.context.$implicit)},null)}function tn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,3,"div",[["class","squadron-container"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,2,"div",[["class","squadron-fullwidth"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,$e)),r.ob(3,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,3,0,e.component.squadron.pilots)},null)}var en=function(){function t(t){this.modalController=t,this.cloudSquadrons=[],this.currentSquadronUUID=null}return t.prototype.ngOnInit=function(){},t.prototype.dismiss=function(){this.modalController.dismiss()},t}(),nn=function(){function t(t,e){this.modal=t,this.platform=e,this.xwsData=null,this.dataValid=!1}return t.prototype.ngOnInit=function(){this.text&&this.text.length>0&&(this.dataValid=this.validate(this.text))},t.prototype.processURLUUID=function(t,e,n){if(!t||0==t.length)return!1;var r=t.includes(e);if(!r)return!1;var o=t.match(/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/),i=null;return!(!o||!o.length||(i=o[0],!r||!i||(this.xwsData={},this.xwsData[n]=i,0)))},t.prototype.processXwingTabled=function(t){return this.processURLUUID(t,"https://xwingtabled.github.io/squadron/","xwingtabled")},t.prototype.processFFGSquadBuilder=function(t){return this.processURLUUID(t,"https://squadbuilder.fantasyflightgames.com","ffg")},t.prototype.processYasb=function(t){var e=this;if(!t||0==t.length)return!1;if(!t.startsWith("https://raithos.github.io"))return!1;var n=t.match(/s\=.*\&sn/g);if(this.xwsData={yasb:{pilots:[],name:""}},!(n&&n.length>0))return!1;var r=n[0].substring(2).slice(0,-3).match(/(\d+:(\-?\d*\,?)*)+(\:U\.\-?\d+)?/g);if(r.length>0){r.forEach(function(t){var n=t.indexOf(":"),r=t.substring(0,n),o=t.substring(n+1).split(",");e.xwsData.yasb.pilots.push({id:r,upgrades:o})});var o=t.match(/sn\=([a-zA-Z\%\d])*/);o.length>0&&(this.xwsData.yasb.name=decodeURIComponent(o[0].split("=")[1]));var i=t.match(/f\=([a-zA-Z\%\d])*/);return i.length>0&&(this.xwsData.yasb.faction=decodeURIComponent(i[0].split("=")[1]).replace(/\s/g,"").toLowerCase()),!0}return!1},t.prototype.processXws=function(t){try{return this.xwsData={xws:JSON.parse(t)},!0}catch(e){return!1}},t.prototype.validate=function(t){return this.processXwingTabled(t)||this.processXws(t)||this.processFFGSquadBuilder(t)||this.processYasb(t)},t.prototype.textChange=function(t){this.dataValid=this.validate(t.detail.value)},t.prototype.cancel=function(){this.modal.dismiss()},t.prototype.ok=function(){this.modal.dismiss(this.xwsData)},t}(),rn=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},on=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},an=function(){function t(t,e,n,r,o,i,a){this.dataService=t,this.state=e,this.http=n,this.modalController=r,this.toastController=o,this.router=i,this.firebase=a}return t.prototype.mangleUpgradeArray=function(t){var e=this,n=[];t.upgrades&&Object.entries(t.upgrades).forEach(function(t){var r=t[0],o=t[1];Array.isArray(o)&&o.forEach(function(t){if("force"!=r&&"force-power"!=r||(r="forcepower"),"hardpoint"!=r){var o=e.dataService.getUpgrade(r,t);if(null==o)throw"ERROR: Upgrade not found - "+t;o.type=r,n.push(o)}})}),t.upgrades=n},t.prototype.getUpgradeStateObject=function(t){var e={side:0,sides:[]};return t.sides[0].charges&&(e.charges=t.sides[0].charges.value),t.sides.forEach(function(t){e.sides.push({ffg:t.ffg})}),e},t.prototype.getPilotStateObject=function(t,e){return{ffg:this.dataService.getPilot(e,t.ship,t.id).ffg,upgrades:[],damagecards:[],conditions:[],uuid:wt().substring(0,8)}},t.prototype.injectBonuses=function(t){var e=this,n=this.dataService.getFFGCardStat(t.ffg,"charge");n&&(t.charges=parseInt(n.value)),["force","shields"].forEach(function(n){var r=e.dataService.getStatTotal(t,n);r>0&&(t[n]=r)})},t.prototype.injectForceBonuses=function(t){t.upgrades.forEach(function(e){var n=e.sides[0];if(n.force){var r=t.stats.find(function(t){return"force"==t.type});r||t.stats.push(r={value:0,recovers:0,type:"force",numbers:[]}),r.value+=n.force.value,r.recovers+=n.force.recovers,r.numbers=Array(r.recovers),r.remaining=r.value}})},t.prototype.calculatePoints=function(t){var e=t.pilot.cost,n=0;t.upgrades.forEach(function(e){var r;e.cost&&("value"in e.cost&&(n+=e.cost.value),"variable"in e.cost)&&(e.cost.variable=e.cost.variable.toLowerCase(),r="size"==e.cost.variable?t.ship.size:"initiative"==e.cost.variable?t.pilot.initiative:t.stats.find(function(t){return t.type==e.cost.variable}).value,n+=e.cost.values[r])}),t.points=e+n},t.prototype.processFFG=function(t){var e=this,n=[];t.deck.forEach(function(t){var r=e.dataService.getXwsFromFFG(t.pilot_card.id);r.points=t.cost;var o={};t.slots.forEach(function(t){var n=e.dataService.getXwsFromFFG(t.id);null==o[n.type]&&(o[n.type]=[]),o[n.type].push(n.xws)}),r.upgrades=o,n.push(r)});var r={description:t.description,faction:t.faction.name.replace(/ /g,"").toLowerCase(),name:t.name,points:t.cost,pilots:n};return console.log("FFG SquadBuilder response",t),console.log("FFG -> XWS",r),this.processXws(r)},t.prototype.processYasb=function(t){var e=this,n=[];t.pilots.forEach(function(t){for(var r=e.dataService.getYasbPilot(t.id),o={id:r.xws,ship:r.ship,upgrades:{}},i={},a=0;a<t.upgrades.length;a++){var s=t.upgrades[a],u=s.match(/\d{3}(\:U\.\-?\d+)/g),l=-1;if(u&&u[0]){l=parseInt(u[0].split(".")[1]);var c=u[0].split(":")[0];t.upgrades.push(c)}else l=parseInt(s);var h=e.dataService.getYasbUpgrade(l);h&&(null==i[h.slot]&&(i[h.slot]=[]),i[h.slot].push(h.xws))}o.upgrades=i,n.push(o)});var r={name:t.name,faction:t.faction,pilots:n};return console.log("YASB squadron",r),this.processXws(r)},t.prototype.applyXwsShims=function(t){var e=this;t.pilots.forEach(function(t){var n=e.dataService.data.shims.xwsPilot[t.id];n&&(console.log("Shim applied:",t.id,"=>",n),t.id=n,t.name=n);var r=e.dataService.data.shims.xwsShip[t.ship];r&&(console.log("Shim applied:",t.ship,"=>",r),t.ship=r),t.upgrades.forEach(function(t){var n=e.dataService.data.shims.xwsUpgrade[t.xws];n&&(console.log("Shim applied:",t.xws,"=>",n),t.xws=n)})})},t.prototype.processXws=function(t){var e=this,n={name:t.name,faction:t.faction,damagediscard:[],damagedeck:this.dataService.getDamageDeck(),pilots:[],timestamp:this.state.getTimestamp(),uid:null};t.pilots.forEach(function(t){e.mangleUpgradeArray(t)}),t.pilots.forEach(function(r){r.id||(r.id=r.name);var o=e.getPilotStateObject(r,t.faction);e.applyXwsShims(t),r.upgrades.forEach(function(t){o.upgrades.push(e.getUpgradeStateObject(t))}),e.injectBonuses(o),n.pilots.push(o)});for(var r=0;r<n.pilots.length;r++)n.pilots[r].idNumber=r+1;return n},t.prototype.importXwingTabled=function(t){return rn(this,void 0,void 0,function(){var e=this;return on(this,function(n){return this.firebase.retrieveSquadron(t).then(function(n){e.state.importSquadron(t,n)},function(t){return rn(e,void 0,void 0,function(){return on(this,function(e){switch(e.label){case 0:return console.log("Unable to get X-Wing Tabled Squadron Data",t),[4,this.toastController.create({message:"ERROR: Unable to retrieve X-Wing Tabled Squadron",duration:5e3,position:"bottom"})];case 1:return e.sent().present(),[2]}})})}),[2]})})},t.prototype.importFFG=function(t){return rn(this,void 0,void 0,function(){var e=this;return on(this,function(n){switch(n.label){case 0:return[4,this.http.get("https://squadbuilder.fantasyflightgames.com/api/squads/"+t+"/").subscribe(function(n){var r=e.processFFG(n);e.state.addSquadron(t,r)},function(t){return rn(e,void 0,void 0,function(){return on(this,function(e){switch(e.label){case 0:return console.log("Unable to get FFG SquadBuilder data",t),[4,this.toastController.create({message:"ERROR: Unable to load FFG Squad",duration:5e3,position:"bottom"})];case 1:return e.sent().present(),[2]}})})})];case 1:return n.sent(),[2]}})})},t.prototype.presentXwsModal=function(t){return void 0===t&&(t=""),rn(this,void 0,void 0,function(){var e,n,r,o,i;return on(this,function(a){switch(a.label){case 0:return[4,this.modalController.create({component:nn,componentProps:{text:t}})];case 1:return[4,(e=a.sent()).present()];case 2:return a.sent(),[4,e.onWillDismiss()];case 3:if(!(n=a.sent().data))return[2];a.label=4;case 4:return a.trys.push([4,9,,11]),r=wt(),n.xwingtabled?[4,this.importXwingTabled(n.xwingtabled)]:[3,6];case 5:a.sent(),a.label=6;case 6:return n.ffg?[4,this.importFFG(n.ffg)]:[3,8];case 7:a.sent(),a.label=8;case 8:return n.yasb&&(o=this.processYasb(n.yasb),this.state.addSquadron(r,o)),n.xws&&(o=this.processXws(o=n.xws),this.state.addSquadron(r,o)),[2,r];case 9:return i=a.sent(),console.log(i),[4,this.toastController.create({message:i,duration:2e3,position:"bottom"})];case 10:return a.sent().present(),[3,11];case 11:return[2]}})})},t.ngInjectableDef=r.S({factory:function(){return new t(r.W(yt),r.W(se),r.W(H),r.W(i.Fb),r.W(i.Mb),r.W(be.m),r.W(oe))},token:t,providedIn:"root"}),t}(),sn=function(){function t(t,e,n){this.popoverController=t,this.ngZone=e,this.toastController=n,this.qrcode=""}return t.prototype.ngOnInit=function(){this.qrcode="https://xwingtabled.github.io/squadron/"+this.squadronUUID},t.prototype.copy=function(){return t=this,void 0,n=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(t){switch(t.label){case 0:return this.url.nativeElement.select(),document.execCommand("copy"),[4,this.toastController.create({message:"Copied URL to clipboard",duration:1e3,position:"middle"})];case 1:return[2,t.sent().present()]}})},new((e=void 0)||(e=Promise))(function(r,o){function i(t){try{s(n.next(t))}catch(e){o(e)}}function a(t){try{s(n.throw(t))}catch(e){o(e)}}function s(t){t.done?r(t.value):new e(function(e){e(t.value)}).then(i,a)}s((n=n.apply(t,[])).next())});var t,e,n},t}(),un=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},ln=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},cn=function(){function t(t,e,n,r,o,i,a,s,u,l,c,h){this.toastController=t,this.dataService=e,this.state=n,this.alertController=r,this.ngZone=o,this.modalController=i,this.layout=a,this.firebase=s,this.router=u,this.route=l,this.importService=c,this.popoverController=h,this.cloudSquadrons=[],this.currentSquadronUUID=null}return t.prototype.ngOnInit=function(){this.firebase.loggedIn()&&this.getSquadrons()},t.prototype.resetData=function(){return un(this,void 0,void 0,function(){var t=this;return ln(this,function(e){switch(e.label){case 0:return[4,this.alertController.create({header:"Clear data cache?",message:"You are about to reset your data cache. You may have to re-download some data.",buttons:[{text:"OK",handler:function(){t.ngZone.run(function(){t.state.reset(),t.dataService.reset(),t.modalController.dismiss()})}},{text:"Cancel",role:"cancel",cssClass:"secondary"}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})},t.prototype.goToSquadron=function(t){this.modalController.dismiss(),this.router.navigateByUrl("/squadron/"+t)},t.prototype.isLocalSquadron=function(t){return t in this.state.squadrons},t.prototype.importSquadron=function(t){return un(this,void 0,void 0,function(){var e;return ln(this,function(n){switch(n.label){case 0:return[4,this.firebase.retrieveSquadron(t.uuid)];case 1:return e=n.sent(),this.state.importSquadron(t.uuid,e),this.state.notify(),[2]}})})},t.prototype.deleteSquadron=function(t){return un(this,void 0,void 0,function(){var e=this;return ln(this,function(n){switch(n.label){case 0:return[4,this.alertController.create({header:"Delete "+name+"?",message:"This will permanently remove the squadron from both the cloud and this device",buttons:[{text:"OK",handler:function(){e.ngZone.run(function(){return un(e,void 0,void 0,function(){var e;return ln(this,function(n){switch(n.label){case 0:return(e=this.state.previousSquadron(t.uuid))||(e=this.state.nextSquadron(t.uuid)),[4,this.firebase.deleteSquadron(t.uuid)];case 1:return n.sent(),[4,this.getSquadrons()];case 2:return n.sent(),this.currentSquadronUUID==t.uuid&&this.router.navigateByUrl(e?"/squadron/"+e:"/"),[2]}})})})}},{text:"Cancel",role:"cancel",cssClass:"secondary"}]})];case 1:return[4,n.sent().present()];case 2:return[2,n.sent()]}})})},t.prototype.getSquadronClass=function(t){return this.isLocalSquadron(t.uuid)?t.faction:"offline"},t.prototype.getSquadrons=function(){return un(this,void 0,void 0,function(){var t=this;return ln(this,function(e){switch(e.label){case 0:return this.cloudSquadrons=[],[4,this.firebase.mysquadrons()];case 1:return e.sent().docs.forEach(function(e){var n=e.id,r=e.data();t.cloudSquadrons.push({name:r.name,uuid:n,faction:r.faction})}),[2]}})})},t.prototype.logout=function(){return un(this,void 0,void 0,function(){return ln(this,function(t){switch(t.label){case 0:return[4,this.firebase.logout()];case 1:return t.sent(),this.cloudSquadrons=[],[2]}})})},t.prototype.login=function(){return un(this,void 0,void 0,function(){return ln(this,function(t){switch(t.label){case 0:return[4,this.firebase.login()];case 1:return t.sent(),[4,this.getSquadrons()];case 2:return t.sent(),[2]}})})},t.prototype.dismiss=function(){this.modalController.dismiss()},t.prototype.share=function(t){return un(this,void 0,void 0,function(){return ln(this,function(e){switch(e.label){case 0:return[4,this.popoverController.create({component:sn,componentProps:{squadronUUID:t}})];case 1:return[2,e.sent().present()]}})})},t}(),hn=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},fn=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},dn=function(){function t(t,e,n,r){this.events=t,this.toastController=e,this.popoverController=n,this.state=r}return t.prototype.ngOnInit=function(){this.squadron=this.state.getSquadron(this.squadronUUID)},t.prototype.toastDamageDeck=function(t){return hn(this,void 0,void 0,function(){return fn(this,function(e){switch(e.label){case 0:return[4,this.toastController.create({message:t,duration:2e3,position:"top"})];case 1:return[2,e.sent().present()]}})})},t.prototype.shuffleDiscarded=function(){return hn(this,void 0,void 0,function(){return fn(this,function(t){switch(t.label){case 0:return[4,this.popoverController.dismiss()];case 1:return t.sent(),this.state.shuffleDamageDiscard(this.squadronUUID),this.state.snapshot(this.squadronUUID),[2]}})})},t.prototype.shuffleDeck=function(){return hn(this,void 0,void 0,function(){return fn(this,function(t){switch(t.label){case 0:return[4,this.popoverController.dismiss()];case 1:return t.sent(),this.state.shuffleDamageDeck(this.squadronUUID),this.state.snapshot(this.squadronUUID),[2]}})})},t}(),pn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.prepare=function(){return Object(s.cordova)(this,"prepare",{callbackStyle:"node"},arguments)},e.prototype.scan=function(){return Object(s.cordova)(this,"scan",{callbackStyle:"node",observable:!0,clearFunction:"cancelScan"},arguments)},e.prototype.show=function(){return Object(s.cordova)(this,"show",{},arguments)},e.prototype.hide=function(){return Object(s.cordova)(this,"hide",{},arguments)},e.prototype.enableLight=function(){return Object(s.cordova)(this,"enableLight",{callbackStyle:"node"},arguments)},e.prototype.destroy=function(){return Object(s.cordova)(this,"destroy",{},arguments)},e.prototype.disableLight=function(){return Object(s.cordova)(this,"disableLight",{callbackStyle:"node"},arguments)},e.prototype.useFrontCamera=function(){return Object(s.cordova)(this,"useFrontCamera",{callbackStyle:"node"},arguments)},e.prototype.useBackCamera=function(){return Object(s.cordova)(this,"useBackCamera",{callbackStyle:"node"},arguments)},e.prototype.useCamera=function(t){return Object(s.cordova)(this,"useCamera",{callbackStyle:"node"},arguments)},e.prototype.pausePreview=function(){return Object(s.cordova)(this,"pausePreview",{},arguments)},e.prototype.resumePreview=function(){return Object(s.cordova)(this,"resumePreview",{},arguments)},e.prototype.getStatus=function(){return Object(s.cordova)(this,"getStatus",{},arguments)},e.prototype.openSettings=function(){return Object(s.cordova)(this,"openSettings",{sync:!0},arguments)},e.pluginName="QRScanner",e.plugin="cordova-plugin-qrscanner",e.pluginRef="QRScanner",e.repo="https://github.com/bitpay/cordova-plugin-qrscanner",e.platforms=["Android","Browser","iOS","Windows"],e}(s.IonicNativePlugin),gn=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},mn=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},vn=function(){function t(t,e,n,r,o,i,a,s,u,l,c,h,f,d,p,g,m){this.modalController=t,this.dataService=e,this.router=n,this.platform=r,this.popoverController=o,this.events=i,this.alertController=a,this.ngZone=s,this.toastController=u,this.http=l,this.loadingCtrl=c,this.state=h,this.importService=f,this.route=d,this.layout=p,this.firebase=g,this.qrScanner=m,this.data_progress=0,this.data_message="X-Wing Tabled",this.retry_button=!1,this.retry_button_disabled=!1,this.data_button=!1,this.data_button_disabled=!1,this.image_button=!1,this.image_button_disabled=!1,this.continue_button=!1,this.squadronUUIDs=[],this.scanning=!1,this.retrieving=!0}return t.prototype.ngOnInit=function(){var t=this;this.uuid=this.route.snapshot.paramMap.get("squadronUUID"),this.events.subscribe(this.dataService.topic,function(e){return gn(t,void 0,void 0,function(){return mn(this,function(t){switch(t.label){case 0:return[4,this.data_event_handler(e)];case 1:return t.sent(),[2]}})})})},t.prototype.getSquadronUUIDs=function(){return Object.keys(this.state.squadrons)},t.prototype.getPointsDestroyed=function(t){var e=this,n=0;return t.pilots.forEach(function(t){n+=e.dataService.getPointsDestroyed(t)}),n},t.prototype.getPointTotal=function(t){var e=this;t.pilots.forEach(function(t){e.dataService.getPilotPoints(t)})},t.prototype.nextSquadron=function(){return this.state.nextSquadron(this.uuid)},t.prototype.previousSquadron=function(){return this.state.previousSquadron(this.uuid)},t.prototype.squadronRoute=function(t){return t&&0!=t.length?"/squadron/"+t:"/"},t.prototype.goToSquadron=function(t){t!=this.uuid&&this.router.navigateByUrl(this.squadronRoute(t))},t.prototype.closeSquadron=function(){var t=this.previousSquadron();t||(t=this.nextSquadron()),this.squadronUUIDs.splice(this.squadronUUIDs.indexOf(this.uuid),1),this.state.closeSquadron(this.uuid),this.router.navigateByUrl(this.squadronRoute(t))},t.prototype.data_event_handler=function(t){return gn(this,void 0,void 0,function(){var e=this;return mn(this,function(n){switch(n.label){case 0:return this.data_message=t.message,this.data_progress=t.progress,"manifest_incomplete"==t.status&&(this.data_button=!0,this.data_message="X-Wing Tabled requires a local data update"),"data_download_errors"==t.status&&(this.data_button=!0,this.data_message="Some X-Wing data could not be downloaded"),"no_data_no_connection"!=t.status?[3,3]:(this.retry_button=!0,this.retry_button_disabled=!1,[4,this.alertController.create({header:"Internet Connection Required",message:"An Internet connection is required to update or download necessary data files the first time X-Wing Tabled runs.",buttons:[{text:"Retry",handler:function(){e.ngZone.run(function(){return gn(e,void 0,void 0,function(){return mn(this,function(t){switch(t.label){case 0:return[4,this.alertController.dismiss()];case 1:return t.sent(),this.retryDownload(),[2]}})})})}}]})]);case 1:return[4,n.sent().present()];case 2:return[2,n.sent()];case 3:return"loading_images"!=t.status?[3,6]:[4,this.loadingCtrl.create({message:"Loading artwork"})];case 4:return[4,n.sent().present()];case 5:n.sent(),this.events.publish("mainpage",{message:"loading_controller_present"}),n.label=6;case 6:if("loading_images_complete"!=t.status)return[3,10];n.label=7;case 7:return n.trys.push([7,9,,10]),[4,this.loadingCtrl.dismiss()];case 8:case 9:return n.sent(),[3,10];case 10:return"manifest_current"!=t.status&&"data_download_complete"!=t.status||(this.data_button=!1),"images_missing"==t.status&&(this.data_message="X-Wing Tabled needs to download some artwork",this.image_button=!0),"images_complete"==t.status&&(this.image_button=!1,this.loadState()),"image_download_incomplete"==t.status&&(this.image_button=!1,this.image_button_disabled=!1,this.continue_button=!0,this.loadState()),"image_download_complete"==t.status&&this.loadState(),[2]}})})},t.prototype.continueAnyway=function(){this.dataService.initialized=!0},t.prototype.qrscan=function(){var t=this;this.scanning=!0,this.qrScanner.prepare().then(function(e){if(e.authorized)return t.qrScanner.show();throw Error("QRScanner not authorized")}).then(function(e){var n=t.qrScanner.scan().subscribe(function(e){return gn(t,void 0,void 0,function(){var t;return mn(this,function(r){switch(r.label){case 0:return n.unsubscribe(),this.qrScanner.destroy(),this.scanning=!1,[4,this.importService.presentXwsModal(e)];case 1:return(t=r.sent())&&this.router.navigateByUrl(this.squadronRoute(t)),[2]}})})},function(t){console.log("QRScanner error",t)},function(){t.qrScanner.destroy(),t.scanning=!1})}).catch(function(t){console.log("QRScanner error",t)})},t.prototype.stopqr=function(){this.qrScanner.destroy(),this.scanning=!1},t.prototype.loginAndRetry=function(){return gn(this,void 0,void 0,function(){return mn(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,this.firebase.login()];case 1:return t.sent(),[4,this.loadOnlineSquadron()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.log("Unable to load squadron with UUID after logging in",this.uuid),[3,4];case 4:return[2]}})})},t.prototype.loadOnlineSquadron=function(){return gn(this,void 0,void 0,function(){var t;return mn(this,function(e){switch(e.label){case 0:return[4,this.loadingCtrl.create({message:"Looking for squadron online"})];case 1:return[4,e.sent().present()];case 2:e.sent(),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,this.firebase.retrieveSquadron(this.uuid)];case 4:return(t=e.sent())&&this.state.importSquadron(this.uuid,t),[3,6];case 5:return e.sent(),console.log("Unable to load squadron from firebase with UUID",this.uuid),[3,6];case 6:return[4,this.loadingCtrl.dismiss()];case 7:return[2,e.sent()]}})})},t.prototype.loadState=function(){return gn(this,void 0,void 0,function(){var t;return mn(this,function(e){switch(e.label){case 0:return this.events.unsubscribe(this.dataService.topic),console.log("Restoring squadrons from local storage"),[4,this.state.restoreFromDisk()];case 1:return e.sent(),console.log("Syncing squadrons with Firebase"),[4,this.state.synchronize()];case 2:e.sent(),console.log("Squadrons synchronized",this.state.squadrons),e.label=3;case 3:return e.trys.push([3,6,,7]),!this.uuid||this.state.squadrons[this.uuid]?[3,5]:(console.log("Retrieving squadron",this.uuid),[4,this.loadOnlineSquadron()]);case 4:e.sent(),e.label=5;case 5:return[3,7];case 6:return t=e.sent(),console.log("Error while checking for online squadron",t),[3,7];case 7:return this.retrieving=!1,[2]}})})},t.prototype.retryDownload=function(){this.retry_button_disabled=!0,this.retry_button=!1,this.dataService.check_manifest()},t.prototype.downloadData=function(){this.data_button_disabled=!0,this.dataService.check_manifest()},t.prototype.downloadArtwork=function(){this.image_button_disabled=!0,this.dataService.download_missing_images()},t.prototype.damageDeck=function(){return gn(this,void 0,void 0,function(){return mn(this,function(t){switch(t.label){case 0:return[4,this.popoverController.create({component:dn,componentProps:{squadronUUID:this.uuid}})];case 1:return[4,t.sent().present()];case 2:return[2,t.sent()]}})})},t.prototype.askRecharge=function(){return gn(this,void 0,void 0,function(){var t=this;return mn(this,function(e){switch(e.label){case 0:return[4,this.alertController.create({header:"Recharge Recurring",message:'Do you wish to recover all recurring <i class="xwing-miniatures-font xwing-miniatures-font-charge"></i> and <i class="xwing-miniatures-font xwing-miniatures-font-forcecharge"></i>?',buttons:[{text:"OK",handler:function(){t.ngZone.run(function(){t.state.rechargeAllRecurring(t.uuid)})}},{text:"Cancel",role:"cancel",cssClass:"secondary"}]})];case 1:return[4,e.sent().present()];case 2:return[2,e.sent()]}})})},t.prototype.toastUndo=function(t){return gn(this,void 0,void 0,function(){return mn(this,function(e){switch(e.label){case 0:return[4,this.toastController.create({message:"Table restored to "+new Date(t).toString(),duration:2e3,position:"bottom"})];case 1:return e.sent().present(),[2]}})})},t.prototype.undoAvailable=function(){return!(!this.uuid||!this.state.squadrons[this.uuid]||!this.state.snapshots[this.uuid]||this.state.snapshots[this.uuid].length<2)},t.prototype.askUndo=function(){return gn(this,void 0,void 0,function(){var t=this;return mn(this,function(e){switch(e.label){case 0:return[4,this.alertController.create({header:"Rewind Time?",message:"This will rewind time to "+new Date(1e3*this.state.getLastSnapshotTime(this.uuid)).toString(),buttons:[{text:"OK",handler:function(){t.ngZone.run(function(){var e=t.state.undo(t.uuid);t.toastUndo(e)})}},{text:"Cancel",role:"cancel",cssClass:"secondary"}]})];case 1:return[4,e.sent().present()];case 2:return[2,e.sent()]}})})},t.prototype.askClose=function(){return gn(this,void 0,void 0,function(){var t=this;return mn(this,function(e){switch(e.label){case 0:return[4,this.alertController.create({header:"Close squadron?",message:"This will close the current squadron",buttons:[{text:"OK",handler:function(){t.ngZone.run(function(){t.closeSquadron()})}},{text:"Cancel",role:"cancel",cssClass:"secondary"}]})];case 1:return[4,e.sent().present()];case 2:return[2,e.sent()]}})})},t.prototype.askReset=function(){return gn(this,void 0,void 0,function(){var t=this;return mn(this,function(e){switch(e.label){case 0:return[4,this.alertController.create({header:"Reset squadrons?",message:"All charges, force and shields will be restored, damage cards shuffled and conditions removed.",buttons:[{text:"OK",handler:function(){t.ngZone.run(function(){return gn(t,void 0,void 0,function(){return mn(this,function(t){switch(t.label){case 0:return this.state.resetSquadron(this.uuid),[4,this.toastController.create({message:"Squadrons reset",duration:2e3,position:"bottom"})];case 1:return t.sent().present(),[2]}})})})}},{text:"Cancel",role:"cancel",cssClass:"secondary"}]})];case 1:return[4,e.sent().present()];case 2:return[2,e.sent()]}})})},t.prototype.toastNotFound=function(t,e){return gn(this,void 0,void 0,function(){return mn(this,function(n){switch(n.label){case 0:return[4,this.toastController.create({message:"WARNING: The "+e+" "+t+" could not be found. Try nuking your local data and downloading the latest XWS Data.",duration:5e3,position:"bottom"})];case 1:return n.sent().present(),[2]}})})},t.prototype.xwsAddButton=function(){return gn(this,void 0,void 0,function(){var t;return mn(this,function(e){switch(e.label){case 0:return[4,this.importService.presentXwsModal()];case 1:return(t=e.sent())&&this.router.navigateByUrl(this.squadronRoute(t)),[2]}})})},t.prototype.presentSettingsModal=function(){return gn(this,void 0,void 0,function(){return mn(this,function(t){switch(t.label){case 0:return[4,this.modalController.create({component:cn,componentProps:{currentSquadronUUID:this.uuid}})];case 1:return[4,t.sent().present()];case 2:return[2,t.sent()]}})})},t.prototype.presentHelpModal=function(){return gn(this,void 0,void 0,function(){return mn(this,function(t){switch(t.label){case 0:return[4,this.modalController.create({component:en})];case 1:return[4,t.sent().present()];case 2:return[2,t.sent()]}})})},t}(),yn=r.nb({encapsulation:0,styles:[[".title-bar[_ngcontent-%COMP%]{display:inline-block;width:50%}.progress-bar-container[_ngcontent-%COMP%]{display:block;width:100%}.squadron-container[_ngcontent-%COMP%]{display:block}.squadron-item[_ngcontent-%COMP%]{display:inline-block}.squadron-halfwidth[_ngcontent-%COMP%]{display:inline-block;width:50%;vertical-align:top}.squadron-fullwidth[_ngcontent-%COMP%]{width:100%;vertical-align:top}.squadron-header[_ngcontent-%COMP%]{display:block}.squadron-name[_ngcontent-%COMP%]{display:inline-block;padding-left:.5vw}.squadron-info[_ngcontent-%COMP%]{display:inline-block}.damage-deck-button[_ngcontent-%COMP%]{vertical-align:center}.damage-deck-summary[_ngcontent-%COMP%]{background-color:#000;vertical-align:center;padding:.5vh .5vw}.damage-deck-summary-text[_ngcontent-%COMP%]{line-height:1.5vh;color:#fff;display:inline-block}.damage-deck-icon[_ngcontent-%COMP%]{display:inline-block;text-align:center;font-size:2vh;color:red}.pilotlist[_ngcontent-%COMP%]{display:block}.pilot[_ngcontent-%COMP%]{display:inline-block}.pilot-fullwidth[_ngcontent-%COMP%]{display:block;width:100%}.pilot-minwidth[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.card-container[_ngcontent-%COMP%], .card-container-phone-landscape[_ngcontent-%COMP%], .card-container-phone-portrait[_ngcontent-%COMP%], .card-container-tablet[_ngcontent-%COMP%], .card-container-tablet-landscape[_ngcontent-%COMP%], .card-container-tablet-portrait[_ngcontent-%COMP%]{width:100%;height:90%;display:flex;align-items:center;justify-content:center}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .card-container-phone-landscape[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .card-container-phone-portrait[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .card-container-tablet[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .card-container-tablet-landscape[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .card-container-tablet-portrait[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{overflow:hidden;border-radius:.5em;box-shadow:.1em .1em .25em #888;width:33%;background-color:#fff}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .card-container-phone-landscape[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .card-container-phone-portrait[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .card-container-tablet[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .card-container-tablet-landscape[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .card-container-tablet-portrait[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:.3em solid #000}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .card-container-phone-landscape[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .card-container-phone-portrait[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .card-container-tablet[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .card-container-tablet-landscape[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .card-container-tablet-portrait[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:.5em 1em 1em}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .card-container-phone-landscape[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .card-container-phone-portrait[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .card-container-tablet[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .card-container-tablet-landscape[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .card-container-tablet-portrait[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25em;font-weight:bolder}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-link[_ngcontent-%COMP%], .card-container-phone-landscape[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-link[_ngcontent-%COMP%], .card-container-phone-portrait[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-link[_ngcontent-%COMP%], .card-container-tablet[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-link[_ngcontent-%COMP%], .card-container-tablet-landscape[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-link[_ngcontent-%COMP%], .card-container-tablet-portrait[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-link[_ngcontent-%COMP%]{color:#00f;text-decoration:underline;cursor:pointer}.card-container-phone-landscape[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .card-container-phone-portrait[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:0;width:100%;height:100%}.card-container-phone-landscape[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:50%}.card-container-phone-landscape[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}.card-container-tablet[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .card-container-tablet-landscape[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .card-container-tablet-portrait[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:5in}.card-container-tablet-portrait[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:50%}ion-fab-button[_ngcontent-%COMP%]   xwing-ship[_ngcontent-%COMP%]{position:relative;top:-.05em;font-size:2.5em}ion-fab-button[data-desc][_ngcontent-%COMP%]{position:relative}ion-fab-button[data-desc][_ngcontent-%COMP%]::after{position:absolute;content:attr(data-desc);z-index:1;right:55px;bottom:4px;background-color:var(--ion-color-light);padding:9px;border-radius:5px;color:var(--ion-color-dark);box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.squadron-toolbar[_ngcontent-%COMP%]{overflow-y:hidden;position:relative;height:2.5em;padding-left:.1em;padding-right:.25em;padding-top:.25em;background-color:#1f1f1f}.squadron-toolbar[_ngcontent-%COMP%]   xwing-icon[_ngcontent-%COMP%]{margin-right:.25em;line-height:1em;position:relative;top:-.08em}.squadron-toolbar[_ngcontent-%COMP%]   .squadron-tab[_ngcontent-%COMP%]{position:relative;background-color:#444;color:#aaa;height:200%;display:inline-block;border-radius:.5em;padding-top:.5em;padding-left:1em;padding-right:1em;line-height:1em;vertical-align:text-bottom;margin-right:.1em}.squadron-toolbar[_ngcontent-%COMP%]   .squadron-tab[_ngcontent-%COMP%]   .squadron-title[_ngcontent-%COMP%]{display:inline-block;vertical-align:text-bottom}.squadron-toolbar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#666;cursor:pointer;position:relative;top:.2em;font-size:1.2em}.squadron-toolbar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:hover{color:#000;text-decoration:underline}.squadron-toolbar[_ngcontent-%COMP%]   .squadron-close[_ngcontent-%COMP%]{margin-left:.5em;display:inline-block;vertical-align:text-bottom}.squadron-toolbar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover:not(.active){cursor:pointer;text-decoration:underline}.squadron-toolbar[_ngcontent-%COMP%]   div.active[_ngcontent-%COMP%]{background-color:var(--ion-background-color);color:#1f1f1f}.squadron-toolbar[_ngcontent-%COMP%]   div.hover[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline}.squadron-toolbar[_ngcontent-%COMP%]   .squad-control[_ngcontent-%COMP%]{float:right;margin-right:0;border-radius:0}.squadron-link[_ngcontent-%COMP%]{text-decoration:none;color:#1f1f1f;cursor:pointer;margin-bottom:.25em}.squadron-link[_ngcontent-%COMP%]   xwing-icon[_ngcontent-%COMP%]{position:relative;top:-.05em;display:inline-block;width:1.5em}.squadron-link[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{text-decoration:underline}.squadron-list-header[_ngcontent-%COMP%]{font-style:italic;margin-bottom:.5em}.squadron-missing[_ngcontent-%COMP%]{border:.05em solid #000;text-align:center;font-weight:700;margin-bottom:1em;padding:.5em}"]],data:{}});function bn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"ion-icon",[["name","close-circle"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.askClose()&&r),r},f.G,f.k)),r.ob(1,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null)],function(t,e){t(e,1,0,"close-circle")},null)}function wn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,7,"div",[],[[8,"className",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.goToSquadron(t.parent.context.$implicit)&&r),r},null,null)),(t()(),r.pb(1,0,null,null,1,"xwing-icon",[],null,null,null,g,p)),r.ob(2,114688,null,0,d,[],{name:[0,"name"],faction:[1,"faction"]},null),(t()(),r.pb(3,0,null,null,1,"div",[["class","squadron-title"]],null,null,null,null,null)),(t()(),r.Db(4,null,[" "," ("," / ",") "])),(t()(),r.pb(5,0,null,null,2,"div",[["class","squadron-close"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,bn)),r.ob(7,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.state.squadrons[e.parent.context.$implicit].faction,!0);var r=e.parent.context.$implicit.includes(n.uuid);t(e,7,0,r)},function(t,e){var n=e.component,r=e.parent.context.$implicit.includes(n.uuid)?"active squadron-tab":"squadron-tab";t(e,0,0,r),t(e,4,0,n.state.squadrons[e.parent.context.$implicit].name,n.state.getSquadronPointsDestroyed(e.parent.context.$implicit),n.state.getSquadronPointTotal(e.parent.context.$implicit))})}function _n(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,wn)),r.ob(2,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(0,null,null,0))],function(t,e){var n=e.component,r=n.state.squadrons[e.context.$implicit]&&(!n.layout.getClass().includes("phone")||e.context.$implicit.includes(n.uuid));t(e,2,0,r)},null)}function Cn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","active hover squadron-tab squad-control"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.xwsAddButton()&&r),r},null,null)),(t()(),r.pb(1,0,null,null,1,"ion-icon",[["name","add-circle"]],null,null,null,f.G,f.k)),r.ob(2,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null)],function(t,e){t(e,2,0,"add-circle")},null)}function Sn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"div",[["style","float: right;"]],[[8,"className",0]],[[null,"click"]],function(t,e,n){var r=!0,o=t.component;return"click"===e&&(r=!1!==o.goToSquadron(o.nextSquadron())&&r),r},null,null)),(t()(),r.pb(1,0,null,null,1,"ion-icon",[["name","arrow-dropright"]],null,null,null,f.G,f.k)),r.ob(2,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null)],function(t,e){t(e,2,0,"arrow-dropright")},function(t,e){t(e,0,0,e.component.nextSquadron()?"active hover squad-control squadron-tab":"squad-control squadron-tab")})}function En(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"div",[["style","float: right;"]],[[8,"className",0]],[[null,"click"]],function(t,e,n){var r=!0,o=t.component;return"click"===e&&(r=!1!==o.goToSquadron(o.previousSquadron())&&r),r},null,null)),(t()(),r.pb(1,0,null,null,1,"ion-icon",[["name","arrow-dropleft"]],null,null,null,f.G,f.k)),r.ob(2,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null)],function(t,e){t(e,2,0,"arrow-dropleft")},function(t,e){t(e,0,0,e.component.previousSquadron()?"active hover squad-control squadron-tab":"squad-control squadron-tab")})}function On(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,8,"div",[["class","squadron-toolbar"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,_n)),r.ob(2,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.gb(16777216,null,null,1,null,Cn)),r.ob(4,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Sn)),r.ob(6,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,En)),r.ob(8,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.getSquadronUUIDs()),t(e,4,0,!n.layout.getClass().includes("phone")),t(e,6,0,n.squadronUUIDs.length>1),t(e,8,0,n.squadronUUIDs.length>1)},null)}function In(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["Unable to find this squadron locally or online"]))],null,null)}function kn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,4,"span",[],null,null,null,null,null)),(t()(),r.Db(-1,null,[" Unable to find this squadron locally. You may need to "])),(t()(),r.pb(2,0,null,null,1,"span",[["class","card-link"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.loginAndRetry()&&r),r},null,null)),(t()(),r.Db(-1,null,["log in"])),(t()(),r.Db(-1,null,[" to view this squadron if it is online."]))],null,null)}function xn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,8,"div",[["class","squadron-missing"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,7,"span",[],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,1,"ion-icon",[["name","warning"]],null,null,null,f.G,f.k)),r.ob(3,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null),(t()(),r.Db(-1,null,[" \xa0 "])),(t()(),r.gb(16777216,null,null,1,null,In)),r.ob(6,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,kn)),r.ob(8,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,"warning"),t(e,6,0,n.firebase.loggedIn()),t(e,8,0,!n.firebase.loggedIn())},null)}function Tn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,7,"div",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["This app is a card and token manager for X-Wing Miniatures Second Edition."])),(t()(),r.pb(2,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.Db(-1,null,[" To begin, you may "])),(t()(),r.pb(5,0,null,null,1,"span",[["class","card-link"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.xwsAddButton()&&r),r},null,null)),(t()(),r.Db(-1,null,["import a squadron"])),(t()(),r.Db(-1,null,[". "]))],null,null)}function Dn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"div",[["class","squadron-list-header"]],null,null,null,null,null)),(t()(),r.Db(-1,null,[" Squadrons on this device "]))],null,null)}function Pn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,4,"div",[["class","squadron-link"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.goToSquadron(t.context.$implicit)&&r),r},null,null)),(t()(),r.pb(1,0,null,null,1,"xwing-icon",[],null,null,null,g,p)),r.ob(2,114688,null,0,d,[],{name:[0,"name"]},null),(t()(),r.pb(3,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Db(4,null,["",""]))],function(t,e){t(e,2,0,e.component.state.squadrons[e.context.$implicit].faction)},function(t,e){t(e,4,0,e.component.state.squadrons[e.context.$implicit].name)})}function An(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,8,"div",[],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,xn)),r.ob(2,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Tn)),r.ob(4,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Dn)),r.ob(6,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Pn)),r.ob(8,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,2,0,!n.retrieving&&n.uuid&&!n.state.squadrons[n.uuid]),t(e,4,0,0==n.getSquadronUUIDs().length),t(e,6,0,n.getSquadronUUIDs().length>0),t(e,8,0,n.getSquadronUUIDs())},null)}function Nn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"ion-button",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.retryManifest()&&r),r},f.y,f.c)),r.ob(1,49152,null,0,i.j,[r.h,r.k],{disabled:[0,"disabled"]},null),(t()(),r.Db(-1,0,["Retry Download"]))],function(t,e){t(e,1,0,e.component.retry_button_disabled)},null)}function Mn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"ion-button",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.downloadData()&&r),r},f.y,f.c)),r.ob(1,49152,null,0,i.j,[r.h,r.k],{disabled:[0,"disabled"]},null),(t()(),r.Db(-1,0,["Download Data"]))],function(t,e){t(e,1,0,e.component.data_button_disabled)},null)}function Rn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"ion-button",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.downloadArtwork()&&r),r},f.y,f.c)),r.ob(1,49152,null,0,i.j,[r.h,r.k],{disabled:[0,"disabled"]},null),(t()(),r.Db(-1,0,["Download Artwork"]))],function(t,e){t(e,1,0,e.component.image_button_disabled)},null)}function jn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"ion-button",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.continueAnyway()&&r),r},f.y,f.c)),r.ob(1,49152,null,0,i.j,[r.h,r.k],null,null),(t()(),r.Db(-1,0,["Continue"]))],null,null)}function Ln(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,13,"div",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,2,"div",[["class","progress-bar-container"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,1,"progress-bar",[],null,null,null,w,b)),r.ob(3,49152,null,0,v,[],{progress:[0,"progress"],color:[1,"color"]},null),(t()(),r.Db(4,null,[" "," "])),(t()(),r.pb(5,0,null,null,8,"div",[["class","ion-text-right"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,Nn)),r.ob(7,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Mn)),r.ob(9,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Rn)),r.ob(11,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,jn)),r.ob(13,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.data_progress,"#488aff"),t(e,7,0,n.retry_button),t(e,9,0,n.data_button),t(e,11,0,n.image_button),t(e,13,0,n.continue_button)},function(t,e){t(e,4,0,e.component.data_message)})}function Un(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,7,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.pb(1,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,0,"img",[["src","assets/img/splash.png"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,4,"div",[["class","card-content"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,An)),r.ob(5,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Ln)),r.ob(7,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,5,0,n.dataService.initialized),t(e,7,0,!n.dataService.initialized)},function(t,e){t(e,0,0,"card-container"+e.component.layout.getClass())})}function qn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"squadron",[],null,null,null,tn,Ze)),r.ob(1,114688,null,0,Ye,[yt,i.Fb,i.Ib,i.d,bt,se,be.m,r.z],{uuid:[0,"uuid"],squadron:[1,"squadron"]},null)],function(t,e){var n=e.component;t(e,1,0,n.uuid,n.state.squadrons[n.uuid])},null)}function Fn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,3,"ion-fab-button",[["data-desc","Scan QR"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.qrscan()&&r),r},f.B,f.g)),r.ob(1,49152,null,0,i.w,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,1,"ion-icon",[["name","qr-scanner"]],null,null,null,f.G,f.k)),r.ob(3,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null)],function(t,e){t(e,3,0,"qr-scanner")},null)}function Vn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,3,"ion-fab-button",[["data-desc","Import squadron"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.xwsAddButton()&&r),r},f.B,f.g)),r.ob(1,49152,null,0,i.w,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,f.G,f.k)),r.ob(3,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null)],function(t,e){t(e,3,0,"add")},null)}function Bn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,3,"ion-fab-button",[["data-desc","Reset squadron"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.askReset()&&r),r},f.B,f.g)),r.ob(1,49152,null,0,i.w,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,1,"ion-icon",[["name","refresh"]],null,null,null,f.G,f.k)),r.ob(3,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null)],function(t,e){t(e,3,0,"refresh")},null)}function zn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,3,"ion-fab-button",[["data-desc","Undo"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.askUndo()&&r),r},f.B,f.g)),r.ob(1,49152,null,0,i.w,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,1,"ion-icon",[["name","undo"]],null,null,null,f.G,f.k)),r.ob(3,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null)],function(t,e){t(e,3,0,"undo")},null)}function Hn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,3,"ion-fab-button",[["data-desc","Damage deck"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.damageDeck()&&r),r},f.B,f.g)),r.ob(1,49152,null,0,i.w,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,1,"xwing-icon",[],null,null,null,g,p)),r.ob(3,114688,null,0,d,[],{name:[0,"name"]},null)],function(t,e){t(e,3,0,"hit")},null)}function Gn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,3,"ion-fab-button",[["data-desc","Recurring charges"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.askRecharge()&&r),r},f.B,f.g)),r.ob(1,49152,null,0,i.w,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,1,"xwing-icon",[],null,null,null,g,p)),r.ob(3,114688,null,0,d,[],{name:[0,"name"]},null)],function(t,e){t(e,3,0,"charge")},null)}function Wn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,5,"ion-fab",[["horizontal","start"],["slot","fixed"],["vertical","bottom"]],null,null,null,f.D,f.f)),r.ob(1,49152,null,0,i.v,[r.h,r.k],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(t()(),r.pb(2,0,null,0,3,"ion-fab-button",[["color","light"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.presentHelpModal()&&r),r},f.B,f.g)),r.ob(3,49152,null,0,i.w,[r.h,r.k],{color:[0,"color"]},null),(t()(),r.pb(4,0,null,0,1,"ion-icon",[["name","help"]],null,null,null,f.G,f.k)),r.ob(5,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null)],function(t,e){t(e,1,0,"start","bottom"),t(e,3,0,"light"),t(e,5,0,"help")},null)}function Kn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,29,"ion-content",[["padding",""]],null,null,null,f.A,f.e)),r.ob(1,49152,null,0,i.t,[r.h,r.k],null,null),(t()(),r.gb(16777216,null,0,1,null,qn)),r.ob(3,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(4,0,null,0,23,"ion-fab",[["class","labels2"],["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,f.D,f.f)),r.ob(5,49152,null,0,i.v,[r.h,r.k],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(t()(),r.pb(6,0,null,0,3,"ion-fab-button",[],null,null,null,f.B,f.g)),r.ob(7,49152,null,0,i.w,[r.h,r.k],null,null),(t()(),r.pb(8,0,null,0,1,"ion-icon",[["name","more"]],null,null,null,f.G,f.k)),r.ob(9,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null),(t()(),r.pb(10,0,null,0,17,"ion-fab-list",[["class","labels"],["side","top"]],null,null,null,f.C,f.h)),r.ob(11,49152,null,0,i.x,[r.h,r.k],{side:[0,"side"]},null),(t()(),r.pb(12,0,null,0,3,"ion-fab-button",[["data-desc","Cloud Data"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.presentSettingsModal()&&r),r},f.B,f.g)),r.ob(13,49152,null,0,i.w,[r.h,r.k],null,null),(t()(),r.pb(14,0,null,0,1,"ion-icon",[["name","cloud-upload"]],null,null,null,f.G,f.k)),r.ob(15,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null),(t()(),r.gb(16777216,null,0,1,null,Fn)),r.ob(17,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,0,1,null,Vn)),r.ob(19,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,0,1,null,Bn)),r.ob(21,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,0,1,null,zn)),r.ob(23,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,0,1,null,Hn)),r.ob(25,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,0,1,null,Gn)),r.ob(27,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,0,1,null,Wn)),r.ob(29,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.state.squadrons[n.uuid]),t(e,5,0,"end","bottom"),t(e,9,0,"more"),t(e,11,0,"top"),t(e,15,0,"cloud-upload"),t(e,17,0,n.dataService.initialized&&n.platform.is("cordova")),t(e,19,0,n.dataService.initialized),t(e,21,0,!n.state.readonly(n.uuid)&&n.state.squadrons[n.uuid]),t(e,23,0,!n.state.readonly(n.uuid)&&n.undoAvailable()),t(e,25,0,n.state.squadrons[n.uuid]),t(e,27,0,!n.state.readonly(n.uuid)&&n.state.squadrons[n.uuid]),t(e,29,0,!n.platform.is("cordova"))},null)}function Qn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,4,"ion-footer",[],null,null,null,f.E,f.i)),r.ob(1,49152,null,0,i.y,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stopqr()&&r),r},f.y,f.c)),r.ob(3,49152,null,0,i.j,[r.h,r.k],{expand:[0,"expand"]},null),(t()(),r.Db(-1,0,["Cancel QR Scanner"]))],function(t,e){t(e,3,0,"full")},null)}function Jn(t){return r.Eb(0,[(t()(),r.gb(16777216,null,null,1,null,On)),r.ob(1,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Un)),r.ob(3,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Kn)),r.ob(5,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Qn)),r.ob(7,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.state.initialized),t(e,3,0,!(n.scanning||n.state.initialized&&n.state.squadrons[n.uuid])),t(e,5,0,!n.scanning),t(e,7,0,n.scanning)},null)}function Xn(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"app-main",[],null,null,null,Jn,yn)),r.ob(1,114688,null,0,vn,[i.Fb,yt,be.m,i.Ib,i.Jb,i.d,i.a,r.z,i.Mb,H,i.Eb,se,an,be.a,bt,oe,pn],null,null)],function(t,e){t(e,1,0)},null)}var Yn=r.lb("app-main",vn,Xn,{},{},[]),Zn=function(){function t(){this.readonly=!1,this.change=new r.m}return t.prototype.emit=function(){this.change.emit(this.remaining)},t.prototype.spent=function(){return new Array(this.maximum-this.remaining)},t.prototype.available=function(){return new Array(this.remaining)},t.prototype.spend=function(){this.readonly||(this.remaining-=1,this.emit())},t.prototype.recover=function(){this.readonly||(this.remaining+=1,this.emit())},t.prototype.ngOnInit=function(){},t}(),$n=r.nb({encapsulation:0,styles:[[".token-display[_ngcontent-%COMP%]{display:block}.charge[_ngcontent-%COMP%], .force[_ngcontent-%COMP%], .shield[_ngcontent-%COMP%], .spent[_ngcontent-%COMP%], .tokens[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.force[_ngcontent-%COMP%]{color:#8a2be2}.charge[_ngcontent-%COMP%]{color:#ff0}.shield[_ngcontent-%COMP%]{color:#add8e6}.spent[_ngcontent-%COMP%]{color:red}.recover-container[_ngcontent-%COMP%]{height:100%;display:inline-block;vertical-align:middle;margin-left:.25em;padding-bottom:.25em}.recover-button[_ngcontent-%COMP%]{vertical-align:middle}"]],data:{}});function tr(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xwing-icon",[],[[8,"className",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.spend()&&r),r},g,p)),r.ob(1,114688,null,0,d,[],{name:[0,"name"]},null)],function(t,e){t(e,1,0,"token-"+e.component.name+"-outline")},function(t,e){t(e,0,0,e.component.name)})}function er(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xwing-icon",[["class","spent"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.recover()&&r),r},g,p)),r.ob(1,114688,null,0,d,[],{name:[0,"name"]},null)],function(t,e){t(e,1,0,"token-"+e.component.name+"-outline")},null)}function nr(t){return r.Eb(0,[(t()(),r.gb(16777216,null,null,1,null,tr)),r.ob(1,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.gb(16777216,null,null,1,null,er)),r.ob(3,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.available()),t(e,3,0,n.spent())},null)}var rr=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},or=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ir=function(){function t(t,e,n){this.popoverController=t,this.dataService=e,this.state=n,this.condition={},this.conditionData={},this.pilot={},this.img_url=""}return t.prototype.assignPilotDamage=function(){return rr(this,void 0,void 0,function(){return or(this,function(t){switch(t.label){case 0:return[4,this.popoverController.dismiss()];case 1:return t.sent(),this.pilot.damagecards.push(this.condition.pilotDamageCard),this.condition.pilotDamageCard=null,this.state.snapshot(this.squadronUUID),[2]}})})},t.prototype.removeCondition=function(){return rr(this,void 0,void 0,function(){var t;return or(this,function(e){switch(e.label){case 0:return[4,this.popoverController.dismiss()];case 1:return e.sent(),(t=this.pilot.conditions.indexOf(this.condition))>-1&&this.pilot.conditions.splice(t,1),this.state.snapshot(this.squadronUUID),[2]}})})},t.prototype.ngOnInit=function(){var t=this;this.condition=this.state.getCondition(this.squadronUUID,this.pilotUUID,this.cardIndex),this.conditionData=this.dataService.getConditionCardData(this.condition.xws),this.pilot=this.state.getPilot(this.squadronUUID,this.pilotUUID),this.dataService.get_image_by_url(this.dataService.getConditionArtwork(this.condition.xws)).then(function(e){t.img_url=e})},t}(),ar=function(){function t(t,e,n){this.dataService=t,this.popoverController=e,this.state=n,this.condition={},this.img_url=""}return t.prototype.presentConditionPopover=function(){return t=this,void 0,n=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(t){switch(t.label){case 0:return[4,this.popoverController.create({component:ir,componentProps:{squadronUUID:this.squadronUUID,pilotUUID:this.pilotUUID,cardIndex:this.cardIndex}})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}})},new((e=void 0)||(e=Promise))(function(r,o){function i(t){try{s(n.next(t))}catch(e){o(e)}}function a(t){try{s(n.throw(t))}catch(e){o(e)}}function s(t){t.done?r(t.value):new e(function(e){e(t.value)}).then(i,a)}s((n=n.apply(t,[])).next())});var t,e,n},t.prototype.ngOnInit=function(){var t=this;this.condition=this.state.getCondition(this.squadronUUID,this.pilotUUID,this.cardIndex),this.dataService.get_image_by_url(this.dataService.getConditionArtwork(this.condition.xws)).then(function(e){t.img_url=e})},t}(),sr=r.nb({encapsulation:0,styles:[[".condition[_ngcontent-%COMP%]{width:100%}"]],data:{}});function ur(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"div",[["class","condition"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.presentConditionPopover()&&r),r},null,null)),(t()(),r.pb(1,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(t,e){t(e,1,0,e.component.img_url)})}var lr=function(){function t(t,e){this.popoverController=t,this.state=e,this.card={}}return t.prototype.ngOnInit=function(){this.card=this.state.getDamageCard(this.squadronUUID,this.pilotUUID,this.cardIndex)},t.prototype.presentDamagePopover=function(t){return e=this,void 0,r=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(t){switch(t.label){case 0:return[4,this.popoverController.create({component:Oe,componentProps:{cardIndex:this.cardIndex,pilotUUID:this.pilotUUID,squadronUUID:this.squadronUUID}})];case 1:return[4,t.sent().present()];case 2:return[2,t.sent()]}})},new((n=void 0)||(n=Promise))(function(t,o){function i(t){try{s(r.next(t))}catch(e){o(e)}}function a(t){try{s(r.throw(t))}catch(e){o(e)}}function s(e){e.done?t(e.value):new n(function(t){t(e.value)}).then(i,a)}s((r=r.apply(e,[])).next())});var e,n,r},t}(),cr=r.nb({encapsulation:0,styles:[[".damage-deck-icon[_ngcontent-%COMP%]{display:inline-block;text-align:center;width:2em;font-size:1em;color:red;background-color:#000;margin-right:.5vw}.damage-card[_ngcontent-%COMP%]{color:#fff;border:1px solid red}"]],data:{}});function hr(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Db(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.card.title)})}function fr(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,5,"ion-button",[["color","danger"],["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.presentDamagePopover(n)&&r),r},f.y,f.c)),r.ob(1,49152,null,0,i.j,[r.h,r.k],{color:[0,"color"],expand:[1,"expand"]},null),(t()(),r.gb(16777216,null,0,1,null,hr)),r.ob(3,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(4,0,null,0,1,"xwing-icon",[],null,null,null,g,p)),r.ob(5,114688,null,0,d,[],{name:[0,"name"]},null)],function(t,e){var n=e.component;t(e,1,0,"danger","full"),t(e,3,0,n.card.exposed),t(e,5,0,"crit")},null)}function dr(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,5,"ion-button",[["color","danger"],["expand","full"],["fill","outline"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.presentDamagePopover(n)&&r),r},f.y,f.c)),r.ob(1,49152,null,0,i.j,[r.h,r.k],{color:[0,"color"],expand:[1,"expand"],fill:[2,"fill"]},null),(t()(),r.pb(2,0,null,0,1,"span",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["Damage Card"])),(t()(),r.pb(4,0,null,0,1,"xwing-icon",[],null,null,null,g,p)),r.ob(5,114688,null,0,d,[],{name:[0,"name"]},null)],function(t,e){t(e,1,0,"danger","full","outline"),t(e,5,0,"hit")},null)}function pr(t){return r.Eb(0,[(t()(),r.gb(16777216,null,null,1,null,fr)),r.ob(1,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,dr)),r.ob(3,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.card.exposed),t(e,3,0,!n.card.exposed)},null)}function gr(t){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){mr(t,e,n[e])})}return t}var yr={},br={};try{"undefined"!=typeof window&&(yr=window),"undefined"!=typeof document&&(br=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(Fs){}var wr=(yr.navigator||{}).userAgent,_r=void 0===wr?"":wr,Cr=yr,Sr=br,Er=!!Sr.documentElement&&!!Sr.head&&"function"==typeof Sr.addEventListener&&"function"==typeof Sr.createElement,Or=(~_r.indexOf("MSIE")||_r.indexOf("Trident/"),"fa"),Ir="svg-inline--fa",kr=[1,2,3,4,5,6,7,8,9,10],xr=kr.concat([11,12,13,14,15,16,17,18,19,20]),Tr=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter"].concat(kr.map(function(t){return"".concat(t,"x")})).concat(xr.map(function(t){return"w-".concat(t)})),Cr.FontAwesomeConfig||{});Sr&&"function"==typeof Sr.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e,n=(2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),2!==n.length);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),r=n[1],o=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=Sr.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(n[0]));null!=o&&(Tr[r]=o)});var Dr=vr({},{familyPrefix:Or,replacementClass:Ir,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Tr);Dr.autoReplaceSvg||(Dr.observeMutations=!1);var Pr=vr({},Dr);Cr.FontAwesomeConfig=Pr;var Ar=Cr||{};Ar.___FONT_AWESOME___||(Ar.___FONT_AWESOME___={}),Ar.___FONT_AWESOME___.styles||(Ar.___FONT_AWESOME___.styles={}),Ar.___FONT_AWESOME___.hooks||(Ar.___FONT_AWESOME___.hooks={}),Ar.___FONT_AWESOME___.shims||(Ar.___FONT_AWESOME___.shims=[]);var Nr=Ar.___FONT_AWESOME___,Mr=[];Er&&((Sr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Sr.readyState)||Sr.addEventListener("DOMContentLoaded",function t(){Sr.removeEventListener("DOMContentLoaded",t),Mr.map(function(t){return t()})}));var Rr,jr="pending",Lr="settled",Ur="fulfilled",qr="rejected",Fr=function(){},Vr="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,Br="undefined"==typeof setImmediate?setTimeout:setImmediate,zr=[];function Hr(){for(var t=0;t<zr.length;t++)zr[t][0](zr[t][1]);zr=[],Rr=!1}function Gr(t,e){zr.push([t,e]),Rr||(Rr=!0,Br(Hr,0))}function Wr(t){var e=t.owner,n=e._state,r=e._data,o=t[n],i=t.then;if("function"==typeof o){n=Ur;try{r=o(r)}catch(Fs){Xr(i,Fs)}}Kr(i,r)||(n===Ur&&Qr(i,r),n===qr&&Xr(i,r))}function Kr(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===gr(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(r){n||(n=!0,e===r?Jr(t,r):Qr(t,r))},function(e){n||(n=!0,Xr(t,e))}),!0}}catch(Fs){return n||Xr(t,Fs),!0}return!1}function Qr(t,e){t!==e&&Kr(t,e)||Jr(t,e)}function Jr(t,e){t._state===jr&&(t._state=Lr,t._data=e,Gr(Zr,t))}function Xr(t,e){t._state===jr&&(t._state=Lr,t._data=e,Gr($r,t))}function Yr(t){t._then=t._then.forEach(Wr)}function Zr(t){t._state=Ur,Yr(t)}function $r(t){t._state=qr,Yr(t),!t._handled&&Vr&&global.process.emit("unhandledRejection",t._data,t)}function to(t){global.process.emit("rejectionHandled",t)}function eo(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof eo==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){Xr(e,t)}try{t(function(t){Qr(e,t)},n)}catch(Fs){n(Fs)}}(t,this)}eo.prototype={constructor:eo,_state:jr,_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(Fr),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,this._state===qr&&Vr&&Gr(to,this)),this._state===Ur||this._state===qr?Gr(Wr,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},eo.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new eo(function(e,n){var r=[],o=0;function i(t){return o++,function(n){r[t]=n,--o||e(r)}}for(var a,s=0;s<t.length;s++)(a=t[s])&&"function"==typeof a.then?a.then(i(s),n):r[s]=a;o||e(r)})},eo.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new eo(function(e,n){for(var r,o=0;o<t.length;o++)(r=t[o])&&"function"==typeof r.then?r.then(e,n):e(r)})},eo.resolve=function(t){return t&&"object"===gr(t)&&t.constructor===eo?t:new eo(function(e){e(t)})},eo.reject=function(t){return new eo(function(e,n){n(t)})},"function"==typeof Promise&&Promise;var no={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},ro="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function oo(){for(var t=12,e="";t-- >0;)e+=ro[62*Math.random()|0];return e}function io(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ao(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n],";")},"")}function so(t){return t.size!==no.size||t.x!==no.x||t.y!==no.y||t.rotate!==no.rotate||t.flipX||t.flipY}function uo(t){var e=t.transform,n=t.iconWidth,r={transform:"translate(".concat(t.containerWidth/2," 256)")},o="translate(".concat(32*e.x,", ").concat(32*e.y,") "),i="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(o," ").concat(i," ").concat(a)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}var lo={x:0,y:0,width:"100%",height:"100%"},co=function(t,e,n,r){var o,i,a,s=Object.keys(t),u=s.length,l=void 0!==r?function(t,e){return function(n,r,o,i){return t.call(e,n,r,o,i)}}(e,r):e;for(void 0===n?(o=1,a=t[s[0]]):(o=0,a=n);o<u;o++)a=l(a,t[i=s[o]],i,t);return a},ho=Nr.styles,fo=Nr.shims,po=function(){var t=function(t){return co(ho,function(e,n,r){return e[r]=co(n,t,{}),e},{})};t(function(t,e,n){return e[3]&&(t[e[3]]=n),t}),t(function(t,e,n){var r=e[2];return t[n]=n,r.forEach(function(e){t[e]=n}),t});var e="far"in ho;co(fo,function(t,n){var r=n[1];return"far"!==r||e||(r="fas"),t[n[0]]={prefix:r,iconName:n[2]},t},{})};function go(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function mo(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,o=t.children,i=void 0===o?[]:o;return"string"==typeof t?io(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(io(t[n]),'" ')},"").trim()}(r),">").concat(i.map(mo).join(""),"</").concat(e,">")}function vo(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}po(),(vo.prototype=Object.create(Error.prototype)).constructor=vo;var yo={fill:"currentColor"},bo={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},wo=(vr({},yo,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),vr({},bo,{attributeName:"opacity"}));vr({},yo,{cx:"256",cy:"364",r:"28"}),vr({},bo,{attributeName:"r",values:"28;14;28;28;14;28;"}),vr({},wo,{values:"1;0;1;1;0;1;"}),vr({},yo,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),vr({},wo,{values:"1;0;0;0;0;1;"}),vr({},yo,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),vr({},wo,{values:"0;0;1;1;0;0;"});var _o='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}';function Co(t){return{found:!0,width:t[0],height:t[1],icon:{tag:"path",attributes:{fill:"currentColor",d:t.slice(4)[0]}}}}function So(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return go(Oo.definitions,n,r)||go(Nr.styles,n,r)}var Eo,Oo=new(function(){function t(){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.definitions={}}var e;return(e=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(e){t.definitions[e]=vr({},t.definitions[e]||{},o[e]),function t(e,n){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,o=void 0!==r&&r,i=Object.keys(n).reduce(function(t,e){var r=n[e];return r.icon?t[r.iconName]=r.icon:t[e]=r,t},{});"function"!=typeof Nr.hooks.addPack||o?Nr.styles[e]=vr({},Nr.styles[e]||{},i):Nr.hooks.addPack(e,i),"fas"===e&&t("fa",n)}(e,o[e]),po()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(function(e){var r=n[e],o=r.prefix,i=r.iconName,a=r.icon;t[o]||(t[o]={}),t[o][i]=a}),t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()),Io=!1,ko=(Eo=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,o=void 0===r?no:r,i=n.symbol,a=void 0!==i&&i,s=n.mask,u=void 0===s?null:s,l=n.title,c=void 0===l?null:l,h=n.classes,f=void 0===h?[]:h,d=n.attributes,p=void 0===d?{}:d,g=n.styles,m=void 0===g?{}:g;if(t){var v=t.prefix,y=t.iconName,b=t.icon;return e=vr({type:"icon"},t),Object.defineProperty(e,"abstract",{get:function(){return Pr.autoAddCss&&!Io&&(function(t){if(t&&Er){var e=Sr.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Sr.head.childNodes,r=null,o=n.length-1;o>-1;o--){var i=n[o],a=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=i)}Sr.head.insertBefore(e,r)}}(function(){var t=Ir,e=Pr.familyPrefix,n=Pr.replacementClass,r=_o;if(e!==Or||n!==t){var o=new RegExp("\\.".concat(Or,"\\-"),"g"),i=new RegExp("\\.".concat(t),"g");r=r.replace(o,".".concat(e,"-")).replace(i,".".concat(n))}return r}()),Io=!0),Pr.autoA11y&&(c?p["aria-labelledby"]="".concat(Pr.replacementClass,"-title-").concat(oo()):(p["aria-hidden"]="true",p.focusable="false")),function(t){var e=t.icons,n=e.main,r=e.mask,o=t.prefix,i=t.iconName,a=t.transform,s=t.symbol,u=t.title,l=t.extra,c=t.watchable,h=void 0!==c&&c,f=r.found?r:n,d=f.width,p=f.height,g="fa-w-".concat(Math.ceil(d/p*16)),m=[Pr.replacementClass,i?"".concat(Pr.familyPrefix,"-").concat(i):"",g].filter(function(t){return-1===l.classes.indexOf(t)}).concat(l.classes).join(" "),v={children:[],attributes:vr({},l.attributes,{"data-prefix":o,"data-icon":i,class:m,role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(d," ").concat(p)})};h&&(v.attributes["data-fa-i2svg"]=""),u&&v.children.push({tag:"title",attributes:{id:v.attributes["aria-labelledby"]||"title-".concat(oo())},children:[u]});var y=vr({},v,{prefix:o,iconName:i,main:n,mask:r,transform:a,symbol:s,styles:l.styles}),b=r.found&&n.found?function(t){var e=y.children,n=y.attributes,r=y.main,o=y.mask,i=r.icon,a=o.icon,s=uo({transform:y.transform,containerWidth:o.width,iconWidth:r.width}),u={tag:"rect",attributes:vr({},lo,{fill:"white"})},l={tag:"g",attributes:vr({},s.inner),children:[{tag:"path",attributes:vr({},i.attributes,s.path,{fill:"black"})}]},c={tag:"g",attributes:vr({},s.outer),children:[l]},h="mask-".concat(oo()),f="clip-".concat(oo()),d={tag:"mask",attributes:vr({},lo,{id:h,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[u,c]};return e.push({tag:"defs",children:[{tag:"clipPath",attributes:{id:f},children:[a]},d]},{tag:"rect",attributes:vr({fill:"currentColor","clip-path":"url(#".concat(f,")"),mask:"url(#".concat(h,")")},lo)}),{children:e,attributes:n}}():function(t){var e=y.children,n=y.attributes,r=y.main,o=y.transform,i=ao(y.styles);if(i.length>0&&(n.style=i),so(o)){var a=uo({transform:o,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:vr({},a.outer),children:[{tag:"g",attributes:vr({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:vr({},r.icon.attributes,a.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}(),w=b.attributes;return y.children=b.children,y.attributes=w,s?function(t){var e=y.iconName,n=y.children,r=y.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:vr({},y.attributes,{id:!0===r?"".concat(y.prefix,"-").concat(Pr.familyPrefix,"-").concat(e):r}),children:n}]}]}():function(t){var e=y.children,n=y.main,r=y.mask,o=y.attributes,i=y.styles,a=y.transform;if(so(a)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};o.style=ao(vr({},i,{"transform-origin":"".concat(s.x+a.x/16,"em ").concat(s.y+a.y/16,"em")}))}return[{tag:"svg",attributes:o,children:e}]}()}({icons:{main:Co(b),mask:u?Co(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v,iconName:y,transform:vr({},no,o),symbol:a,title:c,extra:{attributes:p,styles:m,classes:f}})}}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(t){return mo(t)})}}),Object.defineProperty(e,"node",{get:function(){if(Er){var t=Sr.createElement("div");return t.innerHTML=e.html,t.children}}}),e}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:So(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:So(r||{})),Eo(n,vr({},e,{mask:r}))}),xo=function(t,e){return void 0===e&&(e="fas"),null==t?null:void 0!==(n=t).prefix&&void 0!==n.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:e,iconName:t}:void 0;var n},To=function(t,e){var n;return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?((n={})[t]=e,n):{}},Do='<svg class="'+Pr.replacementClass+'" viewBox="0 0 448 512"></svg>\x3c!--icon not found--\x3e',Po=function(){function t(){this.defaultPrefix="fas"}return t.ngInjectableDef=Object(r.S)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Ao=function(){function t(t,e){this.sanitizer=t,this.iconService=e,this.classes=[]}return t.prototype.ngOnChanges=function(t){t&&(this.updateIconSpec(),this.updateParams(),this.updateIcon(),this.renderIcon())},t.prototype.updateIconSpec=function(){this.iconSpec=xo(this.iconProp,this.iconService.defaultPrefix)},t.prototype.updateParams=function(){var t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,listItem:this.listItem,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:this.fixedWidth},e=To("classes",Object(a.__spread)(function(t){var e,n=((e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip})["fa-"+t.size]=null!==t.size,e["fa-rotate-"+t.rotate]=null!==t.rotate,e["fa-pull-"+t.pull]=null!==t.pull,e);return Object.keys(n).map(function(t){return n[t]?t:null}).filter(function(t){return t})}(t),this.classes)),n=To("mask",xo(this.mask,this.iconService.defaultPrefix)),r="string"==typeof this.transform?function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce(function(t,e){var n=e.toLowerCase().split("-"),r=n[0],o=n.slice(1).join("-");if(r&&"h"===o)return t.flipX=!0,t;if(r&&"v"===o)return t.flipY=!0,t;if(o=parseFloat(o),isNaN(o))return t;switch(r){case"grow":t.size=t.size+o;break;case"shrink":t.size=t.size-o;break;case"left":t.x=t.x-o;break;case"right":t.x=t.x+o;break;case"up":t.y=t.y-o;break;case"down":t.y=t.y+o;break;case"rotate":t.rotate=t.rotate+o}return t},e):e}(this.transform):this.transform,o=To("transform",r);this.params=Object(a.__assign)({title:this.title},o,e,n,{styles:this.styles,symbol:this.symbol})},t.prototype.updateIcon=function(){this.icon=ko(this.iconSpec,this.params)},t.prototype.renderIcon=function(){this.iconSpec||console.error("FontAwesome: Could not find icon. It looks like you've provided a null or undefined icon object to this component."),function(t,e){e&&!t&&console.error("FontAwesome: Could not find icon with iconName="+e.iconName+" and prefix="+e.prefix)}(this.icon,this.iconSpec),this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(this.icon?this.icon.html.join("\n"):Do)},t}(),No=function(){return function(){}}(),Mo=r.nb({encapsulation:2,styles:[],data:{}});function Ro(t){return r.Eb(0,[],null,null)}var jo=function(){function t(){this.name="",this.icon_class=""}return t.getClass=function(e){return t.name_map[e]&&(e=t.name_map[e]),t.icon_class_template.replace("TEMPLATE",e)},t.prototype.ngOnInit=function(){this.icon_class=t.getClass(this.name)},t.icon_class_template="xwing-miniatures-ship xwing-miniatures-ship-TEMPLATE",t.name_map={tievnsilencer:"tiesilencer",upsilonclasscommandshuttle:"upsilonclassshuttle",mg100starfortress:"mg100starfortresssf17"},t}(),Lo=r.nb({encapsulation:0,styles:[[""]],data:{}});function Uo(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(t,e){t(e,0,0,e.component.icon_class)})}var qo=r.nb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%], .pilot-modal[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw;overflow-y:scroll}.item-box[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#400,#000,#000,#400);transition:border-top .5s ease,border-bottom .2s ease;border-top:.1em solid #800;border-bottom:.1em solid #800;margin-bottom:.25em;margin-left:.15em;padding-top:.15em;padding-bottom:.15em;position:relative;cursor:pointer}.item-box[_ngcontent-%COMP%]:hover{border-top:.1em solid red;border-bottom:.1em solid red}ion-content[_ngcontent-%COMP%], ion-footer[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]{--ion-background-color:white}.pilot-modal[_ngcontent-%COMP%]{overflow-y:scroll;height:100%}.left-column[_ngcontent-%COMP%]{height:100%;width:40%;display:inline-block;vertical-align:top}.left-column.expand[_ngcontent-%COMP%]{width:100%;vertical-align:top}.right-column[_ngcontent-%COMP%]{width:60%;height:100%;padding-left:1em;display:inline-block}.left-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative}.left-column[_ngcontent-%COMP%]   div.expand[_ngcontent-%COMP%]{width:100%;height:100%;font-size:3em}.hidden[_ngcontent-%COMP%]{visibility:hidden}.expand.maneuver-chart[_ngcontent-%COMP%], .expand.maneuver-chart-phone[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0}.pilot-art[_ngcontent-%COMP%]{display:inline-block}.pilot-art-container[_ngcontent-%COMP%], .pilot-art-container-phone-landscape[_ngcontent-%COMP%], .pilot-art-container-phone-portrait[_ngcontent-%COMP%], .pilot-art-container-tablet[_ngcontent-%COMP%], .pilot-art-container-tablet-portrait[_ngcontent-%COMP%]{display:block;width:100%}.pilot-art-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .pilot-art-container-phone-landscape[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .pilot-art-container-phone-portrait[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .pilot-art-container-tablet[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .pilot-art-container-tablet-portrait[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.pilot-art-container-phone-portrait[_ngcontent-%COMP%]{display:block;width:100%}.token-box[_ngcontent-%COMP%], .token-box-phone-landscape[_ngcontent-%COMP%], .token-box-phone-portrait[_ngcontent-%COMP%], .token-box-tablet[_ngcontent-%COMP%], .token-box-tablet-portrait[_ngcontent-%COMP%]{font-size:1em}.token-box-phone-portrait[_ngcontent-%COMP%]{width:100%;font-size:2.5vh}.token-box-phone-landscape[_ngcontent-%COMP%]{font-size:2.5vw}.token-set[_ngcontent-%COMP%]{font-size:4em;overflow:wrap;line-height:1em;vertical-align:top}.tab-icon[_ngcontent-%COMP%]{font-size:2vh}.damage-cards[_ngcontent-%COMP%], .damage-cards-phone-landscape[_ngcontent-%COMP%], .damage-cards-phone-portrait[_ngcontent-%COMP%], .damage-cards-tablet[_ngcontent-%COMP%], .damage-cards-tablet-portrait[_ngcontent-%COMP%]{width:100%}.damage-buttons[_ngcontent-%COMP%], .damage-buttons-phone-landscape[_ngcontent-%COMP%], .damage-buttons-tablet[_ngcontent-%COMP%], .damage-buttons-tablet-portrait[_ngcontent-%COMP%]{display:inherit}.damage-buttons-phone-portrait[_ngcontent-%COMP%]{display:none}.card-text[_ngcontent-%COMP%]{font-size:2vh;color:#fff}.card-expander[_ngcontent-%COMP%]{margin-left:-1vw;position:absolute;width:100%;bottom:0}.card-expander-more[_ngcontent-%COMP%]{width:100%;text-align:center;color:gray;font-size:.3em}.dial-name[_ngcontent-%COMP%]{color:#fff;margin-bottom:1em;text-align:center}.maneuver-chart[_ngcontent-%COMP%], .maneuver-chart-phone[_ngcontent-%COMP%]{width:100%;text-align:center;height:6.5em;background-color:#212020}.maneuver-chart[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .maneuver-chart-phone[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.maneuver-chart[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .maneuver-chart[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .maneuver-chart-phone[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .maneuver-chart-phone[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:12%}.maneuver-chart-phone[_ngcontent-%COMP%]{font-size:2em}.blue[_ngcontent-%COMP%], .maneuver-icon[_ngcontent-%COMP%], .red[_ngcontent-%COMP%], .white[_ngcontent-%COMP%]{display:inline-block;text-align:center}.white[_ngcontent-%COMP%]{color:#fff}.blue[_ngcontent-%COMP%]{color:#77f}.red[_ngcontent-%COMP%]{color:red}.ship-icon[_ngcontent-%COMP%]{font-size:4vh}.pilot-modal[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 .2vh #282828;border-radius:.2vh;background-color:#282828}.pilot-modal[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5vh;background-color:#282828}.pilot-modal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:.2vh;-webkit-box-shadow:inset 0 0 .2vh rgba(0,0,0,.3);background-color:#555}"]],data:{}});function Fo(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"xwing-icon",[],null,null,null,g,p)),r.ob(2,114688,null,0,d,[],{name:[0,"name"]},null),(t()(),r.Db(3,null,[" \xa0"," "]))],function(t,e){t(e,2,0,"token-lock")},function(t,e){t(e,3,0,e.component.pilot.idNumber)})}function Vo(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,0,"img",[["class","pilot-art"]],[[8,"src",4]],null,null,null,null))],null,function(t,e){t(e,0,0,e.component.img_url)})}function Bo(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"div",[],[[8,"className",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleCard()&&r),r},null,null)),(t()(),r.gb(16777216,null,null,1,null,Vo)),r.ob(2,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,e.component.img_url)},function(t,e){var n=e.component;t(e,0,0,"item-box pilot-art-container"+n.layout.getClass()+" "+n.cardExpandClass())})}function zo(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"span",[["class","white"]],null,null,null,null,null)),(t()(),r.Db(-1,null,[" \xa0 "]))],null,null)}function Ho(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"span",[],[[8,"className",0]],null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"xwing-icon",[],null,null,null,g,p)),r.ob(2,114688,null,0,d,[],{name:[0,"name"]},null)],function(t,e){t(e,2,0,e.parent.context.$implicit.name)},function(t,e){t(e,0,0,e.parent.context.$implicit.difficulty)})}function Go(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,zo)),r.ob(2,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Ho)),r.ob(4,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,!e.context.$implicit),t(e,4,0,e.context.$implicit)},null)}function Wo(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"th",[["class","white"]],null,null,null,null,null)),(t()(),r.Db(2,null,["",""])),(t()(),r.gb(16777216,null,null,1,null,Go)),r.ob(4,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,4,0,e.context.$implicit.maneuvers)},function(t,e){t(e,2,0,e.context.$implicit.speed)})}function Ko(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,4,"div",[],[[8,"className",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleDial()&&r),r},null,null)),(t()(),r.pb(1,0,null,null,3,"table",[],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,Wo)),r.ob(4,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,4,0,e.component.maneuverChart)},function(t,e){t(e,0,0,"item-box maneuver-chart "+e.component.dialExpandClass())})}function Qo(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-token-display",[["class","token-set"]],null,[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.changeShields(n)&&r),r},nr,$n)),r.ob(1,114688,null,0,Zn,[],{name:[0,"name"],remaining:[1,"remaining"],maximum:[2,"maximum"],readonly:[3,"readonly"]},{change:"change"})],function(t,e){var n=e.component;t(e,1,0,"shield",n.pilot.shields,n.shieldTotal,n.state.readonly(n.squadronUUID))},null)}function Jo(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-token-display",[["class","token-set"]],null,[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.changeCharges(n)&&r),r},nr,$n)),r.ob(1,114688,null,0,Zn,[],{name:[0,"name"],remaining:[1,"remaining"],maximum:[2,"maximum"],readonly:[3,"readonly"]},{change:"change"})],function(t,e){var n=e.component;t(e,1,0,"charge",n.pilot.charges,n.chargeTotal,n.state.readonly(n.squadronUUID))},null)}function Xo(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-token-display",[["class","token-set"]],null,[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.changeForce(n)&&r),r},nr,$n)),r.ob(1,114688,null,0,Zn,[],{name:[0,"name"],remaining:[1,"remaining"],maximum:[2,"maximum"],readonly:[3,"readonly"]},{change:"change"})],function(t,e){var n=e.component;t(e,1,0,"force",n.pilot.force,n.forceTotal,n.state.readonly(n.squadronUUID))},null)}function Yo(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-condition",[],null,null,null,ur,sr)),r.ob(1,114688,null,0,ar,[yt,i.Jb,se],{squadronUUID:[0,"squadronUUID"],pilotUUID:[1,"pilotUUID"],cardIndex:[2,"cardIndex"]},null)],function(t,e){var n=e.component;t(e,1,0,n.squadronUUID,n.pilotUUID,e.context.index)},null)}function Zo(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-damage-card",[],null,null,null,pr,cr)),r.ob(1,114688,null,0,lr,[i.Jb,se],{cardIndex:[0,"cardIndex"],pilotUUID:[1,"pilotUUID"],squadronUUID:[2,"squadronUUID"]},null)],function(t,e){var n=e.component;t(e,1,0,e.context.index,n.pilotUUID,n.squadronUUID)},null)}function $o(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,12,"div",[["class","right-column"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,6,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,Qo)),r.ob(3,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Jo)),r.ob(5,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Xo)),r.ob(7,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(8,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,Yo)),r.ob(10,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.gb(16777216,null,null,1,null,Zo)),r.ob(12,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.shieldTotal>0),t(e,5,0,n.chargeTotal>0),t(e,7,0,n.forceTotal>0),t(e,10,0,n.pilot.conditions),t(e,12,0,n.pilot.damagecards)},function(t,e){var n=e.component;t(e,1,0,"token-box"+n.layout.getClass()),t(e,8,0,"damage-cards"+n.layout.getClass())})}function ti(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,7,"div",[["class","pilot-modal"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,Bo)),r.ob(3,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Ko)),r.ob(5,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,$o)),r.ob(7,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.showCard()),t(e,5,0,n.showDial()),t(e,7,0,n.showRightColumn())},function(t,e){t(e,1,0,"left-column "+e.component.leftExpandClass())})}function ei(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-token-display",[["class","token-set"]],null,[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.changeShields(n)&&r),r},nr,$n)),r.ob(1,114688,null,0,Zn,[],{name:[0,"name"],remaining:[1,"remaining"],maximum:[2,"maximum"],readonly:[3,"readonly"]},{change:"change"})],function(t,e){var n=e.component;t(e,1,0,"shield",n.pilot.shields,n.shieldTotal,n.state.readonly(n.squadronUUID))},null)}function ni(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-token-display",[["class","token-set"]],null,[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.changeCharges(n)&&r),r},nr,$n)),r.ob(1,114688,null,0,Zn,[],{name:[0,"name"],remaining:[1,"remaining"],maximum:[2,"maximum"],readonly:[3,"readonly"]},{change:"change"})],function(t,e){var n=e.component;t(e,1,0,"charge",n.pilot.charges,n.chargeTotal,n.state.readonly(n.squadronUUID))},null)}function ri(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-token-display",[["class","token-set"]],null,[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.changeForce(n)&&r),r},nr,$n)),r.ob(1,114688,null,0,Zn,[],{name:[0,"name"],remaining:[1,"remaining"],maximum:[2,"maximum"],readonly:[3,"readonly"]},{change:"change"})],function(t,e){var n=e.component;t(e,1,0,"force",n.pilot.force,n.forceTotal,n.state.readonly(n.squadronUUID))},null)}function oi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-condition",[],null,null,null,ur,sr)),r.ob(1,114688,null,0,ar,[yt,i.Jb,se],{squadronUUID:[0,"squadronUUID"],pilotUUID:[1,"pilotUUID"],cardIndex:[2,"cardIndex"]},null)],function(t,e){var n=e.component;t(e,1,0,n.squadronUUID,n.pilotUUID,e.context.index)},null)}function ii(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-damage-card",[],null,null,null,pr,cr)),r.ob(1,114688,null,0,lr,[i.Jb,se],{cardIndex:[0,"cardIndex"],pilotUUID:[1,"pilotUUID"],squadronUUID:[2,"squadronUUID"]},null)],function(t,e){var n=e.component;t(e,1,0,e.context.index,n.pilotUUID,n.squadronUUID)},null)}function ai(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,0,"img",[["class","pilot-art"]],[[8,"src",4]],null,null,null,null))],null,function(t,e){t(e,0,0,e.component.img_url)})}function si(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,ai)),r.ob(2,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,e.component.img_url)},function(t,e){t(e,0,0,"pilot-art-container"+e.component.layout.getClass())})}function ui(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"span",[["class","white"]],null,null,null,null,null)),(t()(),r.Db(-1,null,[" \xa0 "]))],null,null)}function li(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"span",[],[[8,"className",0]],null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"xwing-icon",[],null,null,null,g,p)),r.ob(2,114688,null,0,d,[],{name:[0,"name"]},null)],function(t,e){t(e,2,0,e.parent.context.$implicit.name)},function(t,e){t(e,0,0,e.parent.context.$implicit.difficulty)})}function ci(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,ui)),r.ob(2,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,li)),r.ob(4,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,!e.context.$implicit),t(e,4,0,e.context.$implicit)},null)}function hi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"th",[["class","white"]],null,null,null,null,null)),(t()(),r.Db(2,null,["",""])),(t()(),r.gb(16777216,null,null,1,null,ci)),r.ob(4,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,4,0,e.context.$implicit.maneuvers)},function(t,e){t(e,2,0,e.context.$implicit.speed)})}function fi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,4,"div",[["class","maneuver-chart-phone"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,3,"table",[],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,hi)),r.ob(4,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,4,0,e.component.maneuverChart)},null)}function di(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,17,"div",[["class","pilot-modal"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,12,"div",[],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,6,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,ei)),r.ob(4,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,ni)),r.ob(6,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,ri)),r.ob(8,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(9,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,oi)),r.ob(11,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.gb(16777216,null,null,1,null,ii)),r.ob(13,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.gb(16777216,null,null,1,null,si)),r.ob(15,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,fi)),r.ob(17,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,4,0,n.shieldTotal>0),t(e,6,0,n.chargeTotal>0),t(e,8,0,n.forceTotal>0),t(e,11,0,n.pilot.conditions),t(e,13,0,n.pilot.damagecards),t(e,15,0,n.showCard()),t(e,17,0,n.showDial())},function(t,e){var n=e.component;t(e,2,0,"token-box"+n.layout.getClass()),t(e,9,0,"damage-cards"+n.layout.getClass())})}function pi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,4,"ion-button",[["color","tertiary"],["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.expandToggle()&&r),r},f.y,f.c)),r.ob(1,49152,null,0,i.j,[r.h,r.k],{color:[0,"color"],expand:[1,"expand"]},null),(t()(),r.Db(-1,0,[" More\xa0 "])),(t()(),r.pb(3,0,null,0,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,Ro,Mo)),r.ob(4,573440,null,0,Ao,[gt.b,Po],{iconProp:[0,"iconProp"]},null)],function(t,e){var n=e.component;t(e,1,0,"tertiary","full"),t(e,4,0,n.faChevronCircleUp)},function(t,e){t(e,3,0,r.zb(e,4).renderedIconHTML)})}function gi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,37,"div",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.assignIdNumber()&&r),r},f.y,f.c)),r.ob(2,49152,null,0,i.j,[r.h,r.k],{expand:[0,"expand"]},null),(t()(),r.Db(-1,0,["Assign Ship ID"])),(t()(),r.pb(4,0,null,null,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showConditionMenu()&&r),r},f.y,f.c)),r.ob(5,49152,null,0,i.j,[r.h,r.k],{expand:[0,"expand"]},null),(t()(),r.Db(-1,0,["Assign Condition"])),(t()(),r.pb(7,0,null,null,4,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.assignCrit()&&r),r},f.y,f.c)),r.ob(8,49152,null,0,i.j,[r.h,r.k],{expand:[0,"expand"]},null),(t()(),r.Db(-1,0,["Assign "])),(t()(),r.pb(10,0,null,0,1,"xwing-icon",[],null,null,null,g,p)),r.ob(11,114688,null,0,d,[],{name:[0,"name"]},null),(t()(),r.pb(12,0,null,null,4,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.exposeRandomHit()&&r),r},f.y,f.c)),r.ob(13,49152,null,0,i.j,[r.h,r.k],{disabled:[0,"disabled"],expand:[1,"expand"]},null),(t()(),r.Db(-1,0,[" Expose Random "])),(t()(),r.pb(15,0,null,0,1,"xwing-icon",[],null,null,null,g,p)),r.ob(16,114688,null,0,d,[],{name:[0,"name"]},null),(t()(),r.pb(17,0,null,null,4,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.thaneKyrell()&&r),r},f.y,f.c)),r.ob(18,49152,null,0,i.j,[r.h,r.k],{disabled:[0,"disabled"],expand:[1,"expand"]},null),(t()(),r.Db(-1,0,[" Thane Kyrell\xa0"])),(t()(),r.pb(20,0,null,0,1,"xwing-ship",[["class","ship-icon"]],null,null,null,Uo,Lo)),r.ob(21,114688,null,0,jo,[],{name:[0,"name"]},null),(t()(),r.pb(22,0,null,null,4,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.maarekStele()&&r),r},f.y,f.c)),r.ob(23,49152,null,0,i.j,[r.h,r.k],{expand:[0,"expand"]},null),(t()(),r.Db(-1,0,[" Maarek Stele\xa0"])),(t()(),r.pb(25,0,null,0,1,"xwing-ship",[["class","ship-icon"]],null,null,null,Uo,Lo)),r.ob(26,114688,null,0,jo,[],{name:[0,"name"]},null),(t()(),r.pb(27,0,null,null,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.fleeShip()&&r),r},f.y,f.c)),r.ob(28,49152,null,0,i.j,[r.h,r.k],{expand:[0,"expand"]},null),(t()(),r.Db(-1,0,["Remove Ship (Flee)"])),(t()(),r.pb(30,0,null,null,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.recycleDamageCards()&&r),r},f.y,f.c)),r.ob(31,49152,null,0,i.j,[r.h,r.k],{disabled:[0,"disabled"],expand:[1,"expand"]},null),(t()(),r.Db(-1,0,["Recycle Damage Cards"])),(t()(),r.pb(33,0,null,null,4,"ion-button",[["color","tertiary"],["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.expandToggle()&&r),r},f.y,f.c)),r.ob(34,49152,null,0,i.j,[r.h,r.k],{color:[0,"color"],expand:[1,"expand"]},null),(t()(),r.Db(-1,0,[" Less \xa0 "])),(t()(),r.pb(36,0,null,0,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,Ro,Mo)),r.ob(37,573440,null,0,Ao,[gt.b,Po],{iconProp:[0,"iconProp"]},null)],function(t,e){var n=e.component;t(e,2,0,"full"),t(e,5,0,"full"),t(e,8,0,"full"),t(e,11,0,"crit"),t(e,13,0,!n.hitCardAvailable(),"full"),t(e,16,0,"hit"),t(e,18,0,!n.hitCardAvailable(),"full"),t(e,21,0,"t65xwing"),t(e,23,0,"full"),t(e,26,0,"tieadvancedx1"),t(e,28,0,"full"),t(e,31,0,!n.recycleAvailable(),"full"),t(e,34,0,"tertiary","full"),t(e,37,0,n.faChevronCircleDown)},function(t,e){t(e,36,0,r.zb(e,37).renderedIconHTML)})}function mi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,17,"ion-footer",[],null,null,null,f.E,f.i)),r.ob(1,49152,null,0,i.y,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,15,"ion-toolbar",[],null,null,null,f.R,f.v)),r.ob(3,49152,null,0,i.Ab,[r.h,r.k],null,null),(t()(),r.pb(4,0,null,0,4,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.drawHit()&&r),r},f.y,f.c)),r.ob(5,49152,null,0,i.j,[r.h,r.k],{expand:[0,"expand"]},null),(t()(),r.Db(-1,0,["Draw"])),(t()(),r.pb(7,0,null,0,1,"xwing-icon",[],null,null,null,g,p)),r.ob(8,114688,null,0,d,[],{name:[0,"name"]},null),(t()(),r.pb(9,0,null,0,4,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.drawCrit()&&r),r},f.y,f.c)),r.ob(10,49152,null,0,i.j,[r.h,r.k],{expand:[0,"expand"]},null),(t()(),r.Db(-1,0,["Draw"])),(t()(),r.pb(12,0,null,0,1,"xwing-icon",[],null,null,null,g,p)),r.ob(13,114688,null,0,d,[],{name:[0,"name"]},null),(t()(),r.gb(16777216,null,0,1,null,pi)),r.ob(15,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,0,1,null,gi)),r.ob(17,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,5,0,"full"),t(e,8,0,"hit"),t(e,10,0,"full"),t(e,13,0,"crit"),t(e,15,0,!n.expanded),t(e,17,0,n.expanded)},null)}function vi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,14,"ion-header",[],null,null,null,f.F,f.j)),r.ob(1,49152,null,0,i.A,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,12,"ion-toolbar",[],null,null,null,f.R,f.v)),r.ob(3,49152,null,0,i.Ab,[r.h,r.k],null,null),(t()(),r.pb(4,0,null,0,5,"ion-buttons",[["slot","start"]],null,null,null,f.z,f.d)),r.ob(5,49152,null,0,i.k,[r.h,r.k],null,null),(t()(),r.pb(6,0,null,0,3,"ion-button",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.dismiss()&&r),r},f.y,f.c)),r.ob(7,49152,null,0,i.j,[r.h,r.k],null,null),(t()(),r.pb(8,0,null,0,1,"ion-icon",[["name","arrow-back"]],null,null,null,f.G,f.k)),r.ob(9,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null),(t()(),r.pb(10,0,null,0,4,"ion-title",[],null,null,null,f.Q,f.u)),r.ob(11,49152,null,0,i.yb,[r.h,r.k],null,null),(t()(),r.Db(12,0,["","\xa0 "])),(t()(),r.gb(16777216,null,0,1,null,Fo)),r.ob(14,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(15,0,null,null,5,"ion-content",[["padding",""]],null,null,null,f.A,f.e)),r.ob(16,49152,null,0,i.t,[r.h,r.k],null,null),(t()(),r.gb(16777216,null,0,1,null,ti)),r.ob(18,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,0,1,null,di)),r.ob(20,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,mi)),r.ob(22,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,9,0,"arrow-back"),t(e,14,0,n.pilot.idNumber),t(e,18,0,!n.layout.getClass().includes("phone")||"-phone-landscape"==n.layout.getClass()),t(e,20,0,"-phone-portrait"==n.layout.getClass()),t(e,22,0,!n.state.readonly(n.squadronUUID)&&n.showFooter())},function(t,e){t(e,12,0,e.component.data.name)})}function yi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"app-pilot-modal",[],null,null,null,vi,qo)),r.ob(1,114688,null,0,Ne,[i.Mb,i.Jb,yt,se,i.d,r.z,i.Fb,bt,be.a,m.f,oe],null,null)],function(t,e){t(e,1,0)},null)}var bi=r.lb("app-pilot-modal",Ne,yi,{},{},[]),wi=r.nb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw;overflow-y:scroll}.item-box[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#400,#000,#000,#400);transition:border-top .5s ease,border-bottom .2s ease;border-top:.1em solid #800;border-bottom:.1em solid #800;margin-bottom:.25em;margin-left:.15em;padding-top:.15em;padding-bottom:.15em;position:relative;cursor:pointer}.item-box[_ngcontent-%COMP%]:hover{border-top:.1em solid red;border-bottom:.1em solid red}ion-content[_ngcontent-%COMP%], ion-footer[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]{--ion-background-color:white}.token-set[_ngcontent-%COMP%], .token-set-phone-landscape[_ngcontent-%COMP%], .token-set-phone-portrait[_ngcontent-%COMP%], .token-set-tablet[_ngcontent-%COMP%], .token-set-tablet-portrait[_ngcontent-%COMP%]{width:100%;font-size:8vh;text-align:center}.token-set-phone-landscape[_ngcontent-%COMP%]{font-size:10vw}.card-text[_ngcontent-%COMP%]{font-size:2vh;color:#fff}"]],data:{}});function _i(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"ion-button",[["color","primary"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.flipCard()&&r),r},f.y,f.c)),r.ob(1,49152,null,0,i.j,[r.h,r.k],{color:[0,"color"]},null),(t()(),r.Db(-1,0,["Flip"]))],function(t,e){t(e,1,0,"primary")},null)}function Ci(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,3,"ion-buttons",[["slot","primary"]],null,null,null,f.z,f.d)),r.ob(1,49152,null,0,i.k,[r.h,r.k],null,null),(t()(),r.gb(16777216,null,0,1,null,_i)),r.ob(3,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,!n.state.readonly(n.squadronUUID)&&n.upgrade.sides.length>1)},null)}function Si(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,1,0,n.img_urls[n.upgrade.side])})}function Ei(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"xws-token-display",[],null,[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.chargeChange(n)&&r),r},nr,$n)),r.ob(2,114688,null,0,Zn,[],{name:[0,"name"],remaining:[1,"remaining"],maximum:[2,"maximum"],readonly:[3,"readonly"]},{change:"change"})],function(t,e){var n=e.component;t(e,2,0,"charge",n.upgrade.charges,n.chargeMax,n.state.readonly(n.squadronUUID))},function(t,e){t(e,0,0,"token-set"+e.component.layout.getClass())})}function Oi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"ion-button",[["color","primary"],["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.flipCard()&&r),r},f.y,f.c)),r.ob(1,49152,null,0,i.j,[r.h,r.k],{color:[0,"color"],expand:[1,"expand"]},null),(t()(),r.Db(-1,0,["Flip"]))],function(t,e){t(e,1,0,"primary","full")},null)}function Ii(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,Oi)),r.ob(2,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,e.component.upgrade.sides.length>1)},null)}function ki(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,14,"ion-header",[],null,null,null,f.F,f.j)),r.ob(1,49152,null,0,i.A,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,12,"ion-toolbar",[],null,null,null,f.R,f.v)),r.ob(3,49152,null,0,i.Ab,[r.h,r.k],null,null),(t()(),r.pb(4,0,null,0,5,"ion-buttons",[["slot","start"]],null,null,null,f.z,f.d)),r.ob(5,49152,null,0,i.k,[r.h,r.k],null,null),(t()(),r.pb(6,0,null,0,3,"ion-button",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.dismiss()&&r),r},f.y,f.c)),r.ob(7,49152,null,0,i.j,[r.h,r.k],null,null),(t()(),r.pb(8,0,null,0,1,"ion-icon",[["name","arrow-back"]],null,null,null,f.G,f.k)),r.ob(9,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null),(t()(),r.gb(16777216,null,0,1,null,Ci)),r.ob(11,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(12,0,null,0,2,"ion-title",[],null,null,null,f.Q,f.u)),r.ob(13,49152,null,0,i.yb,[r.h,r.k],null,null),(t()(),r.Db(14,0,["",""])),(t()(),r.pb(15,0,null,null,8,"ion-content",[["padding",""]],null,null,null,f.A,f.e)),r.ob(16,49152,null,0,i.t,[r.h,r.k],null,null),(t()(),r.pb(17,0,null,0,6,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,Si)),r.ob(19,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Ei)),r.ob(21,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Ii)),r.ob(23,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,9,0,"arrow-back"),t(e,11,0,!n.layout.isPhone()),t(e,19,0,n.img_urls[n.upgrade.side]),t(e,21,0,n.chargeMax>0),t(e,23,0,n.layout.isPhone())},function(t,e){var n=e.component;t(e,14,0,n.sides[n.upgrade.side].name)})}function xi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"app-upgrade-modal",[],null,null,null,ki,wi)),r.ob(1,114688,null,0,ue,[yt,i.Fb,bt,be.a,se,be.m,m.f,i.d],null,null)],function(t,e){t(e,1,0)},null)}var Ti=r.lb("app-upgrade-modal",ue,xi,{},{},[]),Di=n("gIcY"),Pi=r.nb({encapsulation:0,styles:[["ion-content[_ngcontent-%COMP%], ion-footer[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]{--ion-background-color:white}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}"]],data:{}});function Ai(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,12,"ion-header",[],null,null,null,f.F,f.j)),r.ob(1,49152,null,0,i.A,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,10,"ion-toolbar",[],null,null,null,f.R,f.v)),r.ob(3,49152,null,0,i.Ab,[r.h,r.k],null,null),(t()(),r.pb(4,0,null,0,5,"ion-buttons",[["slot","start"]],null,null,null,f.z,f.d)),r.ob(5,49152,null,0,i.k,[r.h,r.k],null,null),(t()(),r.pb(6,0,null,0,3,"ion-button",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.cancel()&&r),r},f.y,f.c)),r.ob(7,49152,null,0,i.j,[r.h,r.k],null,null),(t()(),r.pb(8,0,null,0,1,"ion-icon",[["name","arrow-back"]],null,null,null,f.G,f.k)),r.ob(9,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null),(t()(),r.pb(10,0,null,0,2,"ion-title",[],null,null,null,f.Q,f.u)),r.ob(11,49152,null,0,i.yb,[r.h,r.k],null,null),(t()(),r.Db(-1,0,[" Import a Squadron "])),(t()(),r.pb(13,0,null,null,40,"ion-content",[["padding",""]],null,null,null,f.A,f.e)),r.ob(14,49152,null,0,i.t,[r.h,r.k],null,null),(t()(),r.pb(15,0,null,0,38,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.Db(-1,null,[" You can import squadron data from: "])),(t()(),r.pb(17,0,null,null,19,"ul",[],null,null,null,null,null)),(t()(),r.pb(18,0,null,null,6,"li",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["YASB 2.0 URL"])),(t()(),r.pb(20,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(21,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["https://raithos.github.io/..."])),(t()(),r.pb(23,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(24,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(25,0,null,null,6,"li",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["FFG SquadBuilder URLs"])),(t()(),r.pb(27,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(28,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["https://squadbuilder.fantasyflightgames.com/..."])),(t()(),r.pb(30,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(31,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(32,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["XWS Data"])),(t()(),r.pb(34,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(35,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),r.Db(36,null,['"','"faction" : "rebelalliance", "name" : "My Squadron" ... ',""])),(t()(),r.pb(37,0,null,null,2,"ion-label",[["position","stacked"]],null,null,null,f.J,f.n)),r.ob(38,49152,null,0,i.M,[r.h,r.k],{position:[0,"position"]},null),(t()(),r.Db(-1,0,["Paste XWS squadron data or URL here"])),(t()(),r.pb(40,0,null,null,6,"ion-textarea",[["placeholder",'https://squadbuilder.fantasyflightgames.com ---\n      https:/raithos.github.io ---\n      {"faction":"rebelalliance","name":"My Squadron"}']],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionChange"],[null,"ngModelChange"],[null,"ionBlur"]],function(t,e,n){var o=!0,i=t.component;return"ionBlur"===e&&(o=!1!==r.zb(t,41)._handleBlurEvent()&&o),"ionChange"===e&&(o=!1!==r.zb(t,41)._handleInputEvent(n.target.value)&&o),"ionChange"===e&&(o=!1!==i.textChange(n)&&o),"ngModelChange"===e&&(o=!1!==(i.text=n)&&o),o},f.P,f.t)),r.ob(41,16384,null,0,i.Lb,[r.k],null,null),r.Ab(1024,null,Di.b,function(t){return[t]},[i.Lb]),r.ob(43,671744,null,0,Di.e,[[8,null],[8,null],[8,null],[6,Di.b]],{model:[0,"model"]},{update:"ngModelChange"}),r.Ab(2048,null,Di.c,null,[Di.e]),r.ob(45,16384,null,0,Di.d,[[4,Di.c]],null,null),r.ob(46,49152,null,0,i.wb,[r.h,r.k],{placeholder:[0,"placeholder"]},null),(t()(),r.pb(47,0,null,null,6,"div",[["class","button-container"]],null,null,null,null,null)),(t()(),r.pb(48,0,null,null,2,"ion-button",[["color","light"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.cancel()&&r),r},f.y,f.c)),r.ob(49,49152,null,0,i.j,[r.h,r.k],{color:[0,"color"]},null),(t()(),r.Db(-1,0,["Cancel"])),(t()(),r.pb(51,0,null,null,2,"ion-button",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.ok()&&r),r},f.y,f.c)),r.ob(52,49152,null,0,i.j,[r.h,r.k],{disabled:[0,"disabled"]},null),(t()(),r.Db(-1,0,["OK"]))],function(t,e){var n=e.component;t(e,9,0,"arrow-back"),t(e,38,0,"stacked"),t(e,43,0,n.text),t(e,46,0,'https://squadbuilder.fantasyflightgames.com ---\n      https:/raithos.github.io ---\n      {"faction":"rebelalliance","name":"My Squadron"}'),t(e,49,0,"light"),t(e,52,0,!n.dataValid)},function(t,e){t(e,36,0,"{","}"),t(e,40,0,r.zb(e,45).ngClassUntouched,r.zb(e,45).ngClassTouched,r.zb(e,45).ngClassPristine,r.zb(e,45).ngClassDirty,r.zb(e,45).ngClassValid,r.zb(e,45).ngClassInvalid,r.zb(e,45).ngClassPending)})}function Ni(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"app-xws-modal",[],null,null,null,Ai,Pi)),r.ob(1,114688,null,0,nn,[i.Fb,i.Ib],null,null)],function(t,e){t(e,1,0)},null)}var Mi=r.lb("app-xws-modal",nn,Ni,{},{},[]),Ri=r.nb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw;overflow-y:scroll}.item-box[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#400,#000,#000,#400);transition:border-top .5s ease,border-bottom .2s ease;border-top:.1em solid #800;border-bottom:.1em solid #800;margin-bottom:.25em;margin-left:.15em;padding-top:.15em;padding-bottom:.15em;position:relative;cursor:pointer}.item-box[_ngcontent-%COMP%]:hover{border-top:.1em solid red;border-bottom:.1em solid red}ion-content[_ngcontent-%COMP%], ion-footer[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]{--ion-background-color:white}.faction[_ngcontent-%COMP%], .firstorder[_ngcontent-%COMP%], .galacticempire[_ngcontent-%COMP%], .galacticrepublic[_ngcontent-%COMP%], .rebelalliance[_ngcontent-%COMP%], .resistance[_ngcontent-%COMP%], .scumandvillainy[_ngcontent-%COMP%], .separatistalliance[_ngcontent-%COMP%]{padding:.1em}.rebelalliance[_ngcontent-%COMP%]{color:red;background-color:#d3d3d3}.galacticempire[_ngcontent-%COMP%]{color:#fff;background-color:#00f}.scumandvillainy[_ngcontent-%COMP%]{color:#fff;background-color:brown}.resistance[_ngcontent-%COMP%]{color:orange;background-color:#2f4f4f}.firstorder[_ngcontent-%COMP%]{color:red;background-color:#2f4f4f}.galacticrepublic[_ngcontent-%COMP%]{color:#8b0000;background-color:#fafad2}.separatistalliance[_ngcontent-%COMP%]{color:#00008b;background-color:#d3d3d3}ion-icon.clickable[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.offline[_ngcontent-%COMP%]{color:#d3d3d3!important;background-color:inherit!important;border:1px solid #d3d3d3;padding:.1em}ion-avatar[_ngcontent-%COMP%]   xwing-icon[_ngcontent-%COMP%]{font-size:1.75em}ion-avatar[_ngcontent-%COMP%]   xwing-ship[_ngcontent-%COMP%]{font-size:2.25em}.squadron-icon[_ngcontent-%COMP%]{width:100%;position:relative;display:inline-block;text-align:center}.squadron-icon[_ngcontent-%COMP%]   xwing-icon[_ngcontent-%COMP%], .squadron-icon[_ngcontent-%COMP%]   xwing-ship[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.squadron-link[_ngcontent-%COMP%]{cursor:pointer}.squadron-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]],data:{}});function ji(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,12,"ion-item",[],null,null,null,f.I,f.m)),r.ob(1,49152,null,0,i.G,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,2,"ion-avatar",[["slot","start"]],null,null,null,f.x,f.b)),r.ob(3,49152,null,0,i.f,[r.h,r.k],null,null),(t()(),r.pb(4,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(t()(),r.pb(5,0,null,0,5,"ion-label",[],null,null,null,f.J,f.n)),r.ob(6,49152,null,0,i.M,[r.h,r.k],null,null),(t()(),r.pb(7,0,null,0,1,"h2",[],null,null,null,null,null)),(t()(),r.Db(8,null,["Signed in as ",""])),(t()(),r.pb(9,0,null,0,1,"p",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["Logging out will end squadron syncing."])),(t()(),r.pb(11,0,null,0,1,"ion-icon",[["name","log-out"],["slot","end"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.logout()&&r),r},f.G,f.k)),r.ob(12,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null)],function(t,e){t(e,12,0,"log-out")},function(t,e){var n=e.component;t(e,4,0,r.rb(1,"",n.firebase.user.photoURL,"")),t(e,8,0,n.firebase.user.email)})}function Li(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,9,"ion-item",[],null,null,null,f.I,f.m)),r.ob(1,49152,null,0,i.G,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,5,"ion-label",[],null,null,null,f.J,f.n)),r.ob(3,49152,null,0,i.M,[r.h,r.k],null,null),(t()(),r.pb(4,0,null,0,1,"h2",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["Sign in with Google"])),(t()(),r.pb(6,0,null,0,1,"p",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["Your squadrons will be synced and viewable to others."])),(t()(),r.pb(8,0,null,0,1,"ion-icon",[["name","log-in"],["slot","end"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.login()&&r),r},f.G,f.k)),r.ob(9,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null)],function(t,e){t(e,9,0,"log-in")},null)}function Ui(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,3,"ion-item",[],null,null,null,f.I,f.m)),r.ob(1,49152,null,0,i.G,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,1,"i",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["None. Import a squadron - it will automatically cloud sync."]))],null,null)}function qi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"ion-icon",[["class","clickable"],["name","cloud-download"],["slot","end"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.importSquadron(t.parent.context.$implicit)&&r),r},f.G,f.k)),r.ob(1,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null)],function(t,e){t(e,1,0,"cloud-download")},null)}function Fi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,15,"ion-item",[],null,null,null,f.I,f.m)),r.ob(1,49152,null,0,i.G,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,4,"ion-avatar",[["slot","start"]],null,null,null,f.x,f.b)),r.ob(3,49152,null,0,i.f,[r.h,r.k],null,null),(t()(),r.pb(4,0,null,0,2,"span",[["class","squadron-icon"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,1,"xwing-icon",[],[[8,"className",0]],null,null,g,p)),r.ob(6,114688,null,0,d,[],{name:[0,"name"]},null),(t()(),r.pb(7,0,null,0,2,"ion-label",[],null,null,null,f.J,f.n)),r.ob(8,49152,null,0,i.M,[r.h,r.k],null,null),(t()(),r.Db(9,0,[" "," "])),(t()(),r.gb(16777216,null,0,1,null,qi)),r.ob(11,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(12,0,null,0,1,"ion-icon",[["class","clickable"],["name","share"],["slot","end"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.share(t.context.$implicit.uuid)&&r),r},f.G,f.k)),r.ob(13,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null),(t()(),r.pb(14,0,null,0,1,"ion-icon",[["class","clickable"],["name","close-circle"],["slot","end"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.deleteSquadron(t.context.$implicit)&&r),r},f.G,f.k)),r.ob(15,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null)],function(t,e){var n=e.component;t(e,6,0,e.context.$implicit.faction),t(e,11,0,!n.isLocalSquadron(e.context.$implicit.uuid)),t(e,13,0,"share"),t(e,15,0,"close-circle")},function(t,e){t(e,5,0,e.component.getSquadronClass(e.context.$implicit)),t(e,9,0,e.context.$implicit.name)})}function Vi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,12,"ion-header",[],null,null,null,f.F,f.j)),r.ob(1,49152,null,0,i.A,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,10,"ion-toolbar",[],null,null,null,f.R,f.v)),r.ob(3,49152,null,0,i.Ab,[r.h,r.k],null,null),(t()(),r.pb(4,0,null,0,5,"ion-buttons",[["slot","start"]],null,null,null,f.z,f.d)),r.ob(5,49152,null,0,i.k,[r.h,r.k],null,null),(t()(),r.pb(6,0,null,0,3,"ion-button",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.dismiss()&&r),r},f.y,f.c)),r.ob(7,49152,null,0,i.j,[r.h,r.k],null,null),(t()(),r.pb(8,0,null,0,1,"ion-icon",[["name","arrow-back"]],null,null,null,f.G,f.k)),r.ob(9,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null),(t()(),r.pb(10,0,null,0,2,"ion-title",[],null,null,null,f.Q,f.u)),r.ob(11,49152,null,0,i.yb,[r.h,r.k],null,null),(t()(),r.Db(-1,0,[" Cloud Data "])),(t()(),r.pb(13,0,null,null,32,"ion-content",[["padding",""]],null,null,null,f.A,f.e)),r.ob(14,49152,null,0,i.t,[r.h,r.k],null,null),(t()(),r.pb(15,0,null,0,30,"ion-list",[],null,null,null,f.L,f.o)),r.ob(16,49152,null,0,i.N,[r.h,r.k],null,null),(t()(),r.pb(17,0,null,0,2,"ion-list-header",[],null,null,null,f.K,f.p)),r.ob(18,49152,null,0,i.O,[r.h,r.k],null,null),(t()(),r.Db(-1,0,[" Local Cache "])),(t()(),r.pb(20,0,null,0,9,"ion-item",[],null,null,null,f.I,f.m)),r.ob(21,49152,null,0,i.G,[r.h,r.k],null,null),(t()(),r.pb(22,0,null,0,5,"ion-label",[],null,null,null,f.J,f.n)),r.ob(23,49152,null,0,i.M,[r.h,r.k],null,null),(t()(),r.pb(24,0,null,0,1,"h2",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["Reset"])),(t()(),r.pb(26,0,null,0,1,"p",[],null,null,null,null,null)),(t()(),r.Db(-1,null,[" This will delete data, images and squadrons stored on your device. "])),(t()(),r.pb(28,0,null,0,1,"ion-icon",[["name","nuclear"],["slot","end"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.resetData()&&r),r},f.G,f.k)),r.ob(29,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null),(t()(),r.pb(30,0,null,0,4,"ion-list-header",[],null,null,null,f.K,f.p)),r.ob(31,49152,null,0,i.O,[r.h,r.k],null,null),(t()(),r.pb(32,0,null,0,2,"ion-label",[],null,null,null,f.J,f.n)),r.ob(33,49152,null,0,i.M,[r.h,r.k],null,null),(t()(),r.Db(-1,0,["Cloud Login"])),(t()(),r.gb(16777216,null,0,1,null,ji)),r.ob(36,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,0,1,null,Li)),r.ob(38,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(39,0,null,0,2,"ion-list-header",[],null,null,null,f.K,f.p)),r.ob(40,49152,null,0,i.O,[r.h,r.k],null,null),(t()(),r.Db(-1,0,[" Cloud Squadrons "])),(t()(),r.gb(16777216,null,0,1,null,Ui)),r.ob(43,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,0,1,null,Fi)),r.ob(45,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,9,0,"arrow-back"),t(e,29,0,"nuclear"),t(e,36,0,n.firebase.user),t(e,38,0,!n.firebase.user),t(e,43,0,0==n.cloudSquadrons.length),t(e,45,0,n.cloudSquadrons)},null)}function Bi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"app-settings-modal",[],null,null,null,Vi,Ri)),r.ob(1,114688,null,0,cn,[i.Mb,yt,se,i.a,r.z,i.Fb,bt,oe,be.m,be.a,an,i.Jb],null,null)],function(t,e){t(e,1,0)},null)}var zi=r.lb("app-settings-modal",cn,Bi,{},{},[]),Hi=r.nb({encapsulation:0,styles:[[""]],data:{}});function Gi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,12,"ion-header",[],null,null,null,f.F,f.j)),r.ob(1,49152,null,0,i.A,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,10,"ion-toolbar",[],null,null,null,f.R,f.v)),r.ob(3,49152,null,0,i.Ab,[r.h,r.k],null,null),(t()(),r.pb(4,0,null,0,5,"ion-buttons",[["slot","start"]],null,null,null,f.z,f.d)),r.ob(5,49152,null,0,i.k,[r.h,r.k],null,null),(t()(),r.pb(6,0,null,0,3,"ion-button",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.dismiss()&&r),r},f.y,f.c)),r.ob(7,49152,null,0,i.j,[r.h,r.k],null,null),(t()(),r.pb(8,0,null,0,1,"ion-icon",[["name","arrow-back"]],null,null,null,f.G,f.k)),r.ob(9,49152,null,0,i.B,[r.h,r.k],{name:[0,"name"]},null),(t()(),r.pb(10,0,null,0,2,"ion-title",[],null,null,null,f.Q,f.u)),r.ob(11,49152,null,0,i.yb,[r.h,r.k],null,null),(t()(),r.Db(-1,0,[" X-Wing Tabled "])),(t()(),r.pb(13,0,null,null,25,"ion-content",[["padding",""]],null,null,null,f.A,f.e)),r.ob(14,49152,null,0,i.t,[r.h,r.k],null,null),(t()(),r.pb(15,0,null,0,1,"h5",[],null,null,null,null,null)),(t()(),r.Db(-1,null,[" Hey, there! "])),(t()(),r.pb(17,0,null,0,4,"p",[],null,null,null,null,null)),(t()(),r.Db(-1,null,[" We noticed that you're using the live web app. You can also "])),(t()(),r.pb(19,0,null,null,1,"a",[["href","https://github.com/xwingtabled/XwingTabled/releases"]],null,null,null,null,null)),(t()(),r.Db(-1,null,["download the Android app"])),(t()(),r.Db(-1,null,[". It has the following features: "])),(t()(),r.pb(22,0,null,0,6,"ul",[],null,null,null,null,null)),(t()(),r.pb(23,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["Image caching for offline use"])),(t()(),r.pb(25,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["Import squadrons via QR code"])),(t()(),r.pb(27,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["Landscape and portrait layouts"])),(t()(),r.pb(29,0,null,0,1,"h5",[],null,null,null,null,null)),(t()(),r.Db(-1,null,[" Found a bug? "])),(t()(),r.pb(31,0,null,0,7,"p",[],null,null,null,null,null)),(t()(),r.Db(-1,null,[" Please "])),(t()(),r.pb(33,0,null,null,1,"a",[["href","https://github.com/xwingtabled/XwingTabled/issues/new"]],null,null,null,null,null)),(t()(),r.Db(-1,null,["raise an issue"])),(t()(),r.Db(-1,null,[" on the "])),(t()(),r.pb(36,0,null,null,1,"a",[["href","https://github.com/xwingtabled/XwingTabled"]],null,null,null,null,null)),(t()(),r.Db(-1,null,["Github repository"])),(t()(),r.Db(-1,null,[". "]))],function(t,e){t(e,9,0,"arrow-back")},null)}function Wi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"app-help-modal",[],null,null,null,Gi,Hi)),r.ob(1,114688,null,0,en,[i.Fb],null,null)],function(t,e){t(e,1,0)},null)}var Ki=r.lb("app-help-modal",en,Wi,{},{},[]),Qi=r.nb({encapsulation:0,styles:[[".condition-menu[_ngcontent-%COMP%]{display:block;padding:.5vw;background-color:#fff;color:#000}.condition-artwork[_ngcontent-%COMP%]{display:inline-block;height:100%}"]],data:{}});function Ji(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"ion-select-option",[],null,null,null,f.N,f.s)),r.ob(1,49152,null,0,i.mb,[r.h,r.k],{value:[0,"value"]},null),(t()(),r.Db(2,0,["",""]))],function(t,e){t(e,1,0,r.rb(1,"",e.context.$implicit.xws,""))},function(t,e){t(e,2,0,e.context.$implicit.name)})}function Xi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,1,0,n.img_urls[n.selected_condition.xws])})}function Yi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"ion-select-option",[],null,null,null,f.N,f.s)),r.ob(1,49152,null,0,i.mb,[r.h,r.k],{value:[0,"value"]},null),(t()(),r.Db(2,0,["",""]))],function(t,e){t(e,1,0,e.context.$implicit)},function(t,e){t(e,2,0,e.context.$implicit.title)})}function Zi(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,5,"ion-select",[["placeHolder","Pilot Damage Card"]],null,[[null,"ionChange"],[null,"ionBlur"]],function(t,e,n){var o=!0,i=t.component;return"ionBlur"===e&&(o=!1!==r.zb(t,4)._handleBlurEvent()&&o),"ionChange"===e&&(o=!1!==r.zb(t,4)._handleChangeEvent(n.target.value)&&o),"ionChange"===e&&(o=!1!==i.changeDamageCard(n)&&o),o},f.O,f.r)),r.Ab(5120,null,Di.b,function(t){return[t]},[i.Kb]),r.ob(3,49152,null,0,i.lb,[r.h,r.k],null,null),r.ob(4,16384,null,0,i.Kb,[r.k],null,null),(t()(),r.gb(16777216,null,0,1,null,Yi)),r.ob(6,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,6,0,e.component.pilotDamageCards)},null)}function $i(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,17,"div",[["class","condition-menu"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["Conditions"])),(t()(),r.pb(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,5,"ion-select",[["placeholder","Select One"]],null,[[null,"ionChange"],[null,"ionBlur"]],function(t,e,n){var o=!0,i=t.component;return"ionBlur"===e&&(o=!1!==r.zb(t,8)._handleBlurEvent()&&o),"ionChange"===e&&(o=!1!==r.zb(t,8)._handleChangeEvent(n.target.value)&&o),"ionChange"===e&&(o=!1!==i.changeEvent(n)&&o),o},f.O,f.r)),r.Ab(5120,null,Di.b,function(t){return[t]},[i.Kb]),r.ob(7,49152,null,0,i.lb,[r.h,r.k],{placeholder:[0,"placeholder"]},null),r.ob(8,16384,null,0,i.Kb,[r.k],null,null),(t()(),r.gb(16777216,null,0,1,null,Ji)),r.ob(10,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.gb(16777216,null,null,1,null,Xi)),r.ob(12,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Zi)),r.ob(14,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(15,0,null,null,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.assignCondition()&&r),r},f.y,f.c)),r.ob(16,49152,null,0,i.j,[r.h,r.k],{disabled:[0,"disabled"],expand:[1,"expand"]},null),(t()(),r.Db(-1,0,["Assign Condition"]))],function(t,e){var n=e.component;t(e,7,0,"Select One"),t(e,10,0,n.conditions),t(e,12,0,n.selected_condition&&n.selected_condition.xws),t(e,14,0,n.selected_condition&&n.selected_condition.xws==n.darksideXws),t(e,16,0,!n.selected_condition,"full")},null)}function ta(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"app-condition-menu",[],null,null,null,$i,Qi)),r.ob(1,114688,null,0,Ee,[yt,se,i.Jb,i.Mb],null,null)],function(t,e){t(e,1,0)},null)}var ea=r.lb("app-condition-menu",Ee,ta,{},{},[]),na=function(){function t(){this.text="Test text",this.icon_html="<i class='CLASS'></i>",this.output=""}return t.prototype.mangle=function(t){var e=this,n=(t=this.stripNumberBrackets(t)).match(/\[[a-zA-Z\s]*\]/g);return n&&n.forEach(function(n){var r=e.icon_html.replace("CLASS",d.getClass(e.stripBrackets(n)));t=t.replace(n,r)}),t=t.replace("Action:","<br /><br /><b>Action:</b>")},t.prototype.stripNumberBrackets=function(t){var e=this,n=t.match(/\[[0-9] \[[a-zA-Z\s]*\]\]/g);return n&&n.forEach(function(n){t=t.replace(n,e.stripBrackets(n))}),t},t.prototype.stripBrackets=function(t){return t.substring(1,t.length-1)},t.prototype.ngOnInit=function(){this.output=this.mangle(this.text)},t}(),ra=r.nb({encapsulation:0,styles:[[""]],data:{}});function oa(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null))],null,function(t,e){t(e,0,0,e.component.output)})}var ia=r.nb({encapsulation:0,styles:[[".condition-popover[_ngcontent-%COMP%]{padding:.5vw;background:#000}.condition-title[_ngcontent-%COMP%]{background:#fff;width:100%;padding-top:.5vw;text-align:center;font-weight:900;padding-bottom:.5vw}.condition-text[_ngcontent-%COMP%]{background:#fff;width:100%;margin-bottom:.5vw;text-align:center;padding:1em}"]],data:{}});function aa(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.assignPilotDamage()&&r),r},f.y,f.c)),r.ob(1,49152,null,0,i.j,[r.h,r.k],{expand:[0,"expand"]},null),(t()(),r.Db(2,0,["Assign ",""]))],function(t,e){t(e,1,0,"full")},function(t,e){t(e,2,0,e.component.condition.pilotDamageCard.title)})}function sa(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.removeCondition()&&r),r},f.y,f.c)),r.ob(1,49152,null,0,i.j,[r.h,r.k],{expand:[0,"expand"]},null),(t()(),r.Db(-1,0,["Remove"]))],function(t,e){t(e,1,0,"full")},null)}function ua(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,10,"div",[["class","condition-popover"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"div",[["class","condition-title"]],null,null,null,null,null)),(t()(),r.Db(2,null,[" "," "])),(t()(),r.pb(3,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(t()(),r.pb(4,0,null,null,2,"div",[["class","condition-text"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,1,"xwing-text",[],null,null,null,oa,ra)),r.ob(6,114688,null,0,na,[],{text:[0,"text"]},null),(t()(),r.gb(16777216,null,null,1,null,aa)),r.ob(8,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,sa)),r.ob(10,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,6,0,n.conditionData.ability),t(e,8,0,!n.state.readonly(n.squadronUUID)&&n.condition.pilotDamageCard),t(e,10,0,!n.state.readonly(n.squadronUUID))},function(t,e){var n=e.component;t(e,2,0,n.condition.name),t(e,3,0,n.img_url)})}function la(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"app-condition-popover",[],null,null,null,ua,ia)),r.ob(1,114688,null,0,ir,[i.Jb,yt,se],null,null)],function(t,e){t(e,1,0)},null)}var ca=r.lb("app-condition-popover",ir,la,{},{},[]),ha=r.nb({encapsulation:0,styles:[[".damage-deck-actions[_ngcontent-%COMP%]{padding:1vw}.damage-deck-icon[_ngcontent-%COMP%]{display:inline-block;text-align:center;width:3vw;font-size:2vw;color:red;background-color:#000;margin-right:.5vw}"]],data:{}});function fa(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,12,"div",[["class","damage-deck-actions"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"xwing-icon",[["class","damage-deck-icon"]],null,null,null,g,p)),r.ob(2,114688,null,0,d,[],{name:[0,"name"]},null),(t()(),r.pb(3,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),r.Db(-1,null,[" Damage Deck "])),(t()(),r.pb(5,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Db(6,null,[" "," cards left, "," discarded "])),(t()(),r.pb(7,0,null,null,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.shuffleDeck()&&r),r},f.y,f.c)),r.ob(8,49152,null,0,i.j,[r.h,r.k],{expand:[0,"expand"]},null),(t()(),r.Db(-1,0,["Shuffle Deck"])),(t()(),r.pb(10,0,null,null,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.shuffleDiscarded()&&r),r},f.y,f.c)),r.ob(11,49152,null,0,i.j,[r.h,r.k],{disabled:[0,"disabled"],expand:[1,"expand"]},null),(t()(),r.Db(-1,0,["Shuffle discarded"]))],function(t,e){var n=e.component;t(e,2,0,"hit"),t(e,8,0,"full"),t(e,11,0,n.squadron.damagediscard.length<=0,"full")},function(t,e){var n=e.component;t(e,6,0,n.squadron.damagedeck.length,n.squadron.damagediscard.length)})}function da(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-damage-deck-actions",[],null,null,null,fa,ha)),r.ob(1,114688,null,0,dn,[i.d,i.Mb,i.Jb,se],null,null)],function(t,e){t(e,1,0)},null)}var pa=r.lb("xws-damage-deck-actions",dn,da,{},{},[]),ga=r.nb({encapsulation:0,styles:[[".damage-popover[_ngcontent-%COMP%]{background-color:#fff;padding:.5vw}.damage-card-back-art[_ngcontent-%COMP%]{background-color:#000;color:red;display:inline-block;text-align:center;font-size:8em;width:100%}.damage-card[_ngcontent-%COMP%]{padding:1vw;background-color:#000}.damage-card-back[_ngcontent-%COMP%], .damage-card-content[_ngcontent-%COMP%], .damage-card-front[_ngcontent-%COMP%]{border:.25vw solid red;border-radius:1vw;padding:1vw;min-height:16em}.damage-card-front[_ngcontent-%COMP%]{background-color:#fff}.damage-card-back[_ngcontent-%COMP%]{background-color:#000}.damage-title[_ngcontent-%COMP%]{text-align:center;font-weight:900}.damage-type[_ngcontent-%COMP%]{text-align:center;font-style:italic;padding-bottom:1em}.damage-text[_ngcontent-%COMP%]{text-align:center;padding-bottom:1em}"]],data:{}});function ma(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,7,"div",[["class","damage-card-front"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"div",[["class","damage-title"]],null,null,null,null,null)),(t()(),r.Db(2,null,[" "," "])),(t()(),r.pb(3,0,null,null,1,"div",[["class","damage-type"]],null,null,null,null,null)),(t()(),r.Db(4,null,[" "," "])),(t()(),r.pb(5,0,null,null,2,"div",[["class","damage-text"]],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,1,"xwing-text",[],null,null,null,oa,ra)),r.ob(7,114688,null,0,na,[],{text:[0,"text"]},null)],function(t,e){t(e,7,0,e.component.cardData.text)},function(t,e){var n=e.component;t(e,2,0,n.card.title),t(e,4,0,n.cardData.type)})}function va(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,3,"div",[["class","damage-card-back"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,2,"span",[["class","damage-card-back-art"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,1,"xwing-icon",[],null,null,null,g,p)),r.ob(3,114688,null,0,d,[],{name:[0,"name"]},null)],function(t,e){t(e,3,0,"hit")},null)}function ya(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.repair()&&r),r},f.y,f.c)),r.ob(1,49152,null,0,i.j,[r.h,r.k],{expand:[0,"expand"]},null),(t()(),r.Db(-1,0,["Repair"]))],function(t,e){t(e,1,0,"full")},null)}function ba(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.expose()&&r),r},f.y,f.c)),r.ob(1,49152,null,0,i.j,[r.h,r.k],{expand:[0,"expand"]},null),(t()(),r.Db(-1,0,["Expose"]))],function(t,e){t(e,1,0,"full")},null)}function wa(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,9,"div",[["class","damage-popover"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,4,"div",[["class","damage-card"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,ma)),r.ob(3,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,va)),r.ob(5,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,ya)),r.ob(7,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,ba)),r.ob(9,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.card.exposed),t(e,5,0,!n.card.exposed),t(e,7,0,!n.state.readonly(n.squadronUUID)),t(e,9,0,!n.state.readonly(n.squadronUUID)&&!n.card.exposed)},null)}function _a(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"xws-damage-popover",[],null,null,null,wa,ga)),r.ob(1,114688,null,0,Oe,[i.Jb,r.z,se,yt],null,null)],function(t,e){t(e,1,0)},null)}var Ca=r.lb("xws-damage-popover",Oe,_a,{},{},[]),Sa=r.nb({encapsulation:0,styles:[[".damage-popover[_ngcontent-%COMP%]{background-color:#fff;padding:.5vw}.damage-card-back-art[_ngcontent-%COMP%]{background-color:#000;color:red;display:inline-block;text-align:center;font-size:8em;width:100%}.damage-card[_ngcontent-%COMP%]{padding:1vw;background-color:#000}.damage-card-back[_ngcontent-%COMP%], .damage-card-content[_ngcontent-%COMP%], .damage-card-front[_ngcontent-%COMP%]{border:.25vw solid red;border-radius:1vw;padding:1vw;min-height:16em}.damage-card-front[_ngcontent-%COMP%]{background-color:#fff}.damage-card-back[_ngcontent-%COMP%]{background-color:#000}.damage-title[_ngcontent-%COMP%]{text-align:center;font-weight:900}.damage-type[_ngcontent-%COMP%]{text-align:center;font-style:italic;padding-bottom:1em}.damage-text[_ngcontent-%COMP%]{text-align:center;padding-bottom:1em}.damage-card-select[_ngcontent-%COMP%]{display:block;padding:.5vw;background-color:#fff;color:#000}"]],data:{}});function Ea(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,2,"ion-select-option",[],null,null,null,f.N,f.s)),r.ob(1,49152,null,0,i.mb,[r.h,r.k],{value:[0,"value"]},null),(t()(),r.Db(2,0,["",""]))],function(t,e){t(e,1,0,e.context.$implicit)},function(t,e){t(e,2,0,e.context.$implicit.title)})}function Oa(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,13,"div",[["class","damage-card-select"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),r.Db(2,null,["",""])),(t()(),r.pb(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,5,"ion-select",[["placeholder","Select One"]],null,[[null,"ionChange"],[null,"ionBlur"]],function(t,e,n){var o=!0,i=t.component;return"ionBlur"===e&&(o=!1!==r.zb(t,8)._handleBlurEvent()&&o),"ionChange"===e&&(o=!1!==r.zb(t,8)._handleChangeEvent(n.target.value)&&o),"ionChange"===e&&(o=!1!==i.changeEvent(n)&&o),o},f.O,f.r)),r.Ab(5120,null,Di.b,function(t){return[t]},[i.Kb]),r.ob(7,49152,null,0,i.lb,[r.h,r.k],{placeholder:[0,"placeholder"]},null),r.ob(8,16384,null,0,i.Kb,[r.k],null,null),(t()(),r.gb(16777216,null,0,1,null,Ea)),r.ob(10,278528,null,0,m.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(11,0,null,null,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.selectCard()&&r),r},f.y,f.c)),r.ob(12,49152,null,0,i.j,[r.h,r.k],{disabled:[0,"disabled"],expand:[1,"expand"]},null),(t()(),r.Db(-1,0,["Select Card"]))],function(t,e){var n=e.component;t(e,7,0,"Select One"),t(e,10,0,n.cards),t(e,12,0,!n.selected_card,"full")},function(t,e){t(e,2,0,e.component.title)})}function Ia(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"app-damage-card-select",[],null,null,null,Oa,Sa)),r.ob(1,114688,null,0,Ie,[i.Jb],null,null)],function(t,e){t(e,1,0)},null)}var ka=r.lb("app-damage-card-select",Ie,Ia,{},{},[]),xa=r.nb({encapsulation:0,styles:[[".assign-id-popover[_ngcontent-%COMP%]{display:block;padding:.5vw;background-color:#fff;color:#000}"]],data:{}});function Ta(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,6,"ion-input",[["placeholder","Lock Number"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(t,e,n){var o=!0,i=t.component;return"ionBlur"===e&&(o=!1!==r.zb(t,1)._handleBlurEvent()&&o),"ionChange"===e&&(o=!1!==r.zb(t,1)._handleIonChange(n.target.value)&&o),"ngModelChange"===e&&(o=!1!==(i.numericId=n)&&o),o},f.H,f.l)),r.ob(1,16384,null,0,i.Hb,[r.k],null,null),r.Ab(1024,null,Di.b,function(t){return[t]},[i.Hb]),r.ob(3,671744,null,0,Di.e,[[8,null],[8,null],[8,null],[6,Di.b]],{model:[0,"model"]},{update:"ngModelChange"}),r.Ab(2048,null,Di.c,null,[Di.e]),r.ob(5,16384,null,0,Di.d,[[4,Di.c]],null,null),r.ob(6,49152,null,0,i.F,[r.h,r.k],{placeholder:[0,"placeholder"],type:[1,"type"]},null)],function(t,e){t(e,3,0,e.component.numericId),t(e,6,0,"Lock Number","number")},function(t,e){t(e,0,0,r.zb(e,5).ngClassUntouched,r.zb(e,5).ngClassTouched,r.zb(e,5).ngClassPristine,r.zb(e,5).ngClassDirty,r.zb(e,5).ngClassValid,r.zb(e,5).ngClassInvalid,r.zb(e,5).ngClassPending)})}function Da(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,6,"ion-input",[["placeholder","Lock Letter"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(t,e,n){var o=!0,i=t.component;return"ionBlur"===e&&(o=!1!==r.zb(t,1)._handleBlurEvent()&&o),"ionChange"===e&&(o=!1!==r.zb(t,1)._handleInputEvent(n.target.value)&&o),"ngModelChange"===e&&(o=!1!==(i.alphabeticId=n)&&o),o},f.H,f.l)),r.ob(1,16384,null,0,i.Lb,[r.k],null,null),r.Ab(1024,null,Di.b,function(t){return[t]},[i.Lb]),r.ob(3,671744,null,0,Di.e,[[8,null],[8,null],[8,null],[6,Di.b]],{model:[0,"model"]},{update:"ngModelChange"}),r.Ab(2048,null,Di.c,null,[Di.e]),r.ob(5,16384,null,0,Di.d,[[4,Di.c]],null,null),r.ob(6,49152,null,0,i.F,[r.h,r.k],{placeholder:[0,"placeholder"],type:[1,"type"]},null)],function(t,e){t(e,3,0,e.component.alphabeticId),t(e,6,0,"Lock Letter","text")},function(t,e){t(e,0,0,r.zb(e,5).ngClassUntouched,r.zb(e,5).ngClassTouched,r.zb(e,5).ngClassPristine,r.zb(e,5).ngClassDirty,r.zb(e,5).ngClassValid,r.zb(e,5).ngClassInvalid,r.zb(e,5).ngClassPending)})}function Pa(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,23,"div",[["class","assign-id-popover"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),r.Db(-1,null,["Assign Ship ID"])),(t()(),r.pb(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,12,"ion-select",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(t,e,n){var o=!0,i=t.component;return"ionBlur"===e&&(o=!1!==r.zb(t,5)._handleBlurEvent()&&o),"ionChange"===e&&(o=!1!==r.zb(t,5)._handleChangeEvent(n.target.value)&&o),"ngModelChange"===e&&(o=!1!==(i.idType=n)&&o),o},f.O,f.r)),r.ob(5,16384,null,0,i.Kb,[r.k],null,null),r.Ab(1024,null,Di.b,function(t){return[t]},[i.Kb]),r.ob(7,671744,null,0,Di.e,[[8,null],[8,null],[8,null],[6,Di.b]],{model:[0,"model"]},{update:"ngModelChange"}),r.Ab(2048,null,Di.c,null,[Di.e]),r.ob(9,16384,null,0,Di.d,[[4,Di.c]],null,null),r.ob(10,49152,null,0,i.lb,[r.h,r.k],null,null),(t()(),r.pb(11,0,null,0,2,"ion-select-option",[["selected","true"],["value","numbers"]],null,null,null,f.N,f.s)),r.ob(12,49152,null,0,i.mb,[r.h,r.k],{selected:[0,"selected"],value:[1,"value"]},null),(t()(),r.Db(-1,0,["Numbers"])),(t()(),r.pb(14,0,null,0,2,"ion-select-option",[["value","letters"]],null,null,null,f.N,f.s)),r.ob(15,49152,null,0,i.mb,[r.h,r.k],{value:[0,"value"]},null),(t()(),r.Db(-1,0,["Letters"])),(t()(),r.gb(16777216,null,null,1,null,Ta)),r.ob(18,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Da)),r.ob(20,16384,null,0,m.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(21,0,null,null,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.assignId()&&r),r},f.y,f.c)),r.ob(22,49152,null,0,i.j,[r.h,r.k],{expand:[0,"expand"]},null),(t()(),r.Db(-1,0,["Assign ID"]))],function(t,e){var n=e.component;t(e,7,0,n.idType),t(e,12,0,"true","numbers"),t(e,15,0,"letters"),t(e,18,0,"numbers"==n.idType),t(e,20,0,"letters"==n.idType),t(e,22,0,"full")},function(t,e){t(e,4,0,r.zb(e,9).ngClassUntouched,r.zb(e,9).ngClassTouched,r.zb(e,9).ngClassPristine,r.zb(e,9).ngClassDirty,r.zb(e,9).ngClassValid,r.zb(e,9).ngClassInvalid,r.zb(e,9).ngClassPending)})}function Aa(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"assign-id-popover",[],null,null,null,Pa,xa)),r.ob(1,114688,null,0,ke,[i.Jb],null,null)],function(t,e){t(e,1,0)},null)}var Na=r.lb("assign-id-popover",ke,Aa,{},{},[]),Ma=n("0FX9"),Ra=function(){function t(t){this.renderer=t,this.elementType="url",this.cssClass="qrcode",this.value="https://www.techiediaries.com",this.version="",this.errorCorrectionLevel="M"}return t.prototype.ngOnChanges=function(){this.createQRCode()},t.prototype.toDataURL=function(){var t=this;return new Promise(function(e,n){Ma.toDataURL(t.value,{version:t.version,errorCorrectionLevel:t.errorCorrectionLevel},function(t,r){t?(console.error(t),n(t)):e(r)})})},t.prototype.toCanvas=function(t){var e=this;return new Promise(function(n,r){Ma.toCanvas(t,e.value,{version:e.version,errorCorrectionLevel:e.errorCorrectionLevel},function(t){t?r(t):n("success")})})},t.prototype.renderElement=function(t){for(var e=0,n=this.qrcElement.nativeElement.childNodes;e<n.length;e++)this.renderer.removeChild(this.qrcElement.nativeElement,n[e]);this.renderer.appendChild(this.qrcElement.nativeElement,t)},t.prototype.createQRCode=function(){var t,e=this;if(this.value)switch(this.elementType){case"canvas":t=this.renderer.createElement("canvas"),this.toCanvas(t).then(function(n){e.renderElement(t)}).catch(function(t){console.error(t)});break;case"url":case"img":default:t=this.renderer.createElement("img"),this.toDataURL().then(function(n){t.setAttribute("src",n),e.renderElement(t)}).catch(function(t){console.error(t)})}},t}(),ja=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t}(),La=r.nb({encapsulation:2,styles:[],data:{}});function Ua(t){return r.Eb(0,[r.Bb(402653184,1,{qrcElement:0}),(t()(),r.pb(1,0,[[1,0],["qrcElement",1]],null,0,"div",[],[[8,"className",0]],null,null,null,null))],null,function(t,e){t(e,1,0,e.component.cssClass)})}var qa=r.nb({encapsulation:0,styles:[[".qrcode[_ngcontent-%COMP%]{text-align:center}.url[_ngcontent-%COMP%]{position:fixed;left:0;top:0;opacity:0}"]],data:{}});function Fa(t){return r.Eb(0,[r.Bb(402653184,1,{url:0}),(t()(),r.pb(1,0,null,null,7,"div",[["class","share-popover"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,2,"div",[["class","qrcode"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,1,"ngx-qrcode",[["class","qrcode"],["qrc-element-type","url"]],null,null,null,Ua,La)),r.ob(4,573440,null,0,Ra,[r.D],{elementType:[0,"elementType"],value:[1,"value"]},null),(t()(),r.pb(5,0,[[1,0],["url",1]],null,0,"input",[["class","url"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),r.pb(6,0,null,null,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.copy()&&r),r},f.y,f.c)),r.ob(7,49152,null,0,i.j,[r.h,r.k],{expand:[0,"expand"]},null),(t()(),r.Db(-1,0,["Copy to Clipboard"]))],function(t,e){t(e,4,0,"url",e.component.qrcode),t(e,7,0,"full")},function(t,e){t(e,5,0,r.rb(1,"",e.component.qrcode,""))})}function Va(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"share-popover",[],null,null,null,Fa,qa)),r.ob(1,114688,null,0,sn,[i.Jb,r.z,i.Mb],null,null)],function(t,e){t(e,1,0)},null)}var Ba=r.lb("share-popover",sn,Va,{},{},[]),za=n("SqqW"),Ha=r.nb({encapsulation:0,styles:[["ion-app[_ngcontent-%COMP%]{font-size:1em}"]],data:{}});function Ga(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,3,"ion-app",[],null,null,null,f.w,f.a)),r.ob(1,49152,null,0,i.e,[r.h,r.k],null,null),(t()(),r.pb(2,16777216,null,0,1,"ion-router-outlet",[["main",""]],null,null,null,null,null)),r.ob(3,212992,null,0,i.gb,[be.b,r.O,r.j,[8,null],[8,null],r.h,i.c,i.Gb,r.k,be.m,r.z,be.a,[3,i.gb]],null,null)],function(t,e){t(e,3,0)},null)}function Wa(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"app-root",[],null,null,null,Ga,Ha)),r.ob(1,49152,null,0,c,[i.Ib,u,l],null,null)],null,null)}var Ka=r.lb("app-root",c,Wa,{},{},[]),Qa=function(){return function(){}}(),Ja=function(){return function(){}}(),Xa=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach(function(t){var n=t.indexOf(":");if(n>0){var r=t.slice(0,n),o=r.toLowerCase(),i=t.slice(n+1).trim();e.maybeSetNormalizedName(r,o),e.headers.has(o)?e.headers.get(o).push(i):e.headers.set(o,[i])}})}:function(){e.headers=new Map,Object.keys(t).forEach(function(n){var r=t[n],o=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(e.headers.set(o,r),e.maybeSetNormalizedName(n,o))})}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})},t.prototype.clone=function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,Object(a.__spread)(n)),this.headers.set(e,r);break;case"d":var o=t.value;if(o){var i=this.headers.get(e);if(!i)return;0===(i=i.filter(function(t){return-1===o.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,i)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})},t}(),Ya=function(){function t(){}return t.prototype.encodeKey=function(t){return Za(t)},t.prototype.encodeValue=function(t){return Za(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}();function Za(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var $a=function(){function t(t){void 0===t&&(t={});var e,n,r,o=this;if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ya,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=t.fromString,n=this.encoder,r=new Map,e.length>0&&e.split("&").forEach(function(t){var e=t.indexOf("="),o=Object(a.__read)(-1==e?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,e)),n.decodeValue(t.slice(e+1))],2),i=o[0],s=o[1],u=r.get(i)||[];u.push(s),r.set(i,u)}),r)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(function(e){var n=t.fromObject[e];o.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).join("&")},t.prototype.clone=function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],o=r.indexOf(e.value);-1!==o&&r.splice(o,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=null)},t}();function ts(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function es(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ns(t){return"undefined"!=typeof FormData&&t instanceof FormData}var rs=function(){function t(t,e,n,r){var o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new Xa),this.params){var i=this.params.toString();if(0===i.length)this.urlWithParams=e;else{var a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+i}}else this.params=new $a,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:ts(this.body)||es(this.body)||ns(this.body)||"string"==typeof this.body?this.body:this.body instanceof $a?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body?null:ns(this.body)?null:es(this.body)?this.body.type||null:ts(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $a?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var n=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(l=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},l)),new t(n,r,i,{params:l,headers:u,reportProgress:s,responseType:o,withCredentials:a})},t}(),os=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),is=function(){return function(t,e,n){void 0===e&&(e=200),void 0===n&&(n="OK"),this.headers=t.headers||new Xa,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}(),as=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=os.ResponseHeader,n}return Object(a.__extends)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(is),ss=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=os.Response,n.body=void 0!==e.body?e.body:null,n}return Object(a.__extends)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(is),us=function(t){function e(e){var n=t.call(this,e,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,n.error=e.error||null,n}return Object(a.__extends)(e,t),e}(is);function ls(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var cs=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,n){var r,o=this;if(void 0===n&&(n={}),t instanceof rs)r=t;else{var i;i=n.headers instanceof Xa?n.headers:new Xa(n.headers);var a=void 0;n.params&&(a=n.params instanceof $a?n.params:new $a({fromObject:n.params})),r=new rs(t,e,void 0!==n.body?n.body:null,{headers:i,params:a,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var s=Object(nt.a)(r).pipe(Object(rt.a)(function(t){return o.handler.handle(t)}));if(t instanceof rs||"events"===n.observe)return s;var u=s.pipe(Object(Ht.a)(function(t){return t instanceof ss}));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return u.pipe(Object(Vt.a)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(Object(Vt.a)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(Object(Vt.a)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(Object(Vt.a)(function(t){return t.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new $a).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,n){return void 0===n&&(n={}),this.request("PATCH",t,ls(n,e))},t.prototype.post=function(t,e,n){return void 0===n&&(n={}),this.request("POST",t,ls(n,e))},t.prototype.put=function(t,e,n){return void 0===n&&(n={}),this.request("PUT",t,ls(n,e))},t}(),hs=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),fs=new r.p("HTTP_INTERCEPTORS"),ds=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t}(),ps=/^\)\]\}',?\n/,gs=function(){return function(){}}(),ms=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),vs=function(){function t(t){this.xhrFactory=t}return t.prototype.handle=function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new _t.a(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var o=t.detectContentTypeHeader();null!==o&&r.setRequestHeader("Content-Type",o)}if(t.responseType){var i=t.responseType.toLowerCase();r.responseType="json"!==i?i:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",o=new Xa(r.getAllResponseHeaders()),i=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new as({headers:o,status:e,statusText:n,url:i})},l=function(){var e=u(),o=e.headers,i=e.status,a=e.statusText,s=e.url,l=null;204!==i&&(l=void 0===r.response?r.responseText:r.response),0===i&&(i=l?200:0);var c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof l){var h=l;l=l.replace(ps,"");try{l=""!==l?JSON.parse(l):null}catch(f){l=h,c&&(c=!1,l={error:f,text:l})}}c?(n.next(new ss({body:l,headers:o,status:i,statusText:a,url:s||void 0})),n.complete()):n.error(new us({error:l,headers:o,status:i,statusText:a,url:s||void 0}))},c=function(t){var e=u().url,o=new us({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(o)},h=!1,f=function(e){h||(n.next(u()),h=!0);var o={type:os.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(o.total=e.total),"text"===t.responseType&&r.responseText&&(o.partialText=r.responseText),n.next(o)},d=function(t){var e={type:os.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",l),r.addEventListener("error",c),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:os.Sent}),function(){r.removeEventListener("error",c),r.removeEventListener("load",l),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.abort()}})},t}(),ys=new r.p("XSRF_COOKIE_NAME"),bs=new r.p("XSRF_HEADER_NAME"),ws=function(){return function(){}}(),_s=function(){function t(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return t.prototype.getToken=function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(m.s)(t,this.cookieName),this.lastCookieString=t),this.lastToken},t}(),Cs=function(){function t(t,e){this.tokenService=t,this.headerName=e}return t.prototype.intercept=function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)},t}(),Ss=function(){function t(t,e){this.backend=t,this.injector=e,this.chain=null}return t.prototype.handle=function(t){if(null===this.chain){var e=this.injector.get(fs,[]);this.chain=e.reduceRight(function(t,e){return new hs(t,e)},this.backend)}return this.chain.handle(t)},t}(),Es=function(){function t(){}var e;return e=t,t.disable=function(){return{ngModule:e,providers:[{provide:Cs,useClass:ds}]}},t.withOptions=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[t.cookieName?{provide:ys,useValue:t.cookieName}:[],t.headerName?{provide:bs,useValue:t.headerName}:[]]}},t}(),Os=function(){return function(){}}(),Is=function(){function t(t,e){this.state=t,this.router=e}return t.prototype.canActivate=function(t,e){return!!this.state.initialized||(this.router.navigate(["/"]),!1)},t.ngInjectableDef=r.S({factory:function(){return new t(r.W(se),r.W(be.m))},token:t,providedIn:"root"}),t}(),ks=n("kL6T"),xs=function(){return function(){}}(),Ts=function(){return function(){}}(),Ds=function(){return function(){}}(),Ps=function(){return function(){}}(),As=function(){return function(){}}(),Ns=function(){return function(){}}(),Ms=function(){return function(){}}(),Rs=function(){return function(){}}(),js=function(){return function(){}}(),Ls=n("FQ1g"),Us=function(){return function(){}}(),qs=r.mb(o,[c],function(t){return r.wb([r.xb(512,r.j,r.bb,[[8,[h.a,Yn,bi,Ti,Mi,zi,Ki,ea,ca,pa,Ca,ka,Na,Ba,za.a,Ka]],[3,r.j],r.x]),r.xb(5120,r.u,r.kb,[[3,r.u]]),r.xb(4608,m.k,m.j,[r.u,[2,m.r]]),r.xb(5120,r.c,r.hb,[]),r.xb(5120,r.s,r.ib,[]),r.xb(5120,r.t,r.jb,[]),r.xb(4608,gt.b,gt.k,[m.c]),r.xb(6144,r.G,null,[gt.b]),r.xb(4608,gt.e,gt.g,[]),r.xb(5120,gt.c,function(t,e,n,r,o,i,a,s){return[new gt.i(t,e,n),new gt.n(r),new gt.m(o,i,a,s)]},[m.c,r.z,r.B,m.c,m.c,gt.e,r.cb,[2,gt.f]]),r.xb(4608,gt.d,gt.d,[gt.c,r.z]),r.xb(135680,gt.l,gt.l,[m.c]),r.xb(4608,gt.j,gt.j,[gt.d,gt.l]),r.xb(6144,r.E,null,[gt.j]),r.xb(6144,gt.o,null,[gt.l]),r.xb(4608,r.M,r.M,[r.z]),r.xb(4608,i.b,i.b,[r.z,r.g]),r.xb(4608,i.Fb,i.Fb,[i.b,r.j,r.q,m.c]),r.xb(4608,i.Jb,i.Jb,[i.b,r.j,r.q,m.c]),r.xb(5120,be.a,be.z,[be.m]),r.xb(4608,be.e,be.e,[]),r.xb(6144,be.h,null,[be.e]),r.xb(135680,be.p,be.p,[be.m,r.w,r.i,r.q,be.h]),r.xb(4608,be.g,be.g,[]),r.xb(5120,be.D,be.v,[be.m,m.n,be.i]),r.xb(5120,be.j,be.C,[be.A]),r.xb(5120,r.b,function(t){return[t]},[be.j]),r.xb(4608,ws,_s,[m.c,r.B,ys]),r.xb(4608,Cs,Cs,[ws,bs]),r.xb(5120,fs,function(t){return[t]},[Cs]),r.xb(4608,ms,ms,[]),r.xb(6144,gs,null,[ms]),r.xb(4608,vs,vs,[gs]),r.xb(6144,Ja,null,[vs]),r.xb(4608,Qa,Ss,[Ja,r.q]),r.xb(4608,cs,cs,[Qa]),r.xb(4608,Di.g,Di.g,[]),r.xb(5120,At,Nt,[Dt,[2,Pt]]),r.xb(4608,Rt,Rt,[Dt,[2,Pt],r.B,r.z]),r.xb(4608,te,te,[Dt,[2,Pt],[2,Jt],[2,Yt],r.B,r.z,[2,Xt]]),r.xb(4608,F,F,[cs]),r.xb(4608,V,V,[]),r.xb(4608,z,z,[V]),r.xb(4608,H,H,[i.Ib,F,z]),r.xb(5120,ht,dt,[ft]),r.xb(4608,l,l,[]),r.xb(4608,u,u,[]),r.xb(4608,ut,ut,[]),r.xb(4608,bt,bt,[i.Ib]),r.xb(4608,at,at,[]),r.xb(4608,yt,yt,[ht,H,i.d,i.Ib,ut,at,gt.b]),r.xb(4608,i.Mb,i.Mb,[m.c]),r.xb(4608,qt,qt,[]),r.xb(4608,oe,oe,[i.Ib,Rt,qt,te,i.Eb]),r.xb(4608,se,se,[yt,i.d,ht,i.Mb,r.z,i.Eb,oe]),r.xb(4608,an,an,[yt,se,H,i.Fb,i.Mb,be.m,oe]),r.xb(4608,Is,Is,[se,be.m]),r.xb(4608,pn,pn,[]),r.xb(1073742336,m.b,m.b,[]),r.xb(1024,r.l,gt.p,[]),r.xb(1024,r.y,function(){return[be.u()]},[]),r.xb(512,be.A,be.A,[r.q]),r.xb(256,i.Nb,void 0,[]),r.xb(1024,r.d,function(t,e,n,r){return[gt.q(t),be.B(e),i.Ob(n,r)]},[[2,r.y],be.A,i.Nb,m.c]),r.xb(512,r.e,r.e,[[2,r.d]]),r.xb(131584,r.g,r.g,[r.z,r.cb,r.q,r.l,r.j,r.e]),r.xb(1073742336,r.f,r.f,[r.g]),r.xb(1073742336,gt.a,gt.a,[[3,gt.a]]),r.xb(1073742336,i.Cb,i.Cb,[]),r.xb(1024,be.t,be.x,[[3,be.m]]),r.xb(512,be.r,be.c,[]),r.xb(512,be.b,be.b,[]),r.xb(256,be.i,{},[]),r.xb(1024,m.g,be.w,[m.m,[2,m.a],be.i]),r.xb(512,m.f,m.f,[m.g]),r.xb(512,r.i,r.i,[]),r.xb(512,r.w,r.J,[r.i,[2,r.K]]),r.xb(1024,be.k,function(){return[[{path:"",component:vn},{path:"squadron/:squadronUUID",component:vn},{path:"squadron/:squadronUUID/pilot/:pilotUUID",component:Ne,canActivate:[Is]},{path:"squadron/:squadronUUID/pilot/:pilotUUID/upgrade/:ffg",component:ue,canActivate:[Is]},{path:"about",loadChildren:"./about/about.module#AboutPageModule"}],[{path:"",component:nn}],[{path:"",component:ue}],[{path:"",component:Ne}],[{path:"",component:cn}],[{path:"",component:en}],[{path:"",component:ks.a}],[{path:"",component:vn}]]},[]),r.xb(512,be.l,i.Db,[]),r.xb(1024,be.m,be.y,[r.g,be.r,be.b,m.f,r.q,r.w,r.i,be.k,be.i,[2,be.q],[2,be.l]]),r.xb(1073742336,be.n,be.n,[[2,be.t],[2,be.m]]),r.xb(1073742336,xs,xs,[]),r.xb(1073742336,pt,pt,[]),r.xb(1073742336,Es,Es,[]),r.xb(1073742336,Os,Os,[]),r.xb(1073742336,Ts,Ts,[]),r.xb(1073742336,Di.f,Di.f,[]),r.xb(1073742336,Di.a,Di.a,[]),r.xb(1073742336,Ds,Ds,[]),r.xb(1073742336,Ps,Ps,[]),r.xb(1073742336,No,No,[]),r.xb(1073742336,As,As,[]),r.xb(1073742336,Ns,Ns,[]),r.xb(1073742336,Ms,Ms,[]),r.xb(1073742336,Rs,Rs,[]),r.xb(1073742336,ja,ja,[]),r.xb(1073742336,js,js,[]),r.xb(1073742336,Ls.a,Ls.a,[]),r.xb(1073742336,Mt,Mt,[]),r.xb(1073742336,Ut,Ut,[]),r.xb(1073742336,ee,ee,[]),r.xb(1073742336,y,y,[]),r.xb(1073742336,Us,Us,[]),r.xb(1073742336,o,o,[]),r.xb(256,r.ab,!0,[]),r.xb(256,ys,"XSRF-TOKEN",[]),r.xb(256,bs,"X-XSRF-TOKEN",[]),r.xb(256,Dt,{apiKey:"AIzaSyBApFF1Qnqi8URG0gSsAKmiBEAh-aBqnVM",authDomain:"xwingtabled.firebaseapp.com",databaseURL:"https://xwingtabled.firebaseio.com",projectId:"xwingtabled",storageBucket:"xwingtabled.appspot.com",messagingSenderId:"709154274494"},[]),r.xb(256,Pt,void 0,[]),r.xb(256,ft,null,[])])});Object(r.T)(),gt.h().bootstrapModuleFactory(qs).catch(function(t){return console.log(t)})},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw i(e)},i=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):55296==(64512&o)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++r)),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<t.length;o+=3){var i=t[o],a=o+1<t.length,s=a?t[o+1]:0,u=o+2<t.length,l=u?t[o+2]:0,c=(15&s)<<2|l>>6,h=63&l;u||(h=64,a||(c=64)),r.push(n[i>>2],n[(3&i)<<4|s>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var a=((7&o)<<18|(63&(i=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{i=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<t.length;){var i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0,s=++o<t.length?n[t.charAt(o)]:64,u=++o<t.length?n[t.charAt(o)]:64;if(++o,null==i||null==a||null==s||null==u)throw Error();r.push(i<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return s.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var c=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),h=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},f=Error.captureStackTrace,d=function(){return function(t,e){if(this.code=t,this.message=e,f)f(this,p.prototype.create);else try{throw Error.apply(this,arguments)}catch(n){this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}}();d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name="FirebaseError";var p=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],o=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"});var i=new d(o,n=this.serviceName+": "+n+" ("+o+").");for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(i[a]=e[a]);return i},t}();function g(t){return JSON.parse(t)}var m=function(t){var e={},n={},r={},o="";try{var i=t.split(".");e=g(u(i[0])||""),n=g(u(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:o}},v=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},y=function(t,e){return v(e,function(e,n){t[e]=n}),t},b=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},w=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var o,i,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^s&(u^l),i=1518500249):(o=s^u^l,i=1859775393):r<60?(o=s&u|l&(s|u),i=2400959708):(o=s^u^l,i=3395469782);var h=(a<<5|a>>>27)+o+c+i+n[r]&4294967295;c=l,l=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<e;){if(0==i)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[i]=t.charCodeAt(r),++r,++i==this.blockSize){this.compress_(o),i=0;break}}else for(;r<e;)if(o[i]=t[r],++r,++i==this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var o=24;o>=0;o-=8)t[r]=this.chain_[n]>>o&255,++r;return t},t}(),_=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}}),this.observers.push(r),i},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}function S(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=r,e.Deferred=c,e.ErrorFactory=p,e.FirebaseError=d,e.Sha1=w,e.assert=o,e.assertionError=i,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=s,e.base64Decode=u,e.base64Encode=function(t){var e=a(t);return s.encodeByteArray(e,!0)},e.clone=function(t){return y({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new _(t,e);return n.subscribe.bind(n)},e.decode=m,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=S,e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=y,e.findKey=b,e.findValue=function(t,e,n){var r=b(t,e,n);return r&&t[r]},e.forEach=v,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getUA=h,e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isAdmin=function(t){var e=m(t).claims;return"object"==typeof e&&!0===e.admin},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},e.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=m(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=m(t).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),o&&e&&n&&o>=e&&o<=n},e.issuedAtTime=function(t){var e=m(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=g,e.map=function(t,e,n){var r={};for(var o in t)r[o]=e.call(n,t[o],o,t);return r},e.patchCapture=function(t){var e=f;return f=t,e},e.patchProperty=function(t,e,n){t[e]=n},e.querystring=function(t){var e=[];return v(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(S(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(S(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(S(t,e,r)+"must be a valid firebase namespace.")}},"zkF/":function(t,e,n){var r=n("IutQ"),o=n("3Gxb").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(e){return a.slice()}}(t):o(r(t))}},zotm:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("rPjj"),o=n("Fxb1");function i(t,e,n,i,a){if(void 0===a&&(a=new r.a(t,n,i)),!a.closed)return Object(o.a)(e)(a)}}},[[0,9]]]);