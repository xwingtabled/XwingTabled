(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{o1NI:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),o=t("ZZ/e"),u=t("5jpx"),i=t("2EXo"),a=t("nQml"),r=t("9WsB"),s=t("OA8P"),c=t("qGca"),p=function(n,l,t,e){return new(t||(t=Promise))(function(o,u){function i(n){try{r(e.next(n))}catch(l){u(l)}}function a(n){try{r(e.throw(n))}catch(l){u(l)}}function r(n){n.done?o(n.value):new t(function(l){l(n.value)}).then(i,a)}r((e=e.apply(n,l||[])).next())})},d=function(n,l){var t,e,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,e&&(o=2&u[0]?e.return:u[0]?e.throw||((o=e.return)&&o.call(e),0):e.next)&&!(o=o.call(e,u[1])).done)return o;switch(e=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,e=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=l.call(n,i)}catch(a){u=[6,a],e=0}finally{t=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},g=function(){function n(n,l,t,e,o,u,i,a,r,s,c,p,d,g){this.modalController=n,this.dataService=l,this.router=t,this.platform=e,this.popoverController=o,this.events=u,this.alertController=i,this.ngZone=a,this.toastController=r,this.storage=s,this.http=c,this.loadingCtrl=p,this.state=d,this.importService=g,this.data_progress=0,this.data_message="X-Wing Tabled",this.retry_button=!1,this.retry_button_disabled=!1,this.data_button=!1,this.data_button_disabled=!1,this.image_button=!1,this.image_button_disabled=!1}return n.prototype.ngOnInit=function(){var n=this;this.events.subscribe(this.dataService.topic,function(l){return p(n,void 0,void 0,function(){return d(this,function(n){switch(n.label){case 0:return[4,this.data_event_handler(l)];case 1:return n.sent(),[2]}})})})},n.prototype.ionViewDidEnter=function(){console.log("Snapshot check"),this.state.snapshotCheck()},n.prototype.data_event_handler=function(n){return p(this,void 0,void 0,function(){var l=this;return d(this,function(t){switch(t.label){case 0:return this.data_message=n.message,this.data_progress=n.progress,"manifest_incomplete"==n.status&&(this.data_button=!0,this.data_message="X-Wing Tabled requires a local data update"),"data_download_errors"==n.status&&(this.data_button=!0,this.data_message="Some X-Wing data could not be downloaded"),"no_data_no_connection"!=n.status?[3,3]:(this.retry_button=!0,this.retry_button_disabled=!1,[4,this.alertController.create({header:"Internet Connection Required",message:"An Internet connection is required to update or download necessary data files the first time X-Wing Tabled runs.",buttons:[{text:"Retry",handler:function(){l.ngZone.run(function(){return p(l,void 0,void 0,function(){return d(this,function(n){switch(n.label){case 0:return[4,this.alertController.dismiss()];case 1:return n.sent(),this.retryDownload(),[2]}})})})}}]})]);case 1:return[4,t.sent().present()];case 2:return[2,t.sent()];case 3:return"loading_images"!=n.status?[3,6]:[4,this.loadingCtrl.create({message:"Loading artwork"})];case 4:return[4,t.sent().present()];case 5:t.sent(),this.events.publish("mainpage",{message:"loading_controller_present"}),t.label=6;case 6:if("loading_images_complete"!=n.status)return[3,10];t.label=7;case 7:return t.trys.push([7,9,,10]),[4,this.loadingCtrl.dismiss()];case 8:case 9:return t.sent(),[3,10];case 10:return"manifest_current"!=n.status&&"data_download_complete"!=n.status||(this.data_button=!1),"images_missing"==n.status&&(this.data_message="X-Wing Tabled needs to download some artwork",this.image_button=!0),"images_complete"!=n.status?[3,12]:(this.image_button=!1,[4,this.loadState()]);case 11:t.sent(),t.label=12;case 12:return"image_download_incomplete"==n.status&&(this.image_button=!0),"image_download_complete"!=n.status?[3,14]:[4,this.loadState()];case 13:t.sent(),t.label=14;case 14:return[2]}})})},n.prototype.loadState=function(){return p(this,void 0,void 0,function(){return d(this,function(n){switch(n.label){case 0:return console.log("Restoring..."),[4,this.state.restoreFromDisk()];case 1:return n.sent(),console.log("Restored!"),this.state.snapshots&&this.state.snapshots.length&&this.toastUndo(this.state.getLastSnapshotTime()),this.state.squadron||this.presentXwsModal(),[2]}})})},n.prototype.retryDownload=function(){this.retry_button_disabled=!0,this.retry_button=!1,this.dataService.check_manifest()},n.prototype.downloadData=function(){this.data_button_disabled=!0,this.dataService.check_manifest()},n.prototype.downloadArtwork=function(){this.image_button_disabled=!0,this.dataService.download_missing_images(this.dataService.data)},n.prototype.presentDamageDeckActionsPopover=function(n,l){return p(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:return[4,this.popoverController.create({component:a.a,componentProps:{squadron:l},event:n})];case 1:return[4,t.sent().present()];case 2:return[2,t.sent()]}})})},n.prototype.resetData=function(n){return p(this,void 0,void 0,function(){var n=this;return d(this,function(l){switch(l.label){case 0:return[4,this.alertController.create({header:"Clear data cache?",message:"You are about to reset your data cache. You may have to re-download some data.",buttons:[{text:"OK",handler:function(){n.ngZone.run(function(){n.data_progress=0,n.data_message="X-Wing Tabled",n.data_button=!1,n.data_button_disabled=!1,n.image_button=!1,n.image_button_disabled=!1,n.dataService.reset()})}},{text:"Cancel",role:"cancel",cssClass:"secondary"}]})];case 1:return[4,l.sent().present()];case 2:return[2,l.sent()]}})})},n.prototype.askRechargeRecurring=function(){return p(this,void 0,void 0,function(){var n=this;return d(this,function(l){switch(l.label){case 0:return[4,this.alertController.create({header:"Recharge Recurring",message:'Do you wish to recover all recurring <i class="xwing-miniatures-font xwing-miniatures-font-charge"></i> and <i class="xwing-miniatures-font xwing-miniatures-font-forcecharge"></i>?',buttons:[{text:"OK",handler:function(){n.ngZone.run(function(){n.state.rechargeAllRecurring()})}},{text:"Cancel",role:"cancel",cssClass:"secondary"}]})];case 1:return[4,l.sent().present()];case 2:return[2,l.sent()]}})})},n.prototype.toastUndo=function(n){return p(this,void 0,void 0,function(){return d(this,function(l){switch(l.label){case 0:return[4,this.toastController.create({message:"Table restored to "+n,duration:2e3,position:"bottom"})];case 1:return l.sent().present(),[2]}})})},n.prototype.askUndo=function(){return p(this,void 0,void 0,function(){var n=this;return d(this,function(l){switch(l.label){case 0:return[4,this.alertController.create({header:"Rewind Time?",message:"This will rewind time to "+this.state.snapshots[this.state.snapshots.length-2].time,buttons:[{text:"OK",handler:function(){n.ngZone.run(function(){var l=n.state.undo();n.toastUndo(l)})}},{text:"Cancel",role:"cancel",cssClass:"secondary"}]})];case 1:return[4,l.sent().present()];case 2:return[2,l.sent()]}})})},n.prototype.askReset=function(){return p(this,void 0,void 0,function(){var n=this;return d(this,function(l){switch(l.label){case 0:return[4,this.alertController.create({header:"Reset all squadrons?",message:"All charges, force and shields will be restored, damage cards shuffled and conditions removed.",buttons:[{text:"OK",handler:function(){n.ngZone.run(function(){return p(n,void 0,void 0,function(){return d(this,function(n){switch(n.label){case 0:return this.state.resetSquadron(),[4,this.toastController.create({message:"Squadrons reset",duration:2e3,position:"bottom"})];case 1:return n.sent().present(),[2]}})})})}},{text:"Cancel",role:"cancel",cssClass:"secondary"}]})];case 1:return[4,l.sent().present()];case 2:return[2,l.sent()]}})})},n.prototype.toastNotFound=function(n,l){return p(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:return[4,this.toastController.create({message:"WARNING: The "+l+" "+n+" could not be found. Try nuking your local data and downloading the latest XWS Data.",duration:5e3,position:"bottom"})];case 1:return t.sent().present(),[2]}})})},n.prototype.xwsAddButton=function(){this.presentXwsModal()},n.prototype.presentXwsModal=function(){return p(this,void 0,void 0,function(){var n,l,t,e=this;return d(this,function(o){switch(o.label){case 0:return[4,this.modalController.create({component:u.a})];case 1:return[4,(n=o.sent()).present()];case 2:return o.sent(),[4,n.onWillDismiss()];case 3:if(!(l=o.sent().data))return[2];o.label=4;case 4:return o.trys.push([4,5,,7]),l.ffg&&(this.http.get("https://squadbuilder.fantasyflightgames.com/api/squads/"+l.ffg+"/").subscribe(function(n){e.state.setSquadron(e.importService.processFFG(n))},function(n){return p(e,void 0,void 0,function(){return d(this,function(l){switch(l.label){case 0:return console.log("Unable to get FFG SquadBuilder data",n),[4,this.toastController.create({message:"ERROR: Unable to load FFG Squad",duration:5e3,position:"bottom"})];case 1:return l.sent().present(),[2]}})})}),this.state.setSquadron(this.importService.processFFG(l.ffg))),l.yasb&&this.state.setSquadron(this.importService.processYasb(l.yasb)),l.xws&&this.state.setSquadron(this.importService.processXws(l.xws)),[3,7];case 5:return t=o.sent(),[4,this.toastController.create({message:t,duration:2e3,position:"bottom"})];case 6:return o.sent().present(),[3,7];case 7:return[2]}})})},n}(),b=function(){return function(){}}(),f=t("pMnS"),h=t("oBZk"),m=t("Ip0R"),v=t("mrSG"),_=function(){function n(){this.color="#488aff"}return n.prototype.whichColor=function(n){var l,t,e=Object.keys(this.degraded);e.forEach(function(n,l){return e[l]=+n});var o=+n,u=(e=e.sort(function(n,l){return n-l}))[0];try{for(var i=Object(v.j)(e),a=i.next();!a.done;a=i.next()){var r=a.value;if(r<o)u=r;else if(r>=o-1)return this.degraded[u]}}catch(s){l={error:s}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(l)throw l.error}}return this.degraded[u]},n.prototype.whichProgress=function(n){try{return Math.round(100*+n)/100}catch(l){return n}},n}(),O=function(){return function(){}}(),w=e.nb({encapsulation:0,styles:[".progress-outer[_ngcontent-%COMP%] {\n          width: 96%;\n          margin: 10px 2%;\n          padding: 3px;\n          background-color: #f4f4f4;\n          border: 1px solid #dcdcdc;\n          color: #fff;\n          border-radius: 20px;\n          text-align: center;\n        }\n        .progress-inner[_ngcontent-%COMP%] {\n          min-width: 15%;\n          white-space: nowrap;\n          overflow: hidden;\n          padding: 0px;\n          border-radius: 20px;"],data:{}});function k(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,2,"div",[["class","progress-outer"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"div",[["class","progress-inner"]],[[4,"width",null],[4,"background-color",null]],null,null,null,null)),(n()(),e.Db(2,null,[" ","% "]))],null,function(n,l){var t=l.component;n(l,1,0,t.whichProgress(t.progress)+"%",null==t.degraded?t.color:t.whichColor(t.progress)),n(l,2,0,t.whichProgress(t.progress))})}var y=t("kJ0a"),C=t("OOx7"),P=t("hKKh"),M=t("RHCf"),x=function(){function n(){this.css_class="difficulty-white"}return n.prototype.ngOnInit=function(){this.css_class="difficulty-"+this.action.difficulty.toLowerCase()},n}(),I=e.nb({encapsulation:0,styles:[[".action[_ngcontent-%COMP%]{display:inline-block}.difficulty-white[_ngcontent-%COMP%]{color:#fff}.difficulty-red[_ngcontent-%COMP%]{color:red}.difficulty-purple[_ngcontent-%COMP%]{color:purple}"]],data:{}});function E(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),e.Db(-1,null,["\xa0"])),(n()(),e.pb(2,0,null,null,1,"xwing-icon",[],null,null,null,y.b,y.a)),e.ob(3,114688,null,0,C.a,[],{name:[0,"name"]},null),(n()(),e.Db(-1,null,["\xa0"])),(n()(),e.pb(5,0,null,null,1,"xws-action",[],null,null,null,D,I)),e.ob(6,114688,null,0,x,[],{action:[0,"action"]},null)],function(n,l){var t=l.component;n(l,3,0,"linked"),n(l,6,0,t.action.linked)},null)}function D(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,4,"div",[["class","action"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"xwing-icon",[],[[8,"className",0]],null,null,y.b,y.a)),e.ob(2,114688,null,0,C.a,[],{name:[0,"name"]},null),(n()(),e.gb(16777216,null,null,1,null,E)),e.ob(4,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,2,0,t.action.type),n(l,4,0,t.action.linked)},function(n,l){n(l,1,0,l.component.css_class)})}var L=function(){function n(){this.orientation="horizontal",this.bonus=!1}return n.prototype.ngOnInit=function(){"attack"==this.stat.type&&(this.stat.icon=this.stat.arc)},n}(),S=e.nb({encapsulation:0,styles:[[".agility[_ngcontent-%COMP%], .attack[_ngcontent-%COMP%], .charges[_ngcontent-%COMP%], .force[_ngcontent-%COMP%], .hull[_ngcontent-%COMP%], .shields[_ngcontent-%COMP%], .stats[_ngcontent-%COMP%]{padding-left:.1vh;padding-right:.1vh;display:inline-block}.vertical[_ngcontent-%COMP%]{display:block;width:1.5em;text-align:center}.horizontal[_ngcontent-%COMP%]{display:inline-block;padding-left:.1vw;padding-right:.1vw}.underline[_ngcontent-%COMP%]{text-decoration:underline}.agility[_ngcontent-%COMP%]{color:green}.attack[_ngcontent-%COMP%]{color:red}.charges[_ngcontent-%COMP%], .hull[_ngcontent-%COMP%]{color:#ff0}.force[_ngcontent-%COMP%]{color:#8a2be2}.shields[_ngcontent-%COMP%]{color:#add8e6}.attack-range[_ngcontent-%COMP%]{color:#fff}"]],data:{}});function F(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Db(1,null,["+",""]))],null,function(n,l){n(l,1,0,l.component.stat.value)})}function q(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Db(1,null,[" "," "]))],null,function(n,l){n(l,1,0,l.component.stat.value)})}function z(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(n()(),e.Db(2,null,["",""]))],null,function(n,l){var t=l.component;n(l,1,0,t.stat.remaining!=t.stat.value?"underline":""),n(l,2,0,t.stat.remaining)})}function N(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"xwing-icon",[],null,null,null,y.b,y.a)),e.ob(1,114688,null,0,C.a,[],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"recurring")},null)}function T(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,N)),e.ob(2,278528,null,0,m.h,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.component.stat.numbers)},null)}function R(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"xwing-icon",[],null,null,null,y.b,y.a)),e.ob(1,114688,null,0,C.a,[],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"rangebonusindicator")},null)}function A(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,R)),e.ob(2,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(3,0,null,null,1,"span",[["class","attack-range"]],null,null,null,null,null)),(n()(),e.Db(4,null,["","-",""]))],function(n,l){n(l,2,0,l.component.stat.ordnance)},function(n,l){var t=l.component;n(l,0,0,t.orientation),n(l,4,0,t.stat.minrange,t.stat.maxrange)})}function j(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,14,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.pb(1,0,null,null,2,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.pb(2,0,null,null,1,"xwing-icon",[],null,null,null,y.b,y.a)),e.ob(3,114688,null,0,C.a,[],{name:[0,"name"]},null),(n()(),e.pb(4,0,null,null,8,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,F)),e.ob(6,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,q)),e.ob(8,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,z)),e.ob(10,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,T)),e.ob(12,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,A)),e.ob(14,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,3,0,t.stat.icon?t.stat.icon:t.stat.type),n(l,6,0,t.bonus),n(l,8,0,"attack"==t.stat.type),n(l,10,0,!t.bonus&&"attack"!=t.stat.type),n(l,12,0,t.stat.recovers),n(l,14,0,t.stat.minrange)},function(n,l){var t=l.component;n(l,0,0,t.stat.type),n(l,1,0,t.orientation),n(l,4,0,t.orientation)})}var U=function(){function n(){this.grant={}}return n.prototype.ngOnInit=function(){},n}(),W=e.nb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw}.bonus-text[_ngcontent-%COMP%]{padding-left:.2vw}.grant-shield[_ngcontent-%COMP%]{color:#add8e6}.grant-hull[_ngcontent-%COMP%]{color:#ff0}.grant-icon[_ngcontent-%COMP%]{font-weight:100}"]],data:{}});function $(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,4,"span",[["class","grant-shield"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"xwing-icon",[["class","grant-icon"]],null,null,null,y.b,y.a)),e.ob(2,114688,null,0,C.a,[],{name:[0,"name"]},null),(n()(),e.pb(3,0,null,null,1,"span",[["class","bonus-text"]],null,null,null,null,null)),(n()(),e.Db(4,null,["+",""]))],function(n,l){n(l,2,0,"shield")},function(n,l){n(l,4,0,l.component.grant.amount)})}function B(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,4,"span",[["class","grant-hull"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"xwing-icon",[["class","grant-icon"]],null,null,null,y.b,y.a)),e.ob(2,114688,null,0,C.a,[],{name:[0,"name"]},null),(n()(),e.pb(3,0,null,null,1,"span",[["class","bonus-text"]],null,null,null,null,null)),(n()(),e.Db(4,null,["+",""]))],function(n,l){n(l,2,0,"hull")},function(n,l){n(l,4,0,l.component.grant.amount)})}function J(n){return e.Eb(0,[(n()(),e.gb(16777216,null,null,1,null,$)),e.ob(1,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,B)),e.ob(3,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,1,0,"stat"==t.grant.type&&"shields"==t.grant.value),n(l,3,0,"stat"==t.grant.type&&"hull"==t.grant.value)},null)}var Z=t("nqAl"),G=t("lZ+q"),X=function(){function n(n,l,t,e,o){this.dataService=n,this.modalController=l,this.events=t,this.layout=e,this.state=o,this.upgrade={},this.img_class="img-alt",this.img_urls=["",""],this.artwork=!0}return n.prototype.presentUpgradeModal=function(){return n=this,void 0,t=function(){var n,l;return function(n,l){var t,e,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,e&&(o=2&u[0]?e.return:u[0]?e.throw||((o=e.return)&&o.call(e),0):e.next)&&!(o=o.call(e,u[1])).done)return o;switch(e=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,e=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=l.call(n,i)}catch(a){u=[6,a],e=0}finally{t=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}(this,function(t){switch(t.label){case 0:return n=JSON.stringify(this.upgrade),[4,this.modalController.create({component:G.a,componentProps:{upgrade:this.upgrade}})];case 1:return[4,(l=t.sent()).present()];case 2:return t.sent(),[4,l.onWillDismiss()];case 3:return t.sent(),n!=JSON.stringify(this.upgrade)&&this.state.snapshot(),[2]}})},new((l=void 0)||(l=Promise))(function(e,o){function u(n){try{a(t.next(n))}catch(l){o(l)}}function i(n){try{a(t.throw(n))}catch(l){o(l)}}function a(n){n.done?e(n.value):new l(function(l){l(n.value)}).then(u,i)}a((t=t.apply(n,[])).next())});var n,l,t},n.prototype.ngOnInit=function(){var n=this;"configuration"==this.upgrade.type&&(this.img_class="img-alt-config");for(var l=function(l){var e=null;t.artwork&&t.upgrade.sides[l].artwork?e=t.upgrade.sides[l].artwork:t.upgrade.sides[l].image&&(e=t.upgrade.sides[l].image,t.artwork=!1),e&&t.dataService.get_image_by_url(e).then(function(t){n.img_urls[l]=t})},t=this,e=0;e<this.upgrade.sides.length;e++)l(e)},n.prototype.showUpgrade=function(){this.presentUpgradeModal()},n}(),K=e.nb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw}.upgrade[_ngcontent-%COMP%], .upgrade-tablet[_ngcontent-%COMP%], .upgrade-tablet-portrait[_ngcontent-%COMP%]{font-size:2vh;background:#212020;color:#fff;margin-right:.2vh;margin-bottom:.2vh}.upgrade-tablet-portrait[_ngcontent-%COMP%]{font-size:2vw}.upgrade-img-container[_ngcontent-%COMP%]{display:block}.upgrade-alt-container[_ngcontent-%COMP%]{display:block;overflow:hidden;height:10vh;width:40vh;margin-right:-24vh}.img-alt[_ngcontent-%COMP%]{margin-left:-24vh}.img-alt-config[_ngcontent-%COMP%]{margin-left:-2vh}.upgrade-img[_ngcontent-%COMP%], .upgrade-img-tablet[_ngcontent-%COMP%], .upgrade-img-tablet-portrait[_ngcontent-%COMP%]{display:block}.upgrade-img-tablet[_ngcontent-%COMP%]{height:12.5vh}.upgrade-img-tablet-portrait[_ngcontent-%COMP%]{width:26vw}.upgrade-name[_ngcontent-%COMP%]{width:100%;text-align:center;vertical-align:center;padding-top:.25vh;padding-bottom:.25vh}.upgrade-info-block[_ngcontent-%COMP%]{position:relative;bottom:0;box-sizing:border-box;height:3vh;padding-top:.5vh;padding-bottom:.5vh;padding-right:.5vw;width:100%;display:flex;flex-direction:row;justify-content:flex-end;font-size:2vh}.upgrade-info-block-left[_ngcontent-%COMP%], .upgrade-info-block-right[_ngcontent-%COMP%]{display:inline-block}.upgrade-filler[_ngcontent-%COMP%]{font-size:1.5em}.action-box[_ngcontent-%COMP%]{border-left:1px solid #d3d3d3;padding-left:.4em;padding-right:.2em}.stat[_ngcontent-%COMP%]{margin-left:.1em}"]],data:{}});function Y(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"div",[["class","upgrade-img-container"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,0,"img",[],[[8,"src",4],[8,"className",0]],null,null,null,null))],null,function(n,l){var t=l.component;n(l,1,0,t.img_urls[t.upgrade.side],"upgrade-img"+t.layout.getClass())})}function H(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"div",[["class","upgrade-alt-container"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,0,"img",[],[[8,"src",4],[8,"className",0]],null,null,null,null))],null,function(n,l){var t=l.component;n(l,1,0,t.img_urls[t.upgrade.side],t.img_class)})}function Q(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"xws-stat",[],null,null,null,j,S)),e.ob(1,114688,null,0,L,[],{stat:[0,"stat"]},null)],function(n,l){var t=l.component;n(l,1,0,t.upgrade.sides[t.upgrade.side].attack)},null)}function V(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"xws-action",[["class","action-box"]],null,null,null,D,I)),e.ob(1,114688,null,0,x,[],{action:[0,"action"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},null)}function nn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"xws-stat",[["class","stat"]],null,null,null,j,S)),e.ob(1,114688,null,0,L,[],{stat:[0,"stat"]},null)],function(n,l){var t=l.component;n(l,1,0,t.upgrade.sides[t.upgrade.side].charges)},null)}function ln(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"xws-stat",[["class","stat"]],null,null,null,j,S)),e.ob(1,114688,null,0,L,[],{stat:[0,"stat"],bonus:[1,"bonus"]},null)],function(n,l){var t=l.component;n(l,1,0,t.upgrade.sides[t.upgrade.side].force,!0)},null)}function tn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"xwing-icon",[["class","stat"]],null,null,null,y.b,y.a)),e.ob(1,114688,null,0,C.a,[],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"config")},null)}function en(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"xws-bonus-stats",[["class","stat"]],null,null,null,J,W)),e.ob(1,114688,null,0,U,[],{grant:[0,"grant"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},null)}function on(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,21,"div",[],[[8,"className",0]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.showUpgrade()&&e),e},null,null)),(n()(),e.gb(16777216,null,null,1,null,Y)),e.ob(2,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,H)),e.ob(4,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(5,0,null,null,1,"div",[["class","upgrade-name"]],null,null,null,null,null)),(n()(),e.Db(6,null,[" "," "])),(n()(),e.pb(7,0,null,null,14,"div",[["class","upgrade-info-block"]],null,null,null,null,null)),(n()(),e.pb(8,0,null,null,4,"div",[["class","upgrade-info-block-left"]],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,Q)),e.ob(10,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,V)),e.ob(12,278528,null,0,m.h,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.pb(13,0,null,null,8,"div",[["class","upgrade-info-block-right"]],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,nn)),e.ob(15,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,ln)),e.ob(17,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,tn)),e.ob(19,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,en)),e.ob(21,278528,null,0,m.h,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,2,0,t.artwork),n(l,4,0,!t.artwork),n(l,10,0,t.upgrade.sides[t.upgrade.side].attack),n(l,12,0,t.upgrade.sides[t.upgrade.side].actions),n(l,15,0,t.upgrade.sides[t.upgrade.side].charges),n(l,17,0,t.upgrade.sides[t.upgrade.side].force),n(l,19,0,"configuration"==t.upgrade.type),n(l,21,0,t.upgrade.sides[t.upgrade.side].grants)},function(n,l){var t=l.component;n(l,0,0,"upgrade"+t.layout.getClass()),n(l,6,0,t.upgrade.sides[t.upgrade.side].title)})}var un=function(){function n(n,l,t,e,o){this.dataService=n,this.modalController=l,this.events=t,this.state=e,this.router=o,this.upgrade={}}return n.prototype.ngOnInit=function(){},n.prototype.showUpgrade=function(){this.router.navigateByUrl("/pilot/"+this.pilotNum+"/upgrade/"+this.upgrade.num)},n}(),an=t("ZYCi"),rn=e.nb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw}ion-item[_ngcontent-%COMP%]{--ion-item-background:#282828!important;--ion-item-color:white!important;--ion-text-color:white!important;--border-color:#666666!important}.stat-avatar[_ngcontent-%COMP%]{font-size:1.25em}.upgrade-avatar[_ngcontent-%COMP%]{font-size:2em}.stat[_ngcontent-%COMP%]{margin-left:.2em}"]],data:{}});function sn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"xws-stat",[["class","stat"]],null,null,null,j,S)),e.ob(1,114688,null,0,L,[],{stat:[0,"stat"]},null)],function(n,l){var t=l.component;n(l,1,0,t.upgrade.sides[t.upgrade.side].charges)},null)}function cn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"xws-stat",[["class","stat"]],null,null,null,j,S)),e.ob(1,114688,null,0,L,[],{stat:[0,"stat"],bonus:[1,"bonus"]},null)],function(n,l){var t=l.component;n(l,1,0,t.upgrade.sides[t.upgrade.side].force,!0)},null)}function pn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"xws-bonus-stats",[["class","stat"]],null,null,null,J,W)),e.ob(1,114688,null,0,U,[],{grant:[0,"grant"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},null)}function dn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,14,"ion-item",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.showUpgrade()&&e),e},h.H,h.m)),e.ob(1,49152,null,0,o.G,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,3,"ion-avatar",[["slot","start"]],null,null,null,h.w,h.b)),e.ob(3,49152,null,0,o.f,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,1,"xwing-icon",[["class","upgrade-avatar"]],null,null,null,y.b,y.a)),e.ob(5,114688,null,0,C.a,[],{name:[0,"name"]},null),(n()(),e.Db(6,0,[" "," "])),(n()(),e.pb(7,0,null,0,7,"ion-note",[["class","stat-avatar"],["slot","end"]],null,null,null,h.K,h.p)),e.ob(8,49152,null,0,o.W,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,sn)),e.ob(10,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,cn)),e.ob(12,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,pn)),e.ob(14,278528,null,0,m.h,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,5,0,t.upgrade.type),n(l,10,0,t.upgrade.sides[t.upgrade.side].charges),n(l,12,0,t.upgrade.sides[t.upgrade.side].force),n(l,14,0,t.upgrade.sides[t.upgrade.side].grants)},function(n,l){var t=l.component;n(l,6,0,t.upgrade.sides[t.upgrade.side].title)})}var gn=t("zzTw"),bn=t("4DmZ"),fn=t("S0Yn"),hn=t("chwc"),mn=function(n,l,t,e){return new(t||(t=Promise))(function(o,u){function i(n){try{r(e.next(n))}catch(l){u(l)}}function a(n){try{r(e.throw(n))}catch(l){u(l)}}function r(n){n.done?o(n.value):new t(function(l){l(n.value)}).then(i,a)}r((e=e.apply(n,l||[])).next())})},vn=function(n,l){var t,e,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,e&&(o=2&u[0]?e.return:u[0]?e.throw||((o=e.return)&&o.call(e),0):e.next)&&!(o=o.call(e,u[1])).done)return o;switch(e=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,e=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=l.call(n,i)}catch(a){u=[6,a],e=0}finally{t=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},_n=function(){function n(n,l,t,e,o,u,i,a){this.dataService=n,this.modalController=l,this.platform=t,this.events=e,this.layout=o,this.state=u,this.router=i,this.ngZone=a,this.groups=[],this.img_url=null,this.shields=null,this.charges=null,this.force=null}return n.prototype.getStatString=function(n){return this.pilot.ship.stats.forEach(function(l){if(l.type==n)return l.value!=l.remaining?"("+l.remaining+")":l.value}),""},n.prototype.ngOnInit=function(){for(var n=this,l=this.pilot.upgrades>=9?3:2,t=Math.ceil(this.pilot.upgrades.length/l),e=0;e<l;e++){for(var o=[],u=0;u<t;u++){var i=e*t+u;this.pilot.upgrades[i]&&o.push(this.pilot.upgrades[i])}this.groups.push(o)}var a=this.pilot.pilot.artwork;a||(a=this.pilot.pilot.image),a&&this.dataService.get_image_by_url(a).then(function(l){n.img_url=l})},n.prototype.numFacedown=function(){if(this.pilot.damagecards){var n=this.pilot.damagecards.filter(function(n){return!n.exposed});if(n)return n.length}return 0},n.prototype.createTokens=function(n,l){var t=[];if(!n)return t;for(var e=0;e<n.remaining;e++)t.push({name:l,css:l});for(e=0;e<n.value-n.remaining;e++)t.push({name:l,css:l+" spent"});return t},n.prototype.createMiniTokenDisplay=function(){var n=[];return(n=(n=n.concat(this.createTokens(this.pilot.stats.find(function(n){return"shields"==n.type}),"shield"))).concat(this.createTokens(this.pilot.stats.find(function(n){return"charges"==n.type}),"charge"))).concat(this.createTokens(this.pilot.stats.find(function(n){return"force"==n.type}),"force"))},n.prototype.presentPilotModal=function(){return mn(this,void 0,void 0,function(){var n,l;return vn(this,function(t){switch(t.label){case 0:return n=JSON.stringify(this.pilot),[4,this.modalController.create({component:fn.a,componentProps:{pilot:this.pilot}})];case 1:return[4,(l=t.sent()).present()];case 2:return t.sent(),[4,l.onWillDismiss()];case 3:return t.sent(),n!=JSON.stringify(this.pilot)&&this.state.snapshot(),[2]}})})},n.prototype.presentTokenModal=function(){return mn(this,void 0,void 0,function(){var n,l;return vn(this,function(t){switch(t.label){case 0:return n=JSON.stringify(this.pilot),[4,this.modalController.create({component:hn.a,componentProps:{pilot:this.pilot}})];case 1:return[4,(l=t.sent()).present()];case 2:return t.sent(),[4,l.onWillDismiss()];case 3:return t.sent(),n!=JSON.stringify(this.pilot)&&this.state.snapshot(),[2]}})})},n.prototype.showPilot=function(){this.layout.isPhone()?this.router.navigateByUrl("pilot/"+this.pilot.num+"/card"):this.presentPilotModal()},n.prototype.showTokens=function(){this.layout.isPhone()?this.router.navigateByUrl("pilot/"+this.pilot.num+"/tokens"):this.presentTokenModal()},n}(),On=e.nb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw}.pilot[_ngcontent-%COMP%], .pilot-phone-landscape[_ngcontent-%COMP%], .pilot-phone-portrait[_ngcontent-%COMP%], .pilot-tablet[_ngcontent-%COMP%], .pilot-tablet-portrait[_ngcontent-%COMP%]{margin-top:.2vh;margin-right:.2vw;background:#282828;color:#fff;position:relative}.pilot-tablet[_ngcontent-%COMP%]{font-size:2.25vh}.pilot-tablet-portrait[_ngcontent-%COMP%]{padding-left:1vw}.pilot-header[_ngcontent-%COMP%], .pilot-header-phone-portrait[_ngcontent-%COMP%], .pilot-header-tablet[_ngcontent-%COMP%], .pilot-header-tablet-portrait[_ngcontent-%COMP%]{padding-top:.5vh;padding-bottom:.5vh;font-size:2vh;height:4vh;vertical-align:text-bottom}.pilot-header-text[_ngcontent-%COMP%]{display:inline-block;vertical-align:text-bottom}.pilot-header-phone-landscape[_ngcontent-%COMP%]{font-size:2.5vw;height:4vw}.pilot-initiative[_ngcontent-%COMP%]{color:orange;font-weight:900;margin-right:.5em}.pilot-destroyed-overlay[_ngcontent-%COMP%]{width:100%;height:44vh;position:absolute;background-color:#ff000044;left:0;top:0;right:0;bottom:0;z-index:10}.card-text[_ngcontent-%COMP%]{font-size:1.5vh;color:#fff;padding-left:.5vh}.upgrade-container[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.upgrade-group-tablet[_ngcontent-%COMP%]{display:block}.upgrade-group-tablet-portrait[_ngcontent-%COMP%], .upgrade-tablet[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.upgrade-portrait[_ngcontent-%COMP%], .upgrade-tablet-portrait[_ngcontent-%COMP%]{display:block}.pilot-card[_ngcontent-%COMP%], .pilot-card-phone-landscape[_ngcontent-%COMP%], .pilot-card-phone-portrait[_ngcontent-%COMP%], .pilot-card-tablet[_ngcontent-%COMP%], .pilot-card-tablet-portrait[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;overflow-y:scroll}.pilot-card-tablet[_ngcontent-%COMP%]{width:27vh;height:40vh}.pilot-card-tablet-portrait[_ngcontent-%COMP%]{width:40vw}.pilot-card-phone-portrait[_ngcontent-%COMP%]{padding-left:1vw}.pilot-card-phone-landscape[_ngcontent-%COMP%]{display:inline-block;width:50%}.pilot-card-phone-landscape[_ngcontent-%COMP%]::-webkit-scrollbar-track, .pilot-card-phone-portrait[_ngcontent-%COMP%]::-webkit-scrollbar-track, .pilot-card-tablet-portrait[_ngcontent-%COMP%]::-webkit-scrollbar-track, .pilot-card-tablet[_ngcontent-%COMP%]::-webkit-scrollbar-track, .pilot-card[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 .2vh #282828;border-radius:.2vh;background-color:#282828}.pilot-card-phone-landscape[_ngcontent-%COMP%]::-webkit-scrollbar, .pilot-card-phone-portrait[_ngcontent-%COMP%]::-webkit-scrollbar, .pilot-card-tablet-portrait[_ngcontent-%COMP%]::-webkit-scrollbar, .pilot-card-tablet[_ngcontent-%COMP%]::-webkit-scrollbar, .pilot-card[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5vh;background-color:#282828}.pilot-card-phone-landscape[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .pilot-card-phone-portrait[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .pilot-card-tablet-portrait[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .pilot-card-tablet[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .pilot-card[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:.2vh;-webkit-box-shadow:inset 0 0 .2vh rgba(0,0,0,.3);background-color:#555}.action[_ngcontent-%COMP%]{padding-left:.3em;padding-right:.3em}.action-bar[_ngcontent-%COMP%], .action-bar-phone-landscape[_ngcontent-%COMP%], .action-bar-phone-portrait[_ngcontent-%COMP%], .action-bar-tablet[_ngcontent-%COMP%], .action-bar-tablet-portrait[_ngcontent-%COMP%]{text-align:center;font-size:1.25em;max-width:100%;overflow:wrap;padding:.5vh .5em}.action-bar-tablet-portrait[_ngcontent-%COMP%]{font-size:3vw;padding-top:1vw;padding-bottom:1vw}.action-bar-phone-portrait[_ngcontent-%COMP%]{font-size:5vw}.stat[_ngcontent-%COMP%]{display:inline-block}.stat-block[_ngcontent-%COMP%], .stat-block-phone-landscape[_ngcontent-%COMP%], .stat-block-phone-portrait[_ngcontent-%COMP%], .stat-block-tablet[_ngcontent-%COMP%], .stat-block-tablet-portrait[_ngcontent-%COMP%]{display:block;width:100%;text-align:center;margin-bottom:.5vh;font-size:1.25em}.stat-block-tablet-portrait[_ngcontent-%COMP%]{font-size:3vw}.stat-block-phone-portrait[_ngcontent-%COMP%]{font-size:5vw}.ship-fw[_ngcontent-%COMP%]{display:inline-block;text-align:center;width:2em;font-size:1em}.ship-status[_ngcontent-%COMP%], .ship-status-portrait[_ngcontent-%COMP%]{background:#212020;font-size:2vw;min-height:2.25vw;height:2.25vw;padding-left:.5vw}.ship-status-portrait[_ngcontent-%COMP%]{font-size:4vw}.image-container[_ngcontent-%COMP%]{display:inline-block;max-width:24vh;max-height:10vh;overflow:hidden}.image-constrained[_ngcontent-%COMP%]{-webkit-clip-path:polygon(0 0,100% 0,100% 30%,0 30%);clip-path:polygon(0 0,100% 0,100% 30%,0 30%)}.item-pilotart[_ngcontent-%COMP%], .item-pilotart-tablet[_ngcontent-%COMP%], .item-pilotart-tablet-portrait[_ngcontent-%COMP%]{vertical-align:top}.item-pilotart-tablet[_ngcontent-%COMP%]{height:11vh}.item-pilotart-tablet-portrait[_ngcontent-%COMP%]{width:100%}.item-status[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.damage-cards[_ngcontent-%COMP%]{font-size:1em;padding-left:.5em}.damage-facedown[_ngcontent-%COMP%]{color:red}.conditions[_ngcontent-%COMP%]{font-size:2vh;padding-left:.5em}.phone-upgrades-phone-portrait[_ngcontent-%COMP%]{display:block}.phone-upgrades-phone-landscape[_ngcontent-%COMP%]{display:inline-block;width:50%}.item-box[_ngcontent-%COMP%]{border:.15em solid #555;margin-bottom:.15em;margin-left:.15em}.token-box[_ngcontent-%COMP%]{padding:.15em;vertical-align:text-top}.token-box[_ngcontent-%COMP%]   .token-header[_ngcontent-%COMP%]{font-size:.75em}.token-box[_ngcontent-%COMP%]   .token-set[_ngcontent-%COMP%]{font-size:1.5em}.token-box[_ngcontent-%COMP%]   .none[_ngcontent-%COMP%]{font-style:italic}.charge[_ngcontent-%COMP%], .force[_ngcontent-%COMP%], .shield[_ngcontent-%COMP%], .spent[_ngcontent-%COMP%], .tokens[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.force[_ngcontent-%COMP%]{color:#8a2be2}.charge[_ngcontent-%COMP%]{color:#ff0}.shield[_ngcontent-%COMP%]{color:#add8e6}.spent[_ngcontent-%COMP%]{color:red}"]],data:{}});function wn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"xwing-icon",[],null,null,null,y.b,y.a)),e.ob(2,114688,null,0,C.a,[],{name:[0,"name"]},null),(n()(),e.Db(3,null,[" ",""]))],function(n,l){n(l,2,0,"token-lock")},function(n,l){n(l,3,0,l.component.pilot.idNumber)})}function kn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,0,"img",[],[[8,"src",4],[8,"className",0]],null,null,null,null))],null,function(n,l){var t=l.component;n(l,0,0,t.img_url,"item-pilotart"+t.layout.getClass())})}function yn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,0,"img",[["class","image-constrained"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,0,0,l.component.img_url)})}function Cn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,2,"div",[["class","card-text"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"xwing-text",[],null,null,null,P.b,P.a)),e.ob(2,114688,null,0,M.a,[],{text:[0,"text"]},null)],function(n,l){n(l,2,0,l.component.pilot.card_text)},null)}function Pn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,4,"div",[["class","image-container"]],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,yn)),e.ob(2,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,Cn)),e.ob(4,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,2,0,t.img_url),n(l,4,0,!t.img_url)},null)}function Mn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"xws-action",[["class","action"]],null,null,null,D,I)),e.ob(1,114688,null,0,x,[],{action:[0,"action"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},null)}function xn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"xws-stat",[],null,null,null,j,S)),e.ob(1,114688,null,0,L,[],{stat:[0,"stat"],orientation:[1,"orientation"]},null)],function(n,l){n(l,1,0,l.context.$implicit,"vertical")},null)}function In(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"span",[["class","none"]],null,null,null,null,null)),(n()(),e.Db(-1,null,[" \xa0(None) "]))],null,null)}function En(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"xwing-icon",[],[[8,"className",0]],null,null,y.b,y.a)),e.ob(1,114688,null,0,C.a,[],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"token-"+l.context.$implicit.name+"-outline")},function(n,l){n(l,0,0,l.context.$implicit.css)})}function Dn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"span",[["class","none"]],null,null,null,null,null)),(n()(),e.Db(-1,null,[" \xa0(None) "]))],null,null)}function Ln(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"xwing-icon",[],null,null,null,y.b,y.a)),e.ob(2,114688,null,0,C.a,[],{name:[0,"name"]},null),(n()(),e.Db(3,null,[""," "]))],function(n,l){n(l,2,0,"condition")},function(n,l){n(l,3,0,l.context.$implicit.name)})}function Sn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"xwing-icon",[],null,null,null,y.b,y.a)),e.ob(2,114688,null,0,C.a,[],{name:[0,"name"]},null),(n()(),e.Db(3,null,["",""]))],function(n,l){n(l,2,0,"crit")},function(n,l){n(l,3,0,l.parent.context.$implicit.title)})}function Fn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,Sn)),e.ob(2,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,2,0,l.context.$implicit.exposed)},null)}function qn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,3,"div",[["class","damage-facedown"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"xwing-icon",[],null,null,null,y.b,y.a)),e.ob(2,114688,null,0,C.a,[],{name:[0,"name"]},null),(n()(),e.Db(3,null,["Damage Cards x"," "]))],function(n,l){n(l,2,0,"hit")},function(n,l){n(l,3,0,l.component.numFacedown())})}function zn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"xws-upgrade",[],[[8,"className",0]],null,null,on,K)),e.ob(1,114688,null,0,X,[i.a,o.Fb,o.d,Z.a,s.a],{upgrade:[0,"upgrade"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},function(n,l){n(l,0,0,"upgrade"+l.component.layout.getClass())})}function Nn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,2,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,zn)),e.ob(2,278528,null,0,m.h,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.context.$implicit)},function(n,l){n(l,0,0,"upgrade-group"+l.component.layout.getClass())})}function Tn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,2,"div",[["class","upgrade-container"]],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,Nn)),e.ob(2,278528,null,0,m.h,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.component.groups)},null)}function Rn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"xws-phone-upgrade",[],null,null,null,dn,rn)),e.ob(1,114688,null,0,un,[i.a,o.Fb,o.d,s.a,an.m],{upgrade:[0,"upgrade"],pilotNum:[1,"pilotNum"]},null)],function(n,l){n(l,1,0,l.context.$implicit,l.component.pilot.num)},null)}function An(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.pb(1,0,null,null,3,"ion-list",[],null,null,null,h.J,h.o)),e.ob(2,49152,null,0,o.N,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,Rn)),e.ob(4,278528,null,0,m.h,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,4,0,l.component.pilot.upgrades)},function(n,l){n(l,0,0,"phone-upgrades"+l.component.layout.getClass())})}function jn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,46,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.pb(1,0,null,null,9,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.pb(2,0,null,null,1,"xwing-ship",[["class","ship-fw"]],null,null,null,gn.b,gn.a)),e.ob(3,114688,null,0,bn.a,[],{name:[0,"name"]},null),(n()(),e.pb(4,0,null,null,6,"div",[["class","pilot-header-text"]],null,null,null,null,null)),(n()(),e.pb(5,0,null,null,1,"span",[["class","pilot-initiative"]],null,null,null,null,null)),(n()(),e.Db(6,null,["",""])),(n()(),e.Db(7,null,[" ","\xa0 "])),(n()(),e.gb(16777216,null,null,1,null,wn)),e.ob(9,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.Db(10,null,["\xa0 ( "," / "," ) "])),(n()(),e.pb(11,0,null,null,31,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.pb(12,0,null,null,10,"div",[["class","item-box"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.showPilot()&&e),e},null,null)),(n()(),e.gb(16777216,null,null,1,null,kn)),e.ob(14,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,Pn)),e.ob(16,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(17,0,null,null,2,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,Mn)),e.ob(19,278528,null,0,m.h,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.pb(20,0,null,null,2,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,xn)),e.ob(22,278528,null,0,m.h,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.pb(23,0,null,null,19,"div",[["class","item-box token-box"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.showTokens()&&e),e},null,null)),(n()(),e.pb(24,0,null,null,3,"div",[["class","token-header"]],null,null,null,null,null)),(n()(),e.Db(-1,null,[" Tokens "])),(n()(),e.gb(16777216,null,null,1,null,In)),e.ob(27,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(28,0,null,null,2,"div",[["class","token-set"]],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,En)),e.ob(30,278528,null,0,m.h,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.pb(31,0,null,null,3,"div",[["class","token-header"]],null,null,null,null,null)),(n()(),e.Db(-1,null,[" Cards "])),(n()(),e.gb(16777216,null,null,1,null,Dn)),e.ob(34,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(35,0,null,null,2,"div",[["class","conditions"]],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,Ln)),e.ob(37,278528,null,0,m.h,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.pb(38,0,null,null,4,"div",[["class","damage-cards"]],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,Fn)),e.ob(40,278528,null,0,m.h,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.gb(16777216,null,null,1,null,qn)),e.ob(42,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,Tn)),e.ob(44,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,An)),e.ob(46,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,3,0,t.pilot.ship.keyname),n(l,9,0,t.pilot.idNumber),n(l,14,0,t.pilot.pilot.artwork),n(l,16,0,!t.pilot.pilot.artwork),n(l,19,0,t.pilot.ship.actions),n(l,22,0,t.pilot.stats),n(l,27,0,0==t.createMiniTokenDisplay().length),n(l,30,0,t.createMiniTokenDisplay()),n(l,34,0,0==t.pilot.damagecards.length&&0==t.pilot.conditions.length),n(l,37,0,t.pilot.conditions),n(l,40,0,t.pilot.damagecards),n(l,42,0,t.numFacedown()>0),n(l,44,0,!t.layout.isPhone()),n(l,46,0,t.layout.isPhone())},function(n,l){var t=l.component;n(l,0,0,"pilot"+t.layout.getClass()),n(l,1,0,"pilot-header"+t.layout.getClass()),n(l,6,0,t.pilot.pilot.initiative),n(l,7,0,t.pilot.pilot.name),n(l,10,0,t.pilot.pointsDestroyed,t.pilot.points),n(l,11,0,"pilot-card"+t.layout.getClass()),n(l,17,0,"action-bar"+t.layout.getClass()),n(l,20,0,"stat-block"+t.layout.getClass())})}var Un=t("iw74"),Wn=e.nb({encapsulation:0,styles:[[".progress-bar-container[_ngcontent-%COMP%], .title-bar[_ngcontent-%COMP%]{display:inline-block;width:50%}.squadron-container[_ngcontent-%COMP%]{display:block}.squadron-item[_ngcontent-%COMP%]{display:inline-block}.squadron-halfwidth[_ngcontent-%COMP%]{display:inline-block;width:50%;vertical-align:top}.squadron-fullwidth[_ngcontent-%COMP%]{width:100%;vertical-align:top}.squadron-header[_ngcontent-%COMP%]{display:block}.squadron-name[_ngcontent-%COMP%]{display:inline-block;padding-left:.5vw}.squadron-info[_ngcontent-%COMP%]{display:inline-block}.damage-deck-button[_ngcontent-%COMP%]{vertical-align:center}.damage-deck-summary[_ngcontent-%COMP%]{background-color:#000;vertical-align:center;padding:.5vh .5vw}.damage-deck-summary-text[_ngcontent-%COMP%]{line-height:1.5vh;color:#fff;display:inline-block}.damage-deck-icon[_ngcontent-%COMP%]{display:inline-block;text-align:center;font-size:2vh;color:red}.pilotlist[_ngcontent-%COMP%]{display:block}.pilot[_ngcontent-%COMP%]{display:inline-block}.pilot-fullwidth[_ngcontent-%COMP%]{display:block;width:100%}.pilot-minwidth[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}"]],data:{}});function $n(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,2,"ion-button",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.retryManifest()&&e),e},h.x,h.c)),e.ob(1,49152,null,0,o.j,[e.h,e.k],{disabled:[0,"disabled"]},null),(n()(),e.Db(-1,0,["Retry Download"]))],function(n,l){n(l,1,0,l.component.retry_button_disabled)},null)}function Bn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,2,"ion-button",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.downloadData()&&e),e},h.x,h.c)),e.ob(1,49152,null,0,o.j,[e.h,e.k],{disabled:[0,"disabled"]},null),(n()(),e.Db(-1,0,["Download Data"]))],function(n,l){n(l,1,0,l.component.data_button_disabled)},null)}function Jn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,2,"ion-button",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.downloadArtwork()&&e),e},h.x,h.c)),e.ob(1,49152,null,0,o.j,[e.h,e.k],{disabled:[0,"disabled"]},null),(n()(),e.Db(-1,0,["Download Artwork"]))],function(n,l){n(l,1,0,l.component.image_button_disabled)},null)}function Zn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,17,"ion-header",[],null,null,null,h.E,h.j)),e.ob(1,49152,null,0,o.A,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,15,"ion-toolbar",[],null,null,null,h.P,h.u)),e.ob(3,49152,null,0,o.Ab,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,7,"ion-buttons",[["slot","end"]],null,null,null,h.y,h.d)),e.ob(5,49152,null,0,o.k,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,$n)),e.ob(7,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,Bn)),e.ob(9,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,Jn)),e.ob(11,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(12,0,null,0,2,"ion-title",[["class","title-bar"]],null,null,null,h.O,h.t)),e.ob(13,49152,null,0,o.yb,[e.h,e.k],null,null),(n()(),e.Db(14,0,["",""])),(n()(),e.pb(15,0,null,0,2,"div",[["class","progress-bar-container"]],null,null,null,null,null)),(n()(),e.pb(16,0,null,null,1,"progress-bar",[],null,null,null,k,w)),e.ob(17,49152,null,0,_,[],{progress:[0,"progress"],color:[1,"color"]},null)],function(n,l){var t=l.component;n(l,7,0,t.retry_button),n(l,9,0,t.data_button),n(l,11,0,t.image_button),n(l,17,0,t.data_progress,"#488aff")},function(n,l){n(l,14,0,l.component.data_message)})}function Gn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"xwing-icon",[],null,null,null,y.b,y.a)),e.ob(1,114688,null,0,C.a,[],{name:[0,"name"]},null)],function(n,l){n(l,1,0,l.component.state.squadron.faction)},null)}function Xn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"xws-pilot",[["class","pilot-minwidth"]],null,null,null,jn,On)),e.ob(1,114688,null,0,_n,[i.a,o.Fb,o.Ib,o.d,Z.a,s.a,an.m,e.z],{pilot:[0,"pilot"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},null)}function Kn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,25,"div",[["class","squadron-fullwidth"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,22,"div",[["class","squadron-header"]],null,null,null,null,null)),(n()(),e.pb(2,0,null,null,21,"ion-toolbar",[],null,null,null,h.P,h.u)),e.ob(3,49152,null,0,o.Ab,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,3,"span",[["class","squadron-name"]],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,Gn)),e.ob(6,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.Db(7,null,["\xa0 "," ( "," / "," ) "])),(n()(),e.pb(8,0,null,0,15,"ion-buttons",[["slot","end"]],null,null,null,h.y,h.d)),e.ob(9,49152,null,0,o.k,[e.h,e.k],null,null),(n()(),e.pb(10,0,null,0,6,"ion-button",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.askRechargeRecurring()&&e),e},h.x,h.c)),e.ob(11,49152,null,0,o.j,[e.h,e.k],null,null),(n()(),e.Db(-1,0,[" Recover\xa0"])),(n()(),e.pb(13,0,null,0,1,"xwing-icon",[],null,null,null,y.b,y.a)),e.ob(14,114688,null,0,C.a,[],{name:[0,"name"]},null),(n()(),e.pb(15,0,null,0,1,"xwing-icon",[],null,null,null,y.b,y.a)),e.ob(16,114688,null,0,C.a,[],{name:[0,"name"]},null),(n()(),e.pb(17,0,null,0,6,"ion-button",[["class","damage-deck-button"]],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;return"click"===l&&(e=!1!==o.presentDamageDeckActionsPopover(t,o.squadron)&&e),e},h.x,h.c)),e.ob(18,49152,null,0,o.j,[e.h,e.k],null,null),(n()(),e.pb(19,0,null,0,4,"span",[["class","damage-deck-summary"]],null,null,null,null,null)),(n()(),e.pb(20,0,null,null,1,"xwing-icon",[["class","damage-deck-icon"]],null,null,null,y.b,y.a)),e.ob(21,114688,null,0,C.a,[],{name:[0,"name"]},null),(n()(),e.pb(22,0,null,null,1,"span",[["class","damage-deck-summary-text"]],null,null,null,null,null)),(n()(),e.Db(23,null,["",""])),(n()(),e.gb(16777216,null,null,1,null,Xn)),e.ob(25,278528,null,0,m.h,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,6,0,t.state.squadron.faction),n(l,14,0,"charge"),n(l,16,0,"recurring"),n(l,21,0,"hit"),n(l,25,0,t.state.squadron.pilots)},function(n,l){var t=l.component;n(l,7,0,t.state.squadron.name,t.state.squadron.pointsDestroyed,t.state.squadron.points),n(l,23,0,t.state.damagedeck.length)})}function Yn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,3,"ion-fab-button",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.askReset()&&e),e},h.A,h.g)),e.ob(1,49152,null,0,o.w,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,1,"xwing-icon",[],null,null,null,y.b,y.a)),e.ob(3,114688,null,0,C.a,[],{name:[0,"name"]},null)],function(n,l){n(l,3,0,"reload")},null)}function Hn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,3,"ion-fab-button",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.askUndo()&&e),e},h.A,h.g)),e.ob(1,49152,null,0,o.w,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,1,"ion-icon",[["name","undo"]],null,null,null,h.F,h.k)),e.ob(3,49152,null,0,o.B,[e.h,e.k],{name:[0,"name"]},null)],function(n,l){n(l,3,0,"undo")},null)}function Qn(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,19,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,h.C,h.f)),e.ob(1,49152,null,0,o.v,[e.h,e.k],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),e.pb(2,0,null,0,3,"ion-fab-button",[],null,null,null,h.A,h.g)),e.ob(3,49152,null,0,o.w,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,1,"ion-icon",[["name","more"]],null,null,null,h.F,h.k)),e.ob(5,49152,null,0,o.B,[e.h,e.k],{name:[0,"name"]},null),(n()(),e.pb(6,0,null,0,13,"ion-fab-list",[["side","top"]],null,null,null,h.B,h.h)),e.ob(7,49152,null,0,o.x,[e.h,e.k],{side:[0,"side"]},null),(n()(),e.pb(8,0,null,0,3,"ion-fab-button",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.resetData()&&e),e},h.A,h.g)),e.ob(9,49152,null,0,o.w,[e.h,e.k],null,null),(n()(),e.pb(10,0,null,0,1,"ion-icon",[["name","nuclear"]],null,null,null,h.F,h.k)),e.ob(11,49152,null,0,o.B,[e.h,e.k],{name:[0,"name"]},null),(n()(),e.gb(16777216,null,0,1,null,Yn)),e.ob(13,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,Hn)),e.ob(15,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(16,0,null,0,3,"ion-fab-button",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.xwsAddButton()&&e),e},h.A,h.g)),e.ob(17,49152,null,0,o.w,[e.h,e.k],null,null),(n()(),e.pb(18,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,h.F,h.k)),e.ob(19,49152,null,0,o.B,[e.h,e.k],{name:[0,"name"]},null)],function(n,l){var t=l.component;n(l,1,0,"end","bottom"),n(l,5,0,"more"),n(l,7,0,"top"),n(l,11,0,"nuclear"),n(l,13,0,t.state.squadron),n(l,15,0,t.state.snapshots.length>1),n(l,19,0,"add")},null)}function Vn(n){return e.Eb(0,[(n()(),e.gb(16777216,null,null,1,null,Zn)),e.ob(1,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(2,0,null,null,7,"ion-content",[["padding",""]],null,null,null,h.z,h.e)),e.ob(3,49152,null,0,o.t,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,3,"div",[["class","squadron-container"]],null,null,null,null,null)),(n()(),e.pb(5,0,null,null,0,"div",[["class","squadron-header"]],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,Kn)),e.ob(7,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,Qn)),e.ob(9,16384,null,0,m.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,1,0,!t.dataService.initialized),n(l,7,0,t.state.squadron),n(l,9,0,t.dataService.initialized)},null)}function nl(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"app-main",[],null,null,null,Vn,Wn)),e.ob(1,114688,null,0,g,[o.Fb,i.a,an.m,o.Ib,o.Jb,o.d,o.a,e.z,o.Mb,Un.b,r.a,o.Eb,s.a,c.a],null,null)],function(n,l){n(l,1,0)},null)}var ll=e.lb("app-main",g,nl,{},{},[]),tl=t("gIcY"),el=t("qPnm"),ol=t("DiPy"),ul=t("jKa7");t.d(l,"MainPageModuleNgFactory",function(){return il});var il=e.mb(b,[],function(n){return e.wb([e.xb(512,e.j,e.bb,[[8,[f.a,ll]],[3,e.j],e.x]),e.xb(4608,m.k,m.j,[e.u,[2,m.q]]),e.xb(4608,tl.g,tl.g,[]),e.xb(4608,o.b,o.b,[e.z,e.g]),e.xb(4608,o.Fb,o.Fb,[o.b,e.j,e.q,m.c]),e.xb(4608,o.Jb,o.Jb,[o.b,e.j,e.q,m.c]),e.xb(4608,r.a,r.a,[o.Ib,el.a,ol.a]),e.xb(1073742336,m.b,m.b,[]),e.xb(1073742336,tl.f,tl.f,[]),e.xb(1073742336,tl.a,tl.a,[]),e.xb(1073742336,o.Cb,o.Cb,[]),e.xb(1073742336,an.n,an.n,[[2,an.t],[2,an.m]]),e.xb(1073742336,ul.a,ul.a,[]),e.xb(1073742336,O,O,[]),e.xb(1073742336,b,b,[]),e.xb(1024,an.k,function(){return[[{path:"",component:g}]]},[])])})}}]);